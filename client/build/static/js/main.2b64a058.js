/*! For license information please see main.2b64a058.js.LICENSE.txt */
(()=>{var e={3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function c(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,y=0,v=0,b=0,x="";function w(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:g,length:a,return:""}}function k(e,t){return a(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=v>0?u(x,--v):0,g--,10===b&&(g=1,m--),b}function C(){return b=v<y?u(x,v++):0,g++,10===b&&(g=1,m++),b}function E(){return u(x,v)}function _(){return v}function T(e,t){return d(x,e,t)}function N(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return m=g=1,y=h(x=e),v=0,[]}function A(e){return x="",e}function O(e){return s(T(v-1,j(91===e?e+2:40===e?e+1:e)))}function R(e){for(;(b=E())&&b<33;)C();return N(e)>2||N(b)>3?"":" "}function M(e,t){for(;--t&&C()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,_()+(t<6&&32==E()&&32==C()))}function j(e){for(;C();)switch(b){case e:return v;case 34:case 39:34!==e&&39!==e&&j(b);break;case 40:41===e&&j(e);break;case 92:C()}return v}function P(e,t){for(;C()&&e+b!==57&&(e+b!==84||47!==E()););return"/*"+T(t,v-1)+"*"+i(47===e?e:C())}function D(e){for(;!N(E());)C();return T(e,v)}var L="-ms-",F="-moz-",B="-webkit-",z="comm",U="rule",V="decl",W="@keyframes";function H(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function G(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case V:return e.return=e.return||e.value;case z:return"";case W:return e.return=e.value+"{"+H(e.children,r)+"}";case U:e.value=e.props.join(",")}return h(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return A(q("",null,null,null,[""],e=I(e),0,[0],e))}function q(e,t,n,r,o,a,s,d,p){for(var m=0,g=0,y=s,v=0,b=0,x=0,w=1,k=1,T=1,N=0,I="",A=o,j=a,L=r,F=I;k;)switch(x=N,N=C()){case 40:if(108!=x&&58==u(F,y-1)){-1!=l(F+=c(O(N),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=O(N);break;case 9:case 10:case 13:case 32:F+=R(x);break;case 92:F+=M(_()-1,7);continue;case 47:switch(E()){case 42:case 47:f(X(P(C(),_()),t,n),p);break;default:F+="/"}break;case 123*w:d[m++]=h(F)*T;case 125*w:case 59:case 0:switch(N){case 0:case 125:k=0;case 59+g:-1==T&&(F=c(F,/\f/g,"")),b>0&&h(F)-y&&f(b>32?J(F+";",r,n,y-1):J(c(F," ","")+";",r,n,y-2),p);break;case 59:F+=";";default:if(f(L=Y(F,t,n,m,g,o,d,I,A=[],j=[],y),a),123===N)if(0===g)q(F,t,L,L,A,a,y,d,j);else switch(99===v&&110===u(F,3)?100:v){case 100:case 108:case 109:case 115:q(e,L,L,r&&f(Y(e,L,L,0,0,o,d,I,o,A=[],y),j),o,j,y,d,r?A:j);break;default:q(F,L,L,L,[""],j,0,d,j)}}m=g=b=0,w=T=1,I=F="",y=s;break;case 58:y=1+h(F),b=x;default:if(w<1)if(123==N)--w;else if(125==N&&0==w++&&125==S())continue;switch(F+=i(N),N*w){case 38:T=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*T,T=1;break;case 64:45===E()&&(F+=O(C())),v=E(),g=y=h(I=F+=D(_())),N++;break;case 45:45===x&&2==h(F)&&(w=0)}}return a}function Y(e,t,n,r,i,a,l,u,h,f,m){for(var g=i-1,y=0===i?a:[""],v=p(y),b=0,x=0,k=0;b<r;++b)for(var S=0,C=d(e,g+1,g=o(x=l[b])),E=e;S<v;++S)(E=s(x>0?y[S]+" "+C:c(C,/&\f/g,y[S])))&&(h[k++]=E);return w(e,t,n,0===i?U:u,h,f,m)}function X(e,t,n){return w(e,t,n,z,i(b),d(e,2,-2),0)}function J(e,t,n,r){return w(e,t,n,V,d(e,0,r),d(e,r+1,-1),r)}var $=function(e,t,n){for(var r=0,o=0;r=o,o=E(),38===r&&12===o&&(t[n]=1),!N(o);)C();return T(e,v)},Z=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(N(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=$(v-1,t,n);break;case 2:e[n]+=O(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=C());return e}(I(e),t))},Q=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Q.get(n))&&!r){Q.set(e,!0);for(var o=[],i=Z(t,o),a=n.props,s=0,c=0;s<i.length;s++)for(var l=0;l<a.length;l++,c++)e.props[c]=o[s]?i[s].replace(/&\f/g,a[l]):a[l]+" "+i[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+F+e+L+e+e;case 6828:case 4268:return B+e+L+e+e;case 6165:return B+e+L+"flex-"+e+e;case 5187:return B+e+c(e,/(\w+).+(:[^]+)/,B+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return B+e+L+"flex-item-"+c(e,/flex-|-self/,"")+e;case 4675:return B+e+L+"flex-line-pack"+c(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+L+c(e,"shrink","negative")+e;case 5292:return B+e+L+c(e,"basis","preferred-size")+e;case 6060:return B+"box-"+c(e,"-grow","")+B+e+L+c(e,"grow","positive")+e;case 4554:return B+c(e,/([^-])(transform)/g,"$1"+B+"$2")+e;case 6187:return c(c(c(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return c(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return c(c(e,/(.+:)(flex-)?(.*)/,B+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return c(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return c(e,/(.+:)(.+)-([^]+)/,"$1"+B+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?ne(c(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~l(e,"!important")&&10))){case 107:return c(e,":",":"+B)+e;case 101:return c(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===u(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return B+e+L+c(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+L+c(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+L+c(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+L+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=ne(e.value,e.length);break;case W:return H([k(e,{value:c(e.value,"@","@"+B)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([k(e,{props:[c(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([k(e,{props:[c(t,/:(plac\w+)/,":"+B+"input-$1")]}),k(e,{props:[c(t,/:(plac\w+)/,":-moz-$1")]}),k(e,{props:[c(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,i,a=e.stylisPlugins||re,s={},c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;c.push(e)}));var l,u,d=[G,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}([ee,te].concat(a,d));i=function(e,t,n,r){l=n,H(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return f.sheet.hydrate(c),f}},5756:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>l,i:()=>i,w:()=>c});var r=n(5043),o=n(3803),i=(n(3504),n(9436),!0),a=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null);var s=a.Provider,c=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(a);return e(t,o,n)}))};i||(c=function(e){return function(t){var n=(0,r.useContext)(a);return null===n?(n=(0,o.A)({key:"css"}),r.createElement(a.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>l,i7:()=>u,mL:()=>c});var r=n(5756),o=n(5043),i=n(1722),a=n(9436),s=n(3504),c=(n(3803),n(219),(0,r.w)((function(e,t){var n=e.styles,c=(0,s.J)([n],void 0,o.useContext(r.T));if(!r.i){for(var l,u=c.name,d=c.styles,h=c.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var p=!0===t.compat,f=t.insert("",{name:u,styles:d},t.sheet,p);return p?null:o.createElement("style",((l={})["data-emotion"]=t.key+"-global "+u,l.dangerouslySetInnerHTML={__html:f},l.nonce=t.sheet.nonce,l))}var m=o.useRef();return(0,a.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+c.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),m.current=[n,r],function(){n.flush()}}),[t]),(0,a.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==c.next&&(0,i.sk)(t,c.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",c,n,!1)}}),[t,c.name]),null})));function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.J)(t)}var u=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3504:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function o(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var i=!1,a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},u=o((function(e){return c(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||c(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)f={name:s.name,styles:s.styles,next:f},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var a in n){var s=n[a];if("object"!==typeof s){var c=s;null!=t&&void 0!==t[c]?r+=a+"{"+t[c]+"}":l(c)&&(r+=u(a)+":"+d(a,c)+";")}else{if("NO_COMPONENT_SELECTOR"===a&&i)throw new Error(h);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var f=p(e,t,s);switch(a){case"animation":case"animationName":r+=u(a)+":"+f+";";break;default:r+=a+"{"+f+"}"}}else for(var m=0;m<s.length;m++)l(s[m])&&(r+=u(a)+":"+d(a,s[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var c=f,m=n(e);return f=c,p(e,t,m)}}var g=n;if(null==t)return g;var y=t[g];return void 0!==y?y:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=p(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++){if(o+=p(n,t,e[a]),r)o+=i[a]}m.lastIndex=0;for(var s,c="";null!==(s=m.exec(o));)c+="-"+s[1];var l=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+c;return{name:l,styles:o,next:f}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>s,s:()=>a});var o=n(5043),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,a=i||function(e){return e()},s=i||o.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},5080:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>S,StyledEngineProvider:()=>k,ThemeContext:()=>c.T,css:()=>v.AH,default:()=>C,internal_processStyles:()=>E,keyframes:()=>v.i7});var r=n(8168),o=n(5043);function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=i((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=n(5756),l=n(1722),u=n(3504),d=n(9436),h=s,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},m=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,l.SF)(t,n,r),(0,d.s)((function(){return(0,l.sk)(t,n,r)})),null},y=function e(t,n){var i,a,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var h=m(t,n,s),p=h||f(d),y=!p("as");return function(){var v=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)b.push.apply(b,v);else{0,b.push(v[0][0]);for(var x=v.length,w=1;w<x;w++)b.push(v[w],v[0][w])}var k=(0,c.w)((function(e,t,n){var r=y&&e.as||d,i="",s=[],m=e;if(null==e.theme){for(var v in m={},e)m[v]=e[v];m.theme=o.useContext(c.T)}"string"===typeof e.className?i=(0,l.Rk)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var x=(0,u.J)(b.concat(s),t.registered,m);i+=t.key+"-"+x.name,void 0!==a&&(i+=" "+a);var w=y&&void 0===h?f(r):p,k={};for(var S in e)y&&"as"===S||w(S)&&(k[S]=e[S]);return k.className=i,k.ref=n,o.createElement(o.Fragment,null,o.createElement(g,{cache:t,serialized:x,isStringTag:"string"===typeof r}),o.createElement(r,k))}));return k.displayName=void 0!==i?i:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=d,k.__emotion_styles=b,k.__emotion_forwardProp=h,Object.defineProperty(k,"toString",{value:function(){return"."+a}}),k.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:m(k,o,!0)})).apply(void 0,b)},k}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var v=n(3290),b=n(3803),x=n(579);let w;function k(e){const{injectFirst:t,children:n}=e;return t&&w?(0,x.jsx)(c.C,{value:w,children:n}):n}function S(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,x.jsx)(v.mL,{styles:r})}function C(e,t){return y(e,t)}"object"===typeof document&&(w=(0,b.A)({key:"css",prepend:!0}));const E=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},61:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(457)),i=r(n(9214));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function c(e){if(e.type)return e;if("#"===e.charAt(0))return c(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const l=e=>{const t=c(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=c(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),u({type:s,values:l})}function h(e){let t="hsl"===(e=c(e)).type||"hsla"===e.type?c(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=c(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=c(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=c(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},8087:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:c=f}=e,u=e=>(0,l.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:x,overridesResolver:w=v(g(p))}=l,k=(0,i.default)(l,h),S=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,C=x||!1;let E=f;"Root"===p||"root"===p?E=r:p?E=c:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(E=void 0);const _=(0,a.default)(e,(0,o.default)({shouldForwardProp:E,label:undefined},k)),T=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:y({theme:r.theme,defaultTheme:n,themeId:t})})):e,N=function(r){let i=T(r);for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];const l=s?s.map(T):[];d&&w&&l.push((e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,a={};return Object.entries(i).forEach((t=>{let[n,i]=t;a[n]=b(i,(0,o.default)({},e,{theme:r}))})),w(e,a)})),d&&!S&&l.push((e=>{var r;const i=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),C||l.push(u);const h=l.length-s.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=_(i,...l);return e.muiName&&(p.muiName=e.muiName),p};return _.withConfig&&(N.withConfig=_.withConfig),N}};var o=r(n(4634)),i=r(n(4893)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5080)),s=n(9482),c=(r(n(7918)),r(n(3382)),r(n(3096))),l=r(n(2367));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,c.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function v(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const a="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(a))return a.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(a&&"object"===typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,i.default)(a,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return a}},262:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>i,vf:()=>s,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(r[e],"px)")};function i(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||o;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=i.breakpoints||o;return Object.keys(t).reduce(((o,i)=>{if(-1!==Object.keys(e.values||r).indexOf(i)){o[e.up(i)]=n(t[i],i)}else{const e=i;o[e]=t[e]}return o}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function s(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},6209:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},6116:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8587),o=n(8168);const i=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,c=(0,r.A)(e,i),l=a(t),u=Object.keys(l);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-s/100).concat(n,")")}function p(e,r){const o=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[u[o]]?t[u[o]]:r)-s/100).concat(n,")")}return(0,o.A)({keys:u,values:l,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},c)}},4040:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(9172),a=n(6116);const s={borderRadius:4};var c=n(2744);var l=n(6785),u=n(2036),d=n(6209);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,o.A)(e,h),g=(0,a.A)(t),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,c.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let v=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:y,shape:(0,r.A)({},s,f)},m);v.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return v=x.reduce(((e,t)=>(0,i.A)(e,t)),v),v.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),v.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},v}},3096:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(4040),o=n(6116),i=n(6209)},166:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},2744:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>v,Ms:()=>b});var r=n(262),o=n(8775),i=n(166);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!c[e])return[e];e=c[e]}const[t,n]=e.split(""),r=a[t],o=s[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const a=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"===typeof a?e=>"string"===typeof e?e:a*e:Array.isArray(a)?e=>"string"===typeof e?e:a[e]:"function"===typeof a?a:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(l(n),o),a=e[n];return(0,r.NI)(e,a,i)}function y(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function v(e){return y(e,u)}function b(e){return y(e,d)}function x(e){return y(e,h)}v.propTypes={},v.filterProps=u,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=h},8775:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>a,Yn:()=>i});var r=n(7598),o=n(262);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function a(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:i(e,n)||o,t&&(r=t(r,o,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:c}=e,l=e=>{if(null==e[t])return null;const l=e[t],u=i(e.theme,s)||{};return(0,o.NI)(e,l,(e=>{let o=a(u,c,e);return e===o&&"string"===typeof e&&(o=a(u,c,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?o:{[n]:o}}))};return l.propTypes={},l.filterProps=[t],l}},2036:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(2744),o=n(8775),i=n(166);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var s=n(262);function c(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function l(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=l("border",c),d=l("borderTop",c),h=l("borderRight",c),p=l("borderBottom",c),f=l("borderLeft",c),m=l("borderColor"),g=l("borderTopColor"),y=l("borderRightColor"),v=l("borderBottomColor"),b=l("borderLeftColor"),x=l("outline",c),w=l("outlineColor"),k=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};k.propTypes={},k.filterProps=["borderRadius"];a(u,d,h,p,f,m,g,y,v,b,k,x,w);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};S.propTypes={},S.filterProps=["gap"];const C=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};C.propTypes={},C.filterProps=["columnGap"];const E=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};E.propTypes={},E.filterProps=["rowGap"];a(S,C,E,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function _(e,t){return"grey"===t?t:e}a((0,o.Ay)({prop:"color",themeKey:"palette",transform:_}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:_}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const N=(0,o.Ay)({prop:"width",transform:T}),I=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:T(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};I.filterProps=["maxWidth"];const A=(0,o.Ay)({prop:"minWidth",transform:T}),O=(0,o.Ay)({prop:"height",transform:T}),R=(0,o.Ay)({prop:"maxHeight",transform:T}),M=(0,o.Ay)({prop:"minHeight",transform:T}),j=((0,o.Ay)({prop:"size",cssProperty:"width",transform:T}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:T}),a(N,I,A,O,R,M,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:c},borderTop:{themeKey:"borders",transform:c},borderRight:{themeKey:"borders",transform:c},borderBottom:{themeKey:"borders",transform:c},borderLeft:{themeKey:"borders",transform:c},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:c},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_},backgroundColor:{themeKey:"palette",transform:_},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:E},columnGap:{style:C},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:I},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},1989:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(8168),o=n(8587),i=n(9172),a=n(2036);const s=["sx"],c=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function l(e){const{sx:t}=e,n=(0,o.A)(e,s),{systemProps:a,otherProps:l}=c(n);let u;return u=Array.isArray(t)?[a,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,i.Q)(e)?(0,r.A)({},a,e):a}:(0,r.A)({},a,t),(0,r.A)({},l,{sx:u})}},2367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(6785),o=n(1989),i=n(2036)},6785:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>c});var r=n(7598),o=n(166),i=n(8775),a=n(262),s=n(2036);function c(){function e(e,t,n,o){const s={[e]:t,theme:n},c=o[e];if(!c)return{[e]:t};const{cssProperty:l=e,themeKey:u,transform:d,style:h}=c;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(s);return(0,a.NI)(s,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===l?n:{[l]:n}}))}return function t(n){var r;const{sx:i,theme:c={}}=n||{};if(!i)return null;const l=null!=(r=c.unstable_sxConfig)?r:s.A;function u(n){let r=n;if("function"===typeof n)r=n(c);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,a.EU)(c.breakpoints),s=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],d=c,"function"===typeof s?s(d):s);var s,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(l[n])u=(0,o.A)(u,e(n,i,c,l));else{const e=(0,a.NI)({theme:c},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:c})}else u=(0,o.A)(u,e(n,i,c,l))})),(0,a.vf)(s,u)}return Array.isArray(i)?i.map(u):u(i)}}const l=c();l.filterProps=["sx"];const u=l},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},9214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(8168),o=n(5043);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function a(e){if(o.isValidElement(e)||!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=a(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const c=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{o.isValidElement(t[r])?c[r]=t[r]:i(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&i(e[r])?c[r]=s(e[r],t[r],n):n.clone?c[r]=i(t[r])?a(t[r]):t[r]:c[r]=t[r]})),c}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,getFunctionName:()=>i});var r=n(191);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t="".concat(e).match(o);return t&&t[1]||""}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function s(e,t,n){const r=a(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function c(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return a(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return s(e,e.render,"ForwardRef");case r.lD:return s(e,e.type,"memo");default:return}}}},191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case a:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case h:case s:return e;default:return t}}case r:return t}}}t.vM=l,t.lD=h},8818:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=c(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),a&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return k}else{if(e<=-f)return S;if(e+1>=f)return w}return e<0?s(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var o=s(l(n,8)),i=g,a=0;a<e.length;a+=8){var c=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+c),n);if(c<8){var h=s(l(n,c));i=i.mul(h).add(s(d))}else i=(i=i.mul(o)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?u(e,t):c(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=a(1<<24),g=a(0);n.ZERO=g;var y=a(0,!0);n.UZERO=y;var v=a(1);n.ONE=v;var b=a(1,!0);n.UONE=b;var x=a(-1);n.NEG_ONE=x;var w=c(-1,2147483647,!1);n.MAX_VALUE=w;var k=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=c(0,-2147483648,!1);n.MIN_VALUE=S;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(l(e,6),this.unsigned),i=this,a="";;){var c=i.div(o),u=(i.sub(c.mul(o)).toInt()>>>0).toString(e);if((i=c).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},C.neg=C.negate,C.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,h+=(p+=o+l)>>>16,u+=(h+=n+s)>>>16,u+=t+a,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,l=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=a*p)>>>16,y+=(v+=i*p)>>>16,v&=65535,y+=(v+=a*h)>>>16,f+=(y+=o*p)>>>16,y&=65535,f+=(y+=i*h)>>>16,y&=65535,f+=(y+=a*u)>>>16,f+=n*p+o*h+i*u+a*l,c((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;i=y}else{if(this.eq(S))return e.eq(v)||e.eq(x)?S:e.eq(S)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:x:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:l(2,a-48),h=s(n),p=h.mul(e);p.isNegative()||p.gt(o);)p=(h=s(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=v),i=i.add(h),o=o.sub(p)}return i},C.div=C.divide,C.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),u=0,d=c>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(c(e,s,s+a>l?l:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},6382:(e,t,n)=>{"use strict";const r=n(4445),o=n(6900),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?s(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(o)return r?-1:K(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function x(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(J(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return Y(K(t,e.length-n),e,n,r)}function k(e,t,n,r){return Y(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return Y(q(t),e,n,r)}function C(e,t,n,r){return Y(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n);for(let c=0;c<s;++c)if(l[c]!==u[c]){i=l[c],a=u[c];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function N(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=$[e[i]];return o}function O(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function P(e,t,n,r,o){V(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e){return j(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e){return j(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const B={};function z(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function U(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function V(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?">= 0".concat(r," and < 2").concat(r," ** ").concat(8*(i+1)).concat(r):">= -(2".concat(r," ** ").concat(8*(i+1)-1).concat(r,") and < 2 ** ")+"".concat(8*(i+1)-1).concat(r):">= ".concat(t).concat(r," and <= ").concat(n).concat(r),new B.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!==typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r='The value of "'.concat(e,'" is out of range.'),o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=U(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),r+=" It must be ".concat(t,". Received ").concat(o),r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function K(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Y(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const $=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Z(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},8210:function(e,t,n){var r;!function(){"use strict";var o,i=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,c="[DecimalError] ",l=c+"Invalid argument: ",u=c+"Exponent out of range: ",d=Math.floor,h=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=7,g=9007199254740991,y=d(g/m),v={};function b(e,t){var n,r,o,i,a,c,l,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?I(t,h):t;if(l=e.d,u=t.d,a=e.e,o=t.e,l=l.slice(),i=a-o){for(i<0?(r=l,i=-i,c=u.length):(r=u,o=a,c=l.length),i>(c=(a=Math.ceil(h/m))>c?a+1:c+1)&&(i=c,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((c=l.length)-(i=u.length)<0&&(i=c,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/f|0,l[i]%=f;for(n&&(l.unshift(n),++o),c=l.length;0==l[--c];)l.pop();return t.d=l,t.e=o,s?I(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(l+e)}function w(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)r=e[t]+"",(n=m-r.length)&&(i+=_(n)),i+=r;a=e[t],(n=m-(r=a+"").length)&&(i+=_(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return i+a}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,n,r,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(o=e.d.length)?r:o;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===o?0:r>o^i.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*m;if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},v.dividedBy=v.div=function(e){return k(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return I(k(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return C(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(s=!1,t=k(T(n,a),T(e,a),a),s=!0,I(t,i))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):b(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(!(e=new r(e)).s)throw Error(c+"NaN");return n.s?(s=!1,t=k(n,e,0,1).times(e),s=!0,n.minus(t)):I(new r(n),o)},v.naturalExponential=v.exp=function(){return S(this)},v.naturalLogarithm=v.ln=function(){return T(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):A(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,n,r,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=C(o)+1,n=(r=o.d.length-1)*m+1,r=o.d[r]){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},v.squareRoot=v.sqrt=function(){var e,t,n,r,o,i,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(c+"NaN")}for(e=C(l),s=!1,0==(o=Math.sqrt(+l))||o==1/0?(((t=w(l.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(o.toString()),o=a=(n=u.precision)+3;;)if(r=(i=r).plus(k(l,i,a+2)).times(.5),w(i.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),o==a&&"4999"==t){if(I(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if("9999"!=t)break;a+=4}return s=!0,I(r,n)},v.times=v.mul=function(e){var t,n,r,o,i,a,c,l,u,d=this,h=d.constructor,p=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(l=p.length)<(u=m.length)&&(i=p,p=m,m=i,a=l,l=u,u=a),i=[],r=a=l+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,o=l+r;o>r;)c=i[o]+m[r]*p[o-r-1]+t,i[o--]=c%f|0,t=c/f|0;i[o]=(i[o]+t)%f|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?I(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,i),void 0===t?t=r.rounding:x(t,0,8),I(n,e+C(n)+1,t))},v.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=O(r,!0):(x(e,0,i),void 0===t?t=o.rounding:x(t,0,8),n=O(r=I(new o(r),e+1,t),!0,e+1)),n},v.toFixed=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?O(o):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),n=O((r=I(new a(o),e+C(o)+1,t)).abs(),!1,e+C(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return I(new t(e),C(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,n,r,i,a,l,u=this,h=u.constructor,p=+(e=new h(e));if(!e.s)return new h(o);if(!(u=new h(u)).s){if(e.s<1)throw Error(c+"Infinity");return u}if(u.eq(o))return u;if(r=h.precision,e.eq(o))return I(u,r);if(l=(t=e.e)>=(n=e.d.length-1),a=u.s,l){if((n=p<0?-p:p)<=g){for(i=new h(o),t=Math.ceil(r/m+4),s=!1;n%2&&R((i=i.times(u)).d,t),0!==(n=d(n/2));)R((u=u.times(u)).d,t);return s=!0,e.s<0?new h(o).div(i):I(i,r)}}else if(a<0)throw Error(c+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(T(u,r+12)),s=!0,(i=S(i)).s=a,i},v.toPrecision=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?r=O(o,(n=C(o))<=a.toExpNeg||n>=a.toExpPos):(x(e,1,i),void 0===t?t=a.rounding:x(t,0,8),r=O(o=I(new a(o),e,t),e<=(n=C(o))||n<=a.toExpNeg,e)),r},v.toSignificantDigits=v.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,i),void 0===t?t=n.rounding:x(t,0,8)),I(new n(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=C(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var k=function(){function e(e,t){var n,r=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+r,e[o]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a){var s,l,u,d,h,p,g,y,v,b,x,w,k,S,E,_,T,N,A=r.constructor,O=r.s==o.s?1:-1,R=r.d,M=o.d;if(!r.s)return new A(r);if(!o.s)throw Error(c+"Division by zero");for(l=r.e-o.e,T=M.length,E=R.length,y=(g=new A(O)).d=[],u=0;M[u]==(R[u]||0);)++u;if(M[u]>(R[u]||0)&&--l,(w=null==i?i=A.precision:a?i+(C(r)-C(o))+1:i)<0)return new A(0);if(w=w/m+2|0,u=0,1==T)for(d=0,M=M[0],w++;(u<E||d)&&w--;u++)k=d*f+(R[u]||0),y[u]=k/M|0,d=k%M|0;else{for((d=f/(M[0]+1)|0)>1&&(M=e(M,d),R=e(R,d),T=M.length,E=R.length),S=T,b=(v=R.slice(0,T)).length;b<T;)v[b++]=0;(N=M.slice()).unshift(0),_=M[0],M[1]>=f/2&&++_;do{d=0,(s=t(M,v,T,b))<0?(x=v[0],T!=b&&(x=x*f+(v[1]||0)),(d=x/_|0)>1?(d>=f&&(d=f-1),1==(s=t(h=e(M,d),v,p=h.length,b=v.length))&&(d--,n(h,T<p?N:M,p))):(0==d&&(s=d=1),h=M.slice()),(p=h.length)<b&&h.unshift(0),n(v,h,b),-1==s&&(s=t(M,v,T,b=v.length))<1&&(d++,n(v,T<b?N:M,b)),b=v.length):0===s&&(d++,v=[0]),y[u++]=d,s&&v[0]?v[b++]=R[S]||0:(v=[R[S]],b=1)}while((S++<E||void 0!==v[0])&&w--)}return y[0]||y.shift(),g.e=l,I(g,a?i+C(g)+1:i)}}();function S(e,t){var n,r,i,a,c,l=0,d=0,p=e.constructor,f=p.precision;if(C(e)>16)throw Error(u+C(e));if(!e.s)return new p(o);for(null==t?(s=!1,c=f):c=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(c+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new p(o),p.precision=c;;){if(r=I(r.times(e),c),n=n.times(++l),w((a=i.plus(k(r,n,c))).d).slice(0,c)===w(i.d).slice(0,c)){for(;d--;)i=I(i.times(i),c);return p.precision=f,null==t?(s=!0,I(i,f)):i}i=a}}function C(e){for(var t=e.e*m,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(c+"LN10 precision limit exceeded");return I(new e(e.LN10),t)}function _(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,i,a,l,u,d,h,p,f=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),E(y,h);if(h+=10,y.precision=h,r=(n=w(g)).charAt(0),a=C(m),!(Math.abs(a)<15e14))return d=E(y,h+2,v).times(a+""),m=T(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,I(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),f++;for(a=C(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=l=m=k(m.minus(o),m.plus(o),h),p=I(m.times(m),h),i=3;;){if(l=I(l.times(p),h),w((d=u.plus(k(l,new y(i),h))).d).slice(0,h)===w(u.d).slice(0,h))return u=u.times(2),0!==a&&(u=u.plus(E(y,h+2,v).times(a+""))),u=k(u,new y(f),h),y.precision=v,null==t?(s=!0,I(u,v)):u;u=d,i+=2}}function N(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(r,o)){if(o-=r,n=n-r-1,e.e=d(n/m),e.d=[],r=(n+1)%m,n<0&&(r+=m),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=m;r<o;)e.d.push(+t.slice(r,r+=m));t=t.slice(r),r=m-t.length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>y||e.e<-y))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function I(e,t,n){var r,o,i,a,c,l,p,g,v=e.d;for(a=1,i=v[0];i>=10;i/=10)a++;if((r=t-a)<0)r+=m,o=t,p=v[g=0];else{if((g=Math.ceil((r+1)/m))>=(i=v.length))return e;for(p=i=v[g],a=1;i>=10;i/=10)a++;o=(r%=m)-m+a}if(void 0!==n&&(c=p/(i=h(10,a-o-1))%10|0,l=t<0||void 0!==v[g+1]||p%i,l=n<4?(c||l)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||l||6==n&&(r>0?o>0?p/h(10,a-o):0:v[g-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return l?(i=C(e),v.length=1,t=t-i-1,v[0]=h(10,(m-t%m)%m),e.e=d(-t/m)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==r?(v.length=g,i=1,g--):(v.length=g+1,i=h(10,m-r),v[g]=o>0?(p/h(10,a-o)%h(10,o)|0)*i:0),l)for(;;){if(0==g){(v[0]+=i)==f&&(v[0]=1,++e.e);break}if(v[g]+=i,v[g]!=f)break;v[g--]=0,i=1}for(r=v.length;0===v[--r];)v.pop();if(s&&(e.e>y||e.e<-y))throw Error(u+C(e));return e}function A(e,t){var n,r,o,i,a,c,l,u,d,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?I(t,g):t;if(l=e.d,h=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r){for((d=a<0)?(n=l,a=-a,c=h.length):(n=h,r=u,c=l.length),a>(o=Math.max(Math.ceil(g/m),c)+2)&&(a=o,n.length=1),n.reverse(),o=a;o--;)n.push(0);n.reverse()}else{for((d=(o=l.length)<(c=h.length))&&(c=o),o=0;o<c;o++)if(l[o]!=h[o]){d=l[o]<h[o];break}a=0}for(d&&(n=l,l=h,h=n,t.s=-t.s),c=l.length,o=h.length-c;o>0;--o)l[c++]=0;for(o=h.length;o>a;){if(l[--o]<h[o]){for(i=o;i&&0===l[--i];)l[i]=f-1;--l[i],l[o]+=f}l[o]-=h[o]}for(;0===l[--c];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,s?I(t,g):t):new p(0)}function O(e,t,n){var r,o=C(e),i=w(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+_(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+_(-o-1)+i,n&&(r=n-a)>0&&(i+=_(r))):o>=a?(i+=_(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+_(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=_(r))),e.s<0?"-"+i:i}function R(e,t){if(e.length>t)return e.length=t,!0}function M(e){if(!e||"object"!==typeof e)throw Error(c+"Object expected");var t,n,r,o=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(r=e[n=o[t]])){if(!(d(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(l+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(l+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,o;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):N(t,e.toString())}if("string"!==typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(l+e);N(t,e)}if(i.prototype=v,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=M,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(a),a.default=a.Decimal=a,o=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,a),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var h,p=u.length;for(l=0;l<p;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,o);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||o&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),m=c(n),g=0;g<a.length;++g){var y=a[g];if(!i[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=h(n,y);try{l(t,y,v)}catch(b){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case o:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},6900:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?o-1:0,h=n?-1:1,p=e[t+d];for(d+=h,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=l}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+p]=255&a,p+=f,a/=256,l-=8);e[n+p-f]|=128*m}},2740:e=>{"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},8724:(e,t,n)=>{var r=n(7615),o=n(5051),i=n(2154),a=n(8734),s=n(2662);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},7160:(e,t,n)=>{var r=n(7563),o=n(9935),i=n(4190),a=n(1946),s=n(1714);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},4816:(e,t,n)=>{var r=n(7251),o=n(7159),i=n(438),a=n(9394),s=n(6874);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},8902:(e,t,n)=>{var r=n(4816),o=n(6179),i=n(6704);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},5538:(e,t,n)=>{var r=n(7160),o=n(4545),i=n(793),a=n(7760),s=n(3892),c=n(6788);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},3204:(e,t,n)=>{var r=n(3343),o=n(2777),i=n(4052),a=n(4543),s=n(9194),c=n(1268),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&c(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!l.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5967:e=>{e.exports=function(e){return e.split("")}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5652:(e,t,n)=>{var r=n(4664),o=n(6516)(r);e.exports=o},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,o){return n=!!t(e,r,o)})),n}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===c?s===s&&!r(s):n(s,c)))var c=s,l=a}return l}},5816:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},755:(e,t,n)=>{var r=n(8895),o=n(7116);e.exports=function e(t,n,i,a,s){var c=-1,l=t.length;for(i||(i=o),s||(s=[]);++c<l;){var u=t[c];n>0&&i(u)?n>1?e(u,n-1,i,a,s):r(s,u):a||(s[s.length]=u)}return s}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4664:(e,t,n)=>{var r=n(4258),o=n(8673);e.exports=function(e,t){return e&&r(e,t,o)}},2969:(e,t,n)=>{var r=n(5324),o=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},4262:(e,t,n)=>{var r=n(8895),o=n(4052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},6913:(e,t,n)=>{var r=n(9812),o=n(4552),i=n(6095),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},7498:e=>{e.exports=function(e,t){return e>t}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8468:(e,t,n)=>{var r=n(5816),o=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,o,n)}},5193:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},6989:(e,t,n)=>{var r=n(6399),o=n(2761);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,a,e,s))}},6399:(e,t,n)=>{var r=n(5538),o=n(3668),i=n(9987),a=n(5752),s=n(6924),c=n(4052),l=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=c(e),b=c(t),x=v?h:s(e),w=b?h:s(t),k=(x=x==d?p:x)==p,S=(w=w==d?p:w)==p,C=x==w;if(C&&l(e)){if(!l(t))return!1;v=!0,k=!1}if(C&&!k)return y||(y=new r),v||u(e)?o(e,t,n,m,g,y):i(e,t,x,n,m,g,y);if(!(1&n)){var E=k&&f.call(e,"__wrapped__"),_=S&&f.call(t,"__wrapped__");if(E||_){var T=E?e.value():e,N=_?t.value():t;return y||(y=new r),g(T,N,n,m,y)}}return!!C&&(y||(y=new r),a(e,t,n,m,g,y))}},6532:(e,t,n)=>{var r=n(5538),o=n(6989);e.exports=function(e,t,n,i){var a=n.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var l=n[a];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],h=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(i)var f=i(d,h,u,e,t,p);if(!(void 0===f?o(h,d,3,i,p):f))return!1}}return!0}},644:e=>{e.exports=function(e){return e!==e}},6954:(e,t,n)=>{var r=n(1629),o=n(7857),i=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},5428:(e,t,n)=>{var r=n(6913),o=n(6173),i=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},9096:(e,t,n)=>{var r=n(9256),o=n(5029),i=n(3279),a=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},3713:(e,t,n)=>{var r=n(6140),o=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2442:e=>{e.exports=function(e,t){return e<t}},8883:(e,t,n)=>{var r=n(5652),o=n(6571);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},9256:(e,t,n)=>{var r=n(6532),o=n(3781),i=n(1310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},5029:(e,t,n)=>{var r=n(6989),o=n(3097),i=n(3366),a=n(2597),s=n(9417),c=n(1310),l=n(914);e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},2536:(e,t,n)=>{var r=n(149),o=n(2969),i=n(9096),a=n(8883),s=n(320),c=n(7574),l=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,c(i));var p=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(p,(function(e,t){return l(e,t,n)}))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,i){for(var a=-1,s=n(t((r-e)/(o||1)),0),c=Array(s);s--;)c[i?s:++a]=e,e+=o;return c}},5647:(e,t,n)=>{var r=n(3279),o=n(5636),i=n(6350);e.exports=function(e,t){return i(o(e,t,r),e+"")}},8325:(e,t,n)=>{var r=n(2541),o=n(5654),i=n(3279),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},3871:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8541:(e,t,n)=>{var r=n(9812),o=n(149),i=n(4052),a=n(9841),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1141:(e,t,n)=>{var r=n(143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},4416:(e,t,n)=>{var r=n(8902),o=n(5866),i=n(1558),a=n(8114),s=n(8182),c=n(2074);e.exports=function(e,t,n){var l=-1,u=o,d=e.length,h=!0,p=[],f=p;if(n)h=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return c(m);h=!1,u=a,f=new r}else f=t?[]:p;e:for(;++l<d;){var g=e[l],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=f.length;v--;)if(f[v]===y)continue e;t&&f.push(y),p.push(g)}else u(f,y,n)||(f!==p&&f.push(y),p.push(g))}return p}},8114:e=>{e.exports=function(e,t){return e.has(t)}},5324:(e,t,n)=>{var r=n(4052),o=n(2597),i=n(4079),a=n(1069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e===e,a=r(e),s=void 0!==t,c=null===t,l=t===t,u=r(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||o&&s&&l||!n&&l||!i)return 1;if(!o&&!a&&!u&&e<t||u&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!l)return-1}return 0}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,c=n.length;++o<s;){var l=r(i[o],a[o]);if(l)return o>=c?l:l*("desc"==n[o]?-1:1)}return e.index-t.index}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===n(i[c],c,i))break}return t}}},7676:(e,t,n)=>{var r=n(8189),o=n(6311),i=n(9115),a=n(1069);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return s[e]()+c}}},9995:(e,t,n)=>{var r=n(9096),o=n(6571),i=n(8673);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var c=r(n,3);t=i(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},3331:(e,t,n)=>{var r=n(9676),o=n(929),i=n(7303);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},8182:(e,t,n)=>{var r=n(2070),o=n(5713),i=n(2074),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},5654:(e,t,n)=>{var r=n(7937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},3668:(e,t,n)=>{var r=n(8902),o=n(2587),i=n(8114);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e),p=c.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var y=e[f],v=t[f];if(a)var b=l?a(v,y,f,t,e,c):a(y,v,f,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,a,c)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},9987:(e,t,n)=>{var r=n(9812),o=n(2929),i=n(3211),a=n(3668),s=n(4160),c=n(2074),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=c),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(p(e),p(t),r,l,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},5752:(e,t,n)=>{var r=n(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var h=l[d];if(!(c?h in t:o.call(t,h)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var y=e[h=l[d]],v=t[h];if(i)var b=c?i(v,y,h,t,e,s):i(y,v,h,e,t,s);if(!(void 0===b?y===v||a(y,v,n,i,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9395:(e,t,n)=>{var r=n(4262),o=n(9621),i=n(8673);e.exports=function(e){return r(e,i,o)}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},3781:(e,t,n)=>{var r=n(9417),o=n(8673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},7937:(e,t,n)=>{var r=n(6954),o=n(4657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},4552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(c){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},9621:(e,t,n)=>{var r=n(7529),o=n(7828),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},6924:(e,t,n)=>{var r=n(7685),o=n(5204),i=n(5387),a=n(2070),s=n(6600),c=n(6913),l=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=l(r),g=l(o),y=l(i),v=l(a),b=l(s),x=c;(r&&x(new r(new ArrayBuffer(1)))!=f||o&&x(new o)!=u||i&&x(i.resolve())!=d||a&&x(new a)!=h||s&&x(new s)!=p)&&(x=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case m:return f;case g:return u;case y:return d;case v:return h;case b:return p}return t}),e.exports=x},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9057:(e,t,n)=>{var r=n(5324),o=n(2777),i=n(4052),a=n(9194),s=n(6173),c=n(914);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var h=c(t[l]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(i(e)||o(e))}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},2154:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},8734:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},7116:(e,t,n)=>{var r=n(9812),o=n(2777),i=n(4052),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},929:(e,t,n)=>{var r=n(3211),o=n(6571),i=n(9194),a=n(6686);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},2597:(e,t,n)=>{var r=n(4052),o=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7857:(e,t,n)=>{var r=n(3440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},9935:(e,t,n)=>{var r=n(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},7251:(e,t,n)=>{var r=n(8724),o=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5636:(e,t,n)=>{var r=n(1170),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=n(c),r(e,this,l)}}},6552:(e,t,n)=>{var r=n(7105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},6350:(e,t,n)=>{var r=n(8325),o=n(6578)(r);e.exports=o},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),o=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},9115:(e,t,n)=>{var r=n(5967),o=n(6311),i=n(715);e.exports=function(e){return o(e)?i(e):r(e)}},4079:(e,t,n)=>{var r=n(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+l+c+")*"),d="(?:"+[i+r+"?",r,a,s,n].join("|")+")",h=RegExp(o+"(?="+o+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},2541:e=>{e.exports=function(e){return function(){return e}}},3950:(e,t,n)=>{var r=n(6686),o=n(4757),i=n(801),a=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,d,h,p,f=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=c,r=l;return c=l=void 0,f=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function x(){var e=o();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function w(e){return h=void 0,y&&c?v(e):(c=l=void 0,d)}function k(){var e=o(),n=b(e);if(c=arguments,l=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(x,t),m?v(e):d}(p);if(g)return clearTimeout(h),h=setTimeout(x,t),v(p)}return void 0===h&&(h=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=p=l=h=void 0},k.flush=function(){return void 0===h?d:w(o())},k}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},7002:(e,t,n)=>{var r=n(5295),o=n(4746),i=n(9096),a=n(4052),s=n(929);e.exports=function(e,t,n){var c=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,i(t,3))}},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},2520:(e,t,n)=>{var r=n(5816),o=n(9096),i=n(9140),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:i(n);return c<0&&(c=a(s+c,0)),r(e,o(t,3),c)}},3538:(e,t,n)=>{var r=n(755),o=n(3411);e.exports=function(e,t){return r(o(e,t),1)}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},3366:(e,t,n)=>{var r=n(7894),o=n(9057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},3279:e=>{e.exports=function(e){return e}},2777:(e,t,n)=>{var r=n(5193),o=n(2761),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},4052:e=>{var t=Array.isArray;e.exports=t},6571:(e,t,n)=>{var r=n(1629),o=n(6173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6361:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==r(e)}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=n(14),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},1629:(e,t,n)=>{var r=n(6913),o=n(6686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},9686:e=>{e.exports=function(e){return null==e}},9160:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2322:(e,t,n)=>{var r=n(6913),o=n(5990),i=n(2761),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},620:(e,t,n)=>{var r=n(6913),o=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},9841:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1268:(e,t,n)=>{var r=n(5428),o=n(7574),i=n(6832),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},8673:(e,t,n)=>{var r=n(3204),o=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3411:(e,t,n)=>{var r=n(149),o=n(9096),i=n(8883),a=n(4052);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},1733:(e,t,n)=>{var r=n(1775),o=n(4664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},539:(e,t,n)=>{var r=n(9742),o=n(7498),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},5797:(e,t,n)=>{var r=n(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},6745:(e,t,n)=>{var r=n(9742),o=n(2442),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},5713:e=>{e.exports=function(){}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},3932:(e,t,n)=>{var r=n(396),o=n(2866),i=n(2597),a=n(914);e.exports=function(e){return i(e)?r(a(e)):o(e)}},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},4597:(e,t,n)=>{var r=n(2587),o=n(9096),i=n(2165),a=n(4052),s=n(929);e.exports=function(e,t,n){var c=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),c(e,o(t,3))}},7424:(e,t,n)=>{var r=n(755),o=n(2536),i=n(5647),a=n(929),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},7828:e=>{e.exports=function(){return[]}},14:e=>{e.exports=function(){return!1}},9889:(e,t,n)=>{var r=n(3950),o=n(6686);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},7303:(e,t,n)=>{var r=n(801),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},801:(e,t,n)=>{var r=n(1141),o=n(6686),i=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},977:(e,t,n)=>{var r=n(9096),o=n(4416);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},6178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){t=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function l(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],o=e.length;for(n=0;n<o;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function y(e){var t=null,r=!1,o=e._d&&!isNaN(e._d.getTime());return o&&(t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?o:(e._isValid=o,e._isValid)}function v(e){var t=f(NaN);return null!=e?p(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],x=!1;function w(e,t){var n,r,o,i=b.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=g(t)),l(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)l(o=t[r=b[n]])||(e[r]=o);return e}function k(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function S(e){return e instanceof k||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var o,i,a,c=[],l=arguments.length;for(i=0;i<l;i++){if(o="","object"===typeof arguments[i]){for(a in o+="\n["+i+"] ",arguments[0])s(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}C(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var _,T={};function N(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function I(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)s(e,n)&&(I(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=p({},e);for(n in t)s(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&a(e[n])&&(r[n]=p({},r[n]));return r}function R(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,_=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var M={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return I(r)?r.call(t,n):r}function P(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},B={};function z(e,t,n,r){var o=r;"string"===typeof r&&(o=function(){return this[r]()}),e&&(B[e]=o),t&&(B[t[0]]=function(){return P(o.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function U(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(D);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=U(r[t]);return function(t){var o,i="";for(o=0;o<n;o++)i+=I(r[o])?r[o].call(t,e):r[o];return i}}function W(e,t){return e.isValid()?(t=H(t,e.localeData()),F[t]=F[t]||V(t),F[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function K(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(D).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var q="Invalid date";function Y(){return this._invalidDate}var X="%d",J=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var o=this._relativeTime[n];return I(o)?o(e,t,n,r):o.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return I(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)s(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var oe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ie(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var ae,se=/\d/,ce=/\d\d/,le=/\d{3}/,ue=/\d{4}/,de=/[+-]?\d{6}/,he=/\d\d?/,pe=/\d\d\d\d?/,fe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ge=/\d{1,4}/,ye=/[+-]?\d{1,6}/,ve=/\d+/,be=/[+-]?\d+/,xe=/Z|[+-]\d\d:?\d\d/gi,we=/Z|[+-]\d\d(?::?\d\d)?/gi,ke=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ce=/^[1-9]\d?/,Ee=/^([1-9]\d|\d)/;function _e(e,t,n){ae[e]=I(t)?t:function(e,r){return e&&n?n:t}}function Te(e,t){return s(ae,e)?ae[e](t._strict,t._locale):new RegExp(Ne(e))}function Ne(e){return Ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o})))}function Ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ae(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Oe(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Ae(t)),n}ae={};var Re={};function Me(e,t){var n,r,o=t;for("string"===typeof e&&(e=[e]),u(t)&&(o=function(e,n){n[t]=Oe(e)}),r=e.length,n=0;n<r;n++)Re[e[n]]=o}function je(e,t){Me(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function Pe(e,t,n){null!=t&&s(Re,e)&&Re[e](t,n._a,n,e)}function De(e){return e%4===0&&e%100!==0||e%400===0}var Le=0,Fe=1,Be=2,ze=3,Ue=4,Ve=5,We=6,He=7,Ge=8;function Ke(e){return De(e)?366:365}z("Y",0,0,(function(){var e=this.year();return e<=9999?P(e,4):"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),_e("Y",be),_e("YY",he,ce),_e("YYYY",ge,ue),_e("YYYYY",ye,de),_e("YYYYYY",ye,de),Me(["YYYYY","YYYYYY"],Le),Me("YYYY",(function(e,t){t[Le]=2===e.length?r.parseTwoDigitYear(e):Oe(e)})),Me("YY",(function(e,t){t[Le]=r.parseTwoDigitYear(e)})),Me("Y",(function(e,t){t[Le]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Oe(e)+(Oe(e)>68?1900:2e3)};var qe,Ye=Je("FullYear",!0);function Xe(){return De(this.year())}function Je(e,t){return function(n){return null!=n?(Ze(this,e,n),r.updateOffset(this,t),this):$e(this,e)}}function $e(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Ze(e,t,n){var r,o,i,a,s;if(e.isValid()&&!isNaN(n)){switch(r=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(o?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(o?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(o?r.setUTCHours(n):r.setHours(n));case"Date":return void(o?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,a=e.month(),s=29!==(s=e.date())||1!==a||De(i)?s:28,o?r.setUTCFullYear(i,a,s):r.setFullYear(i,a,s)}}function Qe(e){return I(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=ie(e=re(e)),o=r.length;for(n=0;n<o;n++)this[r[n].unit](e[r[n].unit])}else if(I(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?De(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),_e("M",he,Ce),_e("MM",he,ce),_e("MMM",(function(e,t){return t.monthsShortRegex(e)})),_e("MMMM",(function(e,t){return t.monthsRegex(e)})),Me(["M","MM"],(function(e,t){t[Fe]=Oe(e)-1})),Me(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[Fe]=o:g(n).invalidMonth=e}));var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),it=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at=Se,st=Se;function ct(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||it).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function lt(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[it.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=qe.call(this._shortMonthsParse,a))?o:null:-1!==(o=qe.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=qe.call(this._shortMonthsParse,a))||-1!==(o=qe.call(this._longMonthsParse,a))?o:null:-1!==(o=qe.call(this._longMonthsParse,a))||-1!==(o=qe.call(this._shortMonthsParse,a))?o:null}function dt(e,t,n){var r,o,i;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Oe(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function pt(e){return null!=e?(ht(this,e),r.updateOffset(this,!0),this):$e(this,"Month")}function ft(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=st),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,o,i=[],a=[],s=[];for(t=0;t<12;t++)n=f([2e3,t]),r=Ie(this.monthsShort(n,"")),o=Ie(this.months(n,"")),i.push(r),a.push(o),s.push(o),s.push(r);i.sort(e),a.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function vt(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,o);return s<=0?a=Ke(i=e-1)+s:s>Ke(e)?(i=e+1,a=s-Ke(e)):(i=e,a=s),{year:i,dayOfYear:a}}function kt(e,t,n){var r,o,i=xt(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+St(o=e.year()-1,t,n):a>St(e.year(),t,n)?(r=a-St(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function St(e,t,n){var r=xt(e,t,n),o=xt(e+1,t,n);return(Ke(e)-r+o)/7}function Ct(e){return kt(e,this._week.dow,this._week.doy).week}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),_e("w",he,Ce),_e("ww",he,ce),_e("W",he,Ce),_e("WW",he,ce),je(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Oe(e)}));var Et={dow:0,doy:6};function _t(){return this._week.dow}function Tt(){return this._week.doy}function Nt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function It(e){var t=kt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Rt(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),_e("d",he),_e("e",he),_e("E",he),_e("dd",(function(e,t){return t.weekdaysMinRegex(e)})),_e("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),_e("dddd",(function(e,t){return t.weekdaysRegex(e)})),je(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:g(n).invalidWeekday=e})),je(["d","e","E"],(function(e,t,n,r){t[r]=Oe(e)}));var Mt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Dt=Se,Lt=Se,Ft=Se;function Bt(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Rt(n,this._week.dow):e?n[e.day()]:n}function zt(e){return!0===e?Rt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ut(e){return!0===e?Rt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=qe.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=qe.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=qe.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=qe.call(this._weekdaysParse,a))||-1!==(o=qe.call(this._shortWeekdaysParse,a))||-1!==(o=qe.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=qe.call(this._shortWeekdaysParse,a))||-1!==(o=qe.call(this._weekdaysParse,a))||-1!==(o=qe.call(this._minWeekdaysParse,a))?o:null:-1!==(o=qe.call(this._minWeekdaysParse,a))||-1!==(o=qe.call(this._weekdaysParse,a))||-1!==(o=qe.call(this._shortWeekdaysParse,a))?o:null}function Wt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=$e(this,"Day");return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Kt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Dt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=Ie(this.weekdaysMin(n,"")),o=Ie(this.weekdaysShort(n,"")),i=Ie(this.weekdays(n,"")),a.push(r),s.push(o),c.push(i),l.push(r),l.push(o),l.push(i);a.sort(e),s.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function $t(){return this.hours()%12||12}function Zt(){return this.hours()||24}function Qt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,$t),z("k",["kk",2],0,Zt),z("hmm",0,0,(function(){return""+$t.apply(this)+P(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+$t.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),_e("a",en),_e("A",en),_e("H",he,Ee),_e("h",he,Ce),_e("k",he,Ce),_e("HH",he,ce),_e("hh",he,ce),_e("kk",he,ce),_e("hmm",pe),_e("hmmss",fe),_e("Hmm",pe),_e("Hmmss",fe),Me(["H","HH"],ze),Me(["k","kk"],(function(e,t,n){var r=Oe(e);t[ze]=24===r?0:r})),Me(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Me(["h","hh"],(function(e,t,n){t[ze]=Oe(e),g(n).bigHour=!0})),Me("hmm",(function(e,t,n){var r=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ue]=Oe(e.substr(r)),g(n).bigHour=!0})),Me("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ue]=Oe(e.substr(r,2)),t[Ve]=Oe(e.substr(o)),g(n).bigHour=!0})),Me("Hmm",(function(e,t,n){var r=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ue]=Oe(e.substr(r))})),Me("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[ze]=Oe(e.substr(0,r)),t[Ue]=Oe(e.substr(r,2)),t[Ve]=Oe(e.substr(o))}));var nn=/[ap]\.?m?\.?/i,rn=Je("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,sn={calendar:M,longDateFormat:G,invalidDate:q,ordinal:X,dayOfMonthOrdinalParse:J,relativeTime:Z,months:rt,monthsShort:ot,week:Et,weekdays:Mt,weekdaysMin:Pt,weekdaysShort:jt,meridiemParse:nn},cn={},ln={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=dn(e[i]).split("-")).length,n=(n=dn(e[i+1]))?n.split("-"):null;t>0;){if(r=fn(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(o,n)>=t-1)break;t--}i++}return an}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function fn(t){var n=null;if(void 0===cn[t]&&e&&e.exports&&pn(t))try{n=an._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){cn[t]=null}return cn[t]}function mn(e,t){var n;return e&&((n=l(t)?vn(e):gn(e,t))?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function gn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=cn[e])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[e]._config;else if(null!=t.parentLocale)if(null!=cn[t.parentLocale])r=cn[t.parentLocale]._config;else{if(null==(n=fn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return cn[e]=new R(O(r,t)),ln[e]&&ln[e].forEach((function(e){gn(e.name,e.config)})),mn(e),cn[e]}return delete cn[e],null}function yn(e,t){if(null!=t){var n,r,o=sn;null!=cn[e]&&null!=cn[e].parentLocale?cn[e].set(O(cn[e]._config,t)):(null!=(r=fn(e))&&(o=r._config),t=O(o,t),null==r&&(t.abbr=e),(n=new R(t)).parentLocale=cn[e],cn[e]=n),mn(e)}else null!=cn[e]&&(null!=cn[e].parentLocale?(cn[e]=cn[e].parentLocale,e===mn()&&mn(e)):null!=cn[e]&&delete cn[e]);return cn[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!i(e)){if(t=fn(e))return t;e=[e]}return hn(e)}function bn(){return _(cn)}function xn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Fe]<0||n[Fe]>11?Fe:n[Be]<1||n[Be]>nt(n[Le],n[Fe])?Be:n[ze]<0||n[ze]>24||24===n[ze]&&(0!==n[Ue]||0!==n[Ve]||0!==n[We])?ze:n[Ue]<0||n[Ue]>59?Ue:n[Ve]<0||n[Ve]>59?Ve:n[We]<0||n[We]>999?We:-1,g(e)._overflowDayOfYear&&(t<Le||t>Be)&&(t=Be),g(e)._overflowWeeks&&-1===t&&(t=He),g(e)._overflowWeekday&&-1===t&&(t=Ge),g(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_n=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function In(e){var t,n,r,o,i,a,s=e._i,c=wn.exec(s)||kn.exec(s),l=Cn.length,u=En.length;if(c){for(g(e).iso=!0,t=0,n=l;t<n;t++)if(Cn[t][1].exec(c[1])){o=Cn[t][0],r=!1!==Cn[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=u;t<n;t++)if(En[t][1].exec(c[3])){i=(c[2]||" ")+En[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(c[4]){if(!Sn.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),Un(e)}else e._isValid=!1}function An(e,t,n,r,o,i){var a=[On(e),ot.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Rn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mn(e,t,n){return!e||jt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function jn(e,t,n){if(e)return Nn[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}function Pn(e){var t,n=Tn.exec(Rn(e._i));if(n){if(t=An(n[4],n[3],n[2],n[5],n[6],n[7]),!Mn(n[1],t,e))return;e._a=t,e._tzm=jn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Dn(e){var t=_n.exec(e._i);null===t?(In(e),!1===e._isValid&&(delete e._isValid,Pn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,o,i,a=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Be]&&null==e._a[Fe]&&zn(e),null!=e._dayOfYear&&(i=Ln(e._a[Le],r[Le]),(e._dayOfYear>Ke(i)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(i,0,e._dayOfYear),e._a[Fe]=n.getUTCMonth(),e._a[Be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ze]&&0===e._a[Ue]&&0===e._a[Ve]&&0===e._a[We]&&(e._nextDay=!0,e._a[ze]=0),e._d=(e._useUTC?bt:vt).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ze]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==o&&(g(e).weekdayMismatch=!0)}}function zn(e){var t,n,r,o,i,a,s,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,a=4,n=Ln(t.GG,e._a[Le],kt(Xn(),1,4).year),r=Ln(t.W,1),((o=Ln(t.E,1))<1||o>7)&&(c=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,l=kt(Xn(),i,a),n=Ln(t.gg,e._a[Le],l.year),r=Ln(t.w,l.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>St(n,i,a)?g(e)._overflowWeeks=!0:null!=c?g(e)._overflowWeekday=!0:(s=wt(n,r,o,i,a),e._a[Le]=s.year,e._dayOfYear=s.dayOfYear)}function Un(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,o,i,a,s,c,l=""+e._i,u=l.length,d=0;for(c=(o=H(e._f,e._locale).match(D)||[]).length,t=0;t<c;t++)i=o[t],(n=(l.match(Te(i,e))||[])[0])&&((a=l.substr(0,l.indexOf(n))).length>0&&g(e).unusedInput.push(a),l=l.slice(l.indexOf(n)+n.length),d+=n.length),B[i]?(n?g(e).empty=!1:g(e).unusedTokens.push(i),Pe(i,n,e)):e._strict&&!n&&g(e).unusedTokens.push(i);g(e).charsLeftOver=u-d,l.length>0&&g(e).unusedInput.push(l),e._a[ze]<=12&&!0===g(e).bigHour&&e._a[ze]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[ze]=Vn(e._locale,e._a[ze],e._meridiem),null!==(s=g(e).era)&&(e._a[Le]=e._locale.erasConvertYear(s,e._a[Le])),Bn(e),xn(e)}else Pn(e);else In(e)}function Vn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,o,i,a,s=!1,c=e._f.length;if(0===c)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<c;o++)i=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Un(t),y(t)&&(a=!0),i+=g(t).charsLeftOver,i+=10*g(t).unusedTokens.length,g(t).score=i,s?i<r&&(r=i,n=t):(null==r||i<r||a)&&(r=i,n=t,a&&(s=!0));p(e,n||t)}function Hn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Gn(e){var t=new k(xn(Kn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Kn(e){var t=e._i,n=e._f;return e._locale=e._locale||vn(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new k(xn(t)):(d(t)?e._d=t:i(n)?Wn(e):n?Un(e):qn(e),y(e)||(e._d=null),e))}function qn(e){var t=e._i;l(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Dn(e):i(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?Hn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,o){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&c(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=n,s._i=e,s._f=t,s._strict=r,Gn(s)}function Xn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Jn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),$n=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Zn(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return Zn("isBefore",[].slice.call(arguments,0))}function er(){return Zn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,o=nr.length;for(t in e)if(s(e,t)&&(-1===qe.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<o;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Oe(e[nr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function ir(){return Nr(NaN)}function ar(e){var t=re(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function sr(e){return e instanceof ar}function cr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&Oe(e[r])!==Oe(t[r]))&&a++;return a+i}function ur(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),_e("Z",we),_e("ZZ",we),Me(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(we,e)}));var dr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,o=(t||"").match(e);return null===o?null:0===(r=60*(n=((o[o.length-1]||[])+"").match(dr)||["-",0,0])[1]+Oe(n[2]))?0:"+"===n[0]?r:-r}function pr(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(S(e)||d(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Xn(e).local()}function fr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(we,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=fr(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Mr(this,Nr(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:fr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function vr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(fr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(xe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xr(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function kr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Kn(t))._a?(e=t._isUTC?f(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var _r=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Nr(e,t){var n,r,o,i=e,a=null;return sr(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=_r.exec(e))?(n="-"===a[1]?-1:1,i={y:0,d:Oe(a[Be])*n,h:Oe(a[ze])*n,m:Oe(a[Ue])*n,s:Oe(a[Ve])*n,ms:Oe(cr(1e3*a[We]))*n}):(a=Tr.exec(e))?(n="-"===a[1]?-1:1,i={y:Ir(a[2],n),M:Ir(a[3],n),w:Ir(a[4],n),d:Ir(a[5],n),h:Ir(a[6],n),m:Ir(a[7],n),s:Ir(a[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(o=Or(Xn(i.from),Xn(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),r=new ar(i),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Ir(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ar(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Ar(e,t):((n=Ar(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Rr(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Mr(this,Nr(n,r),e),this}}function Mr(e,t,n,o){var i=t._milliseconds,a=cr(t._days),s=cr(t._months);e.isValid()&&(o=null==o||o,s&&ht(e,$e(e,"Month")+s*n),a&&Ze(e,"Date",$e(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,a||s))}Nr.fn=ar.prototype,Nr.invalid=ir;var jr=Rr(1,"add"),Pr=Rr(-1,"subtract");function Dr(e){return"string"===typeof e||e instanceof String}function Lr(e){return S(e)||d(e)||Dr(e)||u(e)||Br(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=a(e)&&!c(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=i.length;for(t=0;t<l;t+=1)n=i[t],o=o||s(e,n);return r&&o}function Br(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Dr(e)})).length),t&&n}function zr(e){var t,n,r=a(e)&&!c(e),o=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=i[t],o=o||s(e,n);return r&&o}function Ur(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):zr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),o=pr(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=t&&(I(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Xn(n)))}function Wr(){return new k(this)}function Hr(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=S(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Kr(e,t,n,r){var o=S(e)?e:Xn(e),i=S(t)?t:Xn(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))}function qr(e,t){var n,r=S(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=pr(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":i=$r(this,r)/12;break;case"month":i=$r(this,r);break;case"quarter":i=$r(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Ae(i)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function eo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,o="moment",i="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+o+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=i+'[")]',this.format(e+t+n+r)}function to(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function no(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Nr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ro(e){return this.from(Xn(),e)}function oo(e,t){return this.isValid()&&(S(e)&&e.isValid()||Xn(e).isValid())?Nr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function io(e){return this.to(Xn(),e)}function ao(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var so=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function co(){return this._locale}var lo=1e3,uo=60*lo,ho=60*uo,po=3506328*ho;function fo(e,t){return(e%t+t)%t}function mo(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-po:new Date(e,t,n).valueOf()}function go(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-po:Date.UTC(e,t,n)}function yo(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?go:mo,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fo(t+(this._isUTC?0:this.utcOffset()*uo),ho);break;case"minute":t=this._d.valueOf(),t-=fo(t,uo);break;case"second":t=this._d.valueOf(),t-=fo(t,lo)}return this._d.setTime(t),r.updateOffset(this,!0),this}function vo(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?go:mo,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ho-fo(t+(this._isUTC?0:this.utcOffset()*uo),ho)-1;break;case"minute":t=this._d.valueOf(),t+=uo-fo(t,uo)-1;break;case"second":t=this._d.valueOf(),t+=lo-fo(t,lo)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function xo(){return Math.floor(this.valueOf()/1e3)}function wo(){return new Date(this.valueOf())}function ko(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function So(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Co(){return this.isValid()?this.toISOString():null}function Eo(){return y(this)}function _o(){return p({},g(this))}function To(){return g(this).overflow}function No(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Io(e,t){var n,o,i,a=this._eras||vn("en")._eras;for(n=0,o=a.length;n<o;++n)switch("string"===typeof a[n].since&&(i=r(a[n].since).startOf("day"),a[n].since=i.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=r(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}return a}function Ao(e,t,n){var r,o,i,a,s,c=this.eras();for(e=e.toUpperCase(),r=0,o=c.length;r<o;++r)if(i=c[r].name.toUpperCase(),a=c[r].abbr.toUpperCase(),s=c[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return c[r];break;case"NNNN":if(i===e)return c[r];break;case"NNNNN":if(s===e)return c[r]}else if([i,a,s].indexOf(e)>=0)return c[r]}function Oo(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ro(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Mo(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function jo(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Po(){var e,t,n,o,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,o=this.clone().startOf("day").valueOf(),i[e].since<=o&&o<=i[e].until||i[e].until<=o&&o<=i[e].since)return(this.year()-r(i[e].since).year())*n+i[e].offset;return this.year()}function Do(e){return s(this,"_erasNameRegex")||Wo.call(this),e?this._erasNameRegex:this._erasRegex}function Lo(e){return s(this,"_erasAbbrRegex")||Wo.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fo(e){return s(this,"_erasNarrowRegex")||Wo.call(this),e?this._erasNarrowRegex:this._erasRegex}function Bo(e,t){return t.erasAbbrRegex(e)}function zo(e,t){return t.erasNameRegex(e)}function Uo(e,t){return t.erasNarrowRegex(e)}function Vo(e,t){return t._eraYearOrdinalRegex||ve}function Wo(){var e,t,n,r,o,i=[],a=[],s=[],c=[],l=this.eras();for(e=0,t=l.length;e<t;++e)n=Ie(l[e].name),r=Ie(l[e].abbr),o=Ie(l[e].narrow),a.push(n),i.push(r),s.push(o),c.push(n),c.push(r),c.push(o);this._erasRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function Ho(e,t){z(0,[e,e.length],0,t)}function Go(e){return $o.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Ko(e){return $o.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qo(){return St(this.year(),1,4)}function Yo(){return St(this.isoWeekYear(),1,4)}function Xo(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Jo(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function $o(e,t,n,r,o){var i;return null==e?kt(this,r,o).year:(t>(i=St(e,r,o))&&(t=i),Zo.call(this,e,t,n,r,o))}function Zo(e,t,n,r,o){var i=wt(e,t,n,r,o),a=bt(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Qo(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),_e("N",Bo),_e("NN",Bo),_e("NNN",Bo),_e("NNNN",zo),_e("NNNNN",Uo),Me(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?g(n).era=o:g(n).invalidEra=e})),_e("y",ve),_e("yy",ve),_e("yyy",ve),_e("yyyy",ve),_e("yo",Vo),Me(["y","yy","yyy","yyyy"],Le),Me(["yo"],(function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Le]=n._locale.eraYearOrdinalParse(e,o):t[Le]=parseInt(e,10)})),z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ho("gggg","weekYear"),Ho("ggggg","weekYear"),Ho("GGGG","isoWeekYear"),Ho("GGGGG","isoWeekYear"),_e("G",be),_e("g",be),_e("GG",he,ce),_e("gg",he,ce),_e("GGGG",ge,ue),_e("gggg",ge,ue),_e("GGGGG",ye,de),_e("ggggg",ye,de),je(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Oe(e)})),je(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),_e("Q",se),Me("Q",(function(e,t){t[Fe]=3*(Oe(e)-1)})),z("D",["DD",2],"Do","date"),_e("D",he,Ce),_e("DD",he,ce),_e("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Me(["D","DD"],Be),Me("Do",(function(e,t){t[Be]=Oe(e.match(he)[0])}));var ei=Je("Date",!0);function ti(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}z("DDD",["DDDD",3],"DDDo","dayOfYear"),_e("DDD",me),_e("DDDD",le),Me(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Oe(e)})),z("m",["mm",2],0,"minute"),_e("m",he,Ee),_e("mm",he,ce),Me(["m","mm"],Ue);var ni=Je("Minutes",!1);z("s",["ss",2],0,"second"),_e("s",he,Ee),_e("ss",he,ce),Me(["s","ss"],Ve);var ri,oi,ii=Je("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),_e("S",me,se),_e("SS",me,ce),_e("SSS",me,le),ri="SSSS";ri.length<=9;ri+="S")_e(ri,ve);function ai(e,t){t[We]=Oe(1e3*("0."+e))}for(ri="S";ri.length<=9;ri+="S")Me(ri,ai);function si(){return this._isUTC?"UTC":""}function ci(){return this._isUTC?"Coordinated Universal Time":""}oi=Je("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var li=k.prototype;function ui(e){return Xn(1e3*e)}function di(){return Xn.apply(null,arguments).parseZone()}function hi(e){return e}li.add=jr,li.calendar=Vr,li.clone=Wr,li.diff=Jr,li.endOf=vo,li.format=to,li.from=no,li.fromNow=ro,li.to=oo,li.toNow=io,li.get=Qe,li.invalidAt=To,li.isAfter=Hr,li.isBefore=Gr,li.isBetween=Kr,li.isSame=qr,li.isSameOrAfter=Yr,li.isSameOrBefore=Xr,li.isValid=Eo,li.lang=so,li.locale=ao,li.localeData=co,li.max=$n,li.min=Jn,li.parsingFlags=_o,li.set=et,li.startOf=yo,li.subtract=Pr,li.toArray=ko,li.toObject=So,li.toDate=wo,li.toISOString=Qr,li.inspect=eo,"undefined"!==typeof Symbol&&null!=Symbol.for&&(li[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),li.toJSON=Co,li.toString=Zr,li.unix=xo,li.valueOf=bo,li.creationData=No,li.eraName=Ro,li.eraNarrow=Mo,li.eraAbbr=jo,li.eraYear=Po,li.year=Ye,li.isLeapYear=Xe,li.weekYear=Go,li.isoWeekYear=Ko,li.quarter=li.quarters=Qo,li.month=pt,li.daysInMonth=ft,li.week=li.weeks=Nt,li.isoWeek=li.isoWeeks=It,li.weeksInYear=Xo,li.weeksInWeekYear=Jo,li.isoWeeksInYear=qo,li.isoWeeksInISOWeekYear=Yo,li.date=ei,li.day=li.days=Ht,li.weekday=Gt,li.isoWeekday=Kt,li.dayOfYear=ti,li.hour=li.hours=rn,li.minute=li.minutes=ni,li.second=li.seconds=ii,li.millisecond=li.milliseconds=oi,li.utcOffset=mr,li.utc=yr,li.local=vr,li.parseZone=br,li.hasAlignedHourOffset=xr,li.isDST=wr,li.isLocal=Sr,li.isUtcOffset=Cr,li.isUtc=Er,li.isUTC=Er,li.zoneAbbr=si,li.zoneName=ci,li.dates=E("dates accessor is deprecated. Use date instead.",ei),li.months=E("months accessor is deprecated. Use month instead",pt),li.years=E("years accessor is deprecated. Use year instead",Ye),li.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),li.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",kr);var pi=R.prototype;function fi(e,t,n,r){var o=vn(),i=f().set(r,t);return o[n](i,e)}function mi(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fi(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=fi(e,r,n,"month");return o}function gi(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var o,i=vn(),a=e?i._week.dow:0,s=[];if(null!=n)return fi(t,(n+a)%7,r,"day");for(o=0;o<7;o++)s[o]=fi(t,(o+a)%7,r,"day");return s}function yi(e,t){return mi(e,t,"months")}function vi(e,t){return mi(e,t,"monthsShort")}function bi(e,t,n){return gi(e,t,n,"weekdays")}function xi(e,t,n){return gi(e,t,n,"weekdaysShort")}function wi(e,t,n){return gi(e,t,n,"weekdaysMin")}pi.calendar=j,pi.longDateFormat=K,pi.invalidDate=Y,pi.ordinal=$,pi.preparse=hi,pi.postformat=hi,pi.relativeTime=Q,pi.pastFuture=ee,pi.set=A,pi.eras=Io,pi.erasParse=Ao,pi.erasConvertYear=Oo,pi.erasAbbrRegex=Lo,pi.erasNameRegex=Do,pi.erasNarrowRegex=Fo,pi.months=ct,pi.monthsShort=lt,pi.monthsParse=dt,pi.monthsRegex=gt,pi.monthsShortRegex=mt,pi.week=Ct,pi.firstDayOfYear=Tt,pi.firstDayOfWeek=_t,pi.weekdays=Bt,pi.weekdaysMin=Ut,pi.weekdaysShort=zt,pi.weekdaysParse=Wt,pi.weekdaysRegex=qt,pi.weekdaysShortRegex=Yt,pi.weekdaysMinRegex=Xt,pi.isPM=tn,pi.meridiem=on,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Oe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",vn);var ki=Math.abs;function Si(){var e=this._data;return this._milliseconds=ki(this._milliseconds),this._days=ki(this._days),this._months=ki(this._months),e.milliseconds=ki(e.milliseconds),e.seconds=ki(e.seconds),e.minutes=ki(e.minutes),e.hours=ki(e.hours),e.months=ki(e.months),e.years=ki(e.years),this}function Ci(e,t,n,r){var o=Nr(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function Ei(e,t){return Ci(this,e,t,1)}function _i(e,t){return Ci(this,e,t,-1)}function Ti(e){return e<0?Math.floor(e):Math.ceil(e)}function Ni(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,c=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*Ti(Ai(s)+a),a=0,s=0),c.milliseconds=i%1e3,e=Ae(i/1e3),c.seconds=e%60,t=Ae(e/60),c.minutes=t%60,n=Ae(t/60),c.hours=n%24,a+=Ae(n/24),s+=o=Ae(Ii(a)),a-=Ti(Ai(o)),r=Ae(s/12),s%=12,c.days=a,c.months=s,c.years=r,this}function Ii(e){return 4800*e/146097}function Ai(e){return 146097*e/4800}function Oi(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ii(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ai(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ri(e){return function(){return this.as(e)}}var Mi=Ri("ms"),ji=Ri("s"),Pi=Ri("m"),Di=Ri("h"),Li=Ri("d"),Fi=Ri("w"),Bi=Ri("M"),zi=Ri("Q"),Ui=Ri("y"),Vi=Mi;function Wi(){return Nr(this)}function Hi(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Gi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ki=Gi("milliseconds"),qi=Gi("seconds"),Yi=Gi("minutes"),Xi=Gi("hours"),Ji=Gi("days"),$i=Gi("months"),Zi=Gi("years");function Qi(){return Ae(this.days()/7)}var ea=Math.round,ta={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function na(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function ra(e,t,n,r){var o=Nr(e).abs(),i=ea(o.as("s")),a=ea(o.as("m")),s=ea(o.as("h")),c=ea(o.as("d")),l=ea(o.as("M")),u=ea(o.as("w")),d=ea(o.as("y")),h=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||c<=1&&["d"]||c<n.d&&["dd",c];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,na.apply(null,h)}function oa(e){return void 0===e?ea:"function"===typeof e&&(ea=e,!0)}function ia(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,"s"===e&&(ta.ss=t-1),!0))}function aa(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,o=!1,i=ta;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(o=e),"object"===typeof t&&(i=Object.assign({},ta,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),r=ra(this,!o,i,n=this.localeData()),o&&(r=n.pastFuture(+this,r)),n.postformat(r)}var sa=Math.abs;function ca(e){return(e>0)-(e<0)||+e}function la(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,o,i,a,s,c=sa(this._milliseconds)/1e3,l=sa(this._days),u=sa(this._months),d=this.asSeconds();return d?(e=Ae(c/60),t=Ae(e/60),c%=60,e%=60,n=Ae(u/12),u%=12,r=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=ca(this._months)!==ca(d)?"-":"",a=ca(this._days)!==ca(d)?"-":"",s=ca(this._milliseconds)!==ca(d)?"-":"",o+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(l?a+l+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+r+"S":"")):"P0D"}var ua=ar.prototype;return ua.isValid=or,ua.abs=Si,ua.add=Ei,ua.subtract=_i,ua.as=Oi,ua.asMilliseconds=Mi,ua.asSeconds=ji,ua.asMinutes=Pi,ua.asHours=Di,ua.asDays=Li,ua.asWeeks=Fi,ua.asMonths=Bi,ua.asQuarters=zi,ua.asYears=Ui,ua.valueOf=Vi,ua._bubble=Ni,ua.clone=Wi,ua.get=Hi,ua.milliseconds=Ki,ua.seconds=qi,ua.minutes=Yi,ua.hours=Xi,ua.days=Ji,ua.weeks=Qi,ua.months=$i,ua.years=Zi,ua.humanize=aa,ua.toISOString=la,ua.toString=la,ua.toJSON=la,ua.locale=ao,ua.localeData=co,ua.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",la),ua.lang=so,z("X",0,0,"unix"),z("x",0,0,"valueOf"),_e("x",be),_e("X",ke),Me("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Me("x",(function(e,t,n){n._d=new Date(Oe(e))})),r.version="2.30.1",o(Xn),r.fn=li,r.min=Qn,r.max=er,r.now=tr,r.utc=f,r.unix=ui,r.months=yi,r.isDate=d,r.locale=mn,r.invalid=v,r.duration=Nr,r.isMoment=S,r.weekdays=bi,r.parseZone=di,r.localeData=vn,r.isDuration=sr,r.monthsShort=vi,r.weekdaysMin=wi,r.defineLocale=gn,r.updateLocale=yn,r.locales=bn,r.weekdaysShort=xi,r.normalizeUnits=ne,r.relativeTimeRounding=oa,r.relativeTimeThreshold=ia,r.calendarFormat=Ur,r.prototype=li,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2160:(e,t,n)=>{"use strict";var r=n(5043);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},c={};function l(e){return!!i.call(c,e)||!i.call(s,e)&&(a.test(e)?c[e]=!0:(s[e]=!0,!1))}function u(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){d[e]=new u(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];d[t]=new u(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){d[e]=new u(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){d[e]=new u(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){d[e]=new u(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){d[e]=new u(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){d[e]=new u(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){d[e]=new u(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){d[e]=new u(e,5,!1,e.toLowerCase(),null,!1,!1)}));var h=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(h,p);d[t]=new u(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(h,p);d[t]=new u(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(h,p);d[t]=new u(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){d[e]=new u(e,1,!1,e.toLowerCase(),null,!1,!1)})),d.xlinkHref=new u("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){d[e]=new u(e,1,!1,e.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(e){m.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),f[t]=f[e]}))}));var g=/["'&<>]/;function y(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=g.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var v=/([A-Z])/g,b=/^ms-/,x=Array.isArray;function w(e,t){return{insertionMode:e,selectedValue:t}}var k=new Map;function S(e,t,n){if("object"!==typeof n)throw Error(o(62));for(var r in t=!0,n)if(i.call(n,r)){var a=n[r];if(null!=a&&"boolean"!==typeof a&&""!==a){if(0===r.indexOf("--")){var s=y(r);a=y((""+a).trim())}else{s=r;var c=k.get(s);void 0!==c||(c=y(s.replace(v,"-$1").toLowerCase().replace(b,"-ms-")),k.set(s,c)),s=c,a="number"===typeof a?0===a||i.call(f,r)?""+a:a+"px":y((""+a).trim())}t?(t=!1,e.push(' style="',s,":",a)):e.push(";",s,":",a)}}t||e.push('"')}function C(e,t,n,r){switch(n){case"style":return void S(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=d.hasOwnProperty(n)?d[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:!0===r?e.push(" ",n,'=""'):!1!==r&&e.push(" ",n,'="',y(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',y(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',y(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',y(r),'"')}}else if(l(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(" ",n,'="',y(r),'"')}}function E(e,t,n){if(null!=t){if(null!=n)throw Error(o(60));if("object"!==typeof t||!("__html"in t))throw Error(o(61));null!==(t=t.__html)&&void 0!==t&&e.push(""+t)}}function _(e,t,n,r){e.push(I(n));var o,a=n=null;for(o in t)if(i.call(t,o)){var s=t[o];if(null!=s)switch(o){case"children":n=s;break;case"dangerouslySetInnerHTML":a=s;break;default:C(e,r,o,s)}}return e.push(">"),E(e,a,n),"string"===typeof n?(e.push(y(n)),null):n}var T=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,N=new Map;function I(e){var t=N.get(e);if(void 0===t){if(!T.test(e))throw Error(o(65,e));t="<"+e,N.set(e,t)}return t}function A(e,t,n,a,s){switch(t){case"select":e.push(I("select"));var c=null,u=null;for(f in n)if(i.call(n,f)){var d=n[f];if(null!=d)switch(f){case"children":c=d;break;case"dangerouslySetInnerHTML":u=d;break;case"defaultValue":case"value":break;default:C(e,a,f,d)}}return e.push(">"),E(e,u,c),c;case"option":u=s.selectedValue,e.push(I("option"));var h=d=null,p=null,f=null;for(c in n)if(i.call(n,c)){var m=n[c];if(null!=m)switch(c){case"children":d=m;break;case"selected":p=m;break;case"dangerouslySetInnerHTML":f=m;break;case"value":h=m;default:C(e,a,c,m)}}if(null!=u)if(n=null!==h?""+h:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(d),x(u)){for(a=0;a<u.length;a++)if(""+u[a]===n){e.push(' selected=""');break}}else""+u===n&&e.push(' selected=""');else p&&e.push(' selected=""');return e.push(">"),E(e,f,d),d;case"textarea":for(d in e.push(I("textarea")),f=u=c=null,n)if(i.call(n,d)&&null!=(h=n[d]))switch(d){case"children":f=h;break;case"value":c=h;break;case"defaultValue":u=h;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:C(e,a,d,h)}if(null===c&&null!==u&&(c=u),e.push(">"),null!=f){if(null!=c)throw Error(o(92));if(x(f)&&1<f.length)throw Error(o(93));c=""+f}return"string"===typeof c&&"\n"===c[0]&&e.push("\n"),null!==c&&e.push(y(""+c)),null;case"input":for(u in e.push(I("input")),h=f=d=c=null,n)if(i.call(n,u)&&null!=(p=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"defaultChecked":h=p;break;case"defaultValue":d=p;break;case"checked":f=p;break;case"value":c=p;break;default:C(e,a,u,p)}return null!==f?C(e,a,"checked",f):null!==h&&C(e,a,"checked",h),null!==c?C(e,a,"value",c):null!==d&&C(e,a,"value",d),e.push("/>"),null;case"menuitem":for(var g in e.push(I("menuitem")),n)if(i.call(n,g)&&null!=(c=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:C(e,a,g,c)}return e.push(">"),null;case"title":for(m in e.push(I("title")),c=null,n)if(i.call(n,m)&&null!=(u=n[m]))switch(m){case"children":c=u;break;case"dangerouslySetInnerHTML":throw Error(o(434));default:C(e,a,m,u)}return e.push(">"),c;case"listing":case"pre":for(h in e.push(I(t)),u=c=null,n)if(i.call(n,h)&&null!=(d=n[h]))switch(h){case"children":c=d;break;case"dangerouslySetInnerHTML":u=d;break;default:C(e,a,h,d)}if(e.push(">"),null!=u){if(null!=c)throw Error(o(60));if("object"!==typeof u||!("__html"in u))throw Error(o(61));null!==(n=u.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push("\n",n):e.push(""+n))}return"string"===typeof c&&"\n"===c[0]&&e.push("\n"),c;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var v in e.push(I(t)),n)if(i.call(n,v)&&null!=(c=n[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,t));default:C(e,a,v,c)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return _(e,n,t,a);case"html":return 0===s.insertionMode&&e.push("<!DOCTYPE html>"),_(e,n,t,a);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return _(e,n,t,a);for(p in e.push(I(t)),u=c=null,n)if(i.call(n,p)&&null!=(d=n[p]))switch(p){case"children":c=d;break;case"dangerouslySetInnerHTML":u=d;break;case"style":S(e,a,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:l(p)&&"function"!==typeof d&&"symbol"!==typeof d&&e.push(" ",p,'="',y(d),'"')}return e.push(">"),E(e,u,c),c}}function O(e,t,n){if(e.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(o(395));return e.push(n),e.push('"></template>')}var R=/[<\u2028\u2029]/g;function M(e){return JSON.stringify(e).replace(R,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function j(e,t,n,r){return n.generateStaticMarkup?(e.push(y(t)),!1):(""===t?e=r:(r&&e.push("\x3c!-- --\x3e"),e.push(y(t)),e=!0),e)}var P=Object.assign,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),V=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Y=Symbol.for("react.scope"),X=Symbol.for("react.debug_trace_mode"),J=Symbol.for("react.legacy_hidden"),$=Symbol.for("react.default_value"),Z=Symbol.iterator;function Q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case F:return"Fragment";case L:return"Portal";case z:return"Profiler";case B:return"StrictMode";case H:return"Suspense";case G:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case V:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case K:return null!==(t=e.displayName||null)?t:Q(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return Q(e(t))}catch(n){}}return null}var ee={};function te(e,t){if(!(e=e.contextTypes))return ee;var n,r={};for(n in e)r[n]=t[n];return r}var ne=null;function re(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(o(401))}else{if(null===n)throw Error(o(401));re(e,n)}t.context._currentValue2=t.value}}function oe(e){e.context._currentValue2=e.parentValue,null!==(e=e.parent)&&oe(e)}function ie(e){var t=e.parent;null!==t&&ie(t),e.context._currentValue2=e.value}function ae(e,t){if(e.context._currentValue2=e.parentValue,null===(e=e.parent))throw Error(o(402));e.depth===t.depth?re(e,t):ae(e,t)}function se(e,t){var n=t.parent;if(null===n)throw Error(o(402));e.depth===n.depth?re(e,n):se(e,n),t.context._currentValue2=t.value}function ce(e){var t=ne;t!==e&&(null===t?ie(e):null===e?oe(t):t.depth===e.depth?re(t,e):t.depth>e.depth?ae(t,e):se(t,e),ne=e)}var le={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function ue(e,t,n,r){var o=void 0!==e.state?e.state:null;e.updater=le,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue2:r,"function"===typeof(a=t.getDerivedStateFromProps)&&(o=null===(a=a(n,o))||void 0===a?o:P({},o,a),e.state=o),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&le.enqueueReplaceState(e,e.state,null),null!==i.queue&&0<i.queue.length)if(t=i.queue,a=i.replace,i.queue=null,i.replace=!1,a&&1===t.length)e.state=t[0];else{for(i=a?t[0]:e.state,o=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,i,n,r):s)&&(o?(o=!1,i=P({},i,s)):P(i,s))}e.state=i}else i.queue=null}var de={id:1,overflow:""};function he(e,t,n){var r=e.id;e=e.overflow;var o=32-pe(r)-1;r&=~(1<<o),n+=1;var i=32-pe(t)+o;if(30<i){var a=o-o%5;return i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,{id:1<<32-pe(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ye=null,ve=null,be=null,xe=null,we=!1,ke=!1,Se=0,Ce=null,Ee=0;function _e(){if(null===ye)throw Error(o(321));return ye}function Te(){if(0<Ee)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Ne(){return null===xe?null===be?(we=!1,be=xe=Te()):(we=!0,xe=be):null===xe.next?(we=!1,xe=xe.next=Te()):(we=!0,xe=xe.next),xe}function Ie(){ve=ye=null,ke=!1,be=null,Ee=0,xe=Ce=null}function Ae(e,t){return"function"===typeof t?t(e):t}function Oe(e,t,n){if(ye=_e(),xe=Ne(),we){var r=xe.queue;if(t=r.dispatch,null!==Ce&&void 0!==(n=Ce.get(r))){Ce.delete(r),r=xe.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return xe.memoizedState=r,[r,t]}return[xe.memoizedState,t]}return e=e===Ae?"function"===typeof t?t():t:void 0!==n?n(t):t,xe.memoizedState=e,e=(e=xe.queue={last:null,dispatch:null}).dispatch=Me.bind(null,ye,e),[xe.memoizedState,e]}function Re(e,t){if(ye=_e(),t=void 0===t?null:t,null!==(xe=Ne())){var n=xe.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!ge(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),xe.memoizedState=[e,t],e}function Me(e,t,n){if(25<=Ee)throw Error(o(301));if(e===ye)if(ke=!0,e={action:n,next:null},null===Ce&&(Ce=new Map),void 0===(n=Ce.get(t)))Ce.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function je(){throw Error(o(394))}function Pe(){}var De={readContext:function(e){return e._currentValue2},useContext:function(e){return _e(),e._currentValue2},useMemo:Re,useReducer:Oe,useRef:function(e){ye=_e();var t=(xe=Ne()).memoizedState;return null===t?(e={current:e},xe.memoizedState=e):t},useState:function(e){return Oe(Ae,e)},useInsertionEffect:Pe,useLayoutEffect:function(){},useCallback:function(e,t){return Re((function(){return e}),t)},useImperativeHandle:Pe,useEffect:Pe,useDebugValue:Pe,useDeferredValue:function(e){return _e(),e},useTransition:function(){return _e(),[!1,je]},useId:function(){var e=ve.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-pe(e)-1)).toString(32)+t;var n=Le;if(null===n)throw Error(o(404));return t=Se++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return _e(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(o(407));return n()}},Le=null,Fe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Be(e){return console.error(e),null}function ze(){}function Ue(e,t,n,r,o,i,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var t=e.pingedTasks;t.push(c),1===t.length&&nt(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:a,treeContext:s};return o.add(c),c}function Ve(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function We(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function He(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Ge(e,t,n,r,o){for(ye={},ve=t,Se=0,e=n(r,o);ke;)ke=!1,Se=0,Ee+=1,xe=null,e=n(r,o);return Ie(),e}function Ke(e,t,n,r){var i=n.render(),a=r.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var c in n=n.getChildContext())if(!(c in a))throw Error(o(108,Q(r)||"Unknown",c));r=P({},s,n)}t.legacyContext=r,Xe(e,t,i),t.legacyContext=s}else Xe(e,t,i)}function qe(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ye(e,t,n,r,i){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){i=te(n,t.legacyContext);var a=n.contextType;ue(a=new n(r,"object"===typeof a&&null!==a?a._currentValue2:i),n,r,i),Ke(e,t,a,n)}else{i=Ge(e,t,n,r,a=te(n,t.legacyContext));var s=0!==Se;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)ue(i,n,r,a),Ke(e,t,i,n);else if(s){r=t.treeContext,t.treeContext=he(r,1,0);try{Xe(e,t,i)}finally{t.treeContext=r}}else Xe(e,t,i)}else{if("string"!==typeof n){switch(n){case J:case X:case B:case z:case F:case G:return void Xe(e,t,r.children);case Y:throw Error(o(343));case H:e:{n=t.blockedBoundary,i=t.blockedSegment,a=r.fallback,r=r.children;var c={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},l=Ve(0,i.chunks.length,c,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=Ve(0,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=c,t.blockedSegment=u;try{if($e(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("\x3c!-- --\x3e"),u.status=1,et(c,u),0===c.pendingTasks)break e}catch(d){u.status=4,c.forceClientRender=!0,c.errorDigest=We(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=Ue(e,a,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case W:if(r=Ge(e,t,n.render,r,i),0!==Se){n=t.treeContext,t.treeContext=he(n,1,0);try{Xe(e,t,r)}finally{t.treeContext=n}}else Xe(e,t,r);return;case K:return void Ye(e,t,n=n.type,r=qe(n,r),i);case U:if(i=r.children,n=n._context,r=r.value,a=n._currentValue2,n._currentValue2=r,ne=r={parent:s=ne,depth:null===s?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,Xe(e,t,i),null===(e=ne))throw Error(o(403));return r=e.parentValue,e.context._currentValue2=r===$?e.context._defaultValue:r,e=ne=e.parent,void(t.context=e);case V:return void Xe(e,t,r=(r=r.children)(n._currentValue2));case q:return void Ye(e,t,n=(i=n._init)(n._payload),r=qe(n,r),void 0)}throw Error(o(130,null==n?n:typeof n,""))}switch(a=A((i=t.blockedSegment).chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=function(e,t,n){switch(t){case"select":return w(1,null!=n.value?n.value:n.defaultValue);case"svg":return w(2,null);case"math":return w(3,null);case"foreignObject":return w(1,null);case"table":return w(4,null);case"thead":case"tbody":case"tfoot":return w(5,null);case"colgroup":return w(7,null);case"tr":return w(6,null)}return 4<=e.insertionMode||0===e.insertionMode?w(1,null):e}(s,n,r),$e(e,t,a),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}}function Xe(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case D:return void Ye(e,t,n.type,n.props,n.ref);case L:throw Error(o(257));case q:var r=n._init;return void Xe(e,t,n=r(n._payload))}if(x(n))return void Je(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=Z&&n[Z]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var i=[];do{i.push(n.value),n=r.next()}while(!n.done);Je(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(r=t.blockedSegment).lastPushedText=j(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"===typeof n&&((r=t.blockedSegment).lastPushedText=j(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Je(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=he(i,r,o);try{$e(e,t,n[o])}finally{t.treeContext=i}}}function $e(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Xe(e,t,n)}catch(c){if(Ie(),"object"!==typeof c||null===c||"function"!==typeof c.then)throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ce(i),c;n=c;var a=t.blockedSegment,s=Ve(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=Ue(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,ce(i)}}function Ze(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,tt(this,t,e)}function Qe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(o(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return Qe(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function et(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&et(e,n)}else e.completedSegments.push(t)}function tt(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=ze,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&et(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Ze,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(et(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function nt(e){if(2!==e.status){var t=ne,n=Fe.current;Fe.current=De;var r=Le;Le=e.responseState;try{var o,i=e.pingedTasks;for(o=0;o<i.length;o++){var a=i[o],s=e,c=a.blockedSegment;if(0===c.status){ce(a.context);try{Xe(s,a,a.node),s.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),a.abortSet.delete(a),c.status=1,tt(s,a.blockedBoundary,c)}catch(p){if(Ie(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var l=a.ping;p.then(l,l)}else{a.abortSet.delete(a),c.status=4;var u=a.blockedBoundary,d=p,h=We(s,d);if(null===u?He(s,d):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=h,u.parentFlushed&&s.clientRenderedBoundaries.push(u))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}i.splice(0,o),null!==e.destination&&ct(e,e.destination)}catch(p){We(e,p),He(e,p)}finally{Le=r,Fe.current=n,n===De&&ce(t)}}}function rt(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var a=0;n=n.children;for(var s=0;s<n.length;s++){for(i=n[s];a<i.index;a++)t.push(r[a]);i=ot(e,t,i)}for(;a<r.length-1;a++)t.push(r[a]);return a<r.length&&(i=t.push(r[a])),i;default:throw Error(o(390))}}function ot(e,t,n){var r=n.boundary;if(null===r)return rt(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("\x3c!--$!--\x3e"),t.push("<template"),r&&(t.push(' data-dgst="'),r=y(r),t.push(r),t.push('"')),t.push("></template>")),rt(e,t,n),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e");if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,a=i.nextSuspenseID++;return i=i.boundaryPrefix+a.toString(16),r=r.id=i,O(t,e.responseState,r),rt(e,t,n),t.push("\x3c!--/$--\x3e")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),O(t,e.responseState,r.id),rt(e,t,n),t.push("\x3c!--/$--\x3e");if(e.responseState.generateStaticMarkup||t.push("\x3c!--$--\x3e"),1!==(n=r.completedSegments).length)throw Error(o(391));return ot(e,t,n[0]),e=!!e.responseState.generateStaticMarkup||t.push("\x3c!--/$--\x3e")}function it(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(o(397))}}(t,e.responseState,n.formatContext,n.id),ot(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(o(397))}}(t,n.formatContext)}function at(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)st(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===r)throw Error(o(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function st(e,t,n,r){if(2===r.status)return!0;var i=r.id;if(-1===i){if(-1===(r.id=n.rootSegmentID))throw Error(o(392));return it(e,t,r)}return it(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function ct(e,t){try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){ot(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i,a=e.clientRenderedBoundaries;for(i=0;i<a.length;i++){var s=a[i];r=t;var c=e.responseState,l=s.id,u=s.errorDigest,d=s.errorMessage,h=s.errorComponentStack;if(r.push(c.startInlineScript),c.sentClientRenderFunction?r.push('$RX("'):(c.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===l)throw Error(o(395));if(r.push(l),r.push('"'),u||d||h){r.push(",");var p=M(u||"");r.push(p)}if(d||h){r.push(",");var f=M(d||"");r.push(f)}if(h){r.push(",");var m=M(h);r.push(m)}if(!r.push(")<\/script>"))return e.destination=null,i++,void a.splice(0,i)}a.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!at(e,t,g[i]))return e.destination=null,i++,void g.splice(0,i);g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var v=y[i];e:{a=e,s=t;var b=v.completedSegments;for(c=0;c<b.length;c++)if(!st(a,s,v,b[c])){c++,b.splice(0,c);var x=!1;break e}b.splice(0,c),x=!0}if(!x)return e.destination=null,i++,void y.splice(0,i)}y.splice(0,i);var w=e.completedBoundaries;for(i=0;i<w.length;i++)if(!at(e,t,w[i]))return e.destination=null,i++,void w.splice(0,i);w.splice(0,i)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.push(null)}}function lt(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return Qe(n,e,t)})),n.clear(),null!==e.destination&&ct(e,e.destination)}catch(r){We(e,r),He(e,r)}}function ut(){}function dt(e,t,n,r){var i=!1,a=null,s="",c={push:function(e){return null!==e&&(s+=e),!0},destroy:function(e){i=!0,a=e}},l=!1;if(e=function(e,t,n,r,o,i,a,s,c){var l=[],u=new Set;return(n=Ve(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?Be:o,onAllReady:void 0===i?ze:i,onShellReady:void 0===a?ze:a,onShellError:void 0===s?ze:s,onFatalError:void 0===c?ze:c},0,null,n,!1,!1)).parentFlushed=!0,e=Ue(t,e,null,n,u,ee,null,de),l.push(e),t}(e,function(e,t){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(t=void 0===t?"":t)+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ut,void 0,(function(){l=!0}),void 0,void 0),nt(e),lt(e,r),1===e.status)e.status=2,c.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=c;try{ct(e,c)}catch(u){We(e,u),He(e,u)}}if(i)throw a;if(!l)throw Error(o(426));return s}t.renderToNodeStream=function(){throw Error(o(207))},t.renderToStaticMarkup=function(e,t){return dt(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.renderToStaticNodeStream=function(){throw Error(o(208))},t.renderToString=function(e,t){return dt(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},t.version="18.2.0"},8556:(e,t,n)=>{"use strict";var r=n(5043);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=null,a=0;function s(e,t){if(0!==t.length)if(512<t.length)0<a&&(e.enqueue(new Uint8Array(i.buffer,0,a)),i=new Uint8Array(512),a=0),e.enqueue(t);else{var n=i.length-a;n<t.length&&(0===n?e.enqueue(i):(i.set(t.subarray(0,n),a),e.enqueue(i),t=t.subarray(n)),i=new Uint8Array(512),a=0),i.set(t,a),a+=t.length}}function c(e,t){return s(e,t),!0}function l(e){i&&0<a&&(e.enqueue(new Uint8Array(i.buffer,0,a)),i=null,a=0)}var u=new TextEncoder;function d(e){return u.encode(e)}function h(e){return u.encode(e)}function p(e,t){"function"===typeof e.error?e.error(t):e.close()}var f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(e){return!!f.call(y,e)||!f.call(g,e)&&(m.test(e)?y[e]=!0:(g[e]=!0,!1))}function b(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new b(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new b(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new b(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new b(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new b(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new b(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(w,k);x[t]=new b(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(w,k);x[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(w,k);x[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C=["Webkit","ms","Moz","O"];Object.keys(S).forEach((function(e){C.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),S[t]=S[e]}))}));var E=/["'&<>]/;function _(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=E.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var T=/([A-Z])/g,N=/^ms-/,I=Array.isArray,A=h("<script>"),O=h("<\/script>"),R=h('<script src="'),M=h('<script type="module" src="'),j=h('" async=""><\/script>'),P=/(<\/|<)(s)(cript)/gi;function D(e,t,n,r){return t+("s"===n?"\\u0073":"\\u0053")+r}function L(e,t){return{insertionMode:e,selectedValue:t}}var F=h("\x3c!-- --\x3e");function B(e,t,n,r){return""===t?r:(r&&e.push(F),e.push(d(_(t))),!0)}var z=new Map,U=h(' style="'),V=h(":"),W=h(";");function H(e,t,n){if("object"!==typeof n)throw Error(o(62));for(var r in t=!0,n)if(f.call(n,r)){var i=n[r];if(null!=i&&"boolean"!==typeof i&&""!==i){if(0===r.indexOf("--")){var a=d(_(r));i=d(_((""+i).trim()))}else{a=r;var s=z.get(a);void 0!==s||(s=h(_(a.replace(T,"-$1").toLowerCase().replace(N,"-ms-"))),z.set(a,s)),a=s,i="number"===typeof i?0===i||f.call(S,r)?d(""+i):d(i+"px"):d(_((""+i).trim()))}t?(t=!1,e.push(U,a,V,i)):e.push(W,a,V,i)}}t||e.push(q)}var G=h(" "),K=h('="'),q=h('"'),Y=h('=""');function X(e,t,n,r){switch(n){case"style":return void H(e,t,r);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(t=x.hasOwnProperty(n)?x[n]:null)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=d(t.attributeName),t.type){case 3:r&&e.push(G,n,Y);break;case 4:!0===r?e.push(G,n,Y):!1!==r&&e.push(G,n,K,d(_(r)),q);break;case 5:isNaN(r)||e.push(G,n,K,d(_(r)),q);break;case 6:!isNaN(r)&&1<=r&&e.push(G,n,K,d(_(r)),q);break;default:t.sanitizeURL&&(r=""+r),e.push(G,n,K,d(_(r)),q)}}else if(v(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if("data-"!==(t=n.toLowerCase().slice(0,5))&&"aria-"!==t)return}e.push(G,d(n),K,d(_(r)),q)}}var J=h(">"),$=h("/>");function Z(e,t,n){if(null!=t){if(null!=n)throw Error(o(60));if("object"!==typeof t||!("__html"in t))throw Error(o(61));null!==(t=t.__html)&&void 0!==t&&e.push(d(""+t))}}var Q=h(' selected=""');function ee(e,t,n,r){e.push(oe(n));var o,i=n=null;for(o in t)if(f.call(t,o)){var a=t[o];if(null!=a)switch(o){case"children":n=a;break;case"dangerouslySetInnerHTML":i=a;break;default:X(e,r,o,a)}}return e.push(J),Z(e,i,n),"string"===typeof n?(e.push(d(_(n))),null):n}var te=h("\n"),ne=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,re=new Map;function oe(e){var t=re.get(e);if(void 0===t){if(!ne.test(e))throw Error(o(65,e));t=h("<"+e),re.set(e,t)}return t}var ie=h("<!DOCTYPE html>");function ae(e,t,n,i,a){switch(t){case"select":e.push(oe("select"));var s=null,c=null;for(p in n)if(f.call(n,p)){var l=n[p];if(null!=l)switch(p){case"children":s=l;break;case"dangerouslySetInnerHTML":c=l;break;case"defaultValue":case"value":break;default:X(e,i,p,l)}}return e.push(J),Z(e,c,s),s;case"option":c=a.selectedValue,e.push(oe("option"));var u=l=null,h=null,p=null;for(s in n)if(f.call(n,s)){var m=n[s];if(null!=m)switch(s){case"children":l=m;break;case"selected":h=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":u=m;default:X(e,i,s,m)}}if(null!=c)if(n=null!==u?""+u:function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l),I(c)){for(i=0;i<c.length;i++)if(""+c[i]===n){e.push(Q);break}}else""+c===n&&e.push(Q);else h&&e.push(Q);return e.push(J),Z(e,p,l),l;case"textarea":for(l in e.push(oe("textarea")),p=c=s=null,n)if(f.call(n,l)&&null!=(u=n[l]))switch(l){case"children":p=u;break;case"value":s=u;break;case"defaultValue":c=u;break;case"dangerouslySetInnerHTML":throw Error(o(91));default:X(e,i,l,u)}if(null===s&&null!==c&&(s=c),e.push(J),null!=p){if(null!=s)throw Error(o(92));if(I(p)&&1<p.length)throw Error(o(93));s=""+p}return"string"===typeof s&&"\n"===s[0]&&e.push(te),null!==s&&e.push(d(_(""+s))),null;case"input":for(c in e.push(oe("input")),u=p=l=s=null,n)if(f.call(n,c)&&null!=(h=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,"input"));case"defaultChecked":u=h;break;case"defaultValue":l=h;break;case"checked":p=h;break;case"value":s=h;break;default:X(e,i,c,h)}return null!==p?X(e,i,"checked",p):null!==u&&X(e,i,"checked",u),null!==s?X(e,i,"value",s):null!==l&&X(e,i,"value",l),e.push($),null;case"menuitem":for(var g in e.push(oe("menuitem")),n)if(f.call(n,g)&&null!=(s=n[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(o(400));default:X(e,i,g,s)}return e.push(J),null;case"title":for(m in e.push(oe("title")),s=null,n)if(f.call(n,m)&&null!=(c=n[m]))switch(m){case"children":s=c;break;case"dangerouslySetInnerHTML":throw Error(o(434));default:X(e,i,m,c)}return e.push(J),s;case"listing":case"pre":for(u in e.push(oe(t)),c=s=null,n)if(f.call(n,u)&&null!=(l=n[u]))switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":c=l;break;default:X(e,i,u,l)}if(e.push(J),null!=c){if(null!=s)throw Error(o(60));if("object"!==typeof c||!("__html"in c))throw Error(o(61));null!==(n=c.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?e.push(te,d(n)):e.push(d(""+n)))}return"string"===typeof s&&"\n"===s[0]&&e.push(te),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in e.push(oe(t)),n)if(f.call(n,y)&&null!=(s=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(o(399,t));default:X(e,i,y,s)}return e.push($),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,n,t,i);case"html":return 0===a.insertionMode&&e.push(ie),ee(e,n,t,i);default:if(-1===t.indexOf("-")&&"string"!==typeof n.is)return ee(e,n,t,i);for(h in e.push(oe(t)),c=s=null,n)if(f.call(n,h)&&null!=(l=n[h]))switch(h){case"children":s=l;break;case"dangerouslySetInnerHTML":c=l;break;case"style":H(e,i,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:v(h)&&"function"!==typeof l&&"symbol"!==typeof l&&e.push(G,d(h),K,d(_(l)),q)}return e.push(J),Z(e,c,s),s}}var se=h("</"),ce=h(">"),le=h('<template id="'),ue=h('"></template>'),de=h("\x3c!--$--\x3e"),he=h('\x3c!--$?--\x3e<template id="'),pe=h('"></template>'),fe=h("\x3c!--$!--\x3e"),me=h("\x3c!--/$--\x3e"),ge=h("<template"),ye=h('"'),ve=h(' data-dgst="');h(' data-msg="'),h(' data-stck="');var be=h("></template>");function xe(e,t,n){if(s(e,he),null===n)throw Error(o(395));return s(e,n),c(e,pe)}var we=h('<div hidden id="'),ke=h('">'),Se=h("</div>"),Ce=h('<svg aria-hidden="true" style="display:none" id="'),Ee=h('">'),_e=h("</svg>"),Te=h('<math aria-hidden="true" style="display:none" id="'),Ne=h('">'),Ie=h("</math>"),Ae=h('<table hidden id="'),Oe=h('">'),Re=h("</table>"),Me=h('<table hidden><tbody id="'),je=h('">'),Pe=h("</tbody></table>"),De=h('<table hidden><tr id="'),Le=h('">'),Fe=h("</tr></table>"),Be=h('<table hidden><colgroup id="'),ze=h('">'),Ue=h("</colgroup></table>");var Ve=h('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),We=h('$RS("'),He=h('","'),Ge=h('")<\/script>'),Ke=h('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),qe=h('$RC("'),Ye=h('","'),Xe=h('")<\/script>'),Je=h('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),$e=h('$RX("'),Ze=h('"'),Qe=h(")<\/script>"),et=h(","),tt=/[<\u2028\u2029]/g;function nt(e){return JSON.stringify(e).replace(tt,(function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var rt=Object.assign,ot=Symbol.for("react.element"),it=Symbol.for("react.portal"),at=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),ut=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),gt=Symbol.for("react.scope"),yt=Symbol.for("react.debug_trace_mode"),vt=Symbol.for("react.legacy_hidden"),bt=Symbol.for("react.default_value"),xt=Symbol.iterator;function wt(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case at:return"Fragment";case it:return"Portal";case ct:return"Profiler";case st:return"StrictMode";case ht:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ut:return(e.displayName||"Context")+".Consumer";case lt:return(e._context.displayName||"Context")+".Provider";case dt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case ft:return null!==(t=e.displayName||null)?t:wt(e.type)||"Memo";case mt:t=e._payload,e=e._init;try{return wt(e(t))}catch(n){}}return null}var kt={};function St(e,t){if(!(e=e.contextTypes))return kt;var n,r={};for(n in e)r[n]=t[n];return r}var Ct=null;function Et(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(null===e){if(null!==n)throw Error(o(401))}else{if(null===n)throw Error(o(401));Et(e,n)}t.context._currentValue=t.value}}function _t(e){e.context._currentValue=e.parentValue,null!==(e=e.parent)&&_t(e)}function Tt(e){var t=e.parent;null!==t&&Tt(t),e.context._currentValue=e.value}function Nt(e,t){if(e.context._currentValue=e.parentValue,null===(e=e.parent))throw Error(o(402));e.depth===t.depth?Et(e,t):Nt(e,t)}function It(e,t){var n=t.parent;if(null===n)throw Error(o(402));e.depth===n.depth?Et(e,n):It(e,n),t.context._currentValue=t.value}function At(e){var t=Ct;t!==e&&(null===t?Tt(e):null===e?_t(t):t.depth===e.depth?Et(t,e):t.depth>e.depth?Nt(t,e):It(t,e),Ct=e)}var Ot={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Rt(e,t,n,r){var o=void 0!==e.state?e.state:null;e.updater=Ot,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var a=t.contextType;if(e.context="object"===typeof a&&null!==a?a._currentValue:r,"function"===typeof(a=t.getDerivedStateFromProps)&&(o=null===(a=a(n,o))||void 0===a?o:rt({},o,a),e.state=o),"function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate&&("function"===typeof e.UNSAFE_componentWillMount||"function"===typeof e.componentWillMount))if(t=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&Ot.enqueueReplaceState(e,e.state,null),null!==i.queue&&0<i.queue.length)if(t=i.queue,a=i.replace,i.queue=null,i.replace=!1,a&&1===t.length)e.state=t[0];else{for(i=a?t[0]:e.state,o=!0,a=a?1:0;a<t.length;a++){var s=t[a];null!=(s="function"===typeof s?s.call(e,i,n,r):s)&&(o?(o=!1,i=rt({},i,s)):rt(i,s))}e.state=i}else i.queue=null}var Mt={id:1,overflow:""};function jt(e,t,n){var r=e.id;e=e.overflow;var o=32-Pt(r)-1;r&=~(1<<o),n+=1;var i=32-Pt(t)+o;if(30<i){var a=o-o%5;return i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,{id:1<<32-Pt(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var Pt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Dt(e)/Lt|0)|0},Dt=Math.log,Lt=Math.LN2;var Ft="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Bt=null,zt=null,Ut=null,Vt=null,Wt=!1,Ht=!1,Gt=0,Kt=null,qt=0;function Yt(){if(null===Bt)throw Error(o(321));return Bt}function Xt(){if(0<qt)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Jt(){return null===Vt?null===Ut?(Wt=!1,Ut=Vt=Xt()):(Wt=!0,Vt=Ut):null===Vt.next?(Wt=!1,Vt=Vt.next=Xt()):(Wt=!0,Vt=Vt.next),Vt}function $t(){zt=Bt=null,Ht=!1,Ut=null,qt=0,Vt=Kt=null}function Zt(e,t){return"function"===typeof t?t(e):t}function Qt(e,t,n){if(Bt=Yt(),Vt=Jt(),Wt){var r=Vt.queue;if(t=r.dispatch,null!==Kt&&void 0!==(n=Kt.get(r))){Kt.delete(r),r=Vt.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return Vt.memoizedState=r,[r,t]}return[Vt.memoizedState,t]}return e=e===Zt?"function"===typeof t?t():t:void 0!==n?n(t):t,Vt.memoizedState=e,e=(e=Vt.queue={last:null,dispatch:null}).dispatch=tn.bind(null,Bt,e),[Vt.memoizedState,e]}function en(e,t){if(Bt=Yt(),t=void 0===t?null:t,null!==(Vt=Jt())){var n=Vt.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!Ft(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Vt.memoizedState=[e,t],e}function tn(e,t,n){if(25<=qt)throw Error(o(301));if(e===Bt)if(Ht=!0,e={action:n,next:null},null===Kt&&(Kt=new Map),void 0===(n=Kt.get(t)))Kt.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function nn(){throw Error(o(394))}function rn(){}var on={readContext:function(e){return e._currentValue},useContext:function(e){return Yt(),e._currentValue},useMemo:en,useReducer:Qt,useRef:function(e){Bt=Yt();var t=(Vt=Jt()).memoizedState;return null===t?(e={current:e},Vt.memoizedState=e):t},useState:function(e){return Qt(Zt,e)},useInsertionEffect:rn,useLayoutEffect:function(){},useCallback:function(e,t){return en((function(){return e}),t)},useImperativeHandle:rn,useEffect:rn,useDebugValue:rn,useDeferredValue:function(e){return Yt(),e},useTransition:function(){return Yt(),[!1,nn]},useId:function(){var e=zt.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-Pt(e)-1)).toString(32)+t;var n=an;if(null===n)throw Error(o(404));return t=Gt++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Yt(),t(e._source)},useSyncExternalStore:function(e,t,n){if(void 0===n)throw Error(o(407));return n()}},an=null,sn=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function cn(e){return console.error(e),null}function ln(){}function un(e,t,n,r,o,i,a,s){e.allPendingTasks++,null===n?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var t=e.pingedTasks;t.push(c),1===t.length&&En(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:a,treeContext:s};return o.add(c),c}function dn(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function hn(e,t){if(null!=(e=e.onError(t))&&"string"!==typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function pn(e,t){var n=e.onShellError;n(t),(n=e.onFatalError)(t),null!==e.destination?(e.status=2,p(e.destination,t)):(e.status=1,e.fatalError=t)}function fn(e,t,n,r,o){for(Bt={},zt=t,Gt=0,e=n(r,o);Ht;)Ht=!1,Gt=0,qt+=1,Vt=null,e=n(r,o);return $t(),e}function mn(e,t,n,r){var i=n.render(),a=r.childContextTypes;if(null!==a&&void 0!==a){var s=t.legacyContext;if("function"!==typeof n.getChildContext)r=s;else{for(var c in n=n.getChildContext())if(!(c in a))throw Error(o(108,wt(r)||"Unknown",c));r=rt({},s,n)}t.legacyContext=r,vn(e,t,i),t.legacyContext=s}else vn(e,t,i)}function gn(e,t){if(e&&e.defaultProps){for(var n in t=rt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function yn(e,t,n,r,i){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){i=St(n,t.legacyContext);var a=n.contextType;Rt(a=new n(r,"object"===typeof a&&null!==a?a._currentValue:i),n,r,i),mn(e,t,a,n)}else{i=fn(e,t,n,r,a=St(n,t.legacyContext));var s=0!==Gt;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)Rt(i,n,r,a),mn(e,t,i,n);else if(s){r=t.treeContext,t.treeContext=jt(r,1,0);try{vn(e,t,i)}finally{t.treeContext=r}}else vn(e,t,i)}else{if("string"!==typeof n){switch(n){case vt:case yt:case st:case ct:case at:case pt:return void vn(e,t,r.children);case gt:throw Error(o(343));case ht:e:{n=t.blockedBoundary,i=t.blockedSegment,a=r.fallback,r=r.children;var c={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s=new Set,errorDigest:null},l=dn(0,i.chunks.length,c,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=dn(0,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=c,t.blockedSegment=u;try{if(xn(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(F),u.status=1,Sn(c,u),0===c.pendingTasks)break e}catch(h){u.status=4,c.forceClientRender=!0,c.errorDigest=hn(e,h)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=un(e,a,n,l,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case dt:if(r=fn(e,t,n.render,r,i),0!==Gt){n=t.treeContext,t.treeContext=jt(n,1,0);try{vn(e,t,r)}finally{t.treeContext=n}}else vn(e,t,r);return;case ft:return void yn(e,t,n=n.type,r=gn(n,r),i);case lt:if(i=r.children,n=n._context,r=r.value,a=n._currentValue,n._currentValue=r,Ct=r={parent:s=Ct,depth:null===s?0:s.depth+1,context:n,parentValue:a,value:r},t.context=r,vn(e,t,i),null===(e=Ct))throw Error(o(403));return r=e.parentValue,e.context._currentValue=r===bt?e.context._defaultValue:r,e=Ct=e.parent,void(t.context=e);case ut:return void vn(e,t,r=(r=r.children)(n._currentValue));case mt:return void yn(e,t,n=(i=n._init)(n._payload),r=gn(n,r),void 0)}throw Error(o(130,null==n?n:typeof n,""))}switch(a=ae((i=t.blockedSegment).chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=function(e,t,n){switch(t){case"select":return L(1,null!=n.value?n.value:n.defaultValue);case"svg":return L(2,null);case"math":return L(3,null);case"foreignObject":return L(1,null);case"table":return L(4,null);case"thead":case"tbody":case"tfoot":return L(5,null);case"colgroup":return L(7,null);case"tr":return L(6,null)}return 4<=e.insertionMode||0===e.insertionMode?L(1,null):e}(s,n,r),xn(e,t,a),i.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(se,d(n),ce)}i.lastPushedText=!1}}function vn(e,t,n){if(t.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case ot:return void yn(e,t,n.type,n.props,n.ref);case it:throw Error(o(257));case mt:var r=n._init;return void vn(e,t,n=r(n._payload))}if(I(n))return void bn(e,t,n);if(null===n||"object"!==typeof n?r=null:r="function"===typeof(r=xt&&n[xt]||n["@@iterator"])?r:null,r&&(r=r.call(n))){if(!(n=r.next()).done){var i=[];do{i.push(n.value),n=r.next()}while(!n.done);bn(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}"string"===typeof n?(r=t.blockedSegment).lastPushedText=B(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText):"number"===typeof n&&((r=t.blockedSegment).lastPushedText=B(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function bn(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=jt(i,r,o);try{xn(e,t,n[o])}finally{t.treeContext=i}}}function xn(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return vn(e,t,n)}catch(c){if($t(),"object"!==typeof c||null===c||"function"!==typeof c.then)throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,At(i),c;n=c;var a=t.blockedSegment,s=dn(0,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,e=un(e,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,At(i)}}function wn(e){var t=e.blockedBoundary;(e=e.blockedSegment).status=3,Cn(this,t,e)}function kn(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,null===r?(t.allPendingTasks--,2!==t.status&&(t.status=2,null!==t.destination&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=void 0===n?Error(o(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach((function(e){return kn(e,t,n)})),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,0===t.allPendingTasks&&(r=t.onAllReady)())}function Sn(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,1===n.status&&Sn(e,n)}else e.completedSegments.push(t)}function Cn(e,t,n){if(null===t){if(n.parentFlushed){if(null!==e.completedRootSegment)throw Error(o(389));e.completedRootSegment=n}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=ln,(t=e.onShellReady)())}else t.pendingTasks--,t.forceClientRender||(0===t.pendingTasks?(n.parentFlushed&&1===n.status&&Sn(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(wn,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(Sn(t,n),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function En(e){if(2!==e.status){var t=Ct,n=sn.current;sn.current=on;var r=an;an=e.responseState;try{var o,i=e.pingedTasks;for(o=0;o<i.length;o++){var a=i[o],s=e,c=a.blockedSegment;if(0===c.status){At(a.context);try{vn(s,a,a.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(F),a.abortSet.delete(a),c.status=1,Cn(s,a.blockedBoundary,c)}catch(p){if($t(),"object"===typeof p&&null!==p&&"function"===typeof p.then){var l=a.ping;p.then(l,l)}else{a.abortSet.delete(a),c.status=4;var u=a.blockedBoundary,d=p,h=hn(s,d);if(null===u?pn(s,d):(u.pendingTasks--,u.forceClientRender||(u.forceClientRender=!0,u.errorDigest=h,u.parentFlushed&&s.clientRenderedBoundaries.push(u))),s.allPendingTasks--,0===s.allPendingTasks)(0,s.onAllReady)()}}}}i.splice(0,o),null!==e.destination&&On(e,e.destination)}catch(p){hn(e,p),pn(e,p)}finally{an=r,sn.current=n,n===on&&At(t)}}}function _n(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,s(t,le),s(t,e.placeholderPrefix),s(t,e=d(r.toString(16))),c(t,ue);case 1:n.status=2;var i=!0;r=n.chunks;var a=0;n=n.children;for(var l=0;l<n.length;l++){for(i=n[l];a<i.index;a++)s(t,r[a]);i=Tn(e,t,i)}for(;a<r.length-1;a++)s(t,r[a]);return a<r.length&&(i=c(t,r[a])),i;default:throw Error(o(390))}}function Tn(e,t,n){var r=n.boundary;if(null===r)return _n(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,c(t,fe),s(t,ge),r&&(s(t,ve),s(t,d(_(r))),s(t,ye)),c(t,be),_n(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,a=i.nextSuspenseID++;i=h(i.boundaryPrefix+a.toString(16)),r=r.id=i,xe(t,e.responseState,r),_n(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),xe(t,e.responseState,r.id),_n(e,t,n);else{if(c(t,de),1!==(n=r.completedSegments).length)throw Error(o(391));Tn(e,t,n[0])}return c(t,me)}function Nn(e,t,n){return function(e,t,n,r){switch(n.insertionMode){case 0:case 1:return s(e,we),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,ke);case 2:return s(e,Ce),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,Ee);case 3:return s(e,Te),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,Ne);case 4:return s(e,Ae),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,Oe);case 5:return s(e,Me),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,je);case 6:return s(e,De),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,Le);case 7:return s(e,Be),s(e,t.segmentPrefix),s(e,d(r.toString(16))),c(e,ze);default:throw Error(o(397))}}(t,e.responseState,n.formatContext,n.id),Tn(e,t,n),function(e,t){switch(t.insertionMode){case 0:case 1:return c(e,Se);case 2:return c(e,_e);case 3:return c(e,Ie);case 4:return c(e,Re);case 5:return c(e,Pe);case 6:return c(e,Fe);case 7:return c(e,Ue);default:throw Error(o(397))}}(t,n.formatContext)}function In(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)An(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,s(t,e.startInlineScript),e.sentCompleteBoundaryFunction?s(t,qe):(e.sentCompleteBoundaryFunction=!0,s(t,Ke)),null===r)throw Error(o(395));return n=d(n.toString(16)),s(t,r),s(t,Ye),s(t,e.segmentPrefix),s(t,n),c(t,Xe)}function An(e,t,n,r){if(2===r.status)return!0;var i=r.id;if(-1===i){if(-1===(r.id=n.rootSegmentID))throw Error(o(392));return Nn(e,t,r)}return Nn(e,t,r),s(t,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?s(t,We):(e.sentCompleteSegmentFunction=!0,s(t,Ve)),s(t,e.segmentPrefix),s(t,i=d(i.toString(16))),s(t,He),s(t,e.placeholderPrefix),s(t,i),c(t,Ge)}function On(e,t){i=new Uint8Array(512),a=0;try{var n=e.completedRootSegment;if(null!==n&&0===e.pendingRootTasks){Tn(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)s(t,r[n]);n<r.length&&c(t,r[n])}var u,h=e.clientRenderedBoundaries;for(u=0;u<h.length;u++){var p=h[u];r=t;var f=e.responseState,m=p.id,g=p.errorDigest,y=p.errorMessage,v=p.errorComponentStack;if(s(r,f.startInlineScript),f.sentClientRenderFunction?s(r,$e):(f.sentClientRenderFunction=!0,s(r,Je)),null===m)throw Error(o(395));if(s(r,m),s(r,Ze),(g||y||v)&&(s(r,et),s(r,d(nt(g||"")))),(y||v)&&(s(r,et),s(r,d(nt(y||"")))),v&&(s(r,et),s(r,d(nt(v)))),!c(r,Qe))return e.destination=null,u++,void h.splice(0,u)}h.splice(0,u);var b=e.completedBoundaries;for(u=0;u<b.length;u++)if(!In(e,t,b[u]))return e.destination=null,u++,void b.splice(0,u);b.splice(0,u),l(t),i=new Uint8Array(512),a=0;var x=e.partialBoundaries;for(u=0;u<x.length;u++){var w=x[u];e:{h=e,p=t;var k=w.completedSegments;for(f=0;f<k.length;f++)if(!An(h,p,w,k[f])){f++,k.splice(0,f);var S=!1;break e}k.splice(0,f),S=!0}if(!S)return e.destination=null,u++,void x.splice(0,u)}x.splice(0,u);var C=e.completedBoundaries;for(u=0;u<C.length;u++)if(!In(e,t,C[u]))return e.destination=null,u++,void C.splice(0,u);C.splice(0,u)}finally{l(t),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&t.close()}}function Rn(e,t){try{var n=e.abortableTasks;n.forEach((function(n){return kn(n,e,t)})),n.clear(),null!==e.destination&&On(e,e.destination)}catch(r){hn(e,r),pn(e,r)}}t.renderToReadableStream=function(e,t){return new Promise((function(n,r){var o,i,a=new Promise((function(e,t){i=e,o=t})),s=function(e,t,n,r,o,i,a,s,c){var l=[],u=new Set;return(n=dn(t={destination:null,responseState:t,progressiveChunkSize:void 0===r?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:u,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===o?cn:o,onAllReady:void 0===i?ln:i,onShellReady:void 0===a?ln:a,onShellError:void 0===s?ln:s,onFatalError:void 0===c?ln:c},0,null,n,!1,!1)).parentFlushed=!0,e=un(t,e,null,n,u,kt,null,Mt),l.push(e),t}(e,function(e,t,n,r,o){e=void 0===e?"":e,t=void 0===t?A:h('<script nonce="'+_(t)+'">');var i=[];if(void 0!==n&&i.push(t,d((""+n).replace(P,D)),O),void 0!==r)for(n=0;n<r.length;n++)i.push(R,d(_(r[n])),j);if(void 0!==o)for(r=0;r<o.length;r++)i.push(M,d(_(o[r])),j);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:h(e+"P:"),segmentPrefix:h(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),function(e){return L("http://www.w3.org/2000/svg"===e?2:"http://www.w3.org/1998/Math/MathML"===e?3:0,null)}(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,(function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===s.status)s.status=2,p(e,s.fatalError);else if(2!==s.status&&null===s.destination){s.destination=e;try{On(s,e)}catch(t){hn(s,t),pn(s,t)}}},cancel:function(){Rn(s)}},{highWaterMark:0});e.allReady=a,n(e)}),(function(e){a.catch((function(){})),r(e)}),o);if(t&&t.signal){var c=t.signal,l=function(){Rn(s,c.reason),c.removeEventListener("abort",l)};c.addEventListener("abort",l)}En(s)}))},t.version="18.2.0"},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var c="\n"+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ce=null;function Ee(e){if(e=xo(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function _e(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ce)&&(Ie(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(u)try{var je={};Object.defineProperty(je,"passive",{get:function(){Me=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ue){Me=!1}function Pe(e,t,n,r,o,i,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var De=!1,Le=null,Fe=!1,Be=null,ze={onError:function(e){De=!0,Le=e}};function Ue(e,t,n,r,o,i,a,s,c){De=!1,Le=null,Pe.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ye=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Je=o.unstable_requestPaint,$e=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Ct,Et,_t=!1,Tt=[],Nt=null,It=null,At=null,Ot=new Map,Rt=new Map,Mt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function zt(){_t=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Bt),Rt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==It&&Ut(It,e),null!==At&&Ut(At,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Mt.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function Kt(e,t,n,r){var o=bt,i=Wt.transition;Wt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=o,Wt.transition=i}}function qt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,Yt,n),Pt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,r,o),!0;case"dragenter":return It=Dt(It,e,t,n,r,o),!0;case"mouseover":return At=Dt(At,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Dt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Hr(e,t,r,Yt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=bo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Zt,r=n.length,o="value"in $t?$t.value:$t.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=L({},ln,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),xn=on(L({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Cn}var _n=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(_n),Nn=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(On),Mn=[9,13,27,32],jn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Pn,Ln=u&&(!jn||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Yn(e){Fr(e,0)}function Xn(e){if(q(wo(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(u){var Zn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Zn=Qn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(qn)){var t=[];Gn(t,qn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(qn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Cr={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var _r=Er("animationend"),Tr=Er("animationiteration"),Nr=Er("animationstart"),Ir=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),c(t,[e])}for(var Mr=0;Mr<Or.length;Mr++){var jr=Or[Mr];Rr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Rr(_r,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,c,l){if(Ue.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Le;De=!1,Le=null,Fe||(Fe=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;Lr(o,s,l),i=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;Lr(o,s,l),i=c}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var o=Gt;break;case 4:o=Kt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(c=a.tag)||6===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=i,o=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Tn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=In;break;case _r:case Tr:case Nr:c=yn;break;case Ir:c=An;break;case"scroll":c=hn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Re(f,h))&&u.push(Gr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!bo(l)&&!l[mo])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?bo(l):null)&&(l!==(d=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:wo(c),p=null==l?s:wo(l),(s=new u(m,f+"leave",c,n,o)).target=d,s.relatedTarget=p,m=null,bo(o)===r&&((u=new u(h,f+"enter",l,n,o)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,f=0,p=u=c;p;p=qr(p))f++;for(p=0,m=h;m;m=qr(m))p++;for(;0<f-p;)u=qr(u),f--;for(;0<p-f;)h=qr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=qr(u),h=qr(h)}u=null}else u=null;null!==c&&Yr(a,s,c,u,!1),null!==l&&null!==d&&Yr(a,d,l,u,!0)}if("select"===(c=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Jn;else if(Hn(s))if($n)g=ar;else{g=or;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Gn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wo(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,o)}var v;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Zt="value"in($t=o)?$t.value:$t.textContent,Vn=!0)),0<(y=Kr(r,b)).length&&(b=new xn(b,e,null,n,o),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!jn&&zn(e,t)?(e=en(),Qt=Zt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(Gr(e,i,o)),null!=(i=Re(e,t))&&r.push(Gr(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(c=Re(n,i))&&a.unshift(Gr(n,c,s)):o||null!=(c=Re(n,i))&&a.push(Gr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ko(e){return e[fo]||null}var So=[],Co=-1;function Eo(e){return{current:e}}function _o(e){0>Co||(e.current=So[Co],So[Co]=null,Co--)}function To(e,t){Co++,So[Co]=e.current,e.current=t}var No={},Io=Eo(No),Ao=Eo(!1),Oo=No;function Ro(e,t){var n=e.type.contextTypes;if(!n)return No;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jo(){_o(Ao),_o(Io)}function Po(e,t,n){if(Io.current!==No)throw Error(i(168));To(Io,t),To(Ao,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Oo=Io.current,To(Io,e),To(Ao,Ao.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,_o(Ao),_o(Io),To(Io,e)):_o(Ao),To(Ao,n)}var Bo=null,zo=!1,Uo=!1;function Vo(e){null===Bo?Bo=[e]:Bo.push(e)}function Wo(){if(!Uo&&null!==Bo){Uo=!0;var e=0,t=bt;try{var n=Bo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,zo=!1}catch(o){throw null!==Bo&&(Bo=Bo.slice(e+1)),qe(Qe,Wo),o}finally{bt=t,Uo=!1}}return null}var Ho=[],Go=0,Ko=null,qo=0,Yo=[],Xo=0,Jo=null,$o=1,Zo="";function Qo(e,t){Ho[Go++]=qo,Ho[Go++]=Ko,Ko=e,qo=t}function ei(e,t,n){Yo[Xo++]=$o,Yo[Xo++]=Zo,Yo[Xo++]=Jo,Jo=e;var r=$o;e=Zo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,$o=1<<32-at(t)+o|n<<o|r,Zo=i+e}else $o=1<<i|n<<o|r,Zo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Ko;)Ko=Ho[--Go],Ho[Go]=null,qo=Ho[--Go],Ho[Go]=null;for(;e===Jo;)Jo=Yo[--Xo],Yo[Xo]=null,Zo=Yo[--Xo],Yo[Xo]=null,$o=Yo[--Xo],Yo[Xo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:$o,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ci(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=lo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=lo(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=x.ReactCurrentBatchConfig;function yi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vi=Eo(null),bi=null,xi=null,wi=null;function ki(){wi=xi=bi=null}function Si(e){var t=vi.current;_o(vi),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){bi=e,wi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function _i(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===bi)throw Error(i(308));xi=e,bi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Ti=null;function Ni(e){null===Ti?Ti=[e]:Ti.push(e)}function Ii(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ai(e,r)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ic)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ai(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ai(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?i=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==i){var d=o.baseState;for(a=0,u=l=c=null,s=i;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Lc|=a,e.lanes=a,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var zi=(new r.Component).refs;function Ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),o=nl(e),i=ji(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Pi(e,i,o))&&(rl(t,e,o,r),Di(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),o=nl(e),i=ji(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Pi(e,i,o))&&(rl(t,e,o,r),Di(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),o=ji(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Pi(e,o,r))&&(rl(t,e,r,n),Di(t,e,r))}};function Wi(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,i))}function Hi(e,t,n){var r=!1,o=No,i=t.contextType;return"object"===typeof i&&null!==i?i=_i(i):(o=Mo(t)?Oo:Io.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):No),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Ki(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=zi,Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=_i(i):(i=Mo(t)?Oo:Io.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Ui(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function qi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===zi&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xi(e){return(0,e._init)(e._payload)}function Ji(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=jl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&Xi(i)===t.type)?((r=o(t,n.props)).ref=qi(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=qi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=qi(e,null,t),n.return=e,n;case k:return(t=Bl(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Dl(t,e.mode,n,null)).return=e,t;Yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?l(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case R:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||P(n))return null!==o?null:d(e,t,n,r,null);Yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,o,null);Yi(t,r)}return null}function m(o,i,s,c){for(var l=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(o,d,s[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),ii&&Qo(o,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],c))&&(i=a(d,i,m),null===u?l=d:u.sibling=d,u=d);return ii&&Qo(o,m),l}for(d=r(o,d);m<s.length;m++)null!==(g=f(d,o,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),l}function g(o,s,c,l){var u=P(c);if("function"!==typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(o,m,v.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),ii&&Qo(o,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(o,v.value,l))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return ii&&Qo(o,g),u}for(m=r(o,m);!v.done;g++,v=c.next())null!==(v=f(m,o,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ii&&Qo(o,g),u}return function e(r,i,a,c){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,u=i;null!==u;){if(u.key===l){if((l=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Xi(l)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=qi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Dl(a.props.children,r.mode,c,a.key)).return=r,r=i):((c=Pl(a.type,a.key,a.props,null,r.mode,c)).ref=qi(r,i,a),c.return=r,r=c)}return s(r);case k:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bl(a,r.mode,c)).return=r,r=i}return s(r);case R:return e(r,i,(u=a._init)(a._payload),c)}if(te(a))return m(r,i,a,c);if(P(a))return g(r,i,a,c);Yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fl(a,r.mode,c)).return=r,r=i),s(r)):n(r,i)}}var $i=Ji(!0),Zi=Ji(!1),Qi={},ea=Eo(Qi),ta=Eo(Qi),na=Eo(Qi);function ra(e){if(e===Qi)throw Error(i(174));return e}function oa(e,t){switch(To(na,t),To(ta,e),To(ea,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(ea),To(ea,t)}function ia(){_o(ea),_o(ta),_o(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(To(ta,e),To(ea,n))}function sa(e){ta.current===e&&(_o(ea),_o(ta))}var ca=Eo(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=x.ReactCurrentDispatcher,pa=x.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,ya=null,va=!1,ba=!1,xa=0,wa=0;function ka(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ca(e,t,n,r,o,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:cs,e=n(r,o),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(i(301));a+=1,ya=ga=null,t.updateQueue=null,ha.current=ls,e=n(r,o)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,fa=0,ya=ga=ma=null,va=!1,t)throw Error(i(300));return e}function Ea(){var e=0!==xa;return xa=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Na(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Ta(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ga,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,ma.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ma.lanes|=a,Lc|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Ra(e,t){var n=ma,r=Ta(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,xs=!0),r=r.queue,Ha(Pa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ba(9,ja.bind(null,n,r,o,t),void 0,null),null===Ac)throw Error(i(349));0!==(30&fa)||Ma(n,t,o)}return o}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&La(e)}function Pa(e,t,n){return n((function(){Da(t)&&La(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=Ai(e,1);null!==t&&rl(t,e,1,-1)}function Fa(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Ta().memoizedState}function Ua(e,t,n,r){var o=_a();ma.flags|=e,o.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var o=Ta();r=void 0===r?null:r;var i=void 0;if(null!==ga){var a=ga.memoizedState;if(i=a.destroy,null!==r&&Sa(r,a.deps))return void(o.memoizedState=Ba(t,n,i,r))}ma.flags|=e,o.memoizedState=Ba(1|t,n,i,r)}function Wa(e,t){return Ua(8390656,8,e,t)}function Ha(e,t){return Va(2048,8,e,t)}function Ga(e,t){return Va(4,2,e,t)}function Ka(e,t){return Va(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,qa.bind(null,t,e),n)}function Xa(){}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Lc|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=Ii(e,t,n,r))){rl(n,e,r,tl()),is(n,t,r)}}function ns(e,t,n){var r=nl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(o.next=o,Ni(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Ii(e,t,o,r))&&(rl(n,e,r,o=tl()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function os(e,t){ba=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:_i,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:_i,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_i,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:Fa,useDebugValue:Xa,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,o=_a();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ac)throw Error(i(349));0!==(30&fa)||Ma(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Wa(Pa.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Ac.identifierPrefix;if(ii){var n=Zo;t=":"+t+"R"+(n=($o&~(1<<32-at($o)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:_i,useCallback:Ja,useContext:_i,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:$a,useReducer:Ia,useRef:za,useState:function(){return Ia(Na)},useDebugValue:Xa,useDeferredValue:function(e){return Za(Ta(),ga.memoizedState,e)},useTransition:function(){return[Ia(Na)[0],Ta().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},ls={readContext:_i,useCallback:Ja,useContext:_i,useEffect:Ha,useImperativeHandle:Ya,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:$a,useReducer:Aa,useRef:za,useState:function(){return Aa(Na)},useDebugValue:Xa,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Za(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Na)[0],Ta().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ji(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gc||(Gc=!0,Kc=r),hs(0,t)},n}function ms(e,t,n){(n=ji(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){hs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===qc?qc=new Set([this]):qc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ji(-1,1)).tag=2,Pi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Zi(t,null,n,r):$i(t,e.child,n,r)}function ks(e,t,n,r,o){n=n.render;var i=t.ref;return Ei(t,o),r=Ca(e,t,n,r,i,o),n=Ea(),null===e||xs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ml(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Cs(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Gs(e,t,o)}return t.flags|=1,(e=jl(i,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Gs(e,t,o);0!==(131072&e.flags)&&(xs=!0)}}return Ts(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(jc,Mc),Mc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(jc,Mc),Mc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,To(jc,Mc),Mc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,To(jc,Mc),Mc|=r;return ws(e,t,o,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,o){var i=Mo(n)?Oo:Io.current;return i=Ro(t,i),Ei(t,o),n=Ca(e,t,n,r,i,o),r=Ea(),null===e||xs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gs(e,t,o))}function Ns(e,t,n,r,o){if(Mo(n)){var i=!0;Lo(t)}else i=!1;if(Ei(t,o),null===t.stateNode)Hs(e,t),Hi(t,n,r),Ki(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=_i(l):l=Ro(t,l=Mo(n)?Oo:Io.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&Gi(t,a,r,l),Oi=!1;var h=t.memoizedState;a.state=h,Fi(t,r,a,o),c=t.memoizedState,s!==r||h!==c||Ao.current||Oi?("function"===typeof u&&(Ui(t,n,u,r),c=t.memoizedState),(s=Oi||Wi(t,n,s,r,h,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:yi(t.type,s),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=_i(c):c=Ro(t,c=Mo(n)?Oo:Io.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==c)&&Gi(t,a,r,c),Oi=!1,h=t.memoizedState,a.state=h,Fi(t,r,a,o);var f=t.memoizedState;s!==d||h!==f||Ao.current||Oi?("function"===typeof p&&(Ui(t,n,p,r),f=t.memoizedState),(l=Oi||Wi(t,n,l,r,h,f,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,i,o)}function Is(e,t,n,r,o,i){_s(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),Gs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Po(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Po(0,t.context,!1),oa(e,t.containerInfo)}function Os(e,t,n,r,o){return fi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ms,js,Ps,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,o=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),To(ca,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ll(c,o,0,null),e=Dl(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Bs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Ll({mode:"visible",children:r.children},o,0,null),(a=Dl(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$i(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,zs(e,t,s,r=ds(a=Error(i(419)),r,void 0))}if(c=0!==(s&e.childLanes),xs||c){if(null!==(r=Ac)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ai(e,o),rl(r,e,o,-1))}return gl(),zs(e,t,s,r=ds(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Nl.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Yo[Xo++]=$o,Yo[Xo++]=Zo,Yo[Xo++]=Jo,$o=e.id,Zo=e.overflow,Jo=t),t=Bs(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,a,n);if(s){s=o.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=jl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=jl(r,s):(s=Dl(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,o}return e=(s=e.child).sibling,o=jl(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mi(r),$i(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Vs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ws(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===la(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Mo(t.type)&&jo(),qs(t),null;case 3:return r=t.stateNode,ia(),_o(Ao),_o(Io),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(sl(ai),ai=null))),Ms(e,t),qs(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=ra(ea.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[fo]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Pr.length;o++)Br(Pr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var c in ve(n,a),o=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Br("scroll",r)}switch(n){case"input":K(r),Q(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[po]=t,e[fo]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Pr.length;o++)Br(Pr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":J(e,r),o=X(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in ve(n,o),l=o)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":K(e),Q(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qs(t),null;case 13:if(_o(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(sl(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Pc&&(Pc=3):gl())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return ia(),Ms(e,t),null===e&&Vr(t.stateNode.containerInfo),qs(t),null;case 10:return Si(t.type._context),qs(t),null;case 19:if(_o(ca),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ks(a,!1);else{if(0!==Pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=la(e))){for(t.flags|=128,Ks(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Wc&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!ii)return qs(t),null}else 2*$e()-a.renderingStartTime>Wc&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=ca.current,To(ca,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mc)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&jo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),_o(Ao),_o(Io),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(_o(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(ca),null;case 4:return ia(),null;case 10:return Si(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},js=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Br("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,$s=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){El(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tc(t,n,i)}o=o.next}while(o!==r)}}function oc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function pc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:$s||ec(n,t);case 6:var r=dc,o=hc;dc=null,pc(e,t,n),hc=o,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),Vt(e)):co(dc,n.stateNode));break;case 4:r=dc,o=hc,dc=n.stateNode.containerInfo,hc=!0,pc(e,t,n),dc=r,hc=o;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&tc(n,t,a),o=o.next}while(o!==r)}pc(e,t,n);break;case 1:if(!$s&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}pc(e,t,n);break;case 21:pc(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,pc(e,t,n),$s=r):pc(e,t,n);break;default:pc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(i(160));fc(a,s,o),dc=null,hc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){El(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),vc(e),4&r){try{rc(3,e,e.return),oc(3,e)}catch(g){El(e,e.return,g)}try{rc(5,e,e.return)}catch(g){El(e,e.return,g)}}break;case 1:gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),vc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){El(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&$(o,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):b(o,d,h,u)}switch(c){case"input":Z(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[fo]=a}catch(g){El(e,e.return,g)}}break;case 6:if(gc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){El(e,e.return,g)}}break;case 3:if(gc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){El(e,e.return,g)}break;case 4:default:gc(t,e),vc(e);break;case 13:gc(t,e),vc(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Vc=$e())),4&r&&mc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?($s=(u=$s)||d,gc(t,e),$s=u):gc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(h=Qs=d;null!==Qs;){switch(f=(p=Qs).child,p.tag){case 0:case 11:case 14:case 15:rc(4,p,p.return);break;case 1:ec(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){El(r,n,g)}}break;case 5:ec(p,p.return);break;case 22:if(null!==p.memoizedState){kc(h);continue}}null!==f?(f.return=p,Qs=f):kc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(g){El(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){El(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),vc(e),4&r&&mc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),uc(e,cc(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(i(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Qs=e,xc(e,t,n)}function xc(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Js;if(!a){var s=o.alternate,c=null!==s&&null!==s.memoizedState||$s;s=Js;var l=$s;if(Js=a,($s=c)&&!l)for(Qs=o;null!==Qs;)c=(a=Qs).child,22===a.tag&&null!==a.memoizedState?Sc(o):null!==c?(c.return=a,Qs=c):Sc(o);for(;null!==i;)Qs=i,xc(i,t,n),i=i.sibling;Qs=o,Js=s,$s=l}wc(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qs=i):wc(e)}}function wc(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||oc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}$s||512&t.flags&&ic(t)}catch(p){El(t,t.return,p)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function kc(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function Sc(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oc(4,t)}catch(c){El(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){El(t,o,c)}}var i=t.return;try{ic(t)}catch(c){El(t,i,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){El(t,a,c)}}}catch(c){El(t,t.return,c)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Cc,Ec=Math.ceil,_c=x.ReactCurrentDispatcher,Tc=x.ReactCurrentOwner,Nc=x.ReactCurrentBatchConfig,Ic=0,Ac=null,Oc=null,Rc=0,Mc=0,jc=Eo(0),Pc=0,Dc=null,Lc=0,Fc=0,Bc=0,zc=null,Uc=null,Vc=0,Wc=1/0,Hc=null,Gc=!1,Kc=null,qc=null,Yc=!1,Xc=null,Jc=0,$c=0,Zc=null,Qc=-1,el=0;function tl(){return 0!==(6&Ic)?$e():-1!==Qc?Qc:Qc=$e()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ic)&&0!==Rc?Rc&-Rc:null!==gi.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rl(e,t,n,r){if(50<$c)throw $c=0,Zc=null,Error(i(185));yt(e,n,r),0!==(2&Ic)&&e===Ac||(e===Ac&&(0===(2&Ic)&&(Fc|=n),4===Pc&&cl(e,Rc)),ol(e,r),1===n&&0===Ic&&0===(1&t.mode)&&(Wc=$e()+500,zo&&Wo()))}function ol(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,c=o[a];-1===c?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Ac?Rc:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zo=!0,Vo(e)}(ll.bind(null,e)):Vo(ll.bind(null,e)),ao((function(){0===(6&Ic)&&Wo()})),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Qc=-1,el=0,0!==(6&Ic))throw Error(i(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ht(e,e===Ac?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var o=Ic;Ic|=2;var a=ml();for(Ac===e&&Rc===t||(Hc=null,Wc=$e()+500,pl(e,t));;)try{bl();break}catch(c){fl(e,c)}ki(),_c.current=a,Ic=o,null!==Oc?t=0:(Ac=null,Rc=0,t=Pc)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=al(e,o))),1===t)throw n=Dc,pl(e,0),cl(e,r),ol(e,$e()),n;if(6===t)cl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=yl(e,r))&&(0!==(a=ft(e))&&(r=a,t=al(e,a))),1===t))throw n=Dc,pl(e,0),cl(e,r),ol(e,$e()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kl(e,Uc,Hc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Vc+500-$e())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(kl.bind(null,e,Uc,Hc),t);break}kl(e,Uc,Hc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ec(r/1960))-r)){e.timeoutHandle=ro(kl.bind(null,e,Uc,Hc),r);break}kl(e,Uc,Hc);break;default:throw Error(i(329))}}}return ol(e,$e()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=zc;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Uc,Uc=n,null!==t&&sl(t)),e}function sl(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function cl(e,t){for(t&=~Bc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ic))throw Error(i(327));Sl();var t=ht(e,0);if(0===(1&t))return ol(e,$e()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Dc,pl(e,0),cl(e,t),ol(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Uc,Hc),ol(e,$e()),null}function ul(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(Wc=$e()+500,zo&&Wo())}}function dl(e){null!==Xc&&0===Xc.tag&&0===(6&Ic)&&Sl();var t=Ic;Ic|=1;var n=Nc.transition,r=bt;try{if(Nc.transition=null,bt=1,e)return e()}finally{bt=r,Nc.transition=n,0===(6&(Ic=t))&&Wo()}}function hl(){Mc=jc.current,_o(jc)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Oc)for(n=Oc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&jo();break;case 3:ia(),_o(Ao),_o(Io),da();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:_o(ca);break;case 10:Si(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ac=e,Oc=e=jl(e.current,null),Rc=Mc=t,Pc=0,Dc=null,Bc=Fc=Lc=0,Uc=zc=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ti=null}return e}function fl(e,t){for(;;){var n=Oc;try{if(ki(),ha.current=as,va){for(var r=ma.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}va=!1}if(fa=0,ya=ga=ma=null,ba=!1,xa=0,Tc.current=null,null===n||null===n.return){Pc=1,Dc=t,Oc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ys(s);if(null!==f){f.flags&=-257,vs(f,s,c,0,t),1&f.mode&&gs(a,u,t),l=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){gs(a,u,t),gl();break e}l=Error(i(426))}else if(ii&&1&c.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vs(y,s,c,0,t),mi(us(l,c));break e}}a=l=us(l,c),4!==Pc&&(Pc=2),null===zc?zc=[a]:zc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Li(a,fs(0,l,t));break e;case 1:c=l;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qc||!qc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Li(a,ms(a,c,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(x){t=x,Oc===n&&null!==n&&(Oc=n=n.return);continue}break}}function ml(){var e=_c.current;return _c.current=as,null===e?as:e}function gl(){0!==Pc&&3!==Pc&&2!==Pc||(Pc=4),null===Ac||0===(268435455&Lc)&&0===(268435455&Fc)||cl(Ac,Rc)}function yl(e,t){var n=Ic;Ic|=2;var r=ml();for(Ac===e&&Rc===t||(Hc=null,pl(e,t));;)try{vl();break}catch(o){fl(e,o)}if(ki(),Ic=n,_c.current=r,null!==Oc)throw Error(i(261));return Ac=null,Rc=0,Pc}function vl(){for(;null!==Oc;)xl(Oc)}function bl(){for(;null!==Oc&&!Xe();)xl(Oc)}function xl(e){var t=Cc(e.alternate,e,Mc);e.memoizedProps=e.pendingProps,null===t?wl(e):Oc=t,Tc.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Mc)))return void(Oc=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Oc=n);if(null===e)return Pc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Pc&&(Pc=5)}function kl(e,t,n){var r=bt,o=Nc.transition;try{Nc.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Xc);if(0!==(6&Ic))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Ac&&(Oc=Ac=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yc||(Yc=!0,Al(tt,(function(){return Sl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nc.transition,Nc.transition=null;var s=bt;bt=1;var c=Ic;Ic|=4,Tc.current=null,function(e,t){if(eo=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(c=s+o),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(c=s),p===a&&++d===r&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yi(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nc,nc=!1}(e,n),yc(n,e),fr(to),Ht=!!eo,to=eo=null,e.current=n,bc(n,e,o),Je(),Ic=c,bt=s,Nc.transition=a}else e.current=n;if(Yc&&(Yc=!1,Xc=e,Jc=o),a=e.pendingLanes,0===a&&(qc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ol(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Gc)throw Gc=!1,e=Kc,Kc=null,e;0!==(1&Jc)&&0!==e.tag&&Sl(),a=e.pendingLanes,0!==(1&a)?e===Zc?$c++:($c=0,Zc=e):$c=0,Wo()}(e,t,n,r)}finally{Nc.transition=o,bt=r}return null}function Sl(){if(null!==Xc){var e=xt(Jc),t=Nc.transition,n=bt;try{if(Nc.transition=null,bt=16>e?16:e,null===Xc)var r=!1;else{if(e=Xc,Xc=null,Jc=0,0!==(6&Ic))throw Error(i(331));var o=Ic;for(Ic|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Qs=h;else for(;null!==Qs;){var p=(d=Qs).sibling,f=d.return;if(ac(d),d===u){Qs=null;break}if(null!==p){p.return=f,Qs=p;break}Qs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(0!==(2048&(c=Qs).flags))try{switch(c.tag){case 0:case 11:case 15:oc(9,c)}}catch(k){El(c,c.return,k)}if(c===s){Qs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Qs=w;break e}Qs=c.return}}if(Ic=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{bt=n,Nc.transition=t}}return!1}function Cl(e,t,n){e=Pi(e,t=fs(0,t=us(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),ol(e,t))}function El(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qc||!qc.has(r))){t=Pi(t,e=ms(t,e=us(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),ol(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Rc&n)===n&&(4===Pc||3===Pc&&(130023424&Rc)===Rc&&500>$e()-Vc?pl(e,0):Bc|=n),ol(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ai(e,t))&&(yt(e,t,n),ol(e,n))}function Nl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tl(e,n)}function Al(e,t){return qe(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ol(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Ml(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dl(n.children,o,a,t);case C:s=8,o|=8;break;case E:return(e=Rl(12,n,t,2|o)).elementType=E,e.lanes=a,e;case I:return(e=Rl(13,n,t,o)).elementType=I,e.lanes=a,e;case A:return(e=Rl(19,n,t,o)).elementType=A,e.lanes=a,e;case M:return Ll(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case T:s=9;break e;case N:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Dl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Bl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,o,i,a,s,c){return e=new zl(e,t,n,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Vl(e){if(!e)return No;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Do(e,n,t)}return t}function Wl(e,t,n,r,o,i,a,s,c){return(e=Ul(n,r,!0,e,0,i,0,s,c)).context=Vl(null),n=e.current,(i=ji(r=tl(),o=nl(n))).callback=void 0!==t&&null!==t?t:null,Pi(n,i,o),e.current.lanes=o,yt(e,o,r),ol(e,r),e}function Hl(e,t,n,r){var o=t.current,i=tl(),a=nl(o);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ji(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pi(o,t,a))&&(rl(e,o,a,i),Di(e,o,a)),a}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Cc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),fi();break;case 5:aa(t);break;case 1:Mo(t.type)&&Lo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;To(vi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(To(ca,1&ca.current),null!==(e=Gs(e,t,n))?e.sibling:null);To(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ii&&0!==(1048576&t.flags)&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var o=Ro(t,Io.current);Ei(t,n),o=Ca(null,t,r,e,o,n);var a=Ea();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ri(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,Ki(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ml(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=yi(r,e),o){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,yi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ts(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ns(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 3:e:{if(As(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Mi(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,o=us(Error(i(423)),t));break e}if(r!==o){t=Os(e,t,r,n,o=us(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Zi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Fs(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$i(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,To(vi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Ao.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=ji(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ci(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ci(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ei(t,n),r=r(o=_i(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=yi(r=t.type,t.pendingProps),Ss(e,t,r,o=yi(r.type,o),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yi(r,o),Hs(e,t),t.tag=1,Mo(r)?(e=!0,Lo(t)):e=!1,Ei(t,n),Hi(t,r,o),Ki(t,r,o,n),Is(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ql(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=Gl(a);s.call(e)}}Hl(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Gl(a);i.call(e)}}var a=Wl(t,r,e,0,null,!1,0,"",Ql);return e._reactRootContainer=a,e[mo]=a.current,Vr(8===e.nodeType?e.parentNode:e),dl(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Gl(c);s.call(e)}}var c=Ul(e,0,!1,null,0,!1,0,"",Ql);return e._reactRootContainer=c,e[mo]=c.current,Vr(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,c,n,r)})),c}(n,t,e,o,r);return Gl(a)}Jl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hl(e,t,null,null)},Jl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[mo]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ol(t,$e()),0===(6&Ic)&&(Wc=$e()+500,Wo()))}break;case 13:dl((function(){var t=Ai(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),ql(e,1)}},kt=function(e){if(13===e.tag){var t=Ai(e,134217728);if(null!==t)rl(t,e,134217728,tl());ql(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=Ai(e,t);if(null!==n)rl(n,e,t,tl());ql(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(i(90));q(r),Z(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=ul,Ie=dl;var tu={usingClientEntryPoint:!1,Events:[xo,wo,ko,_e,Te,ul]},nu={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(i(299));var n=!1,r="",o=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Jl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(i(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},6885:(e,t,n)=>{"use strict";var r,o;r=n(2160),o=n(8556),r.version,t.F0=r.renderToString,r.renderToStaticMarkup,r.renderToNodeStream,r.renderToStaticNodeStream,o.renderToReadableStream},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,o)&&!C.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+N(c,0):i,w(a)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),I(a,t,o,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",w(e))for(var l=0;l<e.length;l++){var u=i+N(s=e[l],l);c+=I(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=I(s=s.value,t,o,u=i+N(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},j={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!C.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},6378:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case m:case c:return e;default:return t}}case o:return t}}}function k(e){return w(e)===d}t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isFragment=function(e){return w(e)===i}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(l))m=!0,M(k);else{var t=r(u);null!==t&&j(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(_),_=-1),f=!0;var i=p;try{for(x(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&o(l),x(n)}else o(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&j(w,d.startTime-n),c=!1}return c}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,E=null,_=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function A(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?S():(C=!1,E=null)}}else C=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){y(A,0)};function M(e){E=e,C||(C=!0,S())}function j(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(g?(v(_),_=-1):g=!0,j(w,i-a))):(e.sortIndex=s,n(l,e),m||f||(m=!0,M(k))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4334:(e,t,n)=>{var r=n(7359),o=n(7066),i=n(9016),a=n(9538),s=n(6288),c=n(5262),l=n(2430);l.alea=r,l.xor128=o,l.xorwow=i,l.xorshift7=a,l.xor4096=s,l.tychei=c,e.exports=l},7359:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new i(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},5262:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},7066:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},6288:function(e,t,n){var r;!function(e,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),o=0,i=-32;i<c;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},9538:function(e,t,n){var r;!function(e,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},9016:function(e,t,n){var r;!function(e,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},2430:function(e,t,n){var r;!function(o,i,a){var s,c=256,l=a.pow(c,6),u=a.pow(2,52),d=2*u,h=c-1;function p(e,t,n){var r=[],h=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(c):(e=new Uint8Array(c),(o.crypto||o.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,v(i)]}}():e,3),r),p=new f(r),b=function(){for(var e=p.g(6),t=l,n=0;e<u;)e=(e+n)*c,t*=c,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,y(v(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(a.random=e,t):e})(b,h,"global"in t?t.global:this==a,t.state)}function f(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<c;)a[o]=o++;for(o=0;o<c;o++)a[o]=a[i=h&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=h&o+1],n=n*c+a[h&(a[o]=a[i=h&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(c)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==o?e:e+"\0"}function y(e,t){for(var n,r=e+"",o=0;o<r.length;)t[h&o]=h&(n^=19*t[h&o])+r.charCodeAt(o++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(a.random(),i),e.exports){e.exports=p;try{s=n(1234)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},7324:e=>{e.exports=function(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var l=i[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(o=n?n.call(r,u,d,l):void 0)||void 0===o&&u!==d)return!1}return!0}},6440:e=>{"use strict";var t=function(){};e.exports=t},5817:()=>{},8590:()=>{},4530:()=>{},8108:()=>{},551:()=>{},1234:()=>{},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{1:"8155aa1c",33:"5eed9508",60:"d899e992",144:"93787ead",205:"c8ec3855",270:"406c066f",337:"d5cdb93c",527:"22f78bd1",595:"5e495456",616:"b9025958",647:"a0a41d4a",712:"e3926925",723:"028f28aa",827:"5c5d25a5",882:"95254b6d"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="my-react-app:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],c=r[2],l=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)c(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Hd,hasStandardBrowserEnv:()=>Gd,hasStandardBrowserWebWorkerEnv:()=>qd,origin:()=>Yd});var t={};n.r(t),n.d(t,{Decoder:()=>Ly,Encoder:()=>Py,PacketType:()=>jy,protocol:()=>My});var r={};n.r(r),n.d(r,{arraysEqual:()=>CI,arraysEqualWithNull:()=>SI,assert:()=>vI,assertNonNegativeIntegerDimensions:()=>eA,assertNonNull:()=>xI,assertShapesMatch:()=>bI,bytesFromStringArray:()=>zI,bytesPerElement:()=>BI,checkConversionForErrors:()=>DI,clamp:()=>hI,computeStrides:()=>qI,convertBackendValuesAndArrayBuffer:()=>JI,createScalarValue:()=>oj,createShuffledIndices:()=>NI,decodeString:()=>lj,distSquared:()=>yI,encodeString:()=>cj,fetch:()=>sj,fingerPrint64:()=>rj,flatten:()=>dj,getArrayFromDType:()=>PI,getTypedArrayFromDType:()=>jI,hasEncodingLoss:()=>FI,hexToLong:()=>KM,indexToLoc:()=>nA,inferDtype:()=>HI,inferFromImplicitShape:()=>OI,isBoolean:()=>VI,isFunction:()=>GI,isInt:()=>EI,isNumber:()=>WI,isPromise:()=>rA,isScalarShape:()=>kI,isString:()=>UI,isTypedArray:()=>uj,isValidDtype:()=>LI,locToIndex:()=>tA,makeOnesTypedArray:()=>$I,makeZerosNestedTypedArray:()=>QI,makeZerosTypedArray:()=>ZI,nearestDivisor:()=>KI,nearestLargerEven:()=>pI,now:()=>aj,parseAxisParam:()=>RI,randUniform:()=>gI,repeatedTry:()=>AI,rightPad:()=>II,shuffle:()=>uI,shuffleCombo:()=>dI,sizeFromShape:()=>wI,sizeToSquarishShape:()=>TI,squeezeShape:()=>MI,sum:()=>mI,swap:()=>fI,tanh:()=>_I,toNestedArray:()=>XI,toTypedArray:()=>ij});var o={};n.r(o),n.d(o,{assertTypesMatch:()=>Uj,getTensorsInContainer:()=>Wj,isTensorInList:()=>Vj,makeTypesMatch:()=>zj});var i={};n.r(i),n.d(i,{isBrowser:()=>eP,isMobile:()=>Qj,mockIsMobile:()=>Zj});var a={};n.r(a),n.d(a,{Serializable:()=>oL,SerializationMap:()=>iL,getRegisteredName:()=>sL,registerClass:()=>aL});var s={};n.r(s),n.d(s,{assertAndGetBroadcastShape:()=>vL,getBroadcastDims:()=>gL,getReductionAxes:()=>yL});var c={};n.r(c),n.d(c,{CompositeArrayBuffer:()=>pP,browserFiles:()=>NL,browserHTTPRequest:()=>LL,concatenateArrayBuffers:()=>KP,copyModel:()=>OD,decodeWeights:()=>LP,decodeWeightsStream:()=>VP,encodeWeights:()=>DP,fromMemory:()=>UL,fromMemorySync:()=>VL,getLoadHandlers:()=>rD,getModelArtifactsForJSON:()=>JP,getModelArtifactsForJSONSync:()=>XP,getModelArtifactsInfoForJSON:()=>$P,getSaveHandlers:()=>nD,getWeightSpecs:()=>ZP,http:()=>DL,isHTTPScheme:()=>jL,listModels:()=>ID,loadWeights:()=>OL,moveModel:()=>RD,registerLoadRouter:()=>tD,registerSaveRouter:()=>eD,removeModel:()=>AD,weightsLoaderFactory:()=>RL,withSaveHandler:()=>WL,withSaveHandlerSync:()=>HL});var l={};n.r(l),n.d(l,{confusionMatrix:()=>$L});var u={};n.r(u),n.d(u,{draw:()=>aF,fromPixels:()=>sF,fromPixelsAsync:()=>rF,toPixels:()=>iF});var d={};n.r(d),n.d(d,{prepareAndValidate:()=>cF});var h={};n.r(h),n.d(h,{calculateShapes:()=>dF,validateInput:()=>uF,validateUpdateShape:()=>lF});var p={};n.r(p),n.d(p,{assertParamsValid:()=>fF,computeFlatOffset:()=>TF,computeOutShape:()=>gF,getNormalizedAxes:()=>xF,isSliceContinous:()=>_F,maskToAxes:()=>mF,parseSliceParams:()=>NF,sliceInfo:()=>IF,startForAxis:()=>CF,startIndicesWithElidedDims:()=>wF,stopForAxis:()=>EF,stopIndicesWithElidedDims:()=>kF,stridesForAxis:()=>SF,stridesWithElidedDims:()=>yF});var f={};n.r(f),n.d(f,{TEST_EPSILON_FLOAT16:()=>RF,createVideoElement:()=>WF,encodeStrings:()=>VF,expectArrayBuffersEqual:()=>UF,expectArraysClose:()=>MF,expectArraysEqual:()=>LF,expectNumbersClose:()=>FF,expectPromiseToFail:()=>DF,expectValuesInRange:()=>zF,play:()=>HF,testEpsilon:()=>jF});var m={};n.r(m),n.d(m,{conv2d:()=>XV,depthwiseConv2d:()=>ZV,matMul:()=>QV});var g={};n.r(g),n.d(g,{collectGatherOpShapeInfo:()=>lG,computeOutShape:()=>cG,segOpComputeOptimalWindowSize:()=>sG});var y={};n.r(y),n.d(y,{ERF_A1:()=>EH,ERF_A2:()=>_H,ERF_A3:()=>TH,ERF_A4:()=>NH,ERF_A5:()=>IH,ERF_P:()=>CH,PARALLELIZE_THRESHOLD:()=>fH,RowPartitionType:()=>lH,SELU_SCALE:()=>SH,SELU_SCALEALPHA:()=>kH,applyActivation:()=>qV,assertAndGetBroadcastShape:()=>vL,assertAxesAreInnerMostDims:()=>yz,assertParamsConsistent:()=>sH,assignToTypedArray:()=>PH,axesAreInnerMostDims:()=>pz,calculateShapes:()=>dF,checkEinsumDimSizes:()=>HH,checkPadOnDimRoundingMode:()=>bB,combineLocations:()=>fz,combineRaggedTensorToTensorShapes:()=>uH,complexWithEvenIndex:()=>RH,complexWithOddIndex:()=>MH,computeConv2DInfo:()=>cB,computeConv3DInfo:()=>lB,computeDefaultPad:()=>uB,computeDilation2DInfo:()=>iB,computeOptimalWindowSize:()=>mH,computeOutAndReduceShapes:()=>mz,computeOutShape:()=>cH,computePool2DInfo:()=>aB,computePool3DInfo:()=>sB,convertConv2DDataFormat:()=>vB,decodeEinsumEquation:()=>VH,eitherStridesOrDilationsAreOne:()=>gB,expandShapeToKeepDim:()=>gz,exponent:()=>LH,exponents:()=>DH,fromStringArrayToUint8:()=>dG,fromUint8ToStringArray:()=>uG,getAxesPermutation:()=>vz,getBroadcastDims:()=>gL,getComplexWithIndex:()=>jH,getEinsumComputePath:()=>GH,getEinsumPermutation:()=>WH,getFusedBiasGradient:()=>KV,getFusedDyActivation:()=>GV,getImageCenter:()=>gH,getInnerMostAxes:()=>xz,getPermuted:()=>vH,getRaggedRank:()=>hH,getReductionAxes:()=>yL,getReshaped:()=>yH,getReshapedPermuted:()=>bH,getRowPartitionTypesHelper:()=>dH,getSliceBeginCoords:()=>xH,getSliceSize:()=>wH,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>XH,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>JH,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>$H,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>eG,getSparseReshapeInputOutputMismatchErrorMessage:()=>nG,getSparseReshapeInputOutputMultipleErrorMessage:()=>tG,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>ZH,getSparseReshapeNegativeOutputDimErrorMessage:()=>QH,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>aG,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>rG,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>oG,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>iG,getUndoAxesPermutation:()=>bz,isIdentityPermutation:()=>KH,log:()=>OM,mergeRealAndImagArrays:()=>AH,prepareAndValidate:()=>cF,prepareSplitSize:()=>YH,segment_util:()=>g,shouldFuse:()=>YV,slice_util:()=>p,splitRealAndImagArrays:()=>OH,stridesOrDilationsArePositive:()=>yB,tupleValuesAreOne:()=>mB,upcastType:()=>Dj,validateDefaultValueShape:()=>pH,validateInput:()=>uF,validateUpdateShape:()=>lF,warn:()=>AM});var v={};n.r(v),n.d(v,{nonMaxSuppressionV3Impl:()=>pW,nonMaxSuppressionV4Impl:()=>fW,nonMaxSuppressionV5Impl:()=>mW,whereImpl:()=>MV});var b={};n.r(b),n.d(b,{maxNorm:()=>bX,minMaxNorm:()=>kX,nonNeg:()=>wX,unitNorm:()=>xX});var x={};n.r(x),n.d(x,{constant:()=>EX,glorotNormal:()=>RX,glorotUniform:()=>OX,heNormal:()=>MX,heUniform:()=>jX,identity:()=>IX,leCunNormal:()=>PX,leCunUniform:()=>DX,ones:()=>CX,orthogonal:()=>LX,randomNormal:()=>TX,randomUniform:()=>_X,truncatedNormal:()=>NX,varianceScaling:()=>AX,zeros:()=>SX});var w={};n.r(w),n.d(w,{Layer:()=>ZY,RNN:()=>aZ,RNNCell:()=>sZ,activation:()=>zQ,add:()=>XQ,alphaDropout:()=>B0,average:()=>JQ,averagePooling1d:()=>i0,averagePooling2d:()=>c0,averagePooling3d:()=>d0,avgPool1d:()=>a0,avgPool2d:()=>l0,avgPool3d:()=>h0,avgPooling1d:()=>s0,avgPooling2d:()=>u0,avgPooling3d:()=>p0,batchNormalization:()=>n0,bidirectional:()=>O0,categoryEncoding:()=>H0,centerCrop:()=>V0,concatenate:()=>$Q,conv1d:()=>OQ,conv2d:()=>RQ,conv2dTranspose:()=>MQ,conv3d:()=>jQ,conv3dTranspose:()=>PQ,convLstm2d:()=>T0,convLstm2dCell:()=>N0,cropping2D:()=>LQ,dense:()=>UQ,depthwiseConv2d:()=>BQ,dot:()=>t0,dropout:()=>VQ,elu:()=>EQ,embedding:()=>YQ,flatten:()=>HQ,gaussianDropout:()=>F0,gaussianNoise:()=>L0,globalAveragePooling1d:()=>f0,globalAveragePooling2d:()=>m0,globalMaxPool1d:()=>M0,globalMaxPool2d:()=>j0,globalMaxPooling1d:()=>g0,globalMaxPooling2d:()=>y0,gru:()=>w0,gruCell:()=>k0,input:()=>r$,inputLayer:()=>CQ,layerNormalization:()=>r0,leakyReLU:()=>TQ,lstm:()=>S0,lstmCell:()=>C0,masking:()=>z0,maxPool1d:()=>P0,maxPool2d:()=>D0,maxPooling1d:()=>v0,maxPooling2d:()=>b0,maxPooling3d:()=>x0,maximum:()=>ZQ,minimum:()=>QQ,multiply:()=>e0,permute:()=>qQ,prelu:()=>NQ,randomWidth:()=>G0,reLU:()=>_Q,repeatVector:()=>GQ,rescaling:()=>U0,reshape:()=>KQ,resizing:()=>W0,rnn:()=>I0,separableConv2d:()=>DQ,simpleRNN:()=>E0,simpleRNNCell:()=>_0,softmax:()=>IQ,spatialDropout1d:()=>WQ,stackedRNNCells:()=>A0,thresholdedReLU:()=>AQ,timeDistributed:()=>R0,upSampling2d:()=>FQ,zeroPadding2d:()=>o0});var k={};n.r(k),n.d(k,{MAPE:()=>n1,MSE:()=>i1,binaryAccuracy:()=>K0,binaryCrossentropy:()=>q0,categoricalAccuracy:()=>X0,categoricalCrossentropy:()=>J0,cosineProximity:()=>Q0,mape:()=>r1,meanAbsoluteError:()=>e1,meanAbsolutePercentageError:()=>t1,meanSquaredError:()=>o1,mse:()=>a1,precision:()=>$0,r2Score:()=>s1,recall:()=>Z0,sparseCategoricalAccuracy:()=>Y0});var S={};n.r(S),n.d(S,{modelFromJSON:()=>ZJ});var C={};n.r(C),n.d(C,{l1:()=>l1,l1l2:()=>c1,l2:()=>u1});var E={};n.r(E),n.d(E,{json:()=>A1});var _={};n.r(_),n.d(_,{json:()=>O1});var T={};n.r(T),n.d(T,{json:()=>R1});var N={};n.r(N),n.d(N,{json:()=>M1});var I={};n.r(I),n.d(I,{json:()=>j1});var A={};n.r(A),n.d(A,{json:()=>P1});var O={};n.r(O),n.d(O,{json:()=>D1});var R={};n.r(R),n.d(R,{json:()=>L1});var M={};n.r(M),n.d(M,{json:()=>F1});var j={};n.r(j),n.d(j,{json:()=>B1});var P={};n.r(P),n.d(P,{json:()=>z1});var D={};n.r(D),n.d(D,{json:()=>U1});var L={};n.r(L),n.d(L,{json:()=>V1});var F={};n.r(F),n.d(F,{json:()=>W1});var B={};n.r(B),n.d(B,{json:()=>H1});var z={};n.r(z),n.d(z,{json:()=>G1});var U={};n.r(U),n.d(U,{json:()=>K1});var V={};n.r(V),n.d(V,{json:()=>q1});var W={};n.r(W),n.d(W,{json:()=>Y1});var H={};n.r(H),n.d(H,{OP_SCOPE_SUFFIX:()=>sP,abs:()=>mL,acos:()=>qF,acosh:()=>YF,add:()=>UD,addN:()=>XF,all:()=>JF,any:()=>$F,argMax:()=>ZF,argMin:()=>QF,asin:()=>eB,asinh:()=>tB,atan:()=>nB,atan2:()=>rB,atanh:()=>oB,avgPool:()=>wB,avgPool3d:()=>kB,basicLSTMCell:()=>TB,batchNorm:()=>IB,batchNorm2d:()=>AB,batchNorm3d:()=>OB,batchNorm4d:()=>RB,batchToSpaceND:()=>NB,bincount:()=>MB,bitwiseAnd:()=>jB,booleanMaskAsync:()=>PV,broadcastArgs:()=>PB,broadcastTo:()=>DB,buffer:()=>LD,cast:()=>FD,ceil:()=>LB,clipByValue:()=>FB,clone:()=>BD,complex:()=>lP,concat:()=>SB,concat1d:()=>BB,concat2d:()=>zB,concat3d:()=>UB,concat4d:()=>VB,conv1d:()=>HB,conv2d:()=>WB,conv2dTranspose:()=>KB,conv3d:()=>qB,conv3dTranspose:()=>XB,cos:()=>JB,cosh:()=>$B,cosineWindow:()=>VV,cumprod:()=>ZB,cumsum:()=>QB,denseBincount:()=>ez,depthToSpace:()=>tz,depthwiseConv2d:()=>nz,diag:()=>rz,dilation2d:()=>oz,div:()=>WD,divNoNan:()=>sz,dot:()=>cz,dropout:()=>zV,einsum:()=>lz,elu:()=>uz,enclosingPowerOfTwo:()=>UV,ensureShape:()=>dz,equal:()=>iz,erf:()=>hz,euclideanNorm:()=>_z,exp:()=>Tz,expandDims:()=>Nz,expm1:()=>Iz,eye:()=>Oz,fft:()=>lV,fill:()=>uL,floor:()=>Rz,floorDiv:()=>VD,fused:()=>m,gather:()=>Mz,gatherND:()=>BV,greater:()=>jz,greaterEqual:()=>Pz,ifft:()=>uV,imag:()=>qL,image:()=>QW,inTopKAsync:()=>WV,irfft:()=>dV,isFinite:()=>Dz,isInf:()=>Lz,isNaN:()=>Fz,leakyRelu:()=>Bz,less:()=>zz,lessEqual:()=>Uz,linalg:()=>eH,linspace:()=>Vz,localResponseNormalization:()=>Wz,log:()=>Hz,log1p:()=>Gz,logSigmoid:()=>qz,logSoftmax:()=>Yz,logSumExp:()=>Xz,logicalAnd:()=>Jz,logicalNot:()=>$z,logicalOr:()=>Zz,logicalXor:()=>Qz,losses:()=>tH,lowerBound:()=>nU,matMul:()=>GL,max:()=>wz,maxPool:()=>rU,maxPool3d:()=>oU,maxPoolWithArgmax:()=>iU,maximum:()=>bL,mean:()=>aU,meshgrid:()=>lU,min:()=>kz,minimum:()=>uU,mirrorPad:()=>dU,mod:()=>hU,moments:()=>pU,movingAverage:()=>DV,mul:()=>HD,multiRNNCell:()=>fU,multinomial:()=>mU,neg:()=>YL,norm:()=>Ez,notEqual:()=>gU,oneHot:()=>KL,ones:()=>cU,onesLike:()=>yU,op:()=>cP,outerProduct:()=>vU,pad:()=>bU,pad1d:()=>xU,pad2d:()=>wU,pad3d:()=>kU,pad4d:()=>SU,pool:()=>EU,pow:()=>hL,prelu:()=>_U,print:()=>zD,prod:()=>TU,raggedGather:()=>NU,raggedRange:()=>IU,raggedTensorToTensor:()=>AU,rand:()=>OU,randomGamma:()=>DU,randomNormal:()=>LU,randomStandardNormal:()=>FU,randomUniform:()=>BU,randomUniformInt:()=>zU,range:()=>UU,real:()=>XL,reciprocal:()=>VU,relu:()=>WU,relu6:()=>HU,reshape:()=>xB,reverse:()=>GU,reverse1d:()=>KU,reverse2d:()=>qU,reverse3d:()=>YU,reverse4d:()=>XU,rfft:()=>pV,round:()=>JU,rsqrt:()=>$U,scalar:()=>tL,scatterND:()=>LV,searchSorted:()=>tU,selu:()=>ZU,separableConv2d:()=>QU,setdiff1dAsync:()=>eV,sigmoid:()=>CB,sign:()=>tV,signal:()=>ZW,sin:()=>nV,sinh:()=>rV,slice:()=>EB,slice1d:()=>oV,slice2d:()=>iV,slice3d:()=>aV,slice4d:()=>sV,softmax:()=>cV,softplus:()=>Kz,spaceToBatchND:()=>CU,sparse:()=>nH,sparseToDense:()=>FV,spectral:()=>$W,split:()=>hV,sqrt:()=>GD,square:()=>KD,squaredDifference:()=>fV,squeeze:()=>mV,stack:()=>gV,step:()=>yV,stridedSlice:()=>vV,string:()=>rH,sub:()=>pL,sum:()=>Sz,tan:()=>bV,tanh:()=>_B,tensor:()=>dP,tensor1d:()=>xV,tensor2d:()=>wV,tensor3d:()=>ZL,tensor4d:()=>kV,tensor5d:()=>SV,tensor6d:()=>CV,tensorScatterUpdate:()=>EV,tile:()=>Az,topk:()=>_V,transpose:()=>JL,truncatedNormal:()=>TV,unique:()=>NV,unsortedSegmentSum:()=>IV,unstack:()=>AV,upperBound:()=>OV,variable:()=>RV,where:()=>az,whereAsync:()=>jV,zeros:()=>sU,zerosLike:()=>qD});var G={};n.r(G),n.d(G,{CSVDataset:()=>I3,Dataset:()=>y3,FileDataSource:()=>V3,TextLineDataset:()=>k3,URLDataSource:()=>W3,array:()=>b3,csv:()=>H3,func:()=>G3,generator:()=>K3,microphone:()=>Y3,version_data:()=>X3,webcam:()=>q3,zip:()=>x3});var K={};n.r(K),n.d(K,{addImpl:()=>f4,bincountImpl:()=>v4,bincountReduceImpl:()=>b4,bitwiseAndImpl:()=>x4,castImpl:()=>l4,ceilImpl:()=>_4,concatImpl:()=>I4,equalImpl:()=>A4,expImpl:()=>M4,expm1Impl:()=>D4,floorDivImpl:()=>V4,floorImpl:()=>B4,gatherNdImpl:()=>G4,gatherV2Impl:()=>K4,greaterEqualImpl:()=>J4,greaterImpl:()=>q4,lessEqualImpl:()=>n5,lessImpl:()=>Q4,linSpaceImpl:()=>i5,logImpl:()=>a5,maxImpl:()=>l5,maximumImpl:()=>u5,minimumImpl:()=>p5,multiplyImpl:()=>g5,negImpl:()=>x5,notEqualImpl:()=>k5,prodImpl:()=>N5,raggedGatherImpl:()=>M5,raggedRangeImpl:()=>P5,raggedTensorToTensorImpl:()=>z5,rangeImpl:()=>U5,rsqrtImpl:()=>V5,scatterImpl:()=>G5,sigmoidImpl:()=>K5,simpleAbsImpl:()=>Q3,sliceImpl:()=>X5,sparseFillEmptyRowsImpl:()=>Z5,sparseReshapeImpl:()=>Q5,sparseSegmentReductionImpl:()=>e6,sqrtImpl:()=>t6,squaredDifferenceImpl:()=>o6,staticRegexReplaceImpl:()=>s6,stridedSliceImpl:()=>u6,stringNGramsImpl:()=>h6,stringSplitImpl:()=>f6,stringToHashBucketFastImpl:()=>m6,subImpl:()=>g6,tileImpl:()=>x6,topKImpl:()=>S6,transposeImpl:()=>E5,uniqueImpl:()=>C6});var q={};n.r(q),n.d(q,{assertNotComplex:()=>Bte,bindCanvasToFramebuffer:()=>pte,bindColorTextureToFramebuffer:()=>fte,bindTextureToProgramUniformSampler:()=>hte,bindTextureUnit:()=>cte,bindVertexBufferToProgramAttribute:()=>ste,callAndCheck:()=>Vee,canBeRepresented:()=>Gee,createFragmentShader:()=>Xee,createFramebuffer:()=>ate,createProgram:()=>Zee,createStaticIndexBuffer:()=>nte,createStaticVertexBuffer:()=>tte,createTexture:()=>ote,createVertexShader:()=>Yee,getBatchDim:()=>xte,getExtensionOrThrow:()=>qee,getFramebufferErrorMessage:()=>yte,getMaxTexturesInShader:()=>Ote,getNumChannels:()=>rte,getProgramUniformLocation:()=>dte,getProgramUniformLocationOrThrow:()=>ute,getRowsCols:()=>wte,getShapeAs3D:()=>kte,getTextureShapeFromLogicalShape:()=>Ste,getWebGLDisjointQueryTimerVersion:()=>Rte,getWebGLErrorMessage:()=>Kee,getWebGLMaxTextureSize:()=>Nte,hasExtension:()=>Mte,isCapableOfRenderingToFloatTexture:()=>Pte,isDownloadFloatTextureEnabled:()=>Dte,isReshapeFree:()=>Ete,isWebGLFenceEnabled:()=>Fte,isWebGLVersionEnabled:()=>jte,linkProgram:()=>Qee,logShaderSourceAndInfoLog:()=>$ee,resetMaxTextureSize:()=>Ite,resetMaxTexturesInShader:()=>Ate,unbindColorTextureFromFramebuffer:()=>mte,unbindTextureUnit:()=>lte,validateFramebuffer:()=>gte,validateProgram:()=>ete,validateTextureSize:()=>ite});var Y={};n.r(Y),n.d(Y,{bindVertexProgramAttributeStreams:()=>One,createBufferFromOutputTexture:()=>jne,createFloat16MatrixTexture:()=>Cne,createFloat16PackedMatrixTexture:()=>Ane,createFloat32MatrixTexture:()=>kne,createIndexBuffer:()=>bne,createPackedMatrixTexture:()=>Nne,createUnsignedBytesMatrixTexture:()=>_ne,createVertexBuffer:()=>vne,createVertexShader:()=>yne,downloadByteEncodedFloatMatrixFromOutputTexture:()=>Dne,downloadFloat32MatrixFromBuffer:()=>Pne,downloadMatrixFromPackedOutputTexture:()=>Fne,downloadPackedMatrixFromBuffer:()=>Lne,getInternalFormatForFloat16MatrixTexture:()=>Sne,getInternalFormatForFloat16PackedMatrixTexture:()=>Ine,getInternalFormatForFloat32MatrixTexture:()=>wne,getInternalFormatForPackedMatrixTexture:()=>Tne,getInternalFormatForUnsignedBytesMatrixTexture:()=>Ene,uploadDenseMatrixToTexture:()=>Rne,uploadPixelDataToTexture:()=>Mne});var X={};n.r(X),n.d(X,{Abs:()=>hA,Acos:()=>pA,Acosh:()=>fA,AdadeltaOptimizer:()=>lL,AdagradOptimizer:()=>dL,AdamOptimizer:()=>fL,AdamaxOptimizer:()=>xL,Add:()=>mA,AddN:()=>gA,All:()=>yA,Any:()=>vA,ArgMax:()=>bA,ArgMin:()=>xA,Asin:()=>wA,Asinh:()=>kA,Atan:()=>SA,Atan2:()=>EA,Atanh:()=>CA,AvgPool:()=>_A,AvgPool3D:()=>NA,AvgPool3DGrad:()=>IA,AvgPoolGrad:()=>TA,BatchMatMul:()=>AA,BatchToSpaceND:()=>OA,Bincount:()=>RA,BitwiseAnd:()=>MA,BroadcastArgs:()=>PA,BroadcastTo:()=>jA,Callback:()=>d1,CallbackList:()=>VX,Cast:()=>DA,Ceil:()=>LA,ClipByValue:()=>FA,Complex:()=>BA,ComplexAbs:()=>zA,Concat:()=>UA,Conv2D:()=>VA,Conv2DBackpropFilter:()=>WA,Conv2DBackpropInput:()=>HA,Conv3D:()=>GA,Conv3DBackpropFilterV2:()=>KA,Conv3DBackpropInputV2:()=>qA,Cos:()=>YA,Cosh:()=>XA,CropAndResize:()=>ZA,Cumprod:()=>JA,Cumsum:()=>$A,CustomCallback:()=>GX,DataStorage:()=>sI,DenseBincount:()=>QA,DepthToSpace:()=>eO,DepthwiseConv2dNative:()=>tO,DepthwiseConv2dNativeBackpropFilter:()=>nO,DepthwiseConv2dNativeBackpropInput:()=>rO,Diag:()=>oO,Dilation2D:()=>iO,Dilation2DBackpropFilter:()=>sO,Dilation2DBackpropInput:()=>aO,Draw:()=>cO,ENV:()=>lA,EarlyStopping:()=>f1,Einsum:()=>uO,Elu:()=>dO,EluGrad:()=>hO,Environment:()=>iA,Equal:()=>fO,Erf:()=>pO,Exp:()=>mO,ExpandDims:()=>gO,Expm1:()=>yO,FFT:()=>vO,Fill:()=>bO,FlipLeftRight:()=>xO,Floor:()=>wO,FloorDiv:()=>kO,FromPixels:()=>EM,FusedBatchNorm:()=>SO,FusedConv2D:()=>NM,FusedDepthwiseConv2D:()=>IM,GPGPUContext:()=>Bne,GatherNd:()=>EO,GatherV2:()=>CO,GraphModel:()=>D2,Greater:()=>_O,GreaterEqual:()=>TO,History:()=>HX,IFFT:()=>IO,Identity:()=>NO,Imag:()=>AO,InputSpec:()=>qY,IsFinite:()=>OO,IsInf:()=>RO,IsNan:()=>MO,KernelBackend:()=>cI,LRN:()=>KO,LRNGrad:()=>qO,LayerVariable:()=>HY,LayersModel:()=>JJ,LeakyRelu:()=>jO,Less:()=>PO,LessEqual:()=>DO,LinSpace:()=>LO,Log:()=>FO,Log1p:()=>BO,LogSoftmax:()=>HO,LogicalAnd:()=>zO,LogicalNot:()=>UO,LogicalOr:()=>VO,LogicalXor:()=>WO,LowerBound:()=>GO,MathBackendCPU:()=>Z3,MathBackendWebGL:()=>coe,MatrixBandPart:()=>YO,Max:()=>XO,MaxPool:()=>$O,MaxPool3D:()=>QO,MaxPool3DGrad:()=>eR,MaxPoolGrad:()=>ZO,MaxPoolWithArgmax:()=>tR,Maximum:()=>JO,Mean:()=>nR,Min:()=>rR,Minimum:()=>oR,MirrorPad:()=>iR,Mod:()=>aR,MomentumOptimizer:()=>kL,Multinomial:()=>sR,Multiply:()=>cR,Neg:()=>lR,NonMaxSuppressionV3:()=>dR,NonMaxSuppressionV4:()=>hR,NonMaxSuppressionV5:()=>pR,NotEqual:()=>uR,OP_SCOPE_SUFFIX:()=>sP,OneHot:()=>mR,OnesLike:()=>fR,Optimizer:()=>cL,OptimizerConstructors:()=>KF,Pack:()=>gR,PadV2:()=>yR,Pool:()=>vR,Pow:()=>bR,Prelu:()=>xR,Prod:()=>wR,RMSPropOptimizer:()=>SL,RNN:()=>aZ,RaggedGather:()=>kR,RaggedRange:()=>SR,RaggedTensorToTensor:()=>CR,Range:()=>ER,Rank:()=>Aj,Real:()=>_R,RealDiv:()=>lO,Reciprocal:()=>TR,Reduction:()=>MW,Relu:()=>NR,Relu6:()=>jR,Reshape:()=>IR,ResizeBilinear:()=>RR,ResizeBilinearGrad:()=>MR,ResizeNearestNeighbor:()=>AR,ResizeNearestNeighborGrad:()=>OR,Reverse:()=>PR,RotateWithOffset:()=>_M,Round:()=>DR,Rsqrt:()=>LR,SGDOptimizer:()=>wL,ScatterNd:()=>FR,SearchSorted:()=>zR,Select:()=>UR,Selu:()=>VR,Sequential:()=>e$,Sigmoid:()=>qR,Sign:()=>KR,Sin:()=>HR,Sinh:()=>GR,Slice:()=>WR,Softmax:()=>QR,Softplus:()=>YR,SpaceToBatchND:()=>$R,SparseFillEmptyRows:()=>eM,SparseReshape:()=>tM,SparseSegmentMean:()=>nM,SparseSegmentSum:()=>rM,SparseToDense:()=>oM,SplitV:()=>ZR,Sqrt:()=>XR,Square:()=>aM,SquaredDifference:()=>iM,StaticRegexReplace:()=>sM,Step:()=>CM,StridedSlice:()=>cM,StringNGrams:()=>lM,StringSplit:()=>uM,StringToHashBucketFast:()=>dM,Sub:()=>hM,Sum:()=>JR,SymbolicTensor:()=>YY,Tan:()=>pM,Tanh:()=>fM,Tensor:()=>Tj,TensorBuffer:()=>Sj,TensorScatterUpdate:()=>BR,Tile:()=>mM,TopK:()=>gM,Transform:()=>yM,Transpose:()=>vM,Unique:()=>bM,Unpack:()=>xM,UnsortedSegmentSum:()=>wM,UpperBound:()=>kM,Variable:()=>Ij,ZerosLike:()=>SM,_FusedMatMul:()=>TM,abs:()=>mL,acos:()=>qF,acosh:()=>YF,add:()=>UD,addN:()=>XF,all:()=>JF,any:()=>$F,argMax:()=>ZF,argMin:()=>QF,asin:()=>eB,asinh:()=>tB,atan:()=>nB,atan2:()=>rB,atanh:()=>oB,avgPool:()=>wB,avgPool3d:()=>kB,backend:()=>MP,backend_util:()=>y,basicLSTMCell:()=>TB,batchNorm:()=>IB,batchNorm2d:()=>AB,batchNorm3d:()=>OB,batchNorm4d:()=>RB,batchToSpaceND:()=>NB,bincount:()=>MB,bitwiseAnd:()=>jB,booleanMaskAsync:()=>PV,broadcastArgs:()=>PB,broadcastTo:()=>DB,broadcast_util:()=>s,browser:()=>u,buffer:()=>LD,callbacks:()=>m1,cast:()=>FD,ceil:()=>LB,clipByValue:()=>FB,clone:()=>BD,complex:()=>lP,concat:()=>SB,concat1d:()=>BB,concat2d:()=>zB,concat3d:()=>UB,concat4d:()=>VB,constraints:()=>b,conv1d:()=>HB,conv2d:()=>WB,conv2dTranspose:()=>KB,conv3d:()=>qB,conv3dTranspose:()=>XB,copyRegisteredKernels:()=>UM,cos:()=>JB,cosh:()=>$B,cosineWindow:()=>VV,cumprod:()=>ZB,cumsum:()=>QB,customGrad:()=>QD,data:()=>G,denseBincount:()=>ez,deprecationWarn:()=>yP,depthToSpace:()=>tz,depthwiseConv2d:()=>nz,deregisterOp:()=>w1,device_util:()=>i,diag:()=>rz,dilation2d:()=>oz,disableDeprecationWarnings:()=>gP,dispose:()=>SP,disposeVariables:()=>vP,div:()=>WD,divNoNan:()=>sz,dot:()=>cz,dropout:()=>zV,einsum:()=>lz,elu:()=>uz,enableDebugMode:()=>mP,enableProdMode:()=>fP,enclosingPowerOfTwo:()=>UV,engine:()=>bP,ensureShape:()=>dz,env:()=>sA,equal:()=>iz,erf:()=>hz,euclideanNorm:()=>_z,exp:()=>Tz,expandDims:()=>Nz,expm1:()=>Iz,eye:()=>Oz,fft:()=>lV,fill:()=>uL,findBackend:()=>AP,findBackendFactory:()=>OP,floor:()=>Rz,floorDiv:()=>VD,forceHalfFloat:()=>uoe,fused:()=>m,gather:()=>Mz,gatherND:()=>BV,gather_util:()=>d,getBackend:()=>NP,getGradient:()=>PM,getKernel:()=>jM,getKernelsForBackend:()=>DM,gpgpu_util:()=>Y,grad:()=>YD,grads:()=>XD,greater:()=>jz,greaterEqual:()=>Pz,ifft:()=>uV,imag:()=>qL,image:()=>QW,inTopKAsync:()=>WV,initializers:()=>x,input:()=>r$,io:()=>c,irfft:()=>dV,isFinite:()=>Dz,isInf:()=>Lz,isNaN:()=>Fz,keep:()=>CP,kernel_impls:()=>v,layers:()=>w,leakyRelu:()=>Bz,less:()=>zz,lessEqual:()=>Uz,linalg:()=>eH,linspace:()=>Vz,loadGraphModel:()=>L2,loadGraphModelSync:()=>F2,loadLayersModel:()=>QJ,localResponseNormalization:()=>Wz,log:()=>Hz,log1p:()=>Gz,logSigmoid:()=>qz,logSoftmax:()=>Yz,logSumExp:()=>Xz,logicalAnd:()=>Jz,logicalNot:()=>$z,logicalOr:()=>Zz,logicalXor:()=>Qz,losses:()=>tH,lowerBound:()=>nU,matMul:()=>GL,math:()=>l,max:()=>wz,maxPool:()=>rU,maxPool3d:()=>oU,maxPoolWithArgmax:()=>iU,maximum:()=>bL,mean:()=>aU,memory:()=>xP,meshgrid:()=>lU,metrics:()=>k,min:()=>kz,minimum:()=>uU,mirrorPad:()=>dU,mod:()=>hU,model:()=>t$,models:()=>S,moments:()=>pU,movingAverage:()=>DV,mul:()=>HD,multiRNNCell:()=>fU,multinomial:()=>mU,neg:()=>YL,nextFrame:()=>aH,norm:()=>Ez,notEqual:()=>gU,oneHot:()=>KL,ones:()=>cU,onesLike:()=>yU,op:()=>cP,outerProduct:()=>vU,pad:()=>bU,pad1d:()=>xU,pad2d:()=>wU,pad3d:()=>kU,pad4d:()=>SU,pool:()=>EU,pow:()=>hL,prelu:()=>_U,print:()=>zD,prod:()=>TU,profile:()=>wP,raggedGather:()=>NU,raggedRange:()=>IU,raggedTensorToTensor:()=>AU,rand:()=>OU,randomGamma:()=>DU,randomNormal:()=>LU,randomStandardNormal:()=>FU,randomUniform:()=>BU,randomUniformInt:()=>zU,range:()=>UU,ready:()=>TP,real:()=>XL,reciprocal:()=>VU,registerBackend:()=>RP,registerCallbackConstructor:()=>o$,registerGradient:()=>FM,registerKernel:()=>LM,registerOp:()=>b1,regularizers:()=>C,relu:()=>WU,relu6:()=>HU,removeBackend:()=>IP,reshape:()=>xB,reverse:()=>GU,reverse1d:()=>KU,reverse2d:()=>qU,reverse3d:()=>YU,reverse4d:()=>XU,rfft:()=>pV,round:()=>JU,rsqrt:()=>$U,scalar:()=>tL,scatterND:()=>LV,scatter_util:()=>h,searchSorted:()=>tU,selu:()=>ZU,separableConv2d:()=>QU,sequential:()=>n$,serialization:()=>a,setBackend:()=>_P,setPlatform:()=>jP,setWebGLContext:()=>Mee,setdiff1dAsync:()=>eV,shared:()=>K,sigmoid:()=>CB,sign:()=>tV,signal:()=>ZW,sin:()=>nV,sinh:()=>rV,slice:()=>EB,slice1d:()=>oV,slice2d:()=>iV,slice3d:()=>aV,slice4d:()=>sV,slice_util:()=>p,softmax:()=>cV,softplus:()=>Kz,spaceToBatchND:()=>CU,sparse:()=>nH,sparseToDense:()=>FV,spectral:()=>$W,split:()=>hV,sqrt:()=>GD,square:()=>KD,squaredDifference:()=>fV,squeeze:()=>mV,stack:()=>gV,step:()=>yV,stridedSlice:()=>vV,string:()=>rH,sub:()=>pL,sum:()=>Sz,sumOutType:()=>Lj,tan:()=>bV,tanh:()=>_B,tensor:()=>dP,tensor1d:()=>xV,tensor2d:()=>wV,tensor3d:()=>ZL,tensor4d:()=>kV,tensor5d:()=>SV,tensor6d:()=>CV,tensorScatterUpdate:()=>EV,tensor_util:()=>o,test_util:()=>f,tidy:()=>kP,tile:()=>Az,time:()=>EP,topk:()=>_V,train:()=>oH,transpose:()=>JL,truncatedNormal:()=>TV,unique:()=>NV,unregisterGradient:()=>zM,unregisterKernel:()=>BM,unsortedSegmentSum:()=>IV,unstack:()=>AV,upcastType:()=>Dj,upperBound:()=>OV,util:()=>r,valueAndGrad:()=>JD,valueAndGrads:()=>$D,variable:()=>RV,variableGrads:()=>ZD,version:()=>ide,version_converter:()=>B2,version_core:()=>GF,version_cpu:()=>E6,version_layers:()=>AJ,version_webgl:()=>loe,webgl:()=>doe,webgl_util:()=>q,where:()=>az,whereAsync:()=>jV,zeros:()=>sU,zerosLike:()=>qD});var J={};n.r(J),n.d(J,{scaleBand:()=>_We,scaleDiverging:()=>rXe,scaleDivergingLog:()=>oXe,scaleDivergingPow:()=>aXe,scaleDivergingSqrt:()=>sXe,scaleDivergingSymlog:()=>iXe,scaleIdentity:()=>$Ge,scaleImplicit:()=>CWe,scaleLinear:()=>JGe,scaleLog:()=>aKe,scaleOrdinal:()=>EWe,scalePoint:()=>NWe,scalePow:()=>mKe,scaleQuantile:()=>TKe,scaleQuantize:()=>NKe,scaleRadial:()=>vKe,scaleSequential:()=>JYe,scaleSequentialLog:()=>$Ye,scaleSequentialPow:()=>QYe,scaleSequentialQuantile:()=>tXe,scaleSequentialSqrt:()=>eXe,scaleSequentialSymlog:()=>ZYe,scaleSqrt:()=>gKe,scaleSymlog:()=>uKe,scaleThreshold:()=>IKe,scaleTime:()=>KYe,scaleUtc:()=>qYe,tickFormat:()=>YGe});var $,Z=n(5043),Q=n.t(Z,2),ee=n(4391);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}($||($={}));const ne="popstate";function re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function oe(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ie(e,t){return{usr:e.state,key:e.key,idx:t}}function ae(e,t,n,r){return void 0===n&&(n=null),te({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ce(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function se(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ce(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function le(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s=$.Pop,c=null,l=u();function u(){return(a.state||{idx:null}).idx}function d(){s=$.Pop;let e=u(),t=null==e?null:e-l;l=e,c&&c({action:s,location:p.location,delta:t})}function h(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:se(e);return re(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==l&&(l=0,a.replaceState(te({},a.state,{idx:l}),""));let p={get action(){return s},get location(){return e(o,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(ne,d),c=e,()=>{o.removeEventListener(ne,d),c=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=$.Push;let r=ae(p.location,e,t);n&&n(r,e),l=u()+1;let d=ie(r,l),h=p.createHref(r);try{a.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(h)}i&&c&&c({action:s,location:p.location,delta:1})},replace:function(e,t){s=$.Replace;let r=ae(p.location,e,t);n&&n(r,e),l=u();let o=ie(r,l),d=p.createHref(r);a.replaceState(o,"",d),i&&c&&c({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}var ue;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ue||(ue={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function de(e,t,n){void 0===n&&(n="/");let r=Ee(("string"===typeof t?ce(t):t).pathname||"/",n);if(null==r)return null;let o=he(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let a=0;null==i&&a<o.length;++a)i=ke(o[a],Ce(r));return i}function he(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(re(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Ae([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(re(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),he(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:we(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of pe(e.path))o(e,t,r);else o(e,t)})),t}function pe(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=pe(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const fe=/^:[\w-]+$/,me=3,ge=2,ye=1,ve=10,be=-2,xe=e=>"*"===e;function we(e,t){let n=e.split("/"),r=n.length;return n.some(xe)&&(r+=be),t&&(r+=ge),n.filter((e=>!xe(e))).reduce(((e,t)=>e+(fe.test(t)?me:""===t?ye:ve)),r)}function ke(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,c="/"===o?t:t.slice(o.length)||"/",l=Se({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;i.push({params:r,pathname:Ae([o,l.pathname]),pathnameBase:Oe(Ae([o,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(o=Ae([o,l.pathnameBase]))}return i}function Se(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);oe("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let i=new RegExp(o,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const c=s[n];return e[r]=o&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return oe(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{});return{params:c,pathname:i,pathnameBase:a,pattern:e}}function Ce(e){try{return decodeURI(e)}catch(t){return oe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ee(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function _e(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Te(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ne(e,t){let n=Te(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Ie(e,t,n,r){let o;void 0===r&&(r=!1),"string"===typeof e?o=ce(e):(o=te({},e),re(!o.pathname||!o.pathname.includes("?"),_e("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),_e("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),_e("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"===typeof e?ce(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Re(r),hash:Me(o)}}(o,i),l=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!l&&!u||(c.pathname+="/"),c}const Ae=e=>e.join("/").replace(/\/\/+/g,"/"),Oe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Re=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Me=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function je(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Pe=["post","put","patch","delete"],De=(new Set(Pe),["get",...Pe]);new Set(De),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}const Fe=Z.createContext(null);const Be=Z.createContext(null);const ze=Z.createContext(null);const Ue=Z.createContext(null);const Ve=Z.createContext({outlet:null,matches:[],isDataRoute:!1});const We=Z.createContext(null);function He(){return null!=Z.useContext(Ue)}function Ge(){return He()||re(!1),Z.useContext(Ue).location}function Ke(e){Z.useContext(ze).static||Z.useLayoutEffect(e)}function qe(){let{isDataRoute:e}=Z.useContext(Ve);return e?function(){let{router:e}=it(rt.UseNavigateStable),t=st(ot.UseNavigateStable),n=Z.useRef(!1);Ke((()=>{n.current=!0}));let r=Z.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Le({fromRouteId:t},o)))}),[e,t]);return r}():function(){He()||re(!1);let e=Z.useContext(Fe),{basename:t,future:n,navigator:r}=Z.useContext(ze),{matches:o}=Z.useContext(Ve),{pathname:i}=Ge(),a=JSON.stringify(Ne(o,n.v7_relativeSplatPath)),s=Z.useRef(!1);Ke((()=>{s.current=!0}));let c=Z.useCallback((function(n,o){if(void 0===o&&(o={}),!s.current)return;if("number"===typeof n)return void r.go(n);let c=Ie(n,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:Ae([t,c.pathname])),(o.replace?r.replace:r.push)(c,o.state,o)}),[t,r,a,i,e]);return c}()}const Ye=Z.createContext(null);function Xe(){let{matches:e}=Z.useContext(Ve),t=e[e.length-1];return t?t.params:{}}function Je(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=Z.useContext(ze),{matches:o}=Z.useContext(Ve),{pathname:i}=Ge(),a=JSON.stringify(Ne(o,r.v7_relativeSplatPath));return Z.useMemo((()=>Ie(e,JSON.parse(a),i,"path"===n)),[e,a,i,n])}function $e(e,t,n,r){He()||re(!1);let{navigator:o}=Z.useContext(ze),{matches:i}=Z.useContext(Ve),a=i[i.length-1],s=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let l,u=Ge();if(t){var d;let e="string"===typeof t?ce(t):t;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||re(!1),l=e}else l=u;let h=l.pathname||"/",p=de(e,{pathname:"/"===c?h:h.slice(c.length)||"/"});let f=nt(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ae([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Ae([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,r);return t&&f?Z.createElement(Ue.Provider,{value:{location:Le({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:$.Pop}},f):f}function Ze(){let e=function(){var e;let t=Z.useContext(We),n=at(ot.UseRouteError),r=st(ot.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=je(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),n?Z.createElement("pre",{style:o},n):null,null)}const Qe=Z.createElement(Ze,null);class et extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Z.createElement(Ve.Provider,{value:this.props.routeContext},Z.createElement(We.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tt(e){let{routeContext:t,match:n,children:r}=e,o=Z.useContext(Fe);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(Ve.Provider,{value:t},r)}function nt(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}let a=e,s=null==(o=n)?void 0:o.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||re(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let e=a[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=u),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){c=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let i,u=!1,d=null,h=null;var p;n&&(i=s&&r.route.id?s[r.route.id]:void 0,d=r.route.errorElement||Qe,c&&(l<0&&0===o?(p="route-fallback",!1||ct[p]||(ct[p]=!0),u=!0,h=null):l===o&&(u=!0,h=r.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,o+1)),m=()=>{let t;return t=i?d:u?h:r.route.Component?Z.createElement(r.route.Component,null):r.route.element?r.route.element:e,Z.createElement(tt,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?Z.createElement(et,{location:n.location,revalidation:n.revalidation,component:d,error:i,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var rt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rt||{}),ot=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ot||{});function it(e){let t=Z.useContext(Fe);return t||re(!1),t}function at(e){let t=Z.useContext(Be);return t||re(!1),t}function st(e){let t=function(){let e=Z.useContext(Ve);return e||re(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}const ct={};Q.startTransition;function lt(e){let{to:t,replace:n,state:r,relative:o}=e;He()||re(!1);let{future:i,static:a}=Z.useContext(ze),{matches:s}=Z.useContext(Ve),{pathname:c}=Ge(),l=qe(),u=Ie(t,Ne(s,i.v7_relativeSplatPath),c,"path"===o),d=JSON.stringify(u);return Z.useEffect((()=>l(JSON.parse(d),{replace:n,state:r,relative:o})),[l,d,o,n,r]),null}function ut(e){return function(e){let t=Z.useContext(Ve).outlet;return t?Z.createElement(Ye.Provider,{value:e},t):t}(e.context)}function dt(e){re(!1)}function ht(e){let{basename:t="/",children:n=null,location:r,navigationType:o=$.Pop,navigator:i,static:a=!1,future:s}=e;He()&&re(!1);let c=t.replace(/^\/*/,"/"),l=Z.useMemo((()=>({basename:c,navigator:i,static:a,future:Le({v7_relativeSplatPath:!1},s)})),[c,s,i,a]);"string"===typeof r&&(r=ce(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=r,m=Z.useMemo((()=>{let e=Ee(u,c);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:o}}),[c,u,d,h,p,f,o]);return null==m?null:Z.createElement(ze.Provider,{value:l},Z.createElement(Ue.Provider,{children:n,value:m}))}function pt(e){let{children:t,location:n}=e;return $e(ft(t),n)}new Promise((()=>{}));Z.Component;function ft(e,t){void 0===t&&(t=[]);let n=[];return Z.Children.forEach(e,((e,r)=>{if(!Z.isValidElement(e))return;let o=[...t,r];if(e.type===Z.Fragment)return void n.push.apply(n,ft(e.props.children,o));e.type!==dt&&re(!1),e.props.index&&e.props.children&&re(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ft(e.props.children,o)),n.push(i)})),n}var mt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gt=Z.createContext&&Z.createContext(mt),yt=["attr","size","title"];function vt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){return e&&e.map(((e,t)=>Z.createElement(e.tag,wt({key:t},e.attr),St(e.child))))}function Ct(e){return t=>Z.createElement(Et,bt({attr:wt({},e.attr)},t),St(e.child))}function Et(e){var t=t=>{var n,{attr:r,size:o,title:i}=e,a=vt(e,yt),s=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),Z.createElement("svg",bt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:wt(wt({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&Z.createElement("title",null,i),e.children)};return void 0!==gt?Z.createElement(gt.Consumer,null,(e=>t(e))):t(mt)}function _t(e){return Ct({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function Tt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Nt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function It(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function At(e){return Ct({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Ot(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function Rt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function Mt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(e)}function jt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function Pt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Dt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M144 208c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zM256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(e)}function Lt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}function Ft(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352 48H160a48 48 0 0 0-48 48v368l144-128 144 128V96a48 48 0 0 0-48-48z"},child:[]}]})(e)}function Bt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(e)}function zt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256z"},child:[]}]})(e)}function Ut(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(e)}function Vt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 56v120a32 32 0 0 0 32 32h120m-232 80h160m-160 80h160"},child:[]}]})(e)}function Wt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448zm-176.34-64c-41.49 0-81.5-12.28-118.92-36.5-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58 2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1 204.8 204.8 0 0 1-51.16 6.47zm235.18-145.4c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83 2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1 192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37 34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16 310.72 310.72 0 0 1-64.12 72.73 2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13 343.49 343.49 0 0 0 68.64-78.48 32.2 32.2 0 0 0-.1-34.78z"},child:[]},{tag:"path",attr:{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4 2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160zm-90.22 73.66a2 2 0 0 0-3.38 1 96 96 0 0 0 115 115 2 2 0 0 0 1-3.38z"},child:[]}]})(e)}function Ht(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(e)}function Gt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(e)}function Kt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 0 1-128 0v-16"},child:[]}]})(e)}function qt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M336 256H176"},child:[]}]})(e)}const Yt=n.p+"static/media/logo-headV2.3ef3d67b0f1894c2fdc3.png";var Xt=n(7950),Jt=n.t(Xt,2);function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}function Zt(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Qt(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const en=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tn=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];const nn=Z.createContext({isTransitioning:!1});new Map;const rn=Q.startTransition;Jt.flushSync,Q.useId;function on(e){let{basename:t,children:n,future:r,window:o}=e,i=Z.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),le((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return ae("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:se(t)}),null,e)}({window:o,v5Compat:!0}));let a=i.current,[s,c]=Z.useState({action:a.action,location:a.location}),{v7_startTransition:l}=r||{},u=Z.useCallback((e=>{l&&rn?rn((()=>c(e))):c(e)}),[c,l]);return Z.useLayoutEffect((()=>a.listen(u)),[a,u]),Z.createElement(ht,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const an="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,sn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=Z.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:i,replace:a,state:s,target:c,to:l,preventScrollReset:u,unstable_viewTransition:d}=e,h=Zt(e,en),{basename:p}=Z.useContext(ze),f=!1;if("string"===typeof l&&sn.test(l)&&(n=l,an))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),n=Ee(t.pathname,p);t.origin===e.origin&&null!=n?l=n+t.search+t.hash:f=!0}catch(y){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;He()||re(!1);let{basename:r,navigator:o}=Z.useContext(ze),{hash:i,pathname:a,search:s}=Je(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:Ae([r,a])),o.createHref({pathname:c,search:s,hash:i})}(l,{relative:o}),g=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s}=void 0===t?{}:t,c=qe(),l=Ge(),u=Je(e,{relative:a});return Z.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:se(l)===se(u);c(e,{replace:n,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s})}}),[l,c,u,r,o,n,e,i,a,s])}(l,{replace:a,state:s,target:c,preventScrollReset:u,relative:o,unstable_viewTransition:d});return Z.createElement("a",$t({},h,{href:n||m,onClick:f||i?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:c}))}));const ln=Z.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:i=!1,style:a,to:s,unstable_viewTransition:c,children:l}=e,u=Zt(e,tn),d=Je(s,{relative:u.relative}),h=Ge(),p=Z.useContext(Be),{navigator:f}=Z.useContext(ze),m=null!=p&&function(e,t){void 0===t&&(t={});let n=Z.useContext(nn);null==n&&re(!1);let{basename:r}=hn(un.useViewTransitionState),o=Je(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ee(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ee(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=Se(o.pathname,a)||null!=Se(o.pathname,i)}(d)&&!0===c,g=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,y=h.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(y=y.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase());const b="/"!==g&&g.endsWith("/")?g.length-1:g.length;let x,w=y===g||!i&&y.startsWith(g)&&"/"===y.charAt(b),k=null!=v&&(v===g||!i&&v.startsWith(g)&&"/"===v.charAt(g.length)),S={isActive:w,isPending:k,isTransitioning:m},C=w?n:void 0;x="function"===typeof o?o(S):[o,w?"active":null,k?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof a?a(S):a;return Z.createElement(cn,$t({},u,{"aria-current":C,className:x,ref:t,style:E,to:s,unstable_viewTransition:c}),"function"===typeof l?l(S):l)}));var un,dn;function hn(e){let t=Z.useContext(Fe);return t||re(!1),t}function pn(e){let t=Z.useRef(Qt(e)),n=Z.useRef(!1),r=Ge(),o=Z.useMemo((()=>function(e,t){let n=Qt(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),i=qe(),a=Z.useCallback(((e,t)=>{const r=Qt("function"===typeof e?e(o):e);n.current=!0,i("?"+r,t)}),[i,o]);return[o,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(un||(un={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(dn||(dn={}));var fn=n(579);const mn=()=>{const[e,t]=(0,Z.useState)(null),[n,r]=(0,Z.useState)(""),[o,i]=(0,Z.useState)(""),[a,s]=(0,Z.useState)(void 0),[c,l]=(0,Z.useState)(""),[u,d]=(0,Z.useState)(""),[h,p]=(0,Z.useState)(""),[f,m]=(0,Z.useState)(""),[g,y]=(0,Z.useState)(""),[v,b]=(0,Z.useState)(""),[x,w]=(0,Z.useState)(""),[k,S]=(0,Z.useState)(!1);(0,Z.useEffect)((()=>{const e=document.querySelectorAll(".toggle"),t=document.querySelector("main"),n=document.querySelectorAll(".bullets span"),r=e=>{e.classList.add("active")},o=e=>{""===e.value&&e.classList.remove("active")},i=()=>{null===t||void 0===t||t.classList.toggle("sign-up-mode")},a=e=>{const t=e.currentTarget.dataset.value,r=document.querySelector(".img-".concat(t)),o=document.querySelector(".text-group");if(r&&o){n.forEach((e=>e.classList.remove("active"))),e.currentTarget.classList.add("active");document.querySelectorAll(".image").forEach((e=>e.classList.remove("show"))),r.classList.add("show"),o.style.transform="translateY(".concat(2.2*-(parseInt(t||"1",10)-1),"rem)")}};e.forEach((e=>e.addEventListener("click",i))),n.forEach((e=>e.addEventListener("click",a)));const s=document.querySelectorAll(".input-field");return s.forEach((e=>{e.addEventListener("focus",(()=>r(e))),e.addEventListener("blur",(()=>o(e)))})),()=>{e.forEach((e=>e.removeEventListener("click",i))),n.forEach((e=>e.removeEventListener("click",a))),s.forEach((e=>{e.removeEventListener("focus",(()=>r(e))),e.removeEventListener("blur",(()=>o(e)))}))}}),[]);const C=(0,Z.useCallback)((()=>{t(null)}),[]),E=(0,Z.useCallback)((e=>{t(e)}),[]),_=(0,Z.useCallback)((async()=>{try{const t="https://kku-blog-server-ak2l.onrender.com/login",r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({action:"login",email:n,password:o})});if(!r.ok){const e=r.statusText||"Unknown Error";throw new Error("Server returned ".concat(r.status," ").concat(e," for ").concat(t))}const i=r.headers.get("content-type");let a;if(a=i&&i.includes("application/json")?await r.json():await r.text(),a.success)if(a.id)try{localStorage.setItem("userId",a.id),s(a.id),window.location.href="/",E("\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")}catch(e){console.error("Failed to save userId in localStorage",e),E("Failed to save user session")}else console.error("Response does not contain ID:",a),E("Response does not contain ID");else E("\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e2b\u0e23\u0e37\u0e2d\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07")}catch(t){console.error("Error:",t.message),t instanceof TypeError?(console.error("Network error or CORS issue"),E("Network error or CORS issue. Please try again.")):t instanceof SyntaxError?(console.error("Error parsing JSON response"),E("Error parsing server response. Please try again.")):E("\u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07")}}),[n,o,E]);return(0,fn.jsx)("div",{className:"login-container",children:(0,fn.jsxs)("main",{children:[(0,fn.jsx)("div",{className:"box",children:(0,fn.jsxs)("div",{className:"inner-box",children:[(0,fn.jsxs)("div",{className:"forms-wrap",children:[(0,fn.jsxs)("form",{autoComplete:"off",className:"sign-in-form",onSubmit:e=>e.preventDefault(),children:[(0,fn.jsx)("div",{className:"logo",children:(0,fn.jsx)("img",{src:Yt,alt:"easyclass"})}),(0,fn.jsxs)("div",{className:"heading",children:[(0,fn.jsx)("h2",{children:"Welcome Back"}),(0,fn.jsx)("h6",{children:"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19?"}),(0,fn.jsx)("a",{href:"#",className:"toggle",children:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19"})]}),(0,fn.jsxs)("div",{className:"actual-form",children:[(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("input",{type:"email",minLength:4,className:"input-field",autoComplete:"off",required:!0,value:n,onChange:e=>r(e.target.value)}),(0,fn.jsx)("label",{className:"label-login",children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"})]}),(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("input",{type:"password",minLength:4,className:"input-field",autoComplete:"off",value:o,onChange:e=>i(e.target.value),required:!0}),(0,fn.jsx)("label",{className:"label-login",children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})]}),(0,fn.jsx)("button",{type:"button",className:"sign-btn",onClick:_,children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),(0,fn.jsxs)("p",{className:"text",children:[(0,fn.jsx)(cn,{to:"/forgot-password",children:"\u0e25\u0e37\u0e21\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})," \u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"]})]})]}),(0,fn.jsxs)("form",{autoComplete:"off",className:"sign-up-form",onSubmit:async e=>{try{const e={action:"register",username:c,email:n,password:o,tel:u,firstname:h,lastname:f,gender:v,date_of_birth:g},t=await fetch("https://kku-blog-server-ak2l.onrender.com/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),r=await t.json();r.success?E("\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!"):E(r.message||"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")}catch(t){console.error("Registration failed:",t),E("\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")}},children:[(0,fn.jsx)("div",{className:"logo",children:(0,fn.jsx)("img",{src:Yt,alt:"easyclass"})}),(0,fn.jsxs)("div",{className:"heading",children:[(0,fn.jsx)("h2",{children:"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"}),(0,fn.jsx)("h6",{children:"\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e41\u0e25\u0e49\u0e27?"}),(0,fn.jsx)("a",{href:"#",className:"toggle",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]}),(0,fn.jsxs)("div",{className:"actual-form",children:[(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("input",{type:"text",minLength:4,className:"input-field",autoComplete:"off",value:h,onChange:e=>p(e.target.value),required:!0}),(0,fn.jsx)("label",{className:"label-login",children:"\u0e0a\u0e37\u0e48\u0e2d"})]}),(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("input",{type:"text",minLength:4,className:"input-field",autoComplete:"off",required:!0,value:c,onChange:e=>l(e.target.value)}),(0,fn.jsx)("label",{className:"label-login",children:"Username"})]}),(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("input",{type:"email",className:"input-field",autoComplete:"off",value:n,onChange:e=>r(e.target.value),required:!0}),(0,fn.jsx)("label",{className:"label-login",children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"})]}),(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("input",{type:"password",minLength:4,className:"input-field",autoComplete:"off",value:o,onChange:e=>i(e.target.value),required:!0}),(0,fn.jsx)("label",{className:"label-login",children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})]}),(0,fn.jsx)("input",{type:"submit",value:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19",className:"sign-btn"}),(0,fn.jsxs)("p",{className:"text",children:["\u0e42\u0e14\u0e22\u0e01\u0e32\u0e23\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19 \u0e09\u0e31\u0e19\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a",(0,fn.jsx)("a",{href:"#",children:"\u0e02\u0e49\u0e2d\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e41\u0e25\u0e30\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e44\u0e02"})," \u0e41\u0e25\u0e30",(0,fn.jsx)("a",{href:"#",children:"\u0e19\u0e42\u0e22\u0e1a\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e48\u0e27\u0e19\u0e15\u0e31\u0e27"})]})]})]})]}),(0,fn.jsxs)("div",{className:"carousell",children:[(0,fn.jsxs)("div",{className:"images-wrapper",children:[(0,fn.jsx)("img",{src:"../",className:"image img-1 show",alt:""}),(0,fn.jsx)("img",{src:"./img/image2.png",className:"image img-2",alt:""}),(0,fn.jsx)("img",{src:"./img/image3.png",className:"image img-3",alt:""})]}),(0,fn.jsxs)("div",{className:"text-slider",children:[(0,fn.jsx)("div",{className:"text-wrap",children:(0,fn.jsxs)("div",{className:"text-group",children:[(0,fn.jsx)("h2",{children:"\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e2d\u0e07"}),(0,fn.jsx)("h2",{children:"\u0e41\u0e25\u0e01\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e01\u0e31\u0e1a\u0e1c\u0e39\u0e49\u0e2d\u0e37\u0e48\u0e19"}),(0,fn.jsx)("h2",{children:"\u0e2b\u0e32\u0e04\u0e27\u0e32\u0e21\u0e23\u0e39\u0e49\u0e01\u0e31\u0e1a\u0e1a\u0e38\u0e04\u0e04\u0e25\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b"})]})}),(0,fn.jsxs)("div",{className:"bullets",children:[(0,fn.jsx)("span",{className:"active","data-value":"1"}),(0,fn.jsx)("span",{"data-value":"2"}),(0,fn.jsx)("span",{"data-value":"3"})]})]})]})]})}),e&&(0,fn.jsx)("div",{className:"alert-overlay",children:(0,fn.jsxs)("div",{className:"alertbox",children:[e.includes("\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")?(0,fn.jsx)(It,{style:{color:"#28a745",fontSize:"32px"}}):(0,fn.jsx)(zt,{style:{color:"#dc3545",fontSize:"32px"}}),(0,fn.jsx)("p",{children:e}),(0,fn.jsx)("button",{className:"btnClose",onClick:C,children:"\u0e1b\u0e34\u0e14"})]})})]})})},gn=(0,Z.createContext)(null);function yn(e){const t=(0,Z.useRef)(null);return null===t.current&&(t.current=e()),t.current}const vn=(0,Z.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bn extends Z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xn(e){let{children:t,isPresent:n}=e;const r=(0,Z.useId)(),o=(0,Z.useRef)(null),i=(0,Z.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,Z.useContext)(vn);return(0,Z.useInsertionEffect)((()=>{const{width:e,height:t,top:s,left:c}=i.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=r;const l=document.createElement("style");return a&&(l.nonce=a),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(c,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[n]),(0,fn.jsx)(bn,{isPresent:n,childRef:o,sizeRef:i,children:Z.cloneElement(t,{ref:o})})}const wn=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:i,presenceAffectsLayout:a,mode:s}=e;const c=yn(kn),l=(0,Z.useId)(),u=(0,Z.useMemo)((()=>({id:l,initial:n,isPresent:r,custom:i,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;o&&o()},register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random()]:[r]);return(0,Z.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),Z.useEffect((()=>{!r&&!c.size&&o&&o()}),[r]),"popLayout"===s&&(t=(0,fn.jsx)(xn,{isPresent:r,children:t})),(0,fn.jsx)(gn.Provider,{value:u,children:t})};function kn(){return new Map}const Sn=(0,Z.createContext)({}),Cn=e=>e;let En=Cn,_n=Cn;const Tn=e=>e.key||"";function Nn(e){const t=[];return Z.Children.forEach(e,(e=>{(0,Z.isValidElement)(e)&&t.push(e)})),t}const In="undefined"!==typeof window,An=In?Z.useLayoutEffect:Z.useEffect,On=e=>{let{children:t,exitBeforeEnter:n,custom:r,initial:o=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:s="sync"}=e;_n(!n,"Replace exitBeforeEnter with mode='wait'");const c=(0,Z.useMemo)((()=>Nn(t)),[t]),l=c.map(Tn),u=(0,Z.useRef)(!0),d=(0,Z.useRef)(c),h=yn((()=>new Map)),[p,f]=(0,Z.useState)(c),[m,g]=(0,Z.useState)(c);An((()=>{u.current=!1,d.current=c;for(let e=0;e<m.length;e++){const t=Tn(m[e]);l.includes(t)?h.delete(t):!0!==h.get(t)&&h.set(t,!1)}}),[m,l.length,l.join("-")]);const y=[];if(c!==p){let e=[...c];for(let t=0;t<m.length;t++){const n=m[t],r=Tn(n);l.includes(r)||(e.splice(t,0,n),y.push(n))}return"wait"===s&&y.length&&(e=y),g(Nn(e)),void f(c)}const{forceRender:v}=(0,Z.useContext)(Sn);return(0,fn.jsx)(fn.Fragment,{children:m.map((e=>{const t=Tn(e),n=c===m||l.includes(t);return(0,fn.jsx)(wn,{isPresent:n,initial:!(u.current&&!o)&&void 0,custom:n?void 0:r,presenceAffectsLayout:a,mode:s,onExitComplete:n?void 0:()=>{if(!h.has(t))return;h.set(t,!0);let e=!0;h.forEach((t=>{t||(e=!1)})),e&&(null===v||void 0===v||v(),g(d.current),i&&i())},children:e},t)}))})};function Rn(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function jn(e){var t=function(e,t){if("object"!=Mn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mn(t)?t:t+""}function Pn(e,t,n){return(t=jn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}var Bn=n(8587);function zn(e,t){if(null==e)return{};var n,r,o=(0,Bn.A)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Un=e=>Array.isArray(e);function Vn(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wn(e){return"string"===typeof e||Array.isArray(e)}function Hn(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Gn(e,t,n,r){if("function"===typeof t){const[o,i]=Hn(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=Hn(r);t=t(void 0!==n?n:e.custom,o,i)}return t}function Kn(e,t,n){const r=e.getProps();return Gn(r,t,void 0!==n?n:r.custom,e)}const qn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yn=["initial",...qn],Xn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jn=new Set(Xn),$n=e=>1e3*e,Zn=e=>e/1e3,Qn={type:"spring",stiffness:500,damping:25,restSpeed:10},er={type:"keyframes",duration:.8},tr={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nr=(e,t)=>{let{keyframes:n}=t;return n.length>2?er:Jn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Qn:tr};function rr(e,t){return e[t]||e.default||e}const or=!1,ir=!1,ar=!1,sr=e=>null!==e;function cr(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(sr),a=r&&"loop"!==o&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}const lr=["read","resolveKeyframes","update","preRender","render","postRender"];function ur(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=lr.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,o=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function s(t){i.has(t)&&(c.schedule(t),e()),t(a)}const c={schedule:function(e){const o=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{a=e,r?o=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(s),r=!1,o&&(o=!1,c.process(e)))}};return c}(i),e)),{}),{read:s,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:h}=a,p=()=>{const i=ir?o.timestamp:performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,s.process(o),c.process(o),l.process(o),u.process(o),d.process(o),h.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(p))},f=lr.reduce(((t,i)=>{const s=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(p)),s.schedule(t,i,a)},t}),{});return{schedule:f,cancel:e=>{for(let t=0;t<lr.length;t++)a[lr[t]].cancel(e)},state:o,steps:a}}const{schedule:dr,cancel:hr,state:pr,steps:fr}=ur("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Cn,!0),mr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gr=1e-7,yr=12;function vr(e,t,n,r){if(e===t&&n===r)return Cn;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=mr(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>gr&&++s<yr);return a}(t,0,1,e,n);return e=>0===e||1===e?e:mr(o(e),t,r)}const br=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xr=e=>t=>1-e(1-t),wr=vr(.33,1.53,.69,.99),kr=xr(wr),Sr=br(kr),Cr=e=>(e*=2)<1?.5*kr(e):.5*(2-Math.pow(2,-10*(e-1))),Er=e=>1-Math.sin(Math.acos(e)),_r=xr(Er),Tr=br(Er),Nr=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function Ir(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||Nr(e))}const Ar=e=>/^\x2D?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Or=e=>t=>"string"===typeof t&&t.startsWith(e),Rr=Or("--"),Mr=Or("var(--"),jr=e=>!!Mr(e)&&Pr.test(e.split("/*")[0].trim()),Pr=/var\(\x2D\x2D(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Dr=/^var\(\x2D\x2D(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;_n(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,o]=function(e){const t=Dr.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Ar(e)?parseFloat(e):e}return jr(o)?Lr(o,t,n+1):o}const Fr=(e,t,n)=>n>t?t:n<e?e:n,Br={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},zr=Ln(Ln({},Br),{},{transform:e=>Fr(0,1,e)}),Ur=Ln(Ln({},Br),{},{default:1}),Vr=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Wr=Vr("deg"),Hr=Vr("%"),Gr=Vr("px"),Kr=Vr("vh"),qr=Vr("vw"),Yr=Ln(Ln({},Hr),{},{parse:e=>Hr.parse(e)/100,transform:e=>Hr.transform(100*e)}),Xr=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Jr=e=>e===Br||e===Gr,$r=(e,t)=>parseFloat(e.split(", ")[t]),Zr=(e,t)=>(n,r)=>{let{transform:o}=r;if("none"===o||!o)return 0;const i=o.match(/^matrix3d\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);if(i)return $r(i[1],t);{const t=o.match(/^matrix\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)\)$/);return t?$r(t[1],e):0}},Qr=new Set(["x","y","z"]),eo=Xn.filter((e=>!Qr.has(e)));const to={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Zr(4,13),y:Zr(5,14)};to.translateX=to.x,to.translateY=to.y;const no=e=>t=>t.test(e),ro=[Br,Gr,Hr,Wr,qr,Kr,{test:e=>"auto"===e,parse:e=>e}],oo=e=>ro.find(no(e)),io=new Set;let ao=!1,so=!1;function co(){if(so){const e=Array.from(io).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return eo.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var o;null===(o=e.getValue(n))||void 0===o||o.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}so=!1,ao=!1,io.forEach((e=>e.complete())),io.clear()}function lo(){io.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(so=!0)}))}class uo{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(io.add(this),ao||(ao=!0,dr.read(lo),dr.resolveKeyframes(co))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let o=0;o<e.length;o++)if(null===e[o])if(0===o){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),io.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,io.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ho=e=>Math.round(1e5*e)/1e5,po=/\x2D?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const fo=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:\x2D?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}\x2D?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,mo=(e,t)=>n=>Boolean("string"===typeof n&&fo.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),go=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,i,a,s]=r.match(po);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},yo=Ln(Ln({},Br),{},{transform:e=>Math.round((e=>Fr(0,255,e))(e))}),vo={test:mo("rgb","red"),parse:go("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+yo.transform(t)+", "+yo.transform(n)+", "+yo.transform(r)+", "+ho(zr.transform(o))+")"}};const bo={test:mo("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:vo.transform},xo={test:mo("hsl","hue"),parse:go("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+Hr.transform(ho(n))+", "+Hr.transform(ho(r))+", "+ho(zr.transform(o))+")"}},wo={test:e=>vo.test(e)||bo.test(e)||xo.test(e),parse:e=>vo.test(e)?vo.parse(e):xo.test(e)?xo.parse(e):bo.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?vo.transform(e):xo.transform(e)},ko=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:\x2D?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}\x2D?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const So="number",Co="color",Eo="var",_o="var(",To="${}",No=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\x2D\x2D(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:\x2D?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}\x2D?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|\x2D?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function Io(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace(No,(e=>(wo.test(e)?(r.color.push(i),o.push(Co),n.push(wo.parse(e))):e.startsWith(_o)?(r.var.push(i),o.push(Eo),n.push(e)):(r.number.push(i),o.push(So),n.push(parseFloat(e))),++i,To))).split(To);return{values:n,split:a,indexes:r,types:o}}function Ao(e){return Io(e).values}function Oo(e){const{split:t,types:n}=Io(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===So?ho(e[i]):t===Co?wo.transform(e[i]):e[i]}return o}}const Ro=e=>"number"===typeof e?0:e;const Mo={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(po))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(ko))||void 0===n?void 0:n.length)||0)>0},parse:Ao,createTransformer:Oo,getAnimatableNone:function(e){const t=Ao(e);return Oo(e)(t.map(Ro))}},jo=new Set(["brightness","contrast","saturate","opacity"]);function Po(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(po)||[];if(!r)return e;const o=n.replace(r,"");let i=jo.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const Do=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Lo=Ln(Ln({},Mo),{},{getAnimatableNone:e=>{const t=e.match(Do);return t?t.map(Po).join(" "):e}}),Fo={borderWidth:Gr,borderTopWidth:Gr,borderRightWidth:Gr,borderBottomWidth:Gr,borderLeftWidth:Gr,borderRadius:Gr,radius:Gr,borderTopLeftRadius:Gr,borderTopRightRadius:Gr,borderBottomRightRadius:Gr,borderBottomLeftRadius:Gr,width:Gr,maxWidth:Gr,height:Gr,maxHeight:Gr,top:Gr,right:Gr,bottom:Gr,left:Gr,padding:Gr,paddingTop:Gr,paddingRight:Gr,paddingBottom:Gr,paddingLeft:Gr,margin:Gr,marginTop:Gr,marginRight:Gr,marginBottom:Gr,marginLeft:Gr,backgroundPositionX:Gr,backgroundPositionY:Gr},Bo={rotate:Wr,rotateX:Wr,rotateY:Wr,rotateZ:Wr,scale:Ur,scaleX:Ur,scaleY:Ur,scaleZ:Ur,skew:Wr,skewX:Wr,skewY:Wr,distance:Gr,translateX:Gr,translateY:Gr,translateZ:Gr,x:Gr,y:Gr,z:Gr,perspective:Gr,transformPerspective:Gr,opacity:zr,originX:Yr,originY:Yr,originZ:Gr},zo=Ln(Ln({},Br),{},{transform:Math.round}),Uo=Ln(Ln(Ln({},Fo),Bo),{},{zIndex:zo,size:Gr,fillOpacity:zr,strokeOpacity:zr,numOctaves:zo}),Vo=Ln(Ln({},Uo),{},{color:wo,backgroundColor:wo,outlineColor:wo,fill:wo,stroke:wo,borderColor:wo,borderTopColor:wo,borderRightColor:wo,borderBottomColor:wo,borderLeftColor:wo,filter:Lo,WebkitFilter:Lo}),Wo=e=>Vo[e];function Ho(e,t){let n=Wo(e);return n!==Lo&&(n=Mo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Go=new Set(["auto","none","0"]);class Ko extends uo{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),jr(n))){const r=Lr(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Xr.has(n)||2!==e.length)return;const[r,o]=e,i=oo(r),a=oo(o);if(i!==a)if(Jr(i)&&Jr(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)Ir(e[r])&&n.push(r);n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!Go.has(t)&&Io(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=Ho(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=to[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function qo(e){return"function"===typeof e}let Yo;function Xo(){Yo=void 0}const Jo={now:()=>(void 0===Yo&&Jo.set(pr.isProcessing||ir?pr.timestamp:performance.now()),Yo),set:e=>{Yo=e,queueMicrotask(Xo)}},$o=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Mo.test(e)&&"0"!==e||e.startsWith("url(")));function Zo(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=$o(o,t),s=$o(i,t);return En(a===s,"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(i,'". ').concat(o," is not an animatable value - to enable this animation set ").concat(o," to a value animatable to ").concat(i," via the `style` property.")),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||qo(n))&&r)}const Qo=["autoplay","delay","type","repeat","repeatDelay","repeatType"];class ei{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:a="loop"}=e,s=zn(e,Qo);this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Jo.now(),this.options=Ln({autoplay:t,delay:n,type:r,repeat:o,repeatDelay:i,repeatType:a},s),this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(lo(),co()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Jo.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:o,delay:i,onComplete:a,onUpdate:s,isGenerator:c}=this.options;if(!c&&!Zo(e,n,r,o)){if(ar||!i)return null===s||void 0===s||s(cr(e,this.options,t)),null===a||void 0===a||a(),void this.resolveFinishedPromise();this.options.duration=0}const l=this.initPlayback(e,t);!1!==l&&(this._resolved=Ln({keyframes:e,finalKeyframe:t},l),this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}function ti(e,t){return t?e*(1e3/t):0}const ni=5;function ri(e,t,n){const r=Math.max(t-ni,0);return ti(n-e(r),t-r)}const oi=.001,ii=.01,ai=10,si=.05,ci=1;function li(e){let t,n,{duration:r=800,bounce:o=.25,velocity:i=0,mass:a=1}=e;En(r<=$n(ai),"Spring duration must be 10 seconds or less");let s=1-o;s=Fr(si,ci,s),r=Fr(ii,ai,Zn(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-i,a=di(e,s),c=Math.exp(-n);return oi-o/a*c},n=e=>{const n=e*s*r,o=n*i+i,a=Math.pow(s,2)*Math.pow(e,2)*r,c=Math.exp(-n),l=di(Math.pow(e,2),s);return(-t(e)+oi>0?-1:1)*((o-a)*c)/l}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-oi,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const c=function(e,t,n){let r=n;for(let o=1;o<ui;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=$n(r),isNaN(c))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(c,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const ui=12;function di(e,t){return e*Math.sqrt(1-t*t)}const hi=["keyframes","restDelta","restSpeed"],pi=["duration","bounce"],fi=["stiffness","damping","mass"];function mi(e,t){return t.some((t=>void 0!==e[t]))}function gi(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,o=zn(e,hi);const i=t[0],a=t[t.length-1],s={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t=Ln({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!mi(e,fi)&&mi(e,pi)){const n=li(e);t=Ln(Ln(Ln({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(Ln(Ln({},o),{},{velocity:-Zn(o.velocity||0)})),f=h||0,m=l/(2*Math.sqrt(c*u)),g=a-i,y=Zn(Math.sqrt(c/u)),v=Math.abs(g)<5;let b;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=di(y,m);b=t=>{const n=Math.exp(-m*y*t);return a-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>a-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:p&&d||null,next:e=>{const t=b(e);if(p)s.done=e>=d;else{let o=0;m<1&&(o=0===e?$n(f):ri(b,e,t));const i=Math.abs(o)<=r,c=Math.abs(a-t)<=n;s.done=i&&c}return s.value=s.done?a:t,s}}}function yi(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:c,max:l,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===c?l:void 0===l||Math.abs(c-e)<Math.abs(l-e)?c:l;let m=r*n;const g=h+m,y=void 0===s?g:s(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/o),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);p.done=Math.abs(t)<=u,p.value=p.done?y:n};let w,k;const S=e=>{(e=>void 0!==c&&e<c||void 0!==l&&e>l)(p.value)&&(w=e,k=gi({keyframes:[p.value,f(p.value)],velocity:ri(b,e,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&x(e),p)}}}const vi=vr(.42,0,1,1),bi=vr(0,0,.58,1),xi=vr(.42,0,.58,1),wi={linear:Cn,easeIn:vi,easeInOut:xi,easeOut:bi,circIn:Er,circInOut:Tr,circOut:_r,backIn:kr,backInOut:Sr,backOut:wr,anticipate:Cr},ki=e=>{if(Array.isArray(e)){_n(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,o]=e;return vr(t,n,r,o)}return"string"===typeof e?(_n(void 0!==wi[e],"Invalid easing type '".concat(e,"'")),wi[e]):e},Si=(e,t)=>n=>t(e(n)),Ci=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Si)},Ei=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},_i=(e,t,n)=>e+(t-e)*n;function Ti(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ni(e,t){return n=>n>0?t:e}const Ii=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Ai=[bo,vo,xo];function Oi(e){const t=(e=>Ai.find((t=>t.test(e))))(e);if(En(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")),!Boolean(t))return!1;let n=t.parse(e);return t===xo&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Ti(o,e,t+1/3),a=Ti(o,e,t),s=Ti(o,e,t-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}(n)),n}const Ri=(e,t)=>{const n=Oi(e),r=Oi(t);if(!n||!r)return Ni(e,t);const o=Ln({},n);return e=>(o.red=Ii(n.red,r.red,e),o.green=Ii(n.green,r.green,e),o.blue=Ii(n.blue,r.blue,e),o.alpha=_i(n.alpha,r.alpha,e),vo.transform(o))},Mi=new Set(["none","hidden"]);function ji(e,t){return n=>_i(e,t,n)}function Pi(e){return"number"===typeof e?ji:"string"===typeof e?jr(e)?Ni:wo.test(e)?Ri:Fi:Array.isArray(e)?Di:"object"===typeof e?wo.test(e)?Ri:Li:Ni}function Di(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>Pi(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function Li(e,t){const n=Ln(Ln({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Pi(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Fi=(e,t)=>{const n=Mo.createTransformer(t),r=Io(e),o=Io(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Mi.has(e)&&!o.values.length||Mi.has(t)&&!r.values.length?function(e,t){return Mi.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Ci(Di(function(e,t){var n;const r=[],o={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][o[a]],c=null!==(n=e.values[s])&&void 0!==n?n:0;r[i]=c,o[a]++}return r}(r,o),o.values),n):(En(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Ni(e,t))};function Bi(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return _i(e,t,n);return Pi(e)(e,t)}function zi(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(_n(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];if(2===i&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],o=n||Bi,i=e.length-1;for(let a=0;a<i;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Cn:t;n=Ci(e,n)}r.push(n)}return r}(t,r,o),s=a.length,c=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Ei(e[n],e[n+1],t);return a[n](r)};return n?t=>c(Fr(e[0],e[i-1],t)):c}function Ui(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ei(0,t,r);e.push(_i(n,1,o))}}(t,e.length-1),t}function Vi(e,t){return e.map((()=>t||xi)).splice(0,e.length-1)}function Wi(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(ki):ki(o),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Ui(n),t),c=zi(s,n,{ease:Array.isArray(i)?i:Vi(n,i)});return{calculatedDuration:t,next:e=>(a.value=c(e),a.done=e>=t,a)}}const Hi=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>dr.update(t,!0),stop:()=>hr(t),now:()=>pr.isProcessing?pr.timestamp:Jo.now()}},Gi={decay:yi,inertia:yi,tween:Wi,keyframes:Wi,spring:gi},Ki=e=>e/100;class qi extends ei{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:o}=this.options,i=(null===r||void 0===r?void 0:r.KeyframeResolver)||uo;this.resolver=new i(o,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=this.options,a=qo(t)?t:Gi[t]||Wi;let s,c;a!==Wi&&"number"!==typeof e[0]&&(s=Ci(Ki,Bi(e[0],e[1])),e=[0,100]);const l=a(Ln(Ln({},this.options),{},{keyframes:e}));"mirror"===o&&(c=a(Ln(Ln({},this.options),{},{keyframes:[...e].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=function(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}(l));const{calculatedDuration:u}=l,d=u+r;return{generator:l,mirroredGenerator:c,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:s,calculatedDuration:c,totalDuration:l,resolvedDuration:u}=n;if(null===this.startTime)return o.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>l;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=l);let v=this.currentTime,b=o;if(h){const e=Math.min(this.currentTime,l)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/u)):"mirror"===p&&(b=i)),v=Fr(0,1,n)*u}const x=y?{done:!1,value:s[0]}:b.next(v);a&&(x.value=a(x.value));let{done:w}=x;y||null===c||(w=this.speed>=0?this.currentTime>=l:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&void 0!==r&&(x.value=cr(s,this.options,r)),m&&m(x.value),k&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Zn(e.calculatedDuration):0}get time(){return Zn(this.currentTime)}set time(e){e=$n(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Zn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Hi,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Yi=new Set(["opacity","clipPath","filter","transform"]),Xi=e=>Array.isArray(e)&&"number"===typeof e[0],Ji=(e,t)=>{let n="";const r=Math.max(Math.round(t/10),2);for(let o=0;o<r;o++)n+=e(Ei(0,r-1,o))+", ";return"linear(".concat(n.substring(0,n.length-2),")")};function $i(e){let t;return()=>(void 0===t&&(t=e()),t)}const Zi={linearEasing:void 0};function Qi(e,t){const n=$i(e);return()=>{var e;return null!==(e=Zi[t])&&void 0!==e?e:n()}}const ea=Qi((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing");function ta(e){return Boolean("function"===typeof e&&ea()||!e||"string"===typeof e&&(e in ra||ea())||Xi(e)||Array.isArray(e)&&e.every(ta))}const na=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},ra={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:na([0,.65,.55,1]),circOut:na([.55,0,1,.45]),backIn:na([.31,.01,.66,-.59]),backOut:na([.33,1.53,.69,.99])};function oa(e,t){return e?"function"===typeof e&&ea()?Ji(e,t):Xi(e)?na(e):Array.isArray(e)?e.map((e=>oa(e,t)||ra.easeOut)):ra[e]:void 0}function ia(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s,times:c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const l={[t]:n};c&&(l.offset=c);const u=oa(s,o);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}function aa(e,t){e.timeline=t,e.onfinish=null}const sa=$i((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),ca=["onComplete","onUpdate","motionValue","element"],la=["motionValue","onUpdate","onComplete","element"];const ua={anticipate:Cr,backInOut:Sr,circInOut:Tr};class da extends ei{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:o}=this.options;this.resolver=new Ko(o,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:o,ease:i,type:a,motionValue:s,name:c,startTime:l}=this.options;if(!(null===(n=s.owner)||void 0===n?void 0:n.current))return!1;if("string"===typeof i&&ea()&&i in ua&&(i=ua[i]),function(e){return qo(e.type)||"spring"===e.type||!ta(e.ease)}(this.options)){const t=this.options,{onComplete:n,onUpdate:s,motionValue:c,element:l}=t,u=zn(t,ca),d=function(e,t){const n=new qi(Ln(Ln({},t),{},{keyframes:e,repeat:0,delay:0,isGenerator:!0}));let r={done:!1,value:e[0]};const o=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),o.push(r.value),i+=10;return{times:void 0,keyframes:o,duration:i-10,ease:"linear"}}(e,u);1===(e=d.keyframes).length&&(e[1]=e[0]),r=d.duration,o=d.times,i=d.ease,a="keyframes"}const u=ia(s.owner.current,c,e,Ln(Ln({},this.options),{},{duration:r,times:o,ease:i}));return u.startTime=null!==l&&void 0!==l?l:this.calcStartTime(),this.pendingTimeline?(aa(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:n}=this.options;s.set(cr(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Zn(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Zn(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=$n(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Cn;const{animation:n}=t;aa(n,e)}else this.pendingTimeline=e;return Cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:o,ease:i,times:a}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const e=this.options,{motionValue:t,onUpdate:s,onComplete:c,element:l}=e,u=zn(e,la),d=new qi(Ln(Ln({},u),{},{keyframes:n,duration:r,type:o,ease:i,times:a,isGenerator:!0})),h=$n(this.time);t.setWithVelocity(d.sample(h-10).value,d.sample(h).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:i,type:a}=e;return sa()&&n&&Yi.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==o&&0!==i&&"inertia"!==a}}const ha=$i((()=>void 0!==window.ScrollTimeline));class pa{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>ha()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const fa=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ma=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const s=rr(r,e)||{},c=s.delay||r.delay||0;let{elapsed:l=0}=r;l-=$n(c);let u=Ln(Ln({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},s),{},{delay:-l,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{a(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:i?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:c,from:l,elapsed:u}=e,d=zn(e,fa);return!!Object.keys(d).length})(s)||(u=Ln(Ln({},u),nr(e,u))),u.duration&&(u.duration=$n(u.duration)),u.repeatDelay&&(u.repeatDelay=$n(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(ar||or)&&(d=!0,u.duration=0,u.delay=0),d&&!i&&void 0!==t.get()){const e=cr(u.keyframes,s);if(void 0!==e)return dr.update((()=>{u.onUpdate(e),u.onComplete()})),new pa([])}return!i&&da.supports(u)?new da(u):new qi(u)}},ga=e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue),ya=e=>Un(e)?e[e.length-1]||0:e;function va(e,t){-1===e.indexOf(t)&&e.push(t)}function ba(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xa{constructor(){this.subscriptions=[]}add(e){return va(this.subscriptions,e),()=>ba(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wa={current:void 0};class ka{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.11.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Jo.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jo.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new xa);const n=this.events[e].add(t);return"change"===e?()=>{n(),dr.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return wa.current&&wa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Jo.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ti(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sa(e,t){return new ka(e,t)}const Ca=["transitionEnd","transition"];function Ea(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Sa(n))}const _a=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ta="data-"+_a("framerAppearId");function Na(e){return e.props[Ta]}const Ia=e=>Boolean(e&&e.getVelocity);function Aa(e){return Jn.has(e)?"transform":Yi.has(e)?_a(e):void 0}function Oa(e,t){var n;if(!e.applyWillChange)return;const r=e.getValue("willChange");if(function(e){return Boolean(Ia(e)&&e.add)}(r))return r.add(t);!(null===(n=e.props.style)||void 0===n?void 0:n.willChange)&&Aa(t)&&e.setStaticValue("willChange","transform")}const Ra=["transition","transitionEnd"];function Ma(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function ja(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let{transition:a=e.getDefaultTransition(),transitionEnd:s}=t,c=zn(t,Ra);r&&(a=r);const l=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const d in c){const t=e.getValue(d,null!==(i=e.latestValues[d])&&void 0!==i?i:null),r=c[d];if(void 0===r||u&&Ma(u,d))continue;const o=Ln({delay:n},rr(a||{},d));let s=!1;if(window.MotionHandoffAnimation){const t=Na(e);if(t){const e=window.MotionHandoffAnimation(t,d,dr);null!==e&&(o.startTime=e,s=!0)}}Oa(e,d),t.start(ma(d,t,r,e.shouldReduceMotion&&Jn.has(d)?{type:!1}:o,e,s));const h=t.animation;h&&l.push(h)}return s&&Promise.all(l).then((()=>{dr.update((()=>{s&&function(e,t){let n=Kn(e,t)||{},{transitionEnd:r={},transition:o={}}=n,i=zn(n,Ca);i=Ln(Ln({},i),r);for(const a in i)Ea(e,a,ya(i[a]))}(e,s)}))})),l}function Pa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const o=Kn(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const a=o?()=>Promise.all(ja(e,o,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],s=(e.variantChildren.size-1)*r,c=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Da).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(Pa(e,t,Ln(Ln({},i),{},{delay:n+c(r)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[e,t]="beforeChildren"===c?[a,s]:[s,a];return e().then((()=>t()))}return Promise.all([a(),s(n.delay)])}function Da(e,t){return e.sortNodePosition(t)}const La=Yn.length;function Fa(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Fa(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<La;n++){const r=Yn[n],o=e.props[r];(Wn(o)||!1===o)&&(t[r]=o)}return t}const Ba=["transition","transitionEnd"],za=[...qn].reverse(),Ua=qn.length;function Va(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>Pa(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=Pa(e,t,r);else{const o="function"===typeof t?Kn(e,t,r.custom):t;n=Promise.all(ja(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Wa(e){let t=Va(e),n=Ka(),r=!0;const o=t=>(n,r)=>{var o;const i=Kn(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=zn(i,Ba);n=Ln(Ln(Ln({},n),r),t)}return n};function i(i){const{props:a}=e,s=Fa(e.parent)||{},c=[],l=new Set;let u={},d=1/0;for(let t=0;t<Ua;t++){const h=za[t],p=n[h],f=void 0!==a[h]?a[h]:s[h],m=Wn(f),g=h===i?p.isActive:null;!1===g&&(d=t);let y=f===s[h]&&f!==a[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=Ln({},u),!p.isActive&&null===g||!f&&!p.prevProp||Fn(f)||"boolean"===typeof f)continue;const v=Ha(p.prevProp,f);let b=v||h===i&&p.isActive&&!y&&m||t>d&&m,x=!1;const w=Array.isArray(f)?f:[f];let k=w.reduce(o(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=p,C=Ln(Ln({},S),k),E=t=>{b=!0,l.has(t)&&(x=!0,l.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in C){const t=k[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=Un(t)&&Un(n)?!Vn(t,n):t!==n,r?void 0!==t&&null!==t?E(e):l.add(e):void 0!==t&&l.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=k,p.isActive&&(u=Ln(Ln({},u),k)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&c.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(l.size){const t={};l.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),c.push({animation:t})}let h=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=i(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Ka(),r=!0}}}function Ha(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Vn(t,e)}function Ga(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ka(){return{animate:Ga(!0),whileInView:Ga(),whileHover:Ga(),whileTap:Ga(),whileDrag:Ga(),whileFocus:Ga(),exit:Ga()}}class qa{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Ya=0;const Xa={animation:{Feature:class extends qa{constructor(e){super(e),e.animationState||(e.animationState=Wa(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends qa{constructor(){super(...arguments),this.id=Ya++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Ja=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function $a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e["".concat(t,"X")],y:e["".concat(t,"Y")]}}}const Za=e=>t=>Ja(t)&&e(t,$a(t));function Qa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function es(e,t,n,r){return Qa(e,t,Za(n),r)}const ts=(e,t)=>Math.abs(e-t);class ns{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=is(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=ts(e.x,t.x),r=ts(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=pr;this.history.push(Ln(Ln({},r),{},{timestamp:o}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rs(t,this.transformPagePoint),dr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=is("pointercancel"===e.type?this.lastMoveEventInfo:rs(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Ja(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=rs($a(e),this.transformPagePoint),{point:a}=i,{timestamp:s}=pr;this.history=[Ln(Ln({},a),{},{timestamp:s})];const{onSessionStart:c}=t;c&&c(e,is(i,this.history)),this.removeListeners=Ci(es(this.contextWindow,"pointermove",this.handlePointerMove),es(this.contextWindow,"pointerup",this.handlePointerUp),es(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function rs(e,t){return t?{point:t(e.point)}:e}function os(e,t){return{x:e.x-t.x,y:e.y-t.y}}function is(e,t){let{point:n}=e;return{point:n,delta:os(n,ss(t)),offset:os(n,as(t)),velocity:cs(t,.1)}}function as(e){return e[0]}function ss(e){return e[e.length-1]}function cs(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ss(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>$n(t)));)n--;if(!r)return{x:0,y:0};const i=Zn(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ls(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const us=ls("dragHorizontal"),ds=ls("dragVertical");function hs(e){let t=!1;if("y"===e)t=ds();else if("x"===e)t=us();else{const e=us(),n=ds();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ps(){const e=hs(!0);return!e||(e(),!1)}function fs(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const ms=.9999,gs=1.0001,ys=-.01,vs=.01;function bs(e){return e.max-e.min}function xs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=_i(t.min,t.max,e.origin),e.scale=bs(n)/bs(t),e.translate=_i(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ms&&e.scale<=gs||isNaN(e.scale))&&(e.scale=1),(e.translate>=ys&&e.translate<=vs||isNaN(e.translate))&&(e.translate=0)}function ws(e,t,n,r){xs(e.x,t.x,n.x,r?r.originX:void 0),xs(e.y,t.y,n.y,r?r.originY:void 0)}function ks(e,t,n){e.min=n.min+t.min,e.max=e.min+bs(t)}function Ss(e,t,n){e.min=t.min-n.min,e.max=e.min+bs(t)}function Cs(e,t,n){Ss(e.x,t.x,n.x),Ss(e.y,t.y,n.y)}function Es(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function _s(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Ts=.35;function Ns(e,t,n){return{min:Is(e,t),max:Is(e,n)}}function Is(e,t){return"number"===typeof e?e:e[t]||0}const As=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),Os=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Rs(e){return[e("x"),e("y")]}function Ms(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function js(e){return void 0===e||1===e}function Ps(e){let{scale:t,scaleX:n,scaleY:r}=e;return!js(t)||!js(n)||!js(r)}function Ds(e){return Ps(e)||Ls(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ls(e){return Fs(e.x)||Fs(e.y)}function Fs(e){return e&&"0%"!==e}function Bs(e,t,n){return n+t*(e-n)}function zs(e,t,n,r,o){return void 0!==o&&(e=Bs(e,o,r)),Bs(e,n,r)+t}function Us(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=zs(e.min,t,n,r,o),e.max=zs(e.max,t,n,r,o)}function Vs(e,t){let{x:n,y:r}=t;Us(e.x,n.translate,n.scale,n.originPoint),Us(e.y,r.translate,r.scale,r.originPoint)}const Ws=.999999999999,Hs=1.0000000000001;function Gs(e,t){e.min=e.min+t,e.max=e.max+t}function Ks(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Us(e,t,n,_i(e.min,e.max,o),r)}function qs(e,t){Ks(e.x,t.x,t.scaleX,t.scale,t.originX),Ks(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ys(e,t){return Ms(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Xs=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Js=new WeakMap;class $s{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Os(),this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new ns(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($a(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hs(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Hr.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=bs(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&dr.postRender((()=>o(e,t))),Oa(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Rs((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Xs(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&dr.postRender((()=>o(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Zs(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?_i(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?_i(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&fs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:Es(e.x,r,i),y:Es(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts;return!1===e?e=0:!0===e&&(e=Ts),{x:Ns(e,"left","right"),y:Ns(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rs((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!fs(e))return!1;const n=e.current;_n(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=Ys(e,n),{scroll:o}=t;return o&&(Gs(r.x,o.offset.x),Gs(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:_s(e.x,t.x),y:_s(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Ms(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},c=Rs((a=>{if(!Zs(a,t,this.currentDirection))return;let c=s&&s[a]||{};i&&(c={min:0,max:0});const l=r?200:1e6,u=r?40:1e7,d=Ln(Ln({type:"inertia",velocity:n?e[a]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},o),c);return this.startAxisValueAnimation(a,d)}));return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Oa(this.visualElement,e),n.start(ma(e,n,0,t,this.visualElement,!1))}stopAnimation(){Rs((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Rs((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Rs((t=>{const{drag:n}=this.getProps();if(!Zs(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-_i(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!fs(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Rs((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=bs(e),o=bs(t);return o>r?n=Ei(t.min,t.max-r,e.min):r>o&&(n=Ei(e.min,e.max-o,t.min)),Fr(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rs((t=>{if(!Zs(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(_i(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Js.set(this.visualElement,this);const e=es(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();fs(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),dr.read(t);const o=Qa(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Rs((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=Ts,dragMomentum:a=!0}=e;return Ln(Ln({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a})}}function Zs(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Qs=e=>(t,n)=>{e&&dr.postRender((()=>e(t,n)))};const ec=(0,Z.createContext)({}),tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rc={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Gr.test(e))return e;e=parseFloat(e)}const n=nc(e,t.target.x),r=nc(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},oc={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=Mo.parse(e);if(i.length>5)return o;const a=Mo.createTransformer(e),s="number"!==typeof i[0]?1:0,c=r.x.scale*n.x,l=r.y.scale*n.y;i[0+s]/=c,i[1+s]/=l;const u=_i(c,l,.5);return"number"===typeof i[2+s]&&(i[2+s]/=u),"number"===typeof i[3+s]&&(i[3+s]/=u),a(i)}},ic={};const{schedule:ac,cancel:sc}=ur(queueMicrotask,!1);class cc extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var i;i=uc,Object.assign(ic,i),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions(Ln(Ln({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,i=n.projection;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||dr.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ac.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lc(e){const[t,n]=function(){const e=(0,Z.useContext)(gn);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=(0,Z.useId)();(0,Z.useEffect)((()=>r(o)),[]);const i=(0,Z.useCallback)((()=>n&&n(o)),[o,n]);return!t&&n?[!1,i]:[!0]}(),r=(0,Z.useContext)(Sn);return(0,fn.jsx)(cc,Ln(Ln({},e),{},{layoutGroup:r,switchLayoutGroup:(0,Z.useContext)(ec),isPresent:t,safeToRemove:n}))}const uc={borderRadius:Ln(Ln({},rc),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:rc,borderTopRightRadius:rc,borderBottomLeftRadius:rc,borderBottomRightRadius:rc,boxShadow:oc},dc=["TopLeft","TopRight","BottomLeft","BottomRight"],hc=dc.length,pc=e=>"string"===typeof e?parseFloat(e):e,fc=e=>"number"===typeof e||Gr.test(e);function mc(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gc=vc(0,.5,_r),yc=vc(.5,.95,Cn);function vc(e,t,n){return r=>r<e?0:r>t?1:n(Ei(e,t,r))}function bc(e,t){e.min=t.min,e.max=t.max}function xc(e,t){bc(e.x,t.x),bc(e.y,t.y)}function wc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kc(e,t,n,r,o){return e=Bs(e-=t,1/n,r),void 0!==o&&(e=Bs(e,1/o,r)),e}function Sc(e,t,n,r,o){let[i,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Hr.test(t)&&(t=parseFloat(t),t=_i(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=_i(i.min,i.max,r);e===i&&(s-=t),e.min=kc(e.min,t,n,s,o),e.max=kc(e.max,t,n,s,o)}(e,t[i],t[a],t[s],t.scale,r,o)}const Cc=["x","scaleX","originX"],Ec=["y","scaleY","originY"];function _c(e,t,n,r){Sc(e.x,t,Cc,n?n.x:void 0,r?r.x:void 0),Sc(e.y,t,Ec,n?n.y:void 0,r?r.y:void 0)}function Tc(e){return 0===e.translate&&1===e.scale}function Nc(e){return Tc(e.x)&&Tc(e.y)}function Ic(e,t){return e.min===t.min&&e.max===t.max}function Ac(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Oc(e,t){return Ac(e.x,t.x)&&Ac(e.y,t.y)}function Rc(e){return bs(e.x)/bs(e.y)}function Mc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jc{constructor(){this.members=[]}add(e){va(this.members,e),e.scheduleRender()}remove(e){if(ba(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pc=(e,t)=>e.depth-t.depth;class Dc{constructor(){this.children=[],this.isDirty=!1}add(e){va(this.children,e),this.isDirty=!0}remove(e){ba(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Pc),this.isDirty=!1,this.children.forEach(e)}}function Lc(e){const t=Ia(e)?e.get():e;return ga(t)?t.toValue():t}function Fc(e,t){const n=Jo.now(),r=o=>{let{timestamp:i}=o;const a=i-n;a>=t&&(hr(r),e(a-t))};return dr.read(r,!0),()=>hr(r)}const Bc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zc="undefined"!==typeof window&&void 0!==window.MotionDebug,Uc=["","X","Y","Z"],Vc={visibility:"hidden"};let Wc=0;function Hc(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Gc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Na(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",dr,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Gc(r)}function Kc(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Wc++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zc&&(Bc.totalNodes=Bc.resolvedTargetDeltas=Bc.recalculatedProjection=0),this.nodes.forEach(Xc),this.nodes.forEach(nl),this.nodes.forEach(rl),this.nodes.forEach(Jc),zc&&window.MotionDebug.record(Bc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dc)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new xa),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:o,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||o)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Fc(r,250),tc.hasAnimatedSinceResize&&(tc.hasAnimatedSinceResize=!1,this.nodes.forEach(tl))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&a&&(o||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||ll,{onLayoutAnimationStart:s,onLayoutAnimationComplete:c}=a.getProps(),l=!this.targetLayout||!Oc(this.targetLayout,o)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Ln(Ln({},rr(i,"layout")),{},{onPlay:s,onComplete:c});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||tl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ol),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Zc);this.isUpdating||this.nodes.forEach(Qc),this.isUpdating=!1,this.nodes.forEach(el),this.nodes.forEach(qc),this.nodes.forEach(Yc),this.clearAllSnapshots();const e=Jo.now();pr.delta=Fr(0,1e3/60,e-pr.timestamp),pr.timestamp=e,pr.isProcessing=!0,fr.update.process(pr),fr.preRender.process(pr),fr.render.process(pr),pr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ac.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($c),this.sharedNodes.forEach(il)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dr.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Os(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Nc(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||Ds(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),hl((r=n).x),hl(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return Os();const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(fl))){const{scroll:e}=this.root;e&&(Gs(n.x,e.offset.x),Gs(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n=Os();if(xc(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&xc(n,e),Gs(n.x,o.offset.x),Gs(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Os();xc(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&qs(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ds(e.latestValues)&&qs(n,e.latestValues)}return Ds(this.latestValues)&&qs(n,this.latestValues),n}removeTransform(e){const t=Os();xc(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ds(e.latestValues))continue;Ps(e.latestValues)&&e.updateSnapshot();const r=Os();xc(r,e.measurePageBox()),_c(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ds(this.latestValues)&&_c(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Ln(Ln(Ln({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=pr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),Cs(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,c;if(this.target||(this.target=Os(),this.targetWithTransforms=Os()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,c=this.relativeParent.target,ks(a.x,s.x,c.x),ks(a.y,s.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):xc(this.target,this.layout.layoutBox),Vs(this.target,this.targetDelta)):xc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),Cs(this.relativeTargetOrigin,this.target,e.target),xc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zc&&Bc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ps(this.parent.latestValues)&&!Ls(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===pr.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;xc(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Vs(e,a)),r&&Ds(i.latestValues)&&qs(e,i.latestValues))}t.x<Hs&&t.x>Ws&&(t.x=1),t.y<Hs&&t.y>Ws&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms=Os());const{target:c}=t;c?(this.projectionDelta&&this.prevProjectionDelta?(wc(this.prevProjectionDelta.x,this.projectionDelta.x),wc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ws(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Mc(this.projectionDelta.x,this.prevProjectionDelta.x)&&Mc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c)),zc&&Bc.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=As(),this.projectionDelta=As(),this.projectionDeltaWithTransform=As()}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=Ln({},this.latestValues),i=As();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a=Os(),s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),l=!c||c.members.length<=1,u=Boolean(s&&!l&&!0===this.options.crossfade&&!this.path.some(cl));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;al(i.x,e.x,n),al(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cs(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){sl(e.x,t.x,n.x,r),sl(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&function(e,t){return Ic(e.x,t.x)&&Ic(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d=Os()),xc(d,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){o?(e.opacity=_i(0,void 0!==n.opacity?n.opacity:1,gc(r)),e.opacityExit=_i(void 0!==t.opacity?t.opacity:1,0,yc(r))):i&&(e.opacity=_i(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<hc;a++){const o="border".concat(dc[a],"Radius");let i=mc(t,o),s=mc(n,o);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||fc(i)===fc(s)?(e[o]=Math.max(_i(pc(i),pc(s),r),0),(Hr.test(s)||Hr.test(i))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=_i(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,u,l)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dr.update((()=>{tc.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Ia(e)?e:Sa(e);return r.start(ma("",r,t,n)),r.animation}(0,1e3,Ln(Ln({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&pl(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Os();const t=bs(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=bs(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}xc(t,n),qs(t,o),ws(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new jc);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Hc("z",e,r,this.animationValues);for(let o=0;o<Uc.length;o++)Hc("rotate".concat(Uc[o]),e,r,this.animationValues),Hc("skew".concat(Uc[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vc;const r={visibility:""},o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Lc(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Lc(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Ds(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((o||i||a)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,c=e.y.scale*t.y;return 1===s&&1===c||(r+="scale(".concat(s,", ").concat(c,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,a),o&&(r.transform=o(a,r.transform));const{x:s,y:c}=this.projectionDelta;r.transformOrigin="".concat(100*s.origin,"% ").concat(100*c.origin,"% 0"),i.animationValues?r.opacity=i===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const l in ic){if(void 0===a[l])continue;const{correct:e,applyTo:t}=ic[l],n="none"===r.transform?a[l]:e(a[l],i);if(t){const e=t.length;for(let o=0;o<e;o++)r[t[o]]=n}else r[l]=n}return this.options.layoutId&&(r.pointerEvents=i===this?Lc(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Zc),this.root.sharedNodes.clear()}}}function qc(e){e.updateLayout()}function Yc(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?Rs((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=bs(r);r.min=t[e].min,r.max=r.min+o})):pl(o,n.layoutBox,t)&&Rs((r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],a=bs(t[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a=As();ws(a,t,n.layoutBox);const s=As();i?ws(s,e.applyTransform(r,!0),n.measuredBox):ws(s,t,n.layoutBox);const c=!Nc(a);let l=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a=Os();Cs(a,n.layoutBox,o.layoutBox);const s=Os();Cs(s,t,i.layoutBox),Oc(a,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Xc(e){zc&&Bc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Jc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function $c(e){e.clearSnapshot()}function Zc(e){e.clearMeasurements()}function Qc(e){e.isLayoutDirty=!1}function el(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nl(e){e.resolveTargetDelta()}function rl(e){e.calcProjection()}function ol(e){e.resetSkewAndRotation()}function il(e){e.removeLeadSnapshot()}function al(e,t,n){e.translate=_i(t.translate,0,n),e.scale=_i(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function sl(e,t,n,r){e.min=_i(t.min,n.min,r),e.max=_i(t.max,n.max,r)}function cl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ll={duration:.45,ease:[.4,0,.1,1]},ul=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dl=ul("applewebkit/")&&!ul("chrome/")?Math.round:Cn;function hl(e){e.min=dl(e.min),e.max=dl(e.max)}function pl(e,t,n){return"position"===e||"preserve-aspect"===e&&!function(e,t,n){return Math.abs(e-t)<=n}(Rc(t),Rc(n),.2)}function fl(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const ml=Kc({attachResizeListener:(e,t)=>Qa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gl={current:void 0},yl=Kc({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gl.current){const e=new ml({});e.mount(window),e.setOptions({layoutScroll:!0}),gl.current=e}return gl.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),vl={pan:{Feature:class extends qa{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(e){this.session=new ns(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xs(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qs(e),onStart:Qs(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&dr.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=es(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends qa{constructor(e){super(e),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new $s(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:yl,MeasureLayout:lc}};function bl(e,t){const n=t?"pointerenter":"pointerleave",r=t?"onHoverStart":"onHoverEnd";return es(e.current,n,((n,o)=>{if("touch"===n.pointerType||ps())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t);const a=i[r];a&&dr.postRender((()=>a(n,o)))}),{passive:!e.getProps()[r]})}const xl=(e,t)=>!!t&&(e===t||xl(e,t.parentElement));function wl(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,$a(n))}const kl=["root"],Sl=new WeakMap,Cl=new WeakMap,El=e=>{const t=Sl.get(e.target);t&&t(e)},_l=e=>{e.forEach(El)};function Tl(e,t,n){const r=function(e){let{root:t}=e,n=zn(e,kl);const r=t||document;Cl.has(r)||Cl.set(r,{});const o=Cl.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(_l,Ln({root:t},n))),o[i]}(t);return Sl.set(e,n),r.observe(e),()=>{Sl.delete(e),r.unobserve(e)}}const Nl={some:0,all:1};const Il={inView:{Feature:class extends qa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Nl[r]};return Tl(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends qa{constructor(){super(...arguments),this.removeStartListeners=Cn,this.removeEndListeners=Cn,this.removeAccessibleListeners=Cn,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=es(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps(),i=o||xl(this.node.current,e.target)?n:r;i&&dr.update((()=>i(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),o=es(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Ci(r,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=Qa(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=Qa(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&wl("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&dr.postRender((()=>n(e,t)))}))})),wl("down",((e,t)=>{this.startPress(e,t)}))})),t=Qa(this.node.current,"blur",(()=>{this.isPressing&&wl("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Ci(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&dr.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ps()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&dr.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=es(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Qa(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ci(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends qa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ci(Qa(this.node.current,"focus",(()=>this.onFocus())),Qa(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends qa{mount(){this.unmount=Ci(bl(this.node,!0),bl(this.node,!1))}unmount(){}}}},Al={layout:{ProjectionNode:yl,MeasureLayout:lc}},Ol=(0,Z.createContext)({}),Rl=(0,Z.createContext)({strict:!1});function Ml(e,t,n,r,o){var i,a;const{visualElement:s}=(0,Z.useContext)(Ol),c=(0,Z.useContext)(Rl),l=(0,Z.useContext)(gn),u=(0,Z.useContext)(vn).reducedMotion,d=(0,Z.useRef)();r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:s,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));const h=d.current,p=(0,Z.useContext)(ec);!h||h.projection||!o||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:c,layoutRoot:l}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:jl(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&fs(s),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}(d.current,n,o,p),(0,Z.useInsertionEffect)((()=>{h&&h.update(n,l)}));const f=n[Ta],m=(0,Z.useRef)(Boolean(f)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,f))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,f)));return An((()=>{h&&(window.MotionIsMounted=!0,h.updateFeatures(),ac.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())})),(0,Z.useEffect)((()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,f)})),m.current=!1))})),h}function jl(e){if(e)return!1!==e.options.allowProjection?e.projection:jl(e.parent)}function Pl(e,t,n){return(0,Z.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):fs(n)&&(n.current=r))}),[t])}function Dl(e){return Fn(e.animate)||Yn.some((t=>Wn(e[t])))}function Ll(e){return Boolean(Dl(e)||e.variants)}function Fl(e){const{initial:t,animate:n}=function(e,t){if(Dl(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Wn(t)?t:void 0,animate:Wn(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,Z.useContext)(Ol));return(0,Z.useMemo)((()=>({initial:t,animate:n})),[Bl(t),Bl(n)])}function Bl(e){return Array.isArray(e)?e.join(" "):e}const zl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const n in zl)Ul[n]={isEnabled:e=>zl[n].some((t=>!!e[t]))};const Vl=Symbol.for("motionComponentSymbol");function Wl(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:i}=e;t&&function(e){for(const t in e)Ul[t]=Ln(Ln({},Ul[t]),e[t])}(t);const a=(0,Z.forwardRef)((function(e,t){let a;const s=Ln(Ln(Ln({},(0,Z.useContext)(vn)),e),{},{layoutId:Hl(e)}),{isStatic:c}=s,l=Fl(e),u=o(e,c);if(!c&&In){!function(){(0,Z.useContext)(Rl).strict;0}();const e=function(e){const{drag:t,layout:n}=Ul;if(!t&&!n)return{};const r=Ln(Ln({},t),n);return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);a=e.MeasureLayout,l.visualElement=Ml(i,u,s,n,e.ProjectionNode)}return(0,fn.jsxs)(Ol.Provider,{value:l,children:[a&&l.visualElement?(0,fn.jsx)(a,Ln({visualElement:l.visualElement},s)):null,r(i,e,Pl(u,l.visualElement,t),u,c,l.visualElement)]})}));return a[Vl]=i,a}function Hl(e){let{layoutId:t}=e;const n=(0,Z.useContext)(Sn).id;return n&&void 0!==t?n+"-"+t:t}const Gl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kl(e){return"string"===typeof e&&!e.includes("-")&&!!(Gl.indexOf(e)>-1||/[A-Z]/.test(e))}function ql(e,t,n,r){let{style:o,vars:i}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}const Yl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xl(e,t,n,r){ql(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Yl.has(o)?o:_a(o),t.attrs[o])}function Jl(e,t){let{layout:n,layoutId:r}=t;return Jn.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ic[e]||"opacity"===e)}function $l(e,t,n){var r;const{style:o}=e,i={};for(const a in o)(Ia(o[a])||t.style&&Ia(t.style[a])||Jl(a,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(a))||void 0===r?void 0:r.liveStyle))&&(i[a]=o[a]);return n&&o&&"string"===typeof o.willChange&&(n.applyWillChange=!1),i}function Zl(e,t,n){const r=$l(e,t,n);for(const o in e)if(Ia(e[o])||Ia(t[o])){r[-1!==Xn.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}const Ql=["transitionEnd","transition"];const eu=e=>(t,n)=>{const r=(0,Z.useContext)(Ol),o=(0,Z.useContext)(gn),i=()=>function(e,t,n,r,o){let{applyWillChange:i=!1,scrapeMotionValuesFromProps:a,createRenderState:s,onMount:c}=e;const l={latestValues:nu(t,n,r,!o&&i,a),renderState:s()};return c&&(l.mount=e=>c(t,e,l)),l}(e,t,r,o,n);return n?i():yn(i)};function tu(e,t,n){const r=Array.isArray(t)?t:[t];for(let o=0;o<r.length;o++){const t=Gn(e,r[o]);if(t){const{transitionEnd:e,transition:r}=t;n(zn(t,Ql),e)}}}function nu(e,t,n,r,o){var i;const a={};let s=r&&void 0===(null===(i=e.style)||void 0===i?void 0:i.willChange);const c=o(e,{});for(const m in c)a[m]=Lc(c[m]);let{initial:l,animate:u}=e;const d=Dl(e),h=Ll(e);t&&h&&!d&&!1!==e.inherit&&(void 0===l&&(l=t.initial),void 0===u&&(u=t.animate));let p=!!n&&!1===n.initial;p=p||!1===l;const f=p?u:l;return f&&"boolean"!==typeof f&&!Fn(f)&&tu(e,f,((e,t)=>{for(const n in e){let t=e[n];if(Array.isArray(t)){t=t[p?t.length-1:0]}null!==t&&(a[n]=t)}for(const n in t)a[n]=t[n]})),s&&u&&!1!==l&&!Fn(u)&&tu(e,u,(e=>{for(const t in e){if(Aa(t))return void(a.willChange="transform")}})),a}const ru=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),ou=()=>Ln(Ln({},ru()),{},{attrs:{}}),iu=(e,t)=>t&&"number"===typeof e?t.transform(e):e,au={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},su=Xn.length;function cu(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let a=!1,s=!1;for(const c in t){const e=t[c];if(Jn.has(c))a=!0;else if(Rr(c))o[c]=e;else{const t=iu(e,Uo[c]);c.startsWith("origin")?(s=!0,i[c]=t):r[c]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<su;i++){const a=Xn[i],s=e[a];if(void 0===s)continue;let c=!0;if(c="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!c||n){const e=iu(s,Uo[a]);if(!c){o=!1;const t=au[a]||a;r+="".concat(t,"(").concat(e,") ")}n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function lu(e,t,n){return"string"===typeof e?e:Gr.transform(t+n*e)}const uu={offset:"stroke-dashoffset",array:"stroke-dasharray"},du={offset:"strokeDashoffset",array:"strokeDasharray"};const hu=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function pu(e,t,n,r){let{attrX:o,attrY:i,attrScale:a,originX:s,originY:c,pathLength:l,pathSpacing:u=1,pathOffset:d=0}=t;if(cu(e,zn(t,hu),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(void 0!==s||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=lu(t,e.x,e.width),o=lu(n,e.y,e.height);return"".concat(r," ").concat(o)}(f,void 0!==s?s:.5,void 0!==c?c:.5)),void 0!==o&&(h.x=o),void 0!==i&&(h.y=i),void 0!==a&&(h.scale=a),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?uu:du;e[i.offset]=Gr.transform(-r);const a=Gr.transform(t),s=Gr.transform(n);e[i.array]="".concat(a," ").concat(s)}(h,l,u,d,!1)}const fu=e=>"string"===typeof e&&"svg"===e.toLowerCase(),mu={useVisualState:eu({scrapeMotionValuesFromProps:Zl,createRenderState:ou,onMount:(e,t,n)=>{let{renderState:r,latestValues:o}=n;dr.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}})),dr.render((()=>{pu(r,o,fu(t.tagName),e.transformTemplate),Xl(t,r)}))}})},gu={useVisualState:eu({applyWillChange:!0,scrapeMotionValuesFromProps:$l,createRenderState:ru})};function yu(e,t,n){for(const r in t)Ia(t[r])||Jl(r,n)||(e[r]=t[r])}function vu(e,t){const n={};return yu(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,Z.useMemo)((()=>{const e=ru();return cu(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function bu(e,t){const n={},r=vu(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const xu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wu(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xu.has(e)}let ku=e=>!wu(e);try{(Su=require("@emotion/is-prop-valid").default)&&(ku=e=>e.startsWith("on")?!wu(e):Su(e))}catch(b2e){}var Su;function Cu(e,t,n,r){const o=(0,Z.useMemo)((()=>{const n=ou();return pu(n,t,fu(r),e.transformTemplate),Ln(Ln({},n.attrs),{},{style:Ln({},n.style)})}),[t]);if(e.style){const t={};yu(t,e.style,e),o.style=Ln(Ln({},t),o.style)}return o}function Eu(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,i)=>{let{latestValues:a}=o;const s=(Kl(t)?Cu:bu)(n,a,i,t),c=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(ku(o)||!0===n&&wu(o)||!t&&!wu(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),l=t!==Z.Fragment?Ln(Ln(Ln({},c),s),{},{ref:r}):{},{children:u}=n,d=(0,Z.useMemo)((()=>Ia(u)?u.get():u),[u]);return(0,Z.createElement)(t,Ln(Ln({},l),{},{children:d}))}}function _u(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return Wl(Ln(Ln({},Kl(n)?mu:gu),{},{preloadedFeatures:e,useRender:Eu(r),createVisualElement:t,Component:n}))}}const Tu={current:null},Nu={current:!1};const Iu=new WeakMap,Au=[...ro,wo,Mo],Ou=["willChange"],Ru=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mu{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uo,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Jo.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,dr.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=a;this.latestValues=c,this.baseTarget=Ln({},c),this.initialValues=n.initial?Ln({},c):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Dl(n),this.isVariantNode=Ll(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const u=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=u,h=zn(u,Ou);for(const p in h){const e=h[p];void 0!==c[p]&&Ia(e)&&e.set(c[p],!1)}}mount(e){this.current=e,Iu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Nu.current||function(){if(Nu.current=!0,In)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tu.current=e.matches;e.addListener(t),t()}else Tu.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Tu.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Iu.delete(this.current),this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Jn.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&dr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),o(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ul){const t=Ul[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Os()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Ru.length;n++){const t=Ru[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(Ia(o))e.addValue(r,o);else if(Ia(i))e.addValue(r,Sa(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,Sa(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Sa(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(Ar(r)||Nr(r))?r=parseFloat(r):!(e=>Au.find(no(e)))(r)&&Mo.test(t)&&(r=Ho(e,t)),this.setBaseTarget(e,Ia(r)?r.get():r)),Ia(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const o=Gn(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);o&&(r=o[e])}if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||Ia(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new xa),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class ju extends Mu{constructor(){super(...arguments),this.KeyframeResolver=Ko}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}}class Pu extends ju{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=ql}readValueFromInstance(e,t){if(Jn.has(t)){const e=Wo(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(Rr(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Ys(e,n)}build(e,t,n){cu(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return $l(e,t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ia(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}class Du extends ju{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Os}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Jn.has(t)){const e=Wo(t);return e&&e.default||0}return t=Yl.has(t)?t:_a(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Zl(e,t,n)}build(e,t,n){pu(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){Xl(e,t,0,r)}mount(e){this.isSVGTag=fu(e.tagName),super.mount(e)}}const Lu=(e,t)=>Kl(e)?new Du(t):new Pu(t,{allowProjection:e!==Z.Fragment}),Fu=Rn(_u(Ln(Ln(Ln(Ln({},Xa),Il),vl),Al),Lu)),Bu=e=>{let{children:t,keyValue:n,initial:r={opacity:0},animate:o={opacity:1},transition:i={duration:1},className:a}=e;return(0,fn.jsx)(On,{children:(0,fn.jsx)(Fu.div,{initial:r,animate:o,transition:i,className:a,children:t},n)})},zu=Z.createRef(),Uu=e=>{let{routes:t,defaultHidden:n=[],defaultActiveIndex:r=0,children:o}=e;const i=(0,Z.useRef)(null),a=(0,Z.useRef)(null),[s,c]=(0,Z.useState)(r),l=(e,t)=>{const{offsetWidth:n,offsetLeft:r}=e;i.current&&(i.current.style.width=n+"px",i.current.style.left=r+"px"),c(t)};return(0,Z.useEffect)((()=>{a.current&&l(a.current,r)}),[r]),(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsxs)("div",{className:"inpage",children:[t.map(((e,t)=>(0,fn.jsx)("button",{ref:t===r?a:null,className:"button-change"+(s===t?" text-black":" text-dark-grey")+(n.includes(e)?" d-block d-md-none":" "),onClick:e=>{l(e.target,t)},children:e},t))),(0,fn.jsx)("hr",{ref:i,className:"underline-hr m-0"})]}),Array.isArray(o)?o[s]:o]})};function Vu(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wu}=Object.prototype,{getPrototypeOf:Hu}=Object,Gu=(e=>t=>{const n=Wu.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ku=e=>(e=e.toLowerCase(),t=>Gu(t)===e),qu=e=>t=>typeof t===e,{isArray:Yu}=Array,Xu=qu("undefined");const Ju=Ku("ArrayBuffer");const $u=qu("string"),Zu=qu("function"),Qu=qu("number"),ed=e=>null!==e&&"object"===typeof e,td=e=>{if("object"!==Gu(e))return!1;const t=Hu(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nd=Ku("Date"),rd=Ku("File"),od=Ku("Blob"),id=Ku("FileList"),ad=Ku("URLSearchParams"),[sd,cd,ld,ud]=["ReadableStream","Request","Response","Headers"].map(Ku);function dd(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Yu(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function hd(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const pd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,fd=e=>!Xu(e)&&e!==pd;const md=(gd="undefined"!==typeof Uint8Array&&Hu(Uint8Array),e=>gd&&e instanceof gd);var gd;const yd=Ku("HTMLFormElement"),vd=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),bd=Ku("RegExp"),xd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};dd(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},wd="abcdefghijklmnopqrstuvwxyz",kd="0123456789",Sd={DIGIT:kd,ALPHA:wd,ALPHA_DIGIT:wd+wd.toUpperCase()+kd};const Cd=Ku("AsyncFunction"),Ed={isArray:Yu,isArrayBuffer:Ju,isBuffer:function(e){return null!==e&&!Xu(e)&&null!==e.constructor&&!Xu(e.constructor)&&Zu(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Zu(e.append)&&("formdata"===(t=Gu(e))||"object"===t&&Zu(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ju(e.buffer),t},isString:$u,isNumber:Qu,isBoolean:e=>!0===e||!1===e,isObject:ed,isPlainObject:td,isReadableStream:sd,isRequest:cd,isResponse:ld,isHeaders:ud,isUndefined:Xu,isDate:nd,isFile:rd,isBlob:od,isRegExp:bd,isFunction:Zu,isStream:e=>ed(e)&&Zu(e.pipe),isURLSearchParams:ad,isTypedArray:md,isFileList:id,forEach:dd,merge:function e(){const{caseless:t}=fd(this)&&this||{},n={},r=(r,o)=>{const i=t&&hd(n,o)||o;td(n[i])&&td(r)?n[i]=e(n[i],r):td(r)?n[i]=e({},r):Yu(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&dd(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dd(t,((t,r)=>{n&&Zu(t)?e[r]=Vu(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Hu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Gu,kindOfTest:Ku,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Yu(e))return e;let t=e.length;if(!Qu(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:yd,hasOwnProperty:vd,hasOwnProp:vd,reduceDescriptors:xd,freezeMethods:e=>{xd(e,((t,n)=>{if(Zu(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Zu(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Yu(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:hd,global:pd,isContextDefined:fd,ALPHABET:Sd,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sd.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Zu(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ed(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=Yu(e)?[]:{};return dd(e,((e,t)=>{const i=n(e,r+1);!Xu(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Cd,isThenable:e=>e&&(ed(e)||Zu(e))&&Zu(e.then)&&Zu(e.catch)};function _d(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}Ed.inherits(_d,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ed.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Td=_d.prototype,Nd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Nd[e]={value:e}})),Object.defineProperties(_d,Nd),Object.defineProperty(Td,"isAxiosError",{value:!0}),_d.from=(e,t,n,r,o,i)=>{const a=Object.create(Td);return Ed.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),_d.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Id=_d;function Ad(e){return Ed.isPlainObject(e)||Ed.isArray(e)}function Od(e){return Ed.endsWith(e,"[]")?e.slice(0,-2):e}function Rd(e,t,n){return e?e.concat(t).map((function(e,t){return e=Od(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Md=Ed.toFlatObject(Ed,{},null,(function(e){return/^is[A-Z]/.test(e)}));const jd=function(e,t,n){if(!Ed.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ed.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ed.isUndefined(t[e])}))).metaTokens,o=n.visitor||l,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ed.isSpecCompliantForm(t);if(!Ed.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Ed.isDate(e))return e.toISOString();if(!s&&Ed.isBlob(e))throw new Id("Blob is not supported. Use a Buffer instead.");return Ed.isArrayBuffer(e)||Ed.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(Ed.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ed.isArray(e)&&function(e){return Ed.isArray(e)&&!e.some(Ad)}(e)||(Ed.isFileList(e)||Ed.endsWith(n,"[]"))&&(s=Ed.toArray(e)))return n=Od(n),s.forEach((function(e,r){!Ed.isUndefined(e)&&null!==e&&t.append(!0===a?Rd([n],r,i):null===a?n:n+"[]",c(e))})),!1;return!!Ad(e)||(t.append(Rd(o,n,i),c(e)),!1)}const u=[],d=Object.assign(Md,{defaultVisitor:l,convertValue:c,isVisitable:Ad});if(!Ed.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ed.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Ed.forEach(n,(function(n,i){!0===(!(Ed.isUndefined(n)||null===n)&&o.call(t,n,Ed.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function Pd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Dd(e,t){this._pairs=[],e&&jd(e,this,t)}const Ld=Dd.prototype;Ld.append=function(e,t){this._pairs.push([e,t])},Ld.toString=function(e){const t=e?function(t){return e.call(this,t,Pd)}:Pd;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Fd=Dd;function Bd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zd(e,t,n){if(!t)return e;const r=n&&n.encode||Bd,o=n&&n.serialize;let i;if(i=o?o(t,n):Ed.isURLSearchParams(t)?t.toString():new Fd(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Ud=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ed.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Vd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wd={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Fd,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Hd="undefined"!==typeof window&&"undefined"!==typeof document,Gd=(Kd="undefined"!==typeof navigator&&navigator.product,Hd&&["ReactNative","NativeScript","NS"].indexOf(Kd)<0);var Kd;const qd="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yd=Hd&&window.location.href||"http://localhost",Xd=Ln(Ln({},e),Wd);const Jd=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&Ed.isArray(r)?r.length:i,s)return Ed.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&Ed.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&Ed.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(Ed.isFormData(e)&&Ed.isFunction(e.entries)){const n={};return Ed.forEachEntry(e,((e,r)=>{t(function(e){return Ed.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const $d={transitional:Vd,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Ed.isObject(e);o&&Ed.isHTMLForm(e)&&(e=new FormData(e));if(Ed.isFormData(e))return r?JSON.stringify(Jd(e)):e;if(Ed.isArrayBuffer(e)||Ed.isBuffer(e)||Ed.isStream(e)||Ed.isFile(e)||Ed.isBlob(e)||Ed.isReadableStream(e))return e;if(Ed.isArrayBufferView(e))return e.buffer;if(Ed.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jd(e,new Xd.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Xd.isNode&&Ed.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Ed.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jd(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ed.isString(e))try{return(t||JSON.parse)(e),Ed.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$d.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ed.isResponse(e)||Ed.isReadableStream(e))return e;if(e&&Ed.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw Id.from(o,Id.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xd.classes.FormData,Blob:Xd.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ed.forEach(["delete","get","head","post","put","patch"],(e=>{$d.headers[e]={}}));const Zd=$d,Qd=Ed.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eh=Symbol("internals");function th(e){return e&&String(e).trim().toLowerCase()}function nh(e){return!1===e||null==e?e:Ed.isArray(e)?e.map(nh):String(e)}function rh(e,t,n,r,o){return Ed.isFunction(r)?r.call(this,t,n):(o&&(t=n),Ed.isString(t)?Ed.isString(r)?-1!==t.indexOf(r):Ed.isRegExp(r)?r.test(t):void 0:void 0)}class oh{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=th(t);if(!o)throw new Error("header name must be a non-empty string");const i=Ed.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=nh(e))}const i=(e,t)=>Ed.forEach(e,((e,n)=>o(e,n,t)));if(Ed.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Ed.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Qd[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Ed.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=th(e)){const n=Ed.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ed.isFunction(t))return t.call(this,e,n);if(Ed.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=th(e)){const n=Ed.findKey(this,e);return!(!n||void 0===this[n]||t&&!rh(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=th(e)){const o=Ed.findKey(n,e);!o||t&&!rh(0,n[o],o,t)||(delete n[o],r=!0)}}return Ed.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!rh(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Ed.forEach(this,((r,o)=>{const i=Ed.findKey(n,o);if(i)return t[i]=nh(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=nh(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ed.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ed.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[eh]=this[eh]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=th(e);t[r]||(!function(e,t){const n=Ed.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Ed.isArray(e)?e.forEach(r):r(e),this}}oh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ed.reduceDescriptors(oh.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Ed.freezeMethods(oh);const ih=oh;function ah(e,t){const n=this||Zd,r=t||n,o=ih.from(r.headers);let i=r.data;return Ed.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function sh(e){return!(!e||!e.__CANCEL__)}function ch(e,t,n){Id.call(this,null==e?"canceled":e,Id.ERR_CANCELED,t,n),this.name="CanceledError"}Ed.inherits(ch,Id,{__CANCEL__:!0});const lh=ch;function uh(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Id("Request failed with status code "+n.status,[Id.ERR_BAD_REQUEST,Id.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const dh=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=r[a];o||(o=c),n[i]=s,r[i]=c;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}};const hh=function(e,t){let n=0;const r=1e3/t;let o=null;return function(){const t=!0===this,i=Date.now();if(t||i-n>r)return o&&(clearTimeout(o),o=null),n=i,e.apply(null,arguments);o||(o=setTimeout((()=>(o=null,n=Date.now(),e.apply(null,arguments))),r-(i-n)))}},ph=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=dh(50,250);return hh((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,c=o(s);r=i;const l={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0,event:n,lengthComputable:null!=a};l[t?"download":"upload"]=!0,e(l)}),n)},fh=Xd.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Ed.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},mh=Xd.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Ed.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Ed.isString(r)&&a.push("path="+r),Ed.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function gh(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const yh=e=>e instanceof ih?Ln({},e):e;function vh(e,t){t=t||{};const n={};function r(e,t,n){return Ed.isPlainObject(e)&&Ed.isPlainObject(t)?Ed.merge.call({caseless:n},e,t):Ed.isPlainObject(t)?Ed.merge({},t):Ed.isArray(t)?t.slice():t}function o(e,t,n){return Ed.isUndefined(t)?Ed.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!Ed.isUndefined(t))return r(void 0,t)}function a(e,t){return Ed.isUndefined(t)?Ed.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>o(yh(e),yh(t),!0)};return Ed.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,a=i(e[r],t[r],r);Ed.isUndefined(a)&&i!==s||(n[r]=a)})),n}const bh=e=>{const t=vh({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=ih.from(s),t.url=zd(gh(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ed.isFormData(r))if(Xd.hasStandardBrowserEnv||Xd.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Xd.hasStandardBrowserEnv&&(o&&Ed.isFunction(o)&&(o=o(t)),o||!1!==o&&fh(t.url))){const e=i&&a&&mh.read(a);e&&s.set(i,e)}return t},xh="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=bh(e);let o=r.data;const i=ih.from(r.headers).normalize();let a,{responseType:s}=r;function c(){r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let l=new XMLHttpRequest;function u(){if(!l)return;const r=ih.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());uh((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}l.open(r.method.toUpperCase(),r.url,!0),l.timeout=r.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new Id("Request aborted",Id.ECONNABORTED,r,l)),l=null)},l.onerror=function(){n(new Id("Network Error",Id.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||Vd;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new Id(e,t.clarifyTimeoutError?Id.ETIMEDOUT:Id.ECONNABORTED,r,l)),l=null},void 0===o&&i.setContentType(null),"setRequestHeader"in l&&Ed.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),Ed.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),s&&"json"!==s&&(l.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&l.addEventListener("progress",ph(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",ph(r.onUploadProgress)),(r.cancelToken||r.signal)&&(a=t=>{l&&(n(!t||t.type?new lh(null,e,l):t),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);d&&-1===Xd.protocols.indexOf(d)?n(new Id("Unsupported protocol "+d+":",Id.ERR_BAD_REQUEST,e)):l.send(o||null)}))},wh=(e,t)=>{let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Id?t:new lh(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{o(new Id("timeout ".concat(t," of ms exceeded"),Id.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",o):e.unsubscribe(o))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{i&&clearTimeout(i),i=null}]};function kh(e,t){this.v=e,this.k=t}function Sh(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof kh;Promise.resolve(s?a.v:a).then((function(n){if(s){var c="return"===t?"return":"next";if(!a.k||n.done)return r(c,n);n=e[c](n).value}o(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ch(e){return new kh(e,0)}function Eh(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new kh(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function _h(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Th(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Th(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Th=function(e){this.s=e,this.n=e.next},Th.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Th(e)}Sh.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sh.prototype.next=function(e){return this._invoke("next",e)},Sh.prototype.throw=function(e){return this._invoke("throw",e)},Sh.prototype.return=function(e){return this._invoke("return",e)};const Nh=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Ih=function(){var e=function(e){return function(){return new Sh(e.apply(this,arguments))}}((function*(e,t,n){var r,o=!1,i=!1;try{for(var a,s=_h(e);o=!(a=yield Ch(s.next())).done;o=!1){const e=a.value;yield*Eh(_h(Nh(ArrayBuffer.isView(e)?e:yield Ch(n(String(e))),t)))}}catch(c){i=!0,r=c}finally{try{o&&null!=s.return&&(yield Ch(s.return()))}finally{if(i)throw r}}}));return function(t,n,r){return e.apply(this,arguments)}}(),Ah=(e,t,n,r,o)=>{const i=Ih(e,t,o);let a=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:o}=await i.next();if(t)return e.close(),void r();let s=o.byteLength;n&&n(a+=s),e.enqueue(new Uint8Array(o))},cancel:e=>(r(e),i.return())},{highWaterMark:2})},Oh=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},Rh="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Mh=Rh&&"function"===typeof ReadableStream,jh=Rh&&("function"===typeof TextEncoder?(Ph=new TextEncoder,e=>Ph.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ph;const Dh=Mh&&(()=>{let e=!1;const t=new Request(Xd.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Lh=Mh&&!!(()=>{try{return Ed.isReadableStream(new Response("").body)}catch(e){}})(),Fh={stream:Lh&&(e=>e.body)};var Bh;Rh&&(Bh=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Fh[e]&&(Fh[e]=Ed.isFunction(Bh[e])?t=>t[e]():(t,n)=>{throw new Id("Response type '".concat(e,"' is not supported"),Id.ERR_NOT_SUPPORT,n)})})));const zh=async(e,t)=>{const n=Ed.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:Ed.isBlob(e)?e.size:Ed.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:Ed.isArrayBufferView(e)?e.byteLength:(Ed.isURLSearchParams(e)&&(e+=""),Ed.isString(e)?(await jh(e)).byteLength:void 0))(t):n},Uh=Rh&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=bh(e);l=l?(l+"").toLowerCase():"text";let p,f,[m,g]=o||i||a?wh([o,i],a):[];const y=()=>{!p&&setTimeout((()=>{m&&m.unsubscribe()})),p=!0};let v;try{if(c&&Dh&&"get"!==n&&"head"!==n&&0!==(v=await zh(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});Ed.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body&&(r=Ah(n.body,65536,Oh(v,ph(c)),null,jh))}Ed.isString(d)||(d=d?"cors":"omit"),f=new Request(t,Ln(Ln({},h),{},{signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d}));let o=await fetch(f);const i=Lh&&("stream"===l||"response"===l);if(Lh&&(s||i)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Ed.toFiniteNumber(o.headers.get("content-length"));o=new Response(Ah(o.body,65536,s&&Oh(t,ph(s,!0)),i&&y,jh),e)}l=l||"text";let a=await Fh[Ed.findKey(Fh,l)||"text"](o,e);return!i&&y(),g&&g(),await new Promise(((t,n)=>{uh(t,n,{data:a,headers:ih.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(b){if(y(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new Id("Network Error",Id.ERR_NETWORK,e,f),{cause:b.cause||b});throw Id.from(b,b&&b.code,e,f)}}),Vh={http:null,xhr:xh,fetch:Uh};Ed.forEach(Vh,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Wh=e=>"- ".concat(e),Hh=e=>Ed.isFunction(e)||null===e||!1===e,Gh=e=>{e=Ed.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Hh(n)&&(r=Vh[(t=String(n)).toLowerCase()],void 0===r))throw new Id("Unknown adapter '".concat(t,"'"));if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Wh).join("\n"):" "+Wh(e[0]):"as no adapter specified";throw new Id("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Kh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lh(null,e)}function qh(e){Kh(e),e.headers=ih.from(e.headers),e.data=ah.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gh(e.adapter||Zd.adapter)(e).then((function(t){return Kh(e),t.data=ah.call(e,e.transformResponse,t),t.headers=ih.from(t.headers),t}),(function(t){return sh(t)||(Kh(e),t&&t.response&&(t.response.data=ah.call(e,e.transformResponse,t.response),t.response.headers=ih.from(t.response.headers))),Promise.reject(t)}))}const Yh="1.7.2",Xh={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Xh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Jh={};Xh.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Id(r(o," has been removed"+(t?" in "+t:"")),Id.ERR_DEPRECATED);return t&&!Jh[o]&&(Jh[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};const $h={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Id("options must be an object",Id.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Id("option "+i+" must be "+n,Id.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Id("Unknown option "+i,Id.ERR_BAD_OPTION)}},validators:Xh},Zh=$h.validators;class Qh{constructor(e){this.defaults=e,this.interceptors={request:new Ud,response:new Ud}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vh(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&$h.assertOptions(n,{silentJSONParsing:Zh.transitional(Zh.boolean),forcedJSONParsing:Zh.transitional(Zh.boolean),clarifyTimeoutError:Zh.transitional(Zh.boolean)},!1),null!=r&&(Ed.isFunction(r)?t.paramsSerializer={serialize:r}:$h.assertOptions(r,{encode:Zh.function,serialize:Zh.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Ed.merge(o.common,o[t.method]);o&&Ed.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=ih.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[qh.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{l=qh.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return zd(gh((e=vh(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ed.forEach(["delete","get","head","options"],(function(e){Qh.prototype[e]=function(t,n){return this.request(vh(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ed.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(vh(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Qh.prototype[e]=t(),Qh.prototype[e+"Form"]=t(!0)}));const ep=Qh;class tp{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new lh(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new tp((function(t){e=t})),cancel:e}}}const np=tp;const rp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rp).forEach((e=>{let[t,n]=e;rp[n]=t}));const op=rp;const ip=function e(t){const n=new ep(t),r=Vu(ep.prototype.request,n);return Ed.extend(r,ep.prototype,n,{allOwnKeys:!0}),Ed.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(vh(t,n))},r}(Zd);ip.Axios=ep,ip.CanceledError=lh,ip.CancelToken=np,ip.isCancel=sh,ip.VERSION=Yh,ip.toFormData=jd,ip.AxiosError=Id,ip.Cancel=ip.CanceledError,ip.all=function(e){return Promise.all(e)},ip.spread=function(e){return function(t){return e.apply(null,t)}},ip.isAxiosError=function(e){return Ed.isObject(e)&&!0===e.isAxiosError},ip.mergeConfig=vh,ip.AxiosHeaders=ih,ip.formToJSON=e=>Jd(Ed.isHTMLForm(e)?new FormData(e):e),ip.getAdapter=Gh,ip.HttpStatusCode=op,ip.default=ip;const ap=ip,sp=()=>(0,fn.jsx)("div",{style:{width:"100%",margin:"0 auto",display:"flex",justifyContent:"center"},children:(0,fn.jsxs)("svg",{"aria-hidden":"true",style:{width:"3rem",height:"3rem",marginRight:"0.5rem",color:"white",animation:"spin 1s linear infinite",fill:"#555555"},viewBox:"0 0 100 101",fill:"none",children:[(0,fn.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,fn.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})});function cp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function lp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"},child:[]}]})(e)}function up(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"},child:[]}]})(e)}function dp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 80V229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7H48C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"},child:[]}]})(e)}const hp=["\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],pp=e=>{let t=new Date(e);return"".concat(t.getDate()," ").concat(hp[t.getMonth()])},fp=e=>{let t=new Date(e);return"".concat(t.getDate()," ").concat(hp[t.getMonth()]," ").concat(t.getFullYear())},mp=e=>{let{content:t,author:n}=e;const{publishedAt:r,tags:o,topic:i,des:a,banner:s,activity:{total_likes:c,total_comments:l},blog_id:u,views:d,visibility:h}=t,{fullname:p="Unknown Author",profile_picture:f="",username:m="Unknown User"}=n||{},g=Array.isArray(o)?o:[];return(0,fn.jsx)("div",{className:"blog-card-wrapper",style:{position:"relative"},children:(0,fn.jsxs)(cn,{to:"/blog/".concat(u),className:"blog-link d-flex align-items-center mb-4",style:{borderBottom:"1px solid #ccc",paddingBottom:"1.25rem",textDecoration:"none"},children:[(0,fn.jsxs)("div",{className:"w-100",children:[(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-center mb-7",children:[(0,fn.jsx)("img",{src:f,alt:"",className:"rounded-circle",style:{height:"24px",width:"24px"}}),(0,fn.jsxs)("p",{className:"m-0 fw-medium",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"1",overflow:"hidden",textOverflow:"ellipsis"},children:[p," @",m]}),(0,fn.jsx)("p",{className:"w-auto m-0 fw-medium",children:r?"".concat(pp(r)," ").concat(new Date(r).getFullYear()+543," \u0e40\u0e27\u0e25\u0e32 ").concat(new Date(r).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})):"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("span",{className:"d-flex align-items-center gap-2",style:{color:"#404040"},children:"followers"===h?(0,fn.jsx)(fn.Fragment,{children:(0,fn.jsx)(Mt,{style:{marginRight:"0.2rem"}})}):(0,fn.jsx)(fn.Fragment,{children:(0,fn.jsx)(lp,{style:{marginRight:"0.2rem"}})})})]}),(0,fn.jsx)("h1",{className:"blog-title mt-3",children:i}),(0,fn.jsx)("p",{className:"descript-blogpost",children:a}),(0,fn.jsxs)("div",{className:"d-flex gap-4 mt-3",style:{alignItems:"center"},children:[(0,fn.jsxs)("span",{className:"d-flex align-items-center gap-2",style:{color:"#404040"},children:[(0,fn.jsx)(Lt,{}),c]}),(0,fn.jsxs)("span",{className:"d-flex align-items-center gap-2",style:{color:"#404040"},children:[(0,fn.jsx)(Dt,{}),l]})]}),(0,fn.jsx)("div",{className:"d-flex gap-3 mt-3 tag-blogpage",children:g.map(((e,t)=>(0,fn.jsx)("span",{className:"btn-light",children:e},t)))})]}),(0,fn.jsx)("div",{style:{aspectRatio:"1/1",height:"7rem",background:"#f0f0f0"},children:(0,fn.jsx)("img",{src:s,alt:"",className:"w-100 h-100",style:{objectFit:"cover",aspectRatio:"1/1"}})})]})})},gp=e=>{let{blog:t,index:n}=e;const{topic:r,blog_id:o,author:i,publishedAt:a}=t,s=(null===i||void 0===i?void 0:i.fullname)||"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e1c\u0e39\u0e49\u0e40\u0e02\u0e35\u0e22\u0e19",c=(null===i||void 0===i?void 0:i.username)||"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49",l=(null===i||void 0===i?void 0:i.profile_picture)||"default-image.jpg";return(0,fn.jsxs)(cn,{to:"/blog/".concat(o),className:"blog-link d-flex gap-4 mb-2",children:[(0,fn.jsx)("h1",{className:"blog-index",children:n<10?"0"+(n+1):n}),(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-center mb-2",children:[(0,fn.jsx)("img",{src:l,alt:"",className:" rounded-circle",style:{height:"24px",width:"24px"}}),(0,fn.jsxs)("p",{className:"m-0 fw-medium",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"1",overflow:"hidden",textOverflow:"ellipsis",width:"220px"},children:[s," @",c]}),(0,fn.jsxs)("p",{className:"w-auto m-0 fw-medium",children:[" ",pp(a)]})]}),(0,fn.jsx)("h1",{className:"blog-title",children:r})]})]})};function yp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function vp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"circle",attr:{cx:"10",cy:"8",r:"4"},child:[]},{tag:"path",attr:{d:"M10.67 13.02c-.22-.01-.44-.02-.67-.02-2.42 0-4.68.67-6.61 1.82-.88.52-1.39 1.5-1.39 2.53V20h9.26a6.963 6.963 0 0 1-.59-6.98zM20.75 16c0-.22-.03-.42-.06-.63l1.14-1.01-1-1.73-1.45.49c-.32-.27-.68-.48-1.08-.63L18 11h-2l-.3 1.49c-.4.15-.76.36-1.08.63l-1.45-.49-1 1.73 1.14 1.01c-.03.21-.06.41-.06.63s.03.42.06.63l-1.14 1.01 1 1.73 1.45-.49c.32.27.68.48 1.08.63L16 21h2l.3-1.49c.4-.15.76-.36 1.08-.63l1.45.49 1-1.73-1.14-1.01c.03-.21.06-.41.06-.63zM17 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]}]})(e)}function bp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(e)}function xp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(e)}function wp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41l-1.06-1.06zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"},child:[]}]})(e)}function kp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14.06 9.94 12 9l2.06-.94L15 6l.94 2.06L18 9l-2.06.94L15 12l-.94-2.06zM4 14l.94-2.06L7 11l-2.06-.94L4 8l-.94 2.06L1 11l2.06.94L4 14zm4.5-5 1.09-2.41L12 5.5 9.59 4.41 8.5 2 7.41 4.41 5 5.5l2.41 1.09L8.5 9zm-4 11.5 6-6.01 4 4L23 8.93l-1.41-1.41-7.09 7.97-4-4L3 19l1.5 1.5z"},child:[]}]})(e)}function Sp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 2-5.5 9h11z"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"4.5"},child:[]},{tag:"path",attr:{d:"M3 13.5h8v8H3z"},child:[]}]})(e)}function Cp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function Ep(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"},child:[]}]})(e)}function _p(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}const Tp=e=>{let{message:t}=e;return(0,fn.jsx)("div",{className:"text-center w-100 p-4 rounded-circle mt-4",children:t})},Np=async e=>{let t,{create_new_arr:n=!1,state:r,data:o,page:i,countRoute:a,data_to_send:s={},user:c}=e;const l={};if(c&&(l.headers={Authorization:"Bearer ".concat(c)}),r&&!n)t=Ln(Ln({},r),{},{result:[...r.result,...o],page:i});else try{const e=await ap.post("".concat("http://localhost:3001").concat(a),s,l);t={result:o,page:1,totalDocs:e.data.totalDocs}}catch(u){console.error(u)}return t},Ip=e=>{let{state:t,fetchDataFun:n,additionalParam:r}=e;return null!==t&&t.result&&Array.isArray(t.result)&&t.totalDocs>t.result.length&&t.page?(0,fn.jsx)("button",{onClick:()=>n(Ln(Ln({},r),{},{page:t.page+1})),className:"loadmore",children:"\u0e42\u0e2b\u0e25\u0e14\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21"}):null},Ap=()=>{const e="http://localhost:3001",[t,n]=(0,Z.useState)(null),[r,o]=(0,Z.useState)(null),[i,a]=(0,Z.useState)(null),[s,c]=(0,Z.useState)(null),[l,u]=(0,Z.useState)("\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"),[d,h]=(0,Z.useState)([]),p=e=>{const t=e.currentTarget.innerText.toLowerCase();o(null),u(l!==t?t:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01")},f=()=>{const e=sessionStorage.getItem("user");if(!e)return{};try{const t=JSON.parse(e);if(null!==t&&void 0!==t&&t.access_token)return{Authorization:"Bearer ".concat(t.access_token),"Content-Type":"application/json"}}catch(t){console.error("Error parsing user data:",t)}return{"Content-Type":"application/json"}},m=t=>{let{page:n=1}=t;const i=f();ap.post(e+"/posts/latest-blog",{page:n},{headers:i}).then((async e=>{let{data:t}=e;console.log(t.blogs);let i=await Np({state:r,data:t.blogs,page:n,countRoute:"/posts/all-latest-blogs-count"});const a=(e=>{const t={};return e.forEach((e=>{Array.isArray(e.tags)?e.tags.forEach((e=>{e&&(t[e]=(t[e]||0)+1)})):"string"===typeof e.tags&&e.tags&&(t[e.tags]=(t[e.tags]||0)+1)})),Object.entries(t).sort(((e,t)=>t[1]-e[1])).slice(0,10).map((e=>{let[t]=e;return t}))})(t.blogs);h(a),o(i),console.log(i)})).catch((e=>{console.log(e)}))},g=t=>{let{page:n=1}=t;ap.post(e+"/search-blogs",{tag:l,page:n}).then((async e=>{let{data:t}=e,i=await Np({state:r,data:t.blogs,page:n,countRoute:"/search-blogs-count",data_to_send:{tag:l}});o(i)})).catch((e=>{console.log(e)}))};return(0,Z.useEffect)((()=>{const r=f();ap.post(e+"/posts/blog-recommends",{},{headers:r}).then((async e=>{let{data:r}=e,o=await Np({state:t,data:r.blogs,page:1,countRoute:"/posts/all-latest-blogs-count"});n(o)})).catch((e=>{console.log(e)}))}),[]),(0,Z.useEffect)((()=>{if(null!==t&&void 0!==t&&t.result&&null!==r&&void 0!==r&&r.result){var e,n;const o=[...t.result,...r.result].reduce(((e,t)=>(e.some((e=>e.blog_id===t.blog_id))||e.push(t),e)),[]),i=o.length,s=null!==(e=null!==(n=null===t||void 0===t?void 0:t.page)&&void 0!==n?n:null===r||void 0===r?void 0:r.page)&&void 0!==e?e:1;a({result:o,totalDocs:i,page:s})}else a(r)}),[t,r]),(0,Z.useEffect)((()=>{var t;null===(t=zu.current)||void 0===t||t.click(),"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"===l?m({page:1}):g({page:1}),s||ap.get(e+"/posts/trending-blogs").then((e=>{let{data:t}=e;c(t.blogs)})).catch((e=>{console.log(e)}))}),[l]),(0,fn.jsx)(Bu,{children:(0,fn.jsxs)("section",{className:"h-cover d-flex justify-content-center",style:{gap:"2.5rem"},children:[(0,fn.jsx)("div",{className:"w-100",children:(0,fn.jsxs)(Uu,{routes:[l,"\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e22\u0e2d\u0e14\u0e19\u0e34\u0e22\u0e21"],defaultHidden:["\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e22\u0e2d\u0e14\u0e19\u0e34\u0e22\u0e21"],children:[(0,fn.jsxs)(fn.Fragment,{children:[null===r?(0,fn.jsx)(sp,{}):null!==i&&void 0!==i&&i.result.length?null===i||void 0===i?void 0:i.result.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.1*t},children:(0,fn.jsx)(mp,{content:e,author:e.author})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"}),(0,fn.jsx)(Ip,{state:r,fetchDataFun:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"===l?m:g})]}),null===s?(0,fn.jsx)(sp,{}):s.length?s.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.1*t},children:(0,fn.jsx)(gp,{blog:e,index:t})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e15\u0e34\u0e14\u0e40\u0e17\u0e23\u0e19\u0e14\u0e4c"})]})}),(0,fn.jsx)("div",{className:"trending-blog",style:{position:"relative",zIndex:10,top:0},children:(0,fn.jsxs)("div",{className:"d-flex flex-column gap-3 ",style:{position:"sticky",top:"20px",zIndex:10,backgroundColor:"#fff"},children:[(0,fn.jsxs)("div",{children:[(0,fn.jsx)("h1",{className:"fw-medium mb-3 fs-5",children:"\u0e41\u0e17\u0e47\u0e01\u0e22\u0e2d\u0e14\u0e19\u0e34\u0e22\u0e21"}),(0,fn.jsx)("div",{className:"d-flex gap-3 flex-wrap",children:d.map(((e,t)=>(0,fn.jsx)("button",{onClick:p,className:l===e?"tag changeColor":"tag",children:e},t)))})]}),(0,fn.jsxs)("div",{style:{position:"sticky",top:"100px",zIndex:10,backgroundColor:"#fff"},children:[(0,fn.jsxs)("h1",{className:"fw-medium mb-3 fs-5",style:{position:"sticky",top:"20px",zIndex:"10"},children:["\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e21\u0e35\u0e04\u0e19\u0e16\u0e39\u0e01\u0e43\u0e08\u0e21\u0e32\u0e01\u0e17\u0e35\u0e48\u0e2a\u0e38\u0e14"," ",(0,fn.jsx)(kp,{style:{fontSize:"25px",marginBottom:"5px"}})]}),null===s?(0,fn.jsx)(sp,{}):s.length?s.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.1*t},children:(0,fn.jsx)(gp,{blog:e,index:t})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e15\u0e34\u0e14\u0e40\u0e17\u0e23\u0e19\u0e14\u0e4c"})]})]})})]})})},Op="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBYRXhpZgAATU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAB9KADAAQAAAABAAAAkAAAAAD/wAARCACQAfQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwACAgICAgIDAgIDBQMDAwUGBQUFBQYIBgYGBgYICggICAgICAoKCgoKCgoKDAwMDAwMDg4ODg4PDw8PDw8PDw8P/9sAQwECAwMEBAQHBAQHEAsJCxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/90ABAAg/9oADAMBAAIRAxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9D9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9H9/KKKKACiiigAooooAKKKKACivJfi/wDGHwd8EPCg8Y+N5JY7B50t18mMyOZJASBgfQ18tn/go7+z0BxLqJ/7dXqlFvYqx9/UV4f8F/j58P8A49aXqGreApZpItMlSGcTxGIh5BkcHrxXuFTsSFFecfE/4oeDfhF4TuvGXji+Fnp9vgdC8kjnokaDlifQV8ln/go5+zuOk2o/+AklUot7AffdFfE3hD9u74KeO/FGn+EPDaald6jqkyQwxrZyHJPUn0C9SewBNez/AB9+N+jfALwN/wAJzrenz6lb/aI7bybfaHzJnn5iBjip5XsB7lRXz38N/wBojwZ4/wDg4/xruEk0PRLcXHnC7K7o/sxIfOwkduK8s+B37ZWifHrx3N4P8IeEtTS1tkkln1CXyhBFGvCNJhsgucADrz04OCzA+16KK8L+Pvxv0X4AeBV8c67p8+p27XUVoIbbaH3yBiD8xAx8po3A90oryT4J/FnSvjd8OdN+I+jWc1haak06CGfaZEMErRHOwkdUNeH69+2P4R0L9oOH9n2fQ72TUZb2zsftimPyPMvI0kQ43bsDzADx60WYH2XRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH/0v38ooooAKKKKACiiigAoPSig9KAPzz/AOClH/Jv1t/2GLb/ANAlr8E6/ez/AIKVf8m/2v8A2GLb/wBBkr8E67qXwmsdj9of+CWf/In+PP8Ar/s//RT1+nHiLxDo/hPQ73xHr90llp2nxPNNNIcIiIMkk1+YP/BLqWK38FePp53CRrf2hYk4AAifmvnP9uD9q6b4qa9P8M/A14f+ES0uXE8sZwL+4jPXPeJT931Iz2GcHDmkTa7PFv2qf2kdY/aC8cPcwGS38MaWXj021PHydDNIP70n6Dj1r5gtre4vLiK1tY2nnnYRoqjLuXOAAB1JqCv2G/YK/ZMazSz+OnxGs8TviTRbOUfcHa7kB7/88h/wL+7XRKSgi9j339i39la2+CnhiPxn4vt1k8a63CDJkZ+wQPyIF/6aHgyn1+UcAk1P+CkQU/s8knqNTtMfma+/x0r4K/4KLwTXH7PMiwRNKRqVocKMnqa40/euzNbn43y/FbxVr3ww8LfAi2uBpWgQXck08jvsjuJ7mc4klf8A55RA/mCewr+gv9nz4KeEvgZ8PLLwz4ZK3U9wqTXt+Mbrydx/rM/3B0Qdh6kkn86/h7+zHa/Hv9jDw49raLZeM9Ck1E6bOyCMzp9qkkNvKe8bk/KT90+xIPTfsO/tGeI9D1WP9nb4tRz2t1aO1tpc1wjB43jODZy56YwfLJ/3fTOs9VoNn601+fn/AAUn/wCTdo/+w1Zf+i5q/QOvmP8Aa1+E2pfGj4I6x4Q0DDavE8V7ZocASTW7Z8vJ4BdSQM9yKxho0JHEf8E/2U/st+F8dp9R/wDSyWvz5+IjZ/4KWWjD/oZNEHH/AFxta5P4N/tY/F39mDQL34V6r4U+1paTySRQXvmW0ttJIcsOFO5SecYHU816B+yl8NfiZ8ev2jB+0H44sZLXS7K8OpS3LxmOOa4RdlvDBnqIyBkjOAvJyRXRblu2O1j9xaKKK5SAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/0/38ooooAKKKKACiiigAoPSig9KAPz1/4KUf8m/23/YXtv8A0GSvwRr97f8AgpT/AMkAtP8AsMW3/oMlfglXdS+E1jse3eDfjj4m8B/CjxL8M/DJNofFd1FJd3YOJBbxRkGKP0MhPzHsBx148RrqrXwX4ivvCF747srRpdH066js7iZefKknQvHuHYNggHpkY7jPK1ordCz9C/2Hv2Un+Lmux/Enx1an/hD9Hm/cwyDA1C5jOfLHrDGfvHv931x+8kUUcEaRRKEjUAADgADoAK/JT/gn9+1JZNYWfwD8bypaS2+8aLcnCLKGJc2zf9NASSh/iHHUc/rmvSuGd76mL3FqJ0SRdrgOPcZqWisySFFWNQka4A6ADAppghLiXy13jnOBn86sUUAFFFFAGRd6Lo2oSCXULGC5kXo0sSuR+JFaEcSRIscShEAwABgD8KnooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//1P38ooooAKKKKACiiigAoPSig9KAPzz/AOClX/JALP8A7DFt/wCgyV+Cdfvb/wAFKf8AkgFp/wBhi2/9Bkr8Eq7qXwmsdj9fv+CbfhrQ/GXww+JXhfxFapfafqN1bQ3ELjIdHif9e4PY18R/tS/s361+z144eyj8y78NakTLpt4R1TvFJ6SR9D6jBHoPvr/glh/yKvj/AP6/bL/0VJX6E/Fv4V+FvjJ4I1DwP4utxJa3S5ilGPMt5gPkljPYqfzGQeDWLnaTC9mfyw21zcWdzFeWcjQTwMJEkjJDo4OQ4I5BBGc1+/H7Fv7VVv8AGnw6vgrxhcLH400eJd+cJ9ttxwJlH99eBIB3IPQ8fir8ZfhB4s+CPjm98EeLIiJIj5lvOARHc25J2yRn0OPwII7VxvhPxZr/AIG8Saf4r8LXjWGqabKJoJozyCnYjuCMgg8EEitZJSQ2rn9aa9K+U/2wfi/4u+Cfwjfxn4K8gaj9sgg/0iMyIEkJzwCOfxrV/Zi/aI0D9oTwJHrMG2z17TwkWp2QbJjmx/rE7mKTBKH6g8g145/wUgz/AMM7v/2E7T+ZrljH3rMz6nzJ4T/aS/by8beEF8d+FPDVhqWiSebieK0znyCRJhfO3cEHtX0h+xr+15rvx91fVfBHjbTYLTXdLtPtqzWu5IpYEkWJ8xuSVYNIvc5z7V8R/AW3/ban+DFvB8GoIn8HytdiE77QS5MjCbAlYN97PUfSui/4Jv6l4f8AD3xq8SeHPEVvPD4tvbOe2hMmNipBKslzEw6+ZmMH6Ka0aVmNn0J8Ov2svil4m/bCn+CWqpZf8I4NS1O0ULAROEs4ZpIz5nmEE5iGeO9fp7X4S/Bo7v8Ago/O3rreu/8ApLdV+7VZzVrCZ+eP7WP7a8XwQ1b/AIV/4GsYtV8U+UHnafJt7USDKBgCCzkc7cjjknpn41m/a7/bb8MWsXjPxFo8qaE5RvMutIaK0dD0AlwuM9juP41znhiLSdU/4KHXcPxICvZnxTqYAuPuF4/O+wZ3dRuEIUd+K/dvxDBoVxoF9a+JI4ZNIkgkW6WcAxGEqd4bPGMVq7RtoPY+cv2Xf2nNA/aL8M3NxHbjTPEOlbBf2WdwxJnZLGe8ZwR6gjB7Z+d/2p/27J/hd4ou/ht8LbCHU9csiI7y8uAXhglIz5UcaEGR1BGeQBnHJzj5O/4J5SSQftL6xB4dZn0xtL1AdcgwCaLynP47fz96xv2ZrTSdX/bhuE+IUcct3/aesSpHPgp/aCNKRkHqQdxX3A9KfIk2Fju7b9pn9vjTY08R3vhu8uNOH70+bokggMfX7yqCBjvur9L/AA18f9NT9naw+PHj+3GkxSWX2m4gTLfvfMMYjjB5JdwAB7ivn39rP9of9of4Ga+1/wCE/DenXHgtYYANQu4pJP8ASJCQYyY5UHYcYrwT9o/4p+KPi9+wl4Q8earbw2d3qniERXsVmpjt/Lg+2xrgMxIBZIzyTzSte2gzkNV/bp/aa+K3iG4s/gx4e+z2cRJWC0s3v7kR5wHlfBA/BQB6mvcP2c/2mP2l9S+L+h/DD41eHHgtte+0CO4uLKSyljeC3kmyOArD93jGB1zmu8/YfjttL/ZHm1f4fWcF14sI1SV4yOZr+NpPsscuCDgoIhjI4PbNePeCf2y/2g5/j94c+EPxO8N6PplzcalbWd3GlvKLiEXIHKuZ2AO1weh60PW6SA67xz+1p8WPDv7YsXwVsDZHw2+q6ZZFWgJn8u8jhLHzN3XMhxx6U39s/wDa1+LXwL+LGneEfBBsf7Pn0mC9YXEBkcySTTIRkMMDEQ/Wvmr4s4X/AIKRW/8A2MGhf+ibWpv+Ck8KT/tF+H4JT+7l0KyU464N3dA04xV0Ox+kdh+0RH41/Zc1n43eDfJj1XTtIu55IJPnS3vrWMl0cZBIDDK+oIPevPP2Hv2hPiD8e9G8W3vxBe2L6JPaJCbaLyhslSQtuyxz90V+cmq3/ir9kfxF8Tfgbru+78N+MdHvIbSQ52SfaIZBaXKDpn/llJjuP9mvef8Agn7JqEfwY+NcmkAnUEtYzAF6+YLW42Y/Gm4JJk8uh0Pxz/4KCeLf+EyufAHwF06K6+zTm1+3SRG4kuJQcH7NCDyueATnPYYwT5zB+1b+3D4Dkj1/xr4YuLjSk+aVb3SpLeMp/wBdEVdh9zn6VF/wTG0/wrd/E7xPeatHFJrdpp0ZsPMxlEeQi4KA9/ujI6An1r2b9pL9rD9pn4IeNL/TbvwvpEfhi7upotLuLq3lk+0wR45JWcAnDDPApWSfKkHkfqPomoHVtHsdUePyjeQRzFT28xQcfrXP/EbXL3wz8P8AxP4k03abzStLvbyHcMjzLeFpFyO4yBVH4V+Jb3xr8NfC3i7U44oLvWdMtLyVIlIjV54lkIUEkgAnjJNQ/Gfj4QeOf+wDqn/pLJXMiD8cvCH7an7ZPj17xfBOkQ6+9gEacWelyTmISZ2bvLY43YOM+hr6F/Z4/br8aeIfiXafCj42aNFpuoX0/wBkinija3eO5PSOaGQkjPTOepHFfCH7K37TN3+zfc+Jbi18PHxAdfjtF2icxCI2xlOTiNs7vN9ulelfCPw58Rf2pP2q7b4vy6E2l6bFqlpqV5NGH+z26WQj8uISEANI3lKMdScnGK65RWuhrY+tvjN+1f8AFfwN+1npnwe0I2X/AAj099o9u4kgLzOl75Pm/vN3B/eHbx6da/UOvwn/AGlG/wCNhWj7uFXV/DX8rWv3YrnmrJEMzNRvrTSdPudUvpBFb2kTyyuTgBIxkkn6CvxU0b/go18SpvixA+oJZJ4IuNT2GL7ORPHYvJsUmTd95VIY8djxX2r/AMFAPiqvw7+Bd5oNjP5eq+MJRp0QBwwtyM3L/TYNn1cV+Q+qR/CH/hmTS7Cz1WJ/iBBq0t/PB5b7/s84EPkiTGOFjSTGeMH1rWEVa7Gkf0rQzxXVvHc25DxyqGU9iCMg1+K3j39qz9t3wL/aGq+IvDw0jSLW4eIXFxpUscQDtiMeYxwc8Y55r7x/Yg+Kf/Cz/gJo/wBsm83VfDhOl3eTlz9nA8pz/vRFfxzWB/wUOGf2Y9bPpe6f/wClC1C0dmJbnwz4T/a4/bf8a2Q1nwloA1mw3+WZbbSpJY96dRmMnn8a9w/bH/au+M3wX+JmheEfBUlpDBf6Fa300c1v5r/aZZp43AO4cfu14+teo/8ABNgj/hn6X/sK3P8AJa+LP+CmPmf8ND+HzAMyf8I7Z4Hqftl5itI6ytYf2jsF/aN/4KDSBDH4OuCGGQRokxBFfePxg/aYtPgP8H9B8W+NLMz+KtatIFi01P3Re7MSvMXzkxxxk85yRkDkmvBPgnrn7dt18SPD9t8TdKWDwi0jfbZDHAAIvKfacpIT12+tfNv/AAVBfUG+L3hSKXd9gXQgYv7nmm6mEuPfAj/Sosm7BuzNg/a//bT8di48T+CdGlOjxsf+PDSnuLeMDsZCH5A68j8K+qv2Vf26Jvij4hg+GvxRs4tN8QXOVtLqHKQ3EijJjZCSY3645IOO1fdfwwtPC9l8PvDtt4MSFdFWxtza+TjZ5ZjUg8dSepPrX4gftORaPYftvofARWO5Op6RJKIOANQcxGTGO5JBb3Jql72lg3Pr39tX9qz4s/A74paN4Q8APZrZ3ukxXrieAyu0slzPFwQw4wi8eua8Q1T9s/8AbJ+HyW2vfEHwfFbaRJIBuu9MuLSOTfyFEpbAJH1+lc9/wUzlMPx98MTsMmPw7aOR67L27NcV8d/21PGHxz8ARfCs+E4dHgupbYyMJXuJZXiIMaxgxx4JYD19KtR0WhVj9MNU/akl8Sfsm638ffAtvHbarp8IQ29yDIkFyJo4pAQCNwG7KnjPFef/ALFf7XPiL46arrPg34i/ZYtctY1ubNrZDEJYOki7SzfMhwc+h9q83T4T+IvhD/wTy8Y6N4qj+z6rqarfzQHnyBPcwBUP+1tUEjsTX5tfCbX/ABT8GfEPhL446dGTpkWpS2rFT/rPIEfnwsP9qGXI9/pUqKadibH7bftnftIX/wCz54I00+FvIk8Ta7cMlqk6mRUggGZ5SoIJxlVHPVvatj9jn4z+MPjl8K7jxb41W3/tCG/lth9mjMaFECkcFjzz61+PX7SXxC1b9pX4n+K/HWgbpPDXhKxTyN2QEs45Y4t/1lml3Dvj/dr9LP8Agml/yQW9/wCwxcf+gR1LilELaH6JUUUVgQFFFFABRRRQAUUUUAf/1f38ooooAKKKKACiiigAooooA+N/22/hX42+L/wgh8L+ANPGo6nHqNvceUZY4v3aBgTmRlHcd6/JAfsGftRn/mTx/wCBtp/8er+jekJxWsajirIpOx+fn7BXwO+JXwU8O+LLP4kaWNLn1W6tpLdRNFNuSONg5/dMwHJHWv0CK+lAPalPSsm7u5O58zftL/s8eH/2hfA0uj3AW117Tw8mmXuOYpO8bHvHJgBh24PUV+MUn7Bv7USStGvhISBCRvF7aYPuMy1/RvScCrjUcSk7H4NfB39m39s/4JeOLLxv4S8LYlgOye3N/aeXcwEjfFJiboccHsQD2r9F/wBsH4cfEP40fAi38O+D9HMmtz3FndS2Uk8KPHgZkQyFhGTGTg4bB7Zr7Pooc23cLn4n/Dv4ff8ABQz4WeEYvAvgvRo7LS4nldVMtjI4MpyxDGX1Ne7fsffsh+O/h349vfjJ8YJY11ydbgQWySCVxLcn97PK6fLnBIABPUnjAr9OqKHJsLn4ceNP2Yv2s9F+PviH4q/DDRTbyyane3On3sd3aE+XceYufLlk7rIRhl71778G9L/4KCw/E/w9N8ULiZ/Cq3Q/tESSaeR5GDniH956dK/Uqijn8gufmt+17+xVqPxW10/FP4WTx2viZlT7ZaSN5SXZiACSxyfwzAADBwDgHII5+SNQ+Ev/AAUF8b6Unw+8RNqkmj8QuLi7t0iMfT95KG3SL9S2fev3gooU2gufG37Jn7K9h+zroN1eapcLqXinWlQXk8YPlQRpyIIieSueS2BuIHAwK+cv2qP2IfFvinxzcfF74ITpBq95KLi6svM+zyfaUwfPtpcgBnPLAkc5OecD9VqKXM73C5+Dvir4T/t//FbRrfwN43s73UNLgdCFuntI03r0d5Bgtj6mv0U+HH7MUcX7LFr+z/8AE50llkW4aWW1O/7PLJcvcRNGxAy0ZYdsHkcivs6im5Nhc/DO2/Zn/bQ/Z5169i+Dl3Ne6feNnz7CSIxyhfumS2uPutj2OOm410vwY/Za/ac8RfH3RfjL8W7ZLN7LUba+vLi7mh82cW+AEjjhzzhQOQor9p6Kr2jC5+SvxE/Zp+NGvftrQfFvTNC83wsNY0q7+1/aIFxDaRQCQmMt5nBjPG3PHFWf21/2a/jN8WvjXoni3wBoY1LS7bTLS1ll+0QxbJY7maRgRJIp6SA5Ar9YaKnmYXPib9sX9m6b47fDq2m8OW0b+MPD+HsixCefGcebbFyQAG+8CeMjqATXD/sEfA74lfBnRPGll8S9J/st9Ynszbr5sU29I1lD/wCqZsfeHX1r9DySKAexpcztYnm6H42fGP8AYc+LHw/+IMvxI/ZquWMMkzzxWsM4t7uzeTl44y5CyRegznHBBxk+X+K/gB+3R8eLvTNP+JNrNcQ6eziGW+ktYIoPMxvf91hjnA7E1+8tFX7RlXPPfhh4YvPBHw48M+DdSkSa70PTbSzlePJRnt4ljJXIBxkccVL8TNHv/EPw58V+H9Jj8291TSr61gTIXfLPA6IMngZJHJrvaD0rIk/Mb9gv9nf4lfCHUfGkvxT8PxWKapFYLab5ILjeYjMZMeWzYxuHXHUV+mMUEUCiOBBGg6BQABUwPalPShu7uG5+OH7Vv7NH7QnjT9o6/wDib8M9DNzap/Z8tndrc2yFJ7aGIZ2SyA8SR9xg4q54e0T/AIKXL4h0yTWLm4+wC6i+0BpdL2eV5g8zO3nGM9Oa/YSir59LWKufk9+1p+z38evj78dNIFlo5HgrTFt7SO7NzCAiSlXupvLLbvbG3naK+lbv9g/9mWawltYPCpgldCqzC8uiVfHDYMpHB5wRivsyg9KXM9guflf+xT8DPj78BfibrmmeLtG8vwnq8LxvdLcwuhnt2PkSiNZCwDAkdM8jPSvqb9sX4ceMPir8CdV8G+BbL+0NWuLmzljhMiR5WGYO3zSEDoPWvqgE4oJIocru5N+p8b/sQ/C7xz8I/hBJ4Z8f6f8A2bqL6hPMIfMjk/duBg5jZxzj1r5n/bd/Zv8AjF8XPjVoXi34f6F/aml2mkWlpLN58MWyWO6uJXUiSRT911OcY5r9YATigkilzNO4X6le3XZbxxt1RQD+VfMX7UP7NGiftFeEILB7gad4g0kySadeEZRfMxvilA58t8DpyCAeeQfqeiknbUD8HtN+DP7fvwws5/AvhB9RGj5KR/Y7qGS3we8Zc7ogf+A/SvpD9lT9h3xF4Q8WwfFn41yrPrFrIZ7Wx8zzyLhufPnlyQXBJIAJ55Jr9UaKtzbKuflH+3B+zf8AGD4u/GPw/wCK/h9of9qadZ6Tb2c0vnwxbZY7q4lIIkkU/dkByB3r0D9tb9lrxF8XfD/hrxP8OtPjm8WaGEtJoUeOAz2jjPDuQMwuPl56M3oK/RyijnegXPhvxH4N+NvxG/Y01LwB4p0byvHs1nFaeQ88J+0G3niPmeYG8sGRFJ5I5rwH4e/sgeOtS/ZJ8UfC/wAb6SuneKjqUmqaSrSxSYnjijCjfGxRRKA0fJ43Z7V+sVFLmaC5+Ungf9kHx34T/ZE8ceDm0uN/iD4yaKRrfzYvlitriMxw+bny/uhm64y2M19G/sRfCjxx8IPhFP4a8f6f/Zupz6jPceT5kcuI3CgEmNnHOD3r7OoocmwuFFFFSSFFFFABRRRQAUUUUAf/1v38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/1/38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAP/2Q==",Rp=n.p+"static/media/hero-image.ffb8af2b4983cf5020bf.jpg";function Mp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]},{tag:"path",attr:{d:"M256.7 160c37.5 0 63.3 20.8 63.3 50.7 0 19.8-9.6 33.5-28.1 44.4-17.4 10.1-23.3 17.5-23.3 30.3v7.9h-34.7l-.3-8.6c-1.7-20.6 5.5-33.4 23.6-44 16.9-10.1 24-16.5 24-28.9s-12-21.5-26.9-21.5c-15.1 0-26 9.8-26.8 24.6H192c.7-32.2 24.5-54.9 64.7-54.9zm-26.3 171.4c0-11.5 9.6-20.6 21.4-20.6 11.9 0 21.5 9 21.5 20.6s-9.6 20.6-21.5 20.6-21.4-9-21.4-20.6z"},child:[]}]})(e)}function jp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm-4.3 304c-11.8 0-21.4-9-21.4-20.6 0-11.5 9.6-20.6 21.4-20.6 11.9 0 21.5 9 21.5 20.6 0 11.6-9.5 20.6-21.5 20.6zm40.2-96.9c-17.4 10.1-23.3 17.5-23.3 30.3v7.9h-34.7l-.3-8.6c-1.7-20.6 5.5-33.4 23.6-44 16.9-10.1 24-16.5 24-28.9s-12-21.5-26.9-21.5c-15.1 0-26 9.8-26.8 24.6H192c.7-32.2 24.5-55 64.7-55 37.5 0 63.3 20.8 63.3 50.7 0 19.9-9.6 33.6-28.1 44.5z"},child:[]}]})(e)}function Pp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(e)}function Dp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M435.9 64.9l-367.1 160c-6.5 3.1-6.3 12.4.3 15.3l99.3 56.1c5.9 3.3 13.2 2.6 18.3-1.8l195.8-168.8c1.3-1.1 4.4-3.2 5.6-2 1.3 1.3-.7 4.3-1.8 5.6L216.9 320.1c-4.7 5.3-5.4 13.1-1.6 19.1l64.9 104.1c3.2 6.3 12.3 6.2 15.2-.2L447.2 76c3.3-7.2-4.2-14.5-11.3-11.1z"},child:[]}]})(e)}function Lp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M184 448h48c4.4 0 8-3.6 8-8V72c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v368c0 4.4 3.6 8 8 8zM88 448h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8H88c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zM280.1 448h47.8c4.5 0 8.1-3.6 8.1-8.1V232.1c0-4.5-3.6-8.1-8.1-8.1h-47.8c-4.5 0-8.1 3.6-8.1 8.1v207.8c0 4.5 3.6 8.1 8.1 8.1zM368 136.1v303.8c0 4.5 3.6 8.1 8.1 8.1h47.8c4.5 0 8.1-3.6 8.1-8.1V136.1c0-4.5-3.6-8.1-8.1-8.1h-47.8c-4.5 0-8.1 3.6-8.1 8.1z"},child:[]}]})(e)}function Fp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm14 226c0 7.7-6.3 14-14 14h-96c-7.7 0-14-6.3-14-14s6.3-14 14-14h82V128c0-7.7 6.3-14 14-14s14 6.3 14 14v146z"},child:[]}]})(e)}function Bp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M228.9 79.9L51.8 403.1C40.6 423.3 55.5 448 78.9 448h354.3c23.3 0 38.2-24.7 27.1-44.9L283.1 79.9c-11.7-21.2-42.5-21.2-54.2 0zM273.6 214L270 336h-28l-3.6-122h35.2zM256 402.4c-10.7 0-19.1-8.1-19.1-18.4s8.4-18.4 19.1-18.4 19.1 8.1 19.1 18.4-8.4 18.4-19.1 18.4z"},child:[]}]})(e)}function zp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"},child:[]}]})(e)}function Up(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.2 48 48 141.2 48 256s93.2 208 208 208 208-93.2 208-208S370.8 48 256 48zm21 333h-42v-42h42v42zm-.2-63h-41.6c0-67 62.4-62.2 62.4-103.8 0-22.9-18.7-41.7-41.6-41.7S214.4 192 214.4 214h-41.6c0-46 37.2-83 83.2-83s83.2 37.1 83.2 83.1c0 52-62.4 57.9-62.4 103.9z"},child:[]}]})(e)}function Vp(e){return Ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M413.967 276.8c1.06-6.235 1.06-13.518 1.06-20.8s-1.06-13.518-1.06-20.8l44.667-34.318c4.26-3.118 5.319-8.317 2.13-13.518L418.215 115.6c-2.129-4.164-8.507-6.235-12.767-4.164l-53.186 20.801c-10.638-8.318-23.394-15.601-36.16-20.801l-7.448-55.117c-1.06-4.154-5.319-8.318-10.638-8.318h-85.098c-5.318 0-9.577 4.164-10.637 8.318l-8.508 55.117c-12.767 5.2-24.464 12.482-36.171 20.801l-53.186-20.801c-5.319-2.071-10.638 0-12.767 4.164L49.1 187.365c-2.119 4.153-1.061 10.399 2.129 13.518L96.97 235.2c0 7.282-1.06 13.518-1.06 20.8s1.06 13.518 1.06 20.8l-44.668 34.318c-4.26 3.118-5.318 8.317-2.13 13.518L92.721 396.4c2.13 4.164 8.508 6.235 12.767 4.164l53.187-20.801c10.637 8.318 23.394 15.601 36.16 20.801l8.508 55.117c1.069 5.2 5.318 8.318 10.637 8.318h85.098c5.319 0 9.578-4.164 10.638-8.318l8.518-55.117c12.757-5.2 24.464-12.482 36.16-20.801l53.187 20.801c5.318 2.071 10.637 0 12.767-4.164l42.549-71.765c2.129-4.153 1.06-10.399-2.13-13.518l-46.8-34.317zm-158.499 52c-41.489 0-74.46-32.235-74.46-72.8s32.971-72.8 74.46-72.8 74.461 32.235 74.461 72.8-32.972 72.8-74.461 72.8z"},child:[]}]})(e)}const Wp=e=>{let{text:t}=e;return(0,fn.jsx)("span",{children:t.split("").map(((e,t)=>(0,fn.jsx)(Fu.span,{className:"split-char",initial:{y:50,opacity:0},animate:{y:[0,-10,0],x:[-5,5,-5],opacity:1},transition:{delay:.07*t,type:"spring",stiffness:100,damping:10,duration:.2,repeat:1/0,repeatType:"reverse"},style:{display:"inline"},children:e},t)))})},Hp=()=>{const[e,t]=(0,Z.useState)(!1);return(0,fn.jsxs)("div",{className:"container-fp",children:[(0,fn.jsxs)("nav",{className:"navbar1-fp",children:[(0,fn.jsx)("nav",{className:"navbar-fp",children:(0,fn.jsx)("img",{src:Op,className:"logo-fp",style:{objectFit:"contain",userSelect:"none"},alt:"Logo"})}),(0,fn.jsx)("nav",{children:(0,fn.jsx)("a",{href:"/helpcentre",style:{fontSize:"20px"},children:(0,fn.jsx)(Up,{})})})]}),(0,fn.jsxs)("div",{className:"main-content-fp",children:[(0,fn.jsxs)("div",{className:"text-container-fp",children:[(0,fn.jsx)("p",{children:"\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a\u0e2a\u0e39\u0e48"}),(0,fn.jsx)("h1",{className:"main-title-fp ".concat(e?"show":""),children:(0,fn.jsx)(Wp,{text:"KKU Blogging Platform"})}),(0,fn.jsx)("p",{className:"subtitle-fp ".concat(e?"show":""),children:"\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48\u0e41\u0e2b\u0e48\u0e07\u0e01\u0e32\u0e23\u0e41\u0e1a\u0e48\u0e07\u0e1b\u0e31\u0e19\u0e04\u0e27\u0e32\u0e21\u0e23\u0e39\u0e49\u0e41\u0e25\u0e30\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e0a\u0e32\u0e27\u0e21\u0e2b\u0e32\u0e27\u0e34\u0e17\u0e22\u0e32\u0e25\u0e31\u0e22\u0e02\u0e2d\u0e19\u0e41\u0e01\u0e48\u0e19! \u0e44\u0e21\u0e48\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e08\u0e30\u0e40\u0e1b\u0e47\u0e19\u0e19\u0e31\u0e01\u0e28\u0e36\u0e01\u0e29\u0e32 \u0e04\u0e13\u0e32\u0e08\u0e32\u0e23\u0e22\u0e4c \u0e2b\u0e23\u0e37\u0e2d\u0e1c\u0e39\u0e49\u0e2a\u0e19\u0e43\u0e08\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b \u0e17\u0e35\u0e48\u0e19\u0e35\u0e48\u0e04\u0e37\u0e2d\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e2a\u0e23\u0e23\u0e04\u0e4c \u0e41\u0e1a\u0e48\u0e07\u0e1b\u0e31\u0e19\u0e44\u0e2d\u0e40\u0e14\u0e35\u0e22 \u0e41\u0e25\u0e30\u0e41\u0e25\u0e01\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e04\u0e27\u0e32\u0e21\u0e23\u0e39\u0e49\u0e43\u0e19\u0e2b\u0e25\u0e32\u0e01\u0e2b\u0e25\u0e32\u0e22\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d \u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48\u0e01\u0e32\u0e23\u0e28\u0e36\u0e01\u0e29\u0e32 \u0e40\u0e17\u0e04\u0e42\u0e19\u0e42\u0e25\u0e22\u0e35 \u0e01\u0e32\u0e23\u0e27\u0e34\u0e08\u0e31\u0e22 \u0e44\u0e1b\u0e08\u0e19\u0e16\u0e36\u0e07\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e23\u0e32\u0e27\u0e08\u0e32\u0e01\u0e0a\u0e35\u0e27\u0e34\u0e15\u0e1b\u0e23\u0e30\u0e08\u0e33\u0e27\u0e31\u0e19"}),(0,fn.jsx)("button",{className:"btn-primary-fp",children:(0,fn.jsx)("a",{href:"/homepage",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c"})})]}),(0,fn.jsx)("div",{className:"image-container-fp",children:(0,fn.jsx)("img",{src:Rp,alt:"Hero",className:"hero-image-fp"})})]}),(0,fn.jsx)("footer",{className:"footer-fp",children:(0,fn.jsx)("nav",{className:"footer-menu-fp",children:(0,fn.jsx)("p",{})})})]})};function Gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Kp={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};(function e(t,n){function r(e,r,o){if("undefined"!==typeof document){"number"===typeof(o=Gp({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=t.read(a,s),e===s)break}catch(c){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Gp({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Gp({},this.attributes,t))},withConverter:function(t){return e(Gp({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})})(Kp,{path:"/"});const qp="http://localhost:3001",Yp=e=>{let{className:t,bio:n,social_links:r,joinedAt:o}=e;return(0,fn.jsxs)("div",{className:"about-user "+t,children:[(0,fn.jsx)("p",{className:"m-0",style:{lineHeight:"1.75rem"},children:n.length?n:"\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e2d\u0e48\u0e32\u0e19\u0e2d\u0e30\u0e44\u0e23"}),(0,fn.jsx)("div",{className:"d-flex flex-wrap align-items-center icon-social-link",style:{color:"#494949"},children:r&&Object.keys(r).some((e=>r[e]))?Object.keys(r).map((e=>{const t=r[e];return t?(0,fn.jsx)(cn,{to:t,target:"_blank",style:{color:"inherit"},children:(0,fn.jsx)("i",{className:"bi bi-".concat("website"!==e?e:"globe"," hover:text-black")})},e):null})):(0,fn.jsx)("p",{children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e42\u0e0b\u0e40\u0e0a\u0e35\u0e22\u0e25"})}),(0,fn.jsxs)("p",{className:"m-0",style:{color:"#494949",lineHeight:"1.75rem"},children:["\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e40\u0e21\u0e37\u0e48\u0e2d ",fp(o)]})]})},Xp=n.p+"static/media/404.ce293654fc5b055593cf.png",Jp=()=>(0,fn.jsxs)("section",{className:"h-cover position-relative p-5 d-flex flex-column align-items-center gap-3 text-center",children:[(0,fn.jsx)("img",{src:Xp,alt:"",className:"rounded",style:{userSelect:"none",border:"2px solid #f0f0f0",width:"15rem",aspectRatio:"1/1",objectFit:"cover"}}),(0,fn.jsx)("h1",{className:"fs-3",style:{lineHeight:"1.75"},children:"Page Not Found"}),(0,fn.jsxs)("p",{className:"m-0 mt-2",style:{color:"#494949",lineHeight:"1.75"},children:["\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2b\u0e19\u0e49\u0e32\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e04\u0e49\u0e19\u0e2b\u0e32 \u0e21\u0e38\u0e48\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e01\u0e25\u0e31\u0e1a\u0e44\u0e1b\u0e17\u0e35\u0e48",(0,fn.jsx)(cn,{to:"/",className:"underline",style:{color:"black"},children:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"})]}),(0,fn.jsxs)("div",{className:"mt-auto",children:[(0,fn.jsx)("img",{src:Op,className:" d-block mx-auto",style:{objectFit:"contain",userSelect:"none",height:"3rem"},alt:""}),(0,fn.jsx)("p",{className:"m-0 mt-2",style:{color:"#494949"},children:"\u0e2d\u0e48\u0e32\u0e19\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e23\u0e32\u0e27\u0e41\u0e25\u0e30\u0e41\u0e25\u0e01\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e1b\u0e23\u0e30\u0e2a\u0e1a\u0e01\u0e32\u0e23\u0e13\u0e4c\u0e1c\u0e48\u0e32\u0e19\u0e40\u0e23\u0e32"})]})]}),$p="http://localhost:3001",Zp="http://localhost:3001",Qp=async e=>{if(console.log("me",e),!e)throw new Error("Invalid user ID");const t="".concat(Zp,"/follow/").concat(e);try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const n=e.statusText||"Unknown Error";throw new Error("Server returned ".concat(e.status," ").concat(n," for ").concat(t))}const n=e.headers.get("content-type");if(!n||!n.includes("application/json")){return await e.text()}const r=await e.json();return r._id||console.error("Response does not contain ID:",r),console.log("responseData",r),r}catch(n){return console.error("Error:",n.message),n instanceof TypeError?console.error("Network error or CORS issue"):n instanceof SyntaxError&&console.error("Error parsing JSON response"),null}},ef=async e=>{if(!e)throw new Error("Invalid user ID");const t="".concat(Zp,"/follow/users/").concat(e);console.log("Request URL:",t);try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const n=e.statusText||"Unknown Error";throw new Error("Server returned ".concat(e.status," ").concat(n," for ").concat(t))}const n=e.headers.get("content-type");if(!n||!n.includes("application/json")){return await e.text()}const r=await e.json();return r.id||console.error("Response does not contain ID:",r),console.log("responseData",r),r}catch(n){return console.error("Error:",n.message),n instanceof TypeError?console.error("Network error or CORS issue"):n instanceof SyntaxError&&console.error("Error parsing JSON response"),null}};var tf=n(8139),nf=n.n(tf);const rf=["as","disabled"];function of(e){let{tagName:t,disabled:n,href:r,target:o,rel:i,role:a,onClick:s,tabIndex:c=0,type:l}=e;t||(t=null!=r||null!=o||null!=i?"a":"button");const u={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?o:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const af=Z.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,rf);const[i,{tagName:a}]=of(Object.assign({tagName:n,disabled:r},o));return(0,fn.jsx)(a,Object.assign({},o,i,{ref:t}))}));af.displayName="Button";const sf=af,cf=["xxl","xl","lg","md","sm","xs"],lf="xs",uf=Z.createContext({prefixes:{},breakpoints:cf,minBreakpoint:lf}),{Consumer:df,Provider:hf}=uf;function pf(e,t){const{prefixes:n}=(0,Z.useContext)(uf);return e||n[t]||t}function ff(){const{breakpoints:e}=(0,Z.useContext)(uf);return e}function mf(){const{minBreakpoint:e}=(0,Z.useContext)(uf);return e}function gf(){const{dir:e}=(0,Z.useContext)(uf);return"rtl"===e}const yf=["as","bsPrefix","variant","size","active","disabled","className"],vf=Z.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:o="primary",size:i,active:a=!1,disabled:s=!1,className:c}=e,l=zn(e,yf);const u=pf(r,"btn"),[d,{tagName:h}]=of(Ln({tagName:n,disabled:s},l)),p=h;return(0,fn.jsx)(p,Ln(Ln(Ln({},d),l),{},{ref:t,disabled:s,className:nf()(c,u,a&&"active",o&&"".concat(u,"-").concat(o),i&&"".concat(u,"-").concat(i),l.href&&s&&"disabled")}))}));vf.displayName="Button";const bf=vf,xf=!("undefined"===typeof window||!window.document||!window.document.createElement);var wf=!1,kf=!1;try{var Sf={get passive(){return wf=!0},get once(){return kf=wf=!0}};xf&&(window.addEventListener("test",Sf,Sf),window.removeEventListener("test",Sf,!0))}catch(x2e){}const Cf=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!kf){var o=r.once,i=r.capture,a=n;!kf&&o&&(a=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=a),e.addEventListener(t,a,wf?r:i)}e.addEventListener(t,n,r)};function Ef(e){return e&&e.ownerDocument||document}const _f=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var Tf;function Nf(e){if((!Tf&&0!==Tf||e)&&xf){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Tf=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Tf}function If(){return(0,Z.useState)(null)}const Af=function(e){const t=(0,Z.useRef)(e);return(0,Z.useEffect)((()=>{t.current=e}),[e]),t};function Of(e){const t=Af(e);return(0,Z.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const Rf=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Mf=function(e,t){return(0,Z.useMemo)((()=>function(e,t){const n=Rf(e),r=Rf(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};function jf(e){const t=function(e){const t=(0,Z.useRef)(e);return t.current=e,t}(e);(0,Z.useEffect)((()=>()=>t.current()),[])}function Pf(e,t){return function(e){var t=Ef(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Df=/([A-Z])/g;var Lf=/^ms-/;function Ff(e){return function(e){return e.replace(Df,"-$1").toLowerCase()}(e).replace(Lf,"-ms-")}var Bf=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const zf=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ff(t))||Pf(e).getPropertyValue(Ff(t));Object.keys(t).forEach((function(o){var i=t[o];i||0===i?!function(e){return!(!e||!Bf.test(e))}(o)?n+=Ff(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(Ff(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const Uf=function(e,t,n,r){return Cf(e,t,n,r),function(){_f(e,t,n,r)}};function Vf(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),i=Uf(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),i()}}function Wf(e,t,n,r){null==n&&(n=function(e){var t=zf(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=Vf(e,n,r),i=Uf(e,"transitionend",t);return function(){o(),i()}}function Hf(e){void 0===e&&(e=Ef());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(x2e){return e.body}}function Gf(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Kf(){const e=(0,Z.useRef)(!0),t=(0,Z.useRef)((()=>e.current));return(0,Z.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function qf(e){const t=(0,Z.useRef)(null);return(0,Z.useEffect)((()=>{t.current=e})),t.current}const Yf="data-rr-ui-";function Xf(e){return"".concat(Yf).concat(e)}const Jf=Xf("modal-open");const $f=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(zf(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(Jf,""),zf(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Jf),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Zf=(0,Z.createContext)(xf?window:void 0);Zf.Provider;function Qf(){return(0,Z.useContext)(Zf)}const em=(e,t)=>xf?null==e?(t||Ef()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const tm="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,nm="undefined"!==typeof document||tm?Z.useLayoutEffect:Z.useEffect;const rm=function(e){let{children:t,in:n,onExited:r,mountOnEnter:o,unmountOnExit:i}=e;const a=(0,Z.useRef)(null),s=(0,Z.useRef)(n),c=Of(r);(0,Z.useEffect)((()=>{n?s.current=!0:c(a.current)}),[n,c]);const l=Mf(a,t.ref),u=(0,Z.cloneElement)(t,{ref:l});return n?u:i||!s.current&&o?null:u};function om(e){let{children:t,in:n,onExited:r,onEntered:o,transition:i}=e;const[a,s]=(0,Z.useState)(!n);n&&a&&s(!1);const c=function(e){let{in:t,onTransition:n}=e;const r=(0,Z.useRef)(null),o=(0,Z.useRef)(!0),i=Of(n);return nm((()=>{if(!r.current)return;let e=!1;return i({in:t,element:r.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[t,i]),nm((()=>(o.current=!1,()=>{o.current=!0})),[]),r}({in:!!n,onTransition:e=>{Promise.resolve(i(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(s(!0),null==r||r(e.element)))}),(t=>{throw e.in||s(!0),t}))}}),l=Mf(c,t.ref);return a&&!n?null:(0,Z.cloneElement)(t,{ref:l})}function im(e,t,n){return e?(0,fn.jsx)(e,Object.assign({},n)):t?(0,fn.jsx)(om,Object.assign({},n,{transition:t})):(0,fn.jsx)(rm,Object.assign({},n))}const am=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let sm;function cm(e){const t=Qf(),n=e||function(e){return sm||(sm=new $f({ownerDocument:null==e?void 0:e.document})),sm}(t),r=(0,Z.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:(0,Z.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,Z.useCallback)((e=>{r.current.backdrop=e}),[])})}const lm=(0,Z.forwardRef)(((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:i,children:a,backdrop:s=!0,keyboard:c=!0,onBackdropClick:l,onEscapeKeyDown:u,transition:d,runTransition:h,backdropTransition:p,runBackdropTransition:f,autoFocus:m=!0,enforceFocus:g=!0,restoreFocus:y=!0,restoreFocusOptions:v,renderDialog:b,renderBackdrop:x=e=>(0,fn.jsx)("div",Object.assign({},e)),manager:w,container:k,onShow:S,onHide:C=()=>{},onExit:E,onExited:_,onExiting:T,onEnter:N,onEntering:I,onEntered:A}=e,O=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,am);const R=Qf(),M=function(e,t){const n=Qf(),[r,o]=(0,Z.useState)((()=>em(e,null==n?void 0:n.document)));if(!r){const t=em(e);t&&o(t)}return(0,Z.useEffect)((()=>{t&&r&&t(r)}),[t,r]),(0,Z.useEffect)((()=>{const t=em(e);t!==r&&o(t)}),[e,r]),r}(k),j=cm(w),P=Kf(),D=qf(n),[L,F]=(0,Z.useState)(!n),B=(0,Z.useRef)(null);(0,Z.useImperativeHandle)(t,(()=>j),[j]),xf&&!D&&n&&(B.current=Hf(null==R?void 0:R.document)),n&&L&&F(!1);const z=Of((()=>{if(j.add(),K.current=Uf(document,"keydown",H),G.current=Uf(document,"focus",(()=>setTimeout(V)),!0),S&&S(),m){var e,t;const n=Hf(null!=(e=null==(t=j.dialog)?void 0:t.ownerDocument)?e:null==R?void 0:R.document);j.dialog&&n&&!Gf(j.dialog,n)&&(B.current=n,j.dialog.focus())}})),U=Of((()=>{var e;(j.remove(),null==K.current||K.current(),null==G.current||G.current(),y)&&(null==(e=B.current)||null==e.focus||e.focus(v),B.current=null)}));(0,Z.useEffect)((()=>{n&&M&&z()}),[n,M,z]),(0,Z.useEffect)((()=>{L&&U()}),[L,U]),jf((()=>{U()}));const V=Of((()=>{if(!g||!P()||!j.isTopModal())return;const e=Hf(null==R?void 0:R.document);j.dialog&&e&&!Gf(j.dialog,e)&&j.dialog.focus()})),W=Of((e=>{e.target===e.currentTarget&&(null==l||l(e),!0===s&&C())})),H=Of((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&j.isTopModal()&&(null==u||u(e),e.defaultPrevented||C())})),G=(0,Z.useRef)(),K=(0,Z.useRef)();if(!M)return null;const q=Object.assign({role:r,ref:j.setDialogRef,"aria-modal":"dialog"===r||void 0},O,{style:i,className:o,tabIndex:-1});let Y=b?b(q):(0,fn.jsx)("div",Object.assign({},q,{children:Z.cloneElement(a,{role:"document"})}));Y=im(d,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:E,onExiting:T,onExited:function(){F(!0),null==_||_(...arguments)},onEnter:N,onEntering:I,onEntered:A,children:Y});let X=null;return s&&(X=x({ref:j.setBackdropRef,onClick:W}),X=im(p,f,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,fn.jsx)(fn.Fragment,{children:Xt.createPortal((0,fn.jsxs)(fn.Fragment,{children:[X,Y]}),M)})}));lm.displayName="Modal";const um=Object.assign(lm,{Manager:$f});var dm=Function.prototype.bind.call(Function.prototype.call,[].slice);function hm(e,t){return dm(e.querySelectorAll(t))}function pm(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const fm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mm=".sticky-top",gm=".navbar-toggler";class ym extends $f{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,zf(t,{[e]:"".concat(parseFloat(zf(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],zf(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";hm(t,fm).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth))),hm(t,mm).forEach((t=>this.adjustAndStore(i,t,-e.scrollBarWidth))),hm(t,gm).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=pm(n.className,r):n.setAttribute("class",pm(n.className&&n.className.baseVal||"",r));const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";hm(t,fm).forEach((e=>this.restore(o,e))),hm(t,mm).forEach((e=>this.restore(i,e))),hm(t,gm).forEach((e=>this.restore(i,e)))}}let vm;function bm(e,t){return bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bm(e,t)}function xm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bm(e,t)}const wm=!1,km=Z.createContext(null);var Sm="unmounted",Cm="exited",Em="entering",_m="entered",Tm="exiting",Nm=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=Cm,r.appearStatus=Em):o=_m:o=t.unmountOnExit||t.mountOnEnter?Sm:Cm,r.state={status:o},r.nextCallback=null,r}xm(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Sm?{status:Cm}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Em&&n!==_m&&(t=Em):n!==Em&&n!==_m||(t=Tm)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Em){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Xt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cm&&this.setState({status:Sm})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Xt.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||wm?this.safeSetState({status:_m},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:Em},(function(){t.props.onEntering(i,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:_m},(function(){t.props.onEntered(i,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Xt.findDOMNode(this);t&&!wm?(this.props.onExit(r),this.safeSetState({status:Tm},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Cm},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Cm},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Xt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Sm)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Bn.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Z.createElement(km.Provider,{value:null},"function"===typeof n?n(e,r):Z.cloneElement(Z.Children.only(n),r))},t}(Z.Component);function Im(){}Nm.contextType=km,Nm.propTypes={},Nm.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Im,onEntering:Im,onEntered:Im,onExit:Im,onExiting:Im,onExited:Im},Nm.UNMOUNTED=Sm,Nm.EXITED=Cm,Nm.ENTERING=Em,Nm.ENTERED=_m,Nm.EXITING=Tm;const Am=Nm;function Om(e,t){const n=zf(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Rm(e,t){const n=Om(e,"transitionDuration"),r=Om(e,"transitionDelay"),o=Wf(e,(n=>{n.target===e&&(o(),t(n))}),n+r)}const Mm=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],jm=Z.forwardRef(((e,t)=>{let{onEnter:n,onEntering:r,onEntered:o,onExit:i,onExiting:a,onExited:s,addEndListener:c,children:l,childRef:u}=e,d=zn(e,Mm);const h=(0,Z.useRef)(null),p=Mf(h,u),f=e=>{var t;p((t=e)&&"setState"in t?Xt.findDOMNode(t):null!=t?t:null)},m=e=>t=>{e&&h.current&&e(h.current,t)},g=(0,Z.useCallback)(m(n),[n]),y=(0,Z.useCallback)(m(r),[r]),v=(0,Z.useCallback)(m(o),[o]),b=(0,Z.useCallback)(m(i),[i]),x=(0,Z.useCallback)(m(a),[a]),w=(0,Z.useCallback)(m(s),[s]),k=(0,Z.useCallback)(m(c),[c]);return(0,fn.jsx)(Am,Ln(Ln({ref:t},d),{},{onEnter:g,onEntered:v,onEntering:y,onExit:b,onExited:w,onExiting:x,addEndListener:k,nodeRef:h,children:"function"===typeof l?(e,t)=>l(e,Ln(Ln({},t),{},{ref:f})):Z.cloneElement(l,{ref:f})}))})),Pm=jm,Dm=["className","children","transitionClasses","onEnter"],Lm={[Em]:"show",[_m]:"show"},Fm=Z.forwardRef(((e,t)=>{let{className:n,children:r,transitionClasses:o={},onEnter:i}=e;const a=Ln({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},zn(e,Dm)),s=(0,Z.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==i||i(e,t)}),[i]);return(0,fn.jsx)(Pm,Ln(Ln({ref:t,addEndListener:Rm},a),{},{onEnter:s,childRef:r.ref,children:(e,t)=>Z.cloneElement(r,Ln(Ln({},t),{},{className:nf()("fade",n,r.props.className,Lm[e],o[e])}))}))}));Fm.displayName="Fade";const Bm=Fm,zm=["className","bsPrefix","as"],Um=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,i=zn(e,zm);return r=pf(r,"modal-body"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r)},i))}));Um.displayName="ModalBody";const Vm=Um,Wm=Z.createContext({onHide(){}}),Hm=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],Gm=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:o,centered:i,size:a,fullscreen:s,children:c,scrollable:l}=e,u=zn(e,Hm);n=pf(n,"modal");const d="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,fn.jsx)("div",Ln(Ln({},u),{},{ref:t,className:nf()(d,r,a&&"".concat(n,"-").concat(a),i&&"".concat(d,"-centered"),l&&"".concat(d,"-scrollable"),s&&h),children:(0,fn.jsx)("div",{className:nf()("".concat(n,"-content"),o),children:c})}))}));Gm.displayName="ModalDialog";const Km=Gm,qm=["className","bsPrefix","as"],Ym=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,i=zn(e,qm);return r=pf(r,"modal-footer"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r)},i))}));Ym.displayName="ModalFooter";const Xm=Ym;var Jm=n(5173),$m=n.n(Jm);const Zm=["className","variant","aria-label"],Qm={"aria-label":$m().string,onClick:$m().func,variant:$m().oneOf(["white"])},eg=Z.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":o="Close"}=e,i=zn(e,Zm);return(0,fn.jsx)("button",Ln({ref:t,type:"button",className:nf()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":o},i))}));eg.displayName="CloseButton",eg.propTypes=Qm;const tg=eg,ng=["closeLabel","closeVariant","closeButton","onHide","children"],rg=Z.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:r,closeButton:o=!1,onHide:i,children:a}=e,s=zn(e,ng);const c=(0,Z.useContext)(Wm),l=Of((()=>{null==c||c.onHide(),null==i||i()}));return(0,fn.jsxs)("div",Ln(Ln({ref:t},s),{},{children:[a,o&&(0,fn.jsx)(tg,{"aria-label":n,variant:r,onClick:l})]}))})),og=rg,ig=["bsPrefix","className","closeLabel","closeButton"],ag=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:o="Close",closeButton:i=!1}=e,a=zn(e,ig);return n=pf(n,"modal-header"),(0,fn.jsx)(og,Ln(Ln({ref:t},a),{},{className:nf()(r,n),closeLabel:o,closeButton:i}))}));ag.displayName="ModalHeader";const sg=ag,cg=["className","bsPrefix","as"],lg=(ug="h4",Z.forwardRef(((e,t)=>(0,fn.jsx)("div",Ln(Ln({},e),{},{ref:t,className:nf()(e.className,ug)})))));var ug;const dg=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=lg}=e,i=zn(e,cg);return r=pf(r,"modal-title"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r)},i))}));dg.displayName="ModalTitle";const hg=dg,pg=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function fg(e){return(0,fn.jsx)(Bm,Ln(Ln({},e),{},{timeout:null}))}function mg(e){return(0,fn.jsx)(Bm,Ln(Ln({},e),{},{timeout:null}))}const gg=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,style:o,dialogClassName:i,contentClassName:a,children:s,dialogAs:c=Km,"data-bs-theme":l,"aria-labelledby":u,"aria-describedby":d,"aria-label":h,show:p=!1,animation:f=!0,backdrop:m=!0,keyboard:g=!0,onEscapeKeyDown:y,onShow:v,onHide:b,container:x,autoFocus:w=!0,enforceFocus:k=!0,restoreFocus:S=!0,restoreFocusOptions:C,onEntered:E,onExit:_,onExiting:T,onEnter:N,onEntering:I,onExited:A,backdropClassName:O,manager:R}=e,M=zn(e,pg);const[j,P]=(0,Z.useState)({}),[D,L]=(0,Z.useState)(!1),F=(0,Z.useRef)(!1),B=(0,Z.useRef)(!1),z=(0,Z.useRef)(null),[U,V]=If(),W=Mf(t,V),H=Of(b),G=gf();n=pf(n,"modal");const K=(0,Z.useMemo)((()=>({onHide:H})),[H]);function q(){return R||function(e){return vm||(vm=new ym(e)),vm}({isRTL:G})}function Y(e){if(!xf)return;const t=q().getScrollbarWidth()>0,n=e.scrollHeight>Ef(e).documentElement.clientHeight;P({paddingRight:t&&!n?Nf():void 0,paddingLeft:!t&&n?Nf():void 0})}const X=Of((()=>{U&&Y(U.dialog)}));jf((()=>{_f(window,"resize",X),null==z.current||z.current()}));const J=()=>{F.current=!0},$=e=>{F.current&&U&&e.target===U.dialog&&(B.current=!0),F.current=!1},Q=()=>{L(!0),z.current=Wf(U.dialog,(()=>{L(!1)}))},ee=e=>{"static"!==m?B.current||e.target!==e.currentTarget?B.current=!1:null==b||b():(e=>{e.target===e.currentTarget&&Q()})(e)},te=(0,Z.useCallback)((e=>(0,fn.jsx)("div",Ln(Ln({},e),{},{className:nf()("".concat(n,"-backdrop"),O,!f&&"show")}))),[f,O,n]),ne=Ln(Ln({},o),j);ne.display="block";return(0,fn.jsx)(Wm.Provider,{value:K,children:(0,fn.jsx)(um,{show:p,ref:W,backdrop:m,container:x,keyboard:!0,autoFocus:w,enforceFocus:k,restoreFocus:S,restoreFocusOptions:C,onEscapeKeyDown:e=>{g?null==y||y(e):(e.preventDefault(),"static"===m&&Q())},onShow:v,onHide:b,onEnter:(e,t)=>{e&&Y(e),null==N||N(e,t)},onEntering:(e,t)=>{null==I||I(e,t),Cf(window,"resize",X)},onEntered:E,onExit:e=>{null==z.current||z.current(),null==_||_(e)},onExiting:T,onExited:e=>{e&&(e.style.display=""),null==A||A(e),_f(window,"resize",X)},manager:q(),transition:f?fg:void 0,backdropTransition:f?mg:void 0,renderBackdrop:te,renderDialog:e=>(0,fn.jsx)("div",Ln(Ln({role:"dialog"},e),{},{style:ne,className:nf()(r,n,D&&"".concat(n,"-static"),!f&&"show"),onClick:m?ee:void 0,onMouseUp:$,"data-bs-theme":l,"aria-label":h,"aria-labelledby":u,"aria-describedby":d,children:(0,fn.jsx)(c,Ln(Ln({},M),{},{onMouseDown:J,className:i,contentClassName:a,children:s}))}))})})}));gg.displayName="Modal";const yg=Object.assign(gg,{Body:Vm,Header:sg,Title:hg,Footer:Xm,Dialog:Km,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function vg(e){var t,n;let{userProfile:r}=e;const[o,i]=(0,Z.useState)(!1),[a,s]=(0,Z.useState)(null),[c,l]=(0,Z.useState)(!1),[u,d]=(0,Z.useState)([]),h=(0,Z.useMemo)((()=>{var e;const t=[];return null===r||void 0===r||null===(e=r.followers)||void 0===e||e.forEach((e=>{var n;(null===a||void 0===a||null===(n=a.following)||void 0===n?void 0:n.some((t=>t._id===e)))&&t.push(e)})),t}),[r,a,c]),p=(0,Z.useCallback)((async e=>{const t="".concat("http://localhost:3001","/follow");try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:e})});if(!n.ok){const e=n.statusText||"Unknown Error";throw new Error("Server returned ".concat(n.status," ").concat(e," for ").concat(t))}const r=await n.json();l(r.newFollow.if_followed);const o=await Qp(sessionStorage.getItem("userId"));s(o)}catch(n){console.error("Error:",n.message)}}),[]),f=(0,Z.useCallback)((async e=>{const t="".concat("http://localhost:3001","/follow/delete");try{const n=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:e})});if(!n.ok){const e=n.statusText||"Unknown Error";throw new Error("Server returned ".concat(n.status," ").concat(e," for ").concat(t))}await n.json();l(!1);const r=await Qp(sessionStorage.getItem("userId"));s(r)}catch(n){console.error("Error:",n.message)}}),[]);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(bf,{onClick:async()=>{i(!0);const e=sessionStorage.getItem("userId");if(e)try{const t=await Qp(e),n=await ef(r._id);s(t),d(n)}catch(t){console.error("Failed to fetch profile:",t)}},className:"me-2",style:{backgroundColor:"white",color:"black",border:"none"},children:(0,fn.jsx)("p",{className:"m-0",children:"".concat(null===r||void 0===r||null===(t=r.followers)||void 0===t?void 0:t.length," followers")})}),(0,fn.jsxs)(yg,{size:"sm",centered:!0,show:o,onHide:()=>i(!1),"aria-labelledby":"example-modal-sizes-title-sm",children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{id:"example-modal-sizes-title-sm",children:"\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})}),(0,fn.jsx)(yg.Body,{children:(null===u||void 0===u||null===(n=u.followers)||void 0===n?void 0:n.length)>0?u.followers.map((e=>(0,fn.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"0.5rem",alignItems:"center",justifyContent:"space-between"},children:[(0,fn.jsx)("div",{className:"d-flex justify-content-start",children:(0,fn.jsx)("a",{href:"/user/".concat(e._id),style:{textDecoration:"none"},children:(0,fn.jsx)("p",{style:{padding:"0 10px 0 10px",margin:0,color:"black"},children:e.fullname})})}),(0,fn.jsx)("div",{className:"d-flex justify-content-end",children:sessionStorage.getItem("userId")===e._id?(0,fn.jsx)(bf,{style:{backgroundColor:"black",color:"white",border:"none"},disabled:!0,children:"\u0e04\u0e38\u0e13"}):null!==h&&void 0!==h&&h.some((t=>t===e._id))?(0,fn.jsx)(bf,{style:{backgroundColor:"gray",color:"white",border:"none"},onClick:()=>f(e),children:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e41\u0e25\u0e49\u0e27"}):(0,fn.jsx)(bf,{style:{backgroundColor:"black",color:"white",border:"none"},onClick:()=>p(e),children:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})})]},e+"s"))):(0,fn.jsx)("p",{style:{textAlign:"center",color:"gray"},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e17\u0e35\u0e48\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})})]})]})}function bg(e){var t,n;let{userProfile:r}=e;const[o,i]=(0,Z.useState)(!1),[a,s]=(0,Z.useState)(null),[c,l]=(0,Z.useState)(!1),[u,d]=(0,Z.useState)([]),h=(0,Z.useMemo)((()=>{var e;const t=[];return null===r||void 0===r||null===(e=r.following)||void 0===e||e.forEach((e=>{var n;(null===a||void 0===a||null===(n=a.following)||void 0===n?void 0:n.some((t=>t._id===e)))&&t.push(e)})),t}),[r,a,c]),p=(0,Z.useCallback)((async e=>{const t="".concat("http://localhost:3001","/follow");try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:e})});if(!n.ok){const e=n.statusText||"Unknown Error";throw new Error("Server returned ".concat(n.status," ").concat(e," for ").concat(t))}const r=await n.json();l(r.newFollow.if_followed);const o=await Qp(sessionStorage.getItem("userId"));s(o)}catch(n){console.error("Error:",n.message)}}),[]),f=(0,Z.useCallback)((async e=>{const t="".concat("http://localhost:3001","/follow/delete");try{const n=await fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:e})});if(!n.ok){const e=n.statusText||"Unknown Error";throw new Error("Server returned ".concat(n.status," ").concat(e," for ").concat(t))}await n.json();l(!1);const r=await Qp(sessionStorage.getItem("userId"));s(r)}catch(n){console.error("Error:",n.message)}}),[]);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(bf,{onClick:async()=>{i(!0);const e=sessionStorage.getItem("userId");if(e)try{const t=await Qp(e),n=await ef(r._id);s(t),d(n)}catch(t){console.error("Failed to fetch profile:",t)}},className:"me-2",style:{backgroundColor:"white",color:"black",border:"none"},children:(0,fn.jsx)("p",{className:"m-0",children:"".concat(null===r||void 0===r||null===(t=r.following)||void 0===t?void 0:t.length," following")})}),(0,fn.jsxs)(yg,{size:"sm",centered:!0,show:o,onHide:()=>i(!1),"aria-labelledby":"example-modal-sizes-title-sm",children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{id:"example-modal-sizes-title-sm",children:"\u0e01\u0e33\u0e25\u0e31\u0e07\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})}),(0,fn.jsx)(yg.Body,{children:(null===u||void 0===u||null===(n=u.following)||void 0===n?void 0:n.length)>0?u.following.map((e=>(0,fn.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"0.5rem",alignItems:"center"},children:[(0,fn.jsx)(cn,{to:"/user/".concat(e._id),style:{flex:1,textDecoration:"none"},children:(0,fn.jsx)("p",{style:{color:"black"},children:e.fullname})}),(0,fn.jsx)("div",{className:"d-flex justify-content-end",children:sessionStorage.getItem("userId")===e._id?(0,fn.jsx)(bf,{style:{backgroundColor:"black",color:"white",border:"none"},disabled:!0,children:"\u0e04\u0e38\u0e13"}):null!==h&&void 0!==h&&h.some((t=>t===e._id))?(0,fn.jsx)(bf,{onClick:()=>f(e._id),style:{backgroundColor:"gray",color:"white",border:"none"},children:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e41\u0e25\u0e49\u0e27"}):(0,fn.jsx)(bf,{onClick:()=>p(e._id),style:{backgroundColor:"black",color:"white",border:"none"},children:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})})]},e._id))):(0,fn.jsx)("p",{style:{textAlign:"center",color:"gray"},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e17\u0e35\u0e48\u0e01\u0e33\u0e25\u0e31\u0e07\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})})]})]})}const xg="http://localhost:3001",wg=async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t}),r=await n.json();if(!n.ok){let e;return e=null!==r&&void 0!==r&&r.message?r.message:r,{error:!0,message:e}}return r},kg=async e=>{const t=await fetch(e),n=await t.json();if(!t.ok){let e="An error occurred...";return null!==n&&void 0!==n&&n.message&&(e=n.message),{error:!0,message:e}}return n},Sg=Object.create(null);Sg.open="0",Sg.close="1",Sg.ping="2",Sg.pong="3",Sg.message="4",Sg.upgrade="5",Sg.noop="6";const Cg=Object.create(null);Object.keys(Sg).forEach((e=>{Cg[Sg[e]]=e}));const Eg={type:"error",data:"parser error"},_g="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Tg="function"===typeof ArrayBuffer,Ng=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ig=(e,t,n)=>{let{type:r,data:o}=e;return _g&&o instanceof Blob?t?n(o):Ag(o,n):Tg&&(o instanceof ArrayBuffer||Ng(o))?t?n(o):Ag(new Blob([o]),n):n(Sg[r]+(o||""))},Ag=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Og(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Rg;const Mg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jg="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)jg[Mg.charCodeAt(n)]=n;const Pg="function"===typeof ArrayBuffer,Dg=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Fg(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Lg(e.substring(1),t)};return Cg[n]?e.length>1?{type:Cg[n],data:e.substring(1)}:{type:Cg[n]}:Eg},Lg=(e,t)=>{if(Pg){const n=(e=>{let t,n,r,o,i,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const l=new ArrayBuffer(a),u=new Uint8Array(l);for(t=0;t<s;t+=4)n=jg[e.charCodeAt(t)],r=jg[e.charCodeAt(t+1)],o=jg[e.charCodeAt(t+2)],i=jg[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&i;return l})(e);return Fg(n,t)}return{base64:!0,data:e}},Fg=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Bg=String.fromCharCode(30);function zg(){return new TransformStream({transform(e,t){!function(e,t){_g&&e.data instanceof Blob?e.data.arrayBuffer().then(Og).then(t):Tg&&(e.data instanceof ArrayBuffer||Ng(e.data))?t(Og(e.data)):Ig(e,!1,(e=>{Rg||(Rg=new TextEncoder),t(Rg.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}})}let Ug;function Vg(e){return e.reduce(((e,t)=>e+t.length),0)}function Wg(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Hg(e){if(e)return function(e){for(var t in Hg.prototype)e[t]=Hg.prototype[t];return e}(e)}Hg.prototype.on=Hg.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Hg.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Hg.prototype.off=Hg.prototype.removeListener=Hg.prototype.removeAllListeners=Hg.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Hg.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Hg.prototype.emitReserved=Hg.prototype.emit,Hg.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Hg.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Gg="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const qg=Gg.setTimeout,Yg=Gg.clearTimeout;function Xg(e,t){t.useNativeTimers?(e.setTimeoutFn=qg.bind(Gg),e.clearTimeoutFn=Yg.bind(Gg)):(e.setTimeoutFn=Gg.setTimeout.bind(Gg),e.clearTimeoutFn=Gg.clearTimeout.bind(Gg))}class Jg extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class $g extends Hg{constructor(e){super(),this.writable=!1,Xg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Jg(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Dg(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const Zg="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Qg=64,ey={};let ty,ny=0,ry=0;function oy(e){let t="";do{t=Zg[e%Qg]+t,e=Math.floor(e/Qg)}while(e>0);return t}function iy(){const e=oy(+new Date);return e!==ty?(ny=0,ty=e):e+"."+oy(ny++)}for(;ry<Qg;ry++)ey[Zg[ry]]=ry;let ay=!1;try{ay="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(w2e){}const sy=ay;function cy(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||sy))return new XMLHttpRequest}catch(x2e){}if(!t)try{return new(Gg[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(x2e){}}function ly(){}const uy=null!=new cy({xdomain:!1}).responseType;class dy extends Hg{constructor(e,t){super(),Xg(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=Kg(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new cy(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(x2e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(x2e){}try{n.setRequestHeader("Accept","*/*")}catch(x2e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"===typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(x2e){return void this.setTimeoutFn((()=>{this.onError(x2e)}),0)}"undefined"!==typeof document&&(this.index=dy.requestsCount++,dy.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ly,e)try{this.xhr.abort()}catch(x2e){}"undefined"!==typeof document&&delete dy.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(dy.requestsCount=0,dy.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",hy);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Gg?"pagehide":"unload",hy,!1)}function hy(){for(let e in dy.requests)dy.requests.hasOwnProperty(e)&&dy.requests[e].abort()}const py="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),fy=Gg.WebSocket||Gg.MozWebSocket,my="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const gy={websocket:class extends $g{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=my?{}:Kg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=my?new fy(e,t,n):t?new fy(e,t):new fy(e)}catch(w2e){return this.emitReserved("error",w2e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Ig(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(x2e){}r&&py((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=iy()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!fy}},webtransport:class extends $g{get name(){return"webtransport"}doOpen(){"function"===typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){Ug||(Ug=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(Vg(n)<1)break;const e=Wg(n,1);i=128===(128&e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(Vg(n)<2)break;const e=Wg(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(Vg(n)<8)break;const e=Wg(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){s.enqueue(Eg);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(Vg(n)<o)break;const e=Wg(n,o);s.enqueue(Dg(i?e:Ug.decode(e),t)),r=0}if(0===o||o>e){s.enqueue(Eg);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=zg();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const o=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())})).catch((e=>{}))};o();const i={type:"open"};this.query.sid&&(i.data='{"sid":"'.concat(this.query.sid,'"}')),this.writer.write(i).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&py((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends $g{constructor(e){if(super(e),this.polling=!1,"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=uy&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Bg),r=[];for(let o=0;o<n.length;o++){const e=Dg(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{Ig(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(Bg))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=iy()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new dy(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},yy=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function by(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=yy.exec(e||""),i={},a=14;for(;a--;)i[vy[a]]=o[a]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}class xy extends Hg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"===typeof e&&(t=e,e=null),e?(e=by(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=by(t.host).host),Xg(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"===typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new gy[e](n)}open(){let e;if(this.opts.rememberUpgrade&&xy.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(x2e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;xy.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;xy.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,l(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function a(){i("transport closed")}function s(){i("socket closed")}function c(e){t&&e.name!==t.name&&o()}const l=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",a),this.off("close",s),this.off("upgrading",c)};t.once("open",r),t.once("error",i),t.once("close",a),this.once("close",s),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",xy.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){xy.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}xy.protocol=4;xy.protocol;const wy="function"===typeof ArrayBuffer,ky=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Sy=Object.prototype.toString,Cy="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Sy.call(Blob),Ey="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Sy.call(File);function _y(e){return wy&&(e instanceof ArrayBuffer||ky(e))||Cy&&e instanceof Blob||Ey&&e instanceof File}function Ty(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ty(e[t]))return!0;return!1}if(_y(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Ty(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ty(e[n]))return!0;return!1}function Ny(e){const t=[],n=e.data,r=e;return r.data=Iy(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Iy(e,t){if(!e)return e;if(_y(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Iy(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Iy(e[r],t));return n}return e}function Ay(e,t){return e.data=Oy(e.data,t),delete e.attachments,e}function Oy(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Oy(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Oy(e[n],t));return e}const Ry=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],My=5;var jy;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(jy||(jy={}));class Py{constructor(e){this.replacer=e}encode(e){return e.type!==jy.EVENT&&e.type!==jy.ACK||!Ty(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===jy.EVENT?jy.BINARY_EVENT:jy.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==jy.BINARY_EVENT&&e.type!==jy.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ny(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function Dy(e){return"[object Object]"===Object.prototype.toString.call(e)}class Ly extends Hg{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===jy.BINARY_EVENT;n||t.type===jy.BINARY_ACK?(t.type=n?jy.EVENT:jy.ACK,this.reconstructor=new Fy(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!_y(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===jy[n.type])throw new Error("unknown packet type "+n.type);if(n.type===jy.BINARY_EVENT||n.type===jy.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!Ly.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(x2e){return!1}}static isPayloadValid(e,t){switch(e){case jy.CONNECT:return Dy(t);case jy.DISCONNECT:return void 0===t;case jy.CONNECT_ERROR:return"string"===typeof t||Dy(t);case jy.EVENT:case jy.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Ry.indexOf(t[0]));case jy.ACK:case jy.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Fy{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Ay(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function By(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const zy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Uy extends Hg{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[By(e,"open",this.onopen.bind(this)),By(e,"packet",this.onpacket.bind(this)),By(e,"error",this.onerror.bind(this)),By(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){if(zy.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:jy.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){const e=this.ids++,t=n.pop();this._registerAckCallback(e,t),o.id=e}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),o),a=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const o=(e,n)=>e?r(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:jy.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case jy.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case jy.EVENT:case jy.BINARY_EVENT:this.onevent(e);break;case jy.ACK:case jy.BINARY_ACK:this.onack(e);break;case jy.DISCONNECT:this.ondisconnect();break;case jy.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:jy.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:jy.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Vy(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Vy.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Vy.prototype.reset=function(){this.attempts=0},Vy.prototype.setMin=function(e){this.ms=e},Vy.prototype.setMax=function(e){this.max=e},Vy.prototype.setJitter=function(e){this.jitter=e};class Wy extends Hg{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Xg(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Vy({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const o=n.parser||t;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new xy(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=By(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=By(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(By(e,"ping",this.onping.bind(this)),By(e,"data",this.ondata.bind(this)),By(e,"error",this.onerror.bind(this)),By(e,"close",this.onclose.bind(this)),By(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(x2e){this.onclose("parse error",x2e)}}ondecoded(e){py((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Uy(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Hy={};function Gy(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=by(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,a=Hy[o]&&i in Hy[o].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new Wy(r,t):(Hy[o]||(Hy[o]=new Wy(r,t)),s=Hy[o]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(Gy,{Manager:Wy,Socket:Uy,io:Gy,connect:Gy});const Ky=(e,t)=>{const[n,r]=(0,Z.useState)(null),[o,i]=(0,Z.useState)(null),a=null===e||void 0===e?void 0:e.members.find((e=>e!==t));return(0,Z.useEffect)((()=>{e&&t&&(async()=>{if(a)try{const e=await kg("".concat(xg,"/users/find/").concat(a));e.error?i(e.error):r(e)}catch(o){i("Failed to fetch recipient user"),console.error(o)}})()}),[e,a,t]),{recipientUser:n,error:o}};function qy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lf;const r=[];return Object.entries(e).forEach((e=>{let[o,i]=e;null!=i&&("object"===typeof i?t.forEach((e=>{const t=i[e];if(null!=t){const i=e!==n?"-".concat(e):"";r.push("".concat(o).concat(i,"-").concat(t))}})):r.push("".concat(o,"-").concat(i)))})),r}const Yy=["as","bsPrefix","className","direction","gap"],Xy=Z.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:r,className:o,direction:i,gap:a}=e,s=zn(e,Yy);r=pf(r,"horizontal"===i?"hstack":"vstack");const c=ff(),l=mf();return(0,fn.jsx)(n,Ln(Ln({},s),{},{ref:t,className:nf()(o,r,...qy({gap:a},c,l))}))}));Xy.displayName="Stack";const Jy=Xy;var $y=n(6178),Zy=n.n($y),Qy=n(6885);function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach((function(t){iv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nv(){nv=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var x={};l(x,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(O([])));k&&k!==n&&r.call(k,a)&&(x=k);var S=b.prototype=y.prototype=Object.create(x);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?m:p,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return v.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function rv(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,o)}function ov(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rv(i,r,o,a,s,"next",e)}function s(e){rv(i,r,o,a,s,"throw",e)}a(void 0)}))}}function iv(e,t,n){return t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function av(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function sv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||lv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e){return function(e){if(Array.isArray(e))return uv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lv(e,t){if(e){if("string"===typeof e)return uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uv(e,t):void 0}}function uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".react-input-emoji--container {\n  color: #4b4b4b;\n  text-rendering: optimizeLegibility;\n  background-color: #fff;\n  border: 1px solid #fff;\n  border-radius: 21px;\n  margin: 5px 10px;\n  box-sizing: border-box;\n  flex: 1 1 auto;\n  font-size: 15px;\n  font-family: sans-serif;\n  font-weight: 400;\n  line-height: 20px;\n  min-height: 20px;\n  min-width: 0;\n  outline: none;\n  width: inherit;\n  will-change: width;\n  vertical-align: baseline;\n  border: 1px solid #eaeaea;\n  margin-right: 0;\n}\n\n.react-input-emoji--wrapper {\n  display: flex;\n  overflow: hidden;\n  flex: 1;\n  position: relative;\n  padding-right: 0;\n  vertical-align: baseline;\n  outline: none;\n  margin: 0;\n  padding: 0;\n  border: 0;\n}\n\n.react-input-emoji--input {\n  font-weight: 400;\n  max-height: 100px;\n  min-height: 20px;\n  outline: none;\n  overflow-x: hidden;\n  overflow-y: auto;\n  position: relative;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  z-index: 1;\n  width: 100%;\n  user-select: text;\n  padding: 9px 12px 11px;\n  text-align: left;\n}\n\n.react-input-emoji--input img {\n  vertical-align: middle;\n  width: 18px !important;\n  height: 18px !important;\n  display: inline !important;\n  margin-left: 1px;\n  margin-right: 1px;\n}\n\n.react-input-emoji--overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 9;\n}\n\n.react-input-emoji--placeholder {\n  color: #a0a0a0;\n  pointer-events: none;\n  position: absolute;\n  user-select: none;\n  z-index: 2;\n  left: 16px;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  width: calc(100% - 22px);\n}\n\n.react-input-emoji--button {\n  position: relative;\n  display: block;\n  text-align: center;\n  padding: 0 10px;\n  overflow: hidden;\n  transition: color 0.1s ease-out;\n  margin: 0;\n  box-shadow: none;\n  background: none;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  flex-shrink: 0;\n}\n\n.react-input-emoji--button svg {\n  fill: #858585;\n}\n\n.react-input-emoji--button__show svg {\n  fill: #128b7e;\n}\n\n.react-emoji {\n  display: flex;\n  align-items: center;\n  position: relative;\n  width: 100%;\n}\n\n.react-emoji-picker--container {\n  position: absolute;\n  top: 0;\n  width: 100%;\n}\n\n.react-emoji-picker--wrapper {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  height: 435px;\n  width: 352px;\n  overflow: hidden;\n  z-index: 10;\n}\n\n.react-emoji-picker {\n  position: absolute;\n  top: 0;\n  left: 0;\n  animation: slidein 0.1s ease-in-out;\n}\n\n.react-emoji-picker__show {\n  top: 0;\n}\n\n.react-input-emoji--mention--container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 10;\n}\n\n.react-input-emoji--mention--list {\n  background-color: #fafafa;\n  border: 1px solid #eaeaea;\n  border-radius: 4px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  gap: 5px;\n  flex-direction: column;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  left: 0;\n}\n\n.react-input-emoji--mention--item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 5px 10px;\n  background-color: transparent;\n  width: 100%;\n  margin: 0;\n  border: 0;\n}\n\n.react-input-emoji--mention--item__selected {\n  background-color: #eeeeee;\n}\n\n.react-input-emoji--mention--item--img {\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n}\n\n.react-input-emoji--mention--item--name {\n  font-size: 16px;\n  color: #333;\n}\n\n.react-input-emoji--mention--item--name__selected {\n  color: green;\n}\n\n.react-input-emoji--mention--text {\n  color: #039be5;\n}\n\n.react-input-emoji--mention--loading {\n  background-color: #fafafa;\n  border: 1px solid #eaeaea;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px 0;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n}\n\n.react-input-emoji--mention--loading--spinner,\n.react-input-emoji--mention--loading--spinner::after {\n  border-radius: 50%;\n  width: 10em;\n  height: 10em;\n}\n\n.react-input-emoji--mention--loading--spinner {\n  margin: 1px auto;\n  font-size: 2px;\n  position: relative;\n  text-indent: -9999em;\n  border-top: 1.1em solid rgba(0, 0, 0, 0.1);\n  border-right: 1.1em solid rgba(0, 0, 0, 0.1);\n  border-bottom: 1.1em solid rgba(0, 0, 0, 0.1);\n  border-left: 1.1em solid rgba(0, 0, 0, 0.4);\n  transform: translateZ(0);\n  animation: load8 1.1s infinite linear;\n}\n\n@keyframes load8 {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes slidein {\n  from {\n    opacity: 0;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n");var dv,hv="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function pv(e){var t=function(e){return e.match(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g)}(e);return t&&(t=cv(new Set(t))).forEach((function(t){e=fv(e,t,mv("",t))})),e}function fv(e,t,n){return e.replace(new RegExp(t,"g"),n)}function mv(e,t){return'<img style="'.concat(e,'; display: inline-block" data-emoji="').concat(t,'" src="').concat(hv,'" />')}function gv(e){return'<span class="width: 18px; height: 18px; display: inline-block; margin: 0 1px;">'.concat(e,"</span>")}function yv(e){var t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.querySelectorAll("img")).forEach((function(e){t.innerHTML=t.innerHTML.replace(e.outerHTML,e.dataset.emoji)})),t.innerHTML}function vv(e){var t=window.getSelection();if(null!==t){for(var n=document.createElement("div"),r=0,o=t.rangeCount;r<o;++r)n.appendChild(t.getRangeAt(r).cloneContents());n=function(e){var t=Array.prototype.slice.call(e.querySelectorAll("img"));return t.forEach((function(e){e.outerHTML=e.dataset.emoji})),e}(n),e.clipboardData.setData("text",n.innerText),e.preventDefault()}}function bv(e){var t=e.text,n=e.html;return t.length+(n.match(/<img/g)||[]).length}function xv(){var e=window.getSelection(),t=e.getRangeAt(0),n=function(e){var t=e.startContainer,n=e.startOffset;if(t.nodeType!==Node.TEXT_NODE){for(;t.nodeType!==Node.TEXT_NODE&&(t=t.nextSibling););if(!t)for(t=e.commonAncestorContainer;t.nodeType!==Node.TEXT_NODE;)t=t.firstChild;n=0}return{node:t,offset:n}}(t);return{selection:e,range:t,selectionStart:n}}function wv(e,t,n,r){if("string"!==typeof e)throw new Error("First param must be a string");if("string"!==typeof t&&!(t instanceof RegExp))throw new Error("Second param must be a string pattern or a regular expression");return("string"===typeof t?kv:Sv)(e,t,n,r)}function kv(e,t,n,r){var o=e.indexOf(t);if(o>=0){var i=[],a=o+t.length;return o>0&&i.push(e.substring(0,o)),i.push("function"===typeof n?n(e.substring(o,a),o+r,e):n),a<e.length&&i.push(e.substring(a)),i}return[e]}function Sv(e,t,n,r){var o,i=[],a="function"===typeof n,s=t.lastIndex;t.lastIndex=0;for(var c=0;o=t.exec(e);){var l=o.index;""===o[0]&&t.lastIndex++,l!==c&&i.push(e.substring(c,l)),c=l+o[0].length;var u=a?n.apply(this,o.concat(l+r,o.input)):n;if(i.push(u),!t.global)break}return c<e.length&&i.push(e.substring(c)),t.lastIndex=s,i}var Cv=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\xa9\xae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g;var Ev=/\uFE0F/g,_v=String.fromCharCode(8205);var Tv=Z.createElement,Nv="undefined"===typeof location?"":"https:"===location.protocol?"https:":"http:",Iv={height:"1em",width:"1em",margin:"0 .05em 0 .1em",verticalAlign:"-0.1em"};function Av(){for(var e={},t=arguments.length,n=0;n<t;++n){var r=arguments[n];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}var Ov=function(e,t){return function(e,t,n){if("string"===typeof e)return wv(e,t,n,0);if(Array.isArray(e)&&e[0]){for(var r=e.length,o=[],i=0,a=0;a<r;++a){var s=e[a];"string"===typeof s?(o.push.apply(o,wv(s,t,n,i)),i+=s.length):o.push(s)}return o}throw new TypeError("First argument must be an array or non-empty string")}(e,Cv,(function(e,n,r){var o,i=function(e,t){for(var n=[],r=0,o=0,i=0;i<e.length;)r=e.charCodeAt(i++),o?(n.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:n.push(r.toString(16));return n.join(t||"-")}((o=e).indexOf(_v)<0?o.replace(Ev,""):o);return t(i,e,r)}))},Rv=function(e){return e=Av({protocol:Nv,baseUrl:"//cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/",size:"72x72",ext:".png",props:null},e),function(t,n,r){var o="";return 0!==e.baseUrl.indexOf("http")&&(o+=function(e){return e&&e.length>0&&":"!==e.charAt(e.length-1)?e+":":e}(e.protocol)),o+=e.baseUrl+e.size+"/"+t+e.ext,Tv("img",Av({key:r,alt:n,draggable:!1,src:o,style:Iv},e.props))}},Mv=function(e,t){var n="function"===typeof t?t:Rv(t);return Ov(e,n)},jv=new RegExp(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g);function Pv(e,t){var n=(0,Z.useRef)([]),r=(0,Z.useRef)("");return{addSanitizeFn:(0,Z.useCallback)((function(e){n.current.push(e)}),[]),sanitize:(0,Z.useCallback)((function(o){var i,a=n.current.reduce((function(e,t){return t(e)}),o);return a=function(e,t){var n,r=document.createElement("div");r.innerHTML=e,n=t?function(e){var t=e.innerHTML.replaceAll(/<br\s*\/?>/gi,"[BR]"),n=document.createElement("div");return n.innerHTML=t,n.innerText.replaceAll(/\[BR\]/gi,"</br>")}(r):r.innerText||"";return n=n.replace(/\n/gi,"")}(a,e),t&&(i=function(e){return e.replace(jv,'<span class="message-emoji">$&</span>')}(i=a),a=i=(i=(i=(0,Qy.F0)(Mv(i))).replace(new RegExp("&lt;span class=&quot;message-emoji&quot;&gt;","g"),'<span class="message-emoji">')).replace(new RegExp("&lt;/span&gt;","g"),"</span>")),r.current=a,a}),[e,t]),sanitizedTextRef:r}}var Dv=["placeholder","style","tabIndex","className","onChange"],Lv=function(e,t){var n=e.placeholder,r=e.style,o=e.tabIndex,i=e.className,a=e.onChange,s=av(e,Dv);(0,Z.useImperativeHandle)(t,(function(){return{appendContent:function(e){d.current&&d.current.focus(),function(e){var t,n;if(window.getSelection){if(null===(t=window.getSelection()))return;if(t.getRangeAt&&t.rangeCount){var r;(n=null!==(r=dv)&&void 0!==r?r:t.getRangeAt(0)).deleteContents();var o=document.createElement("div");o.innerHTML=e;for(var i,a,s=document.createDocumentFragment();i=o.firstChild;)a=s.appendChild(i);n.insertNode(s),a&&(n=n.cloneRange(),dv=n,n.setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}}(e),d.current&&d.current.focus(),d.current&&u.current&&""===yv(d.current.innerHTML)?u.current.style.visibility="visible":u.current&&(u.current.style.visibility="hidden"),d.current&&"function"===typeof a&&a(d.current.innerHTML)},set html(e){if(d.current&&(d.current.innerHTML=e),u.current){var t=yv(e);u.current.style.visibility=""===t?"visible":"hidden"}"function"===typeof a&&d.current&&a(d.current.innerHTML)},get html(){return d.current?d.current.innerHTML:""},get text(){return d.current?d.current.innerText:""},get size(){return d.current?{width:d.current.offsetWidth,height:d.current.offsetHeight}:{width:0,height:0}},focus:function(){d.current&&d.current.focus()}}}));var c=(0,Z.useMemo)((function(){var e={};return r.placeholderColor&&(e.color=r.placeholderColor),e}),[null===r||void 0===r?void 0:r.placeholderColor]),l=(0,Z.useMemo)((function(){var e={};return r.color&&(e.color=r.color),e}),[null===r||void 0===r?void 0:r.color]),u=(0,Z.useRef)(null),d=(0,Z.useRef)(null);return Z.createElement("div",{className:"react-input-emoji--container",style:r},Z.createElement("div",{className:"react-input-emoji--wrapper",onClick:function(){s.onFocus()}},Z.createElement("div",{ref:u,className:"react-input-emoji--placeholder",style:c},n),Z.createElement("div",{ref:d,onKeyDown:function(e){"Enter"!==e.key||!0!==e.shiftKey&&!0!==e.ctrlKey||!s.shouldReturn||(e.preventDefault(),!d.current)?("Enter"===e.key?s.onEnter(e):"ArrowUp"===e.key?s.onArrowUp(e):"ArrowDown"===e.key?s.onArrowDown(e):1===e.key.length&&u.current&&(u.current.style.visibility="hidden"),s.onKeyDown(e)):function(){var e=xv(),t=e.selection,n=e.range,r=e.selectionStart;if(t.isCollapsed&&r.offset===r.node.textContent.length){var o=document.createElement("br");n.insertNode(o),n.setStartAfter(o),n.setEndAfter(o),t.removeAllRanges(),t.addRange(n);var i=document.createElement("br");n.insertNode(i),n.setStartAfter(i),n.setEndAfter(i),t.removeAllRanges(),t.addRange(n)}else{var a=document.createElement("br");n.insertNode(a),n.setStartAfter(a),n.setEndAfter(a),t.removeAllRanges(),t.addRange(n),r.node.nextSibling&&r.node.nextSibling.nodeType===Node.TEXT_NODE&&(n.setStart(r.node.nextSibling,1),n.setEnd(r.node.nextSibling,1)),t.removeAllRanges(),t.addRange(n)}}()},onKeyUp:function(e){s.onKeyUp(e);var t=d.current;if(u.current&&t){var n=yv(t.innerHTML);u.current.style.visibility=""===n?"visible":"hidden"}"function"===typeof a&&d.current&&a(d.current.innerHTML)},tabIndex:o,contentEditable:!0,className:"react-input-emoji--input".concat(i?" ".concat(i):""),onBlur:s.onBlur,onCopy:s.onCopy,onPaste:s.onPaste,"data-testid":"react-input-emoji--input",style:l})))},Fv=(0,Z.forwardRef)(Lv);function Bv(e){var t=e.showPicker,n=e.toggleShowPicker,r=e.buttonElement,o=e.buttonRef,i=(0,Z.useRef)(null),a=sv((0,Z.useState)(!1),2),s=a[0],c=a[1];return(0,Z.useEffect)((function(){var e,t,n,a;(null!==(e=null===o||void 0===o||null===(t=o.current)||void 0===t||null===(t=t.childNodes)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>2?(i.current.appendChild(o.current.childNodes[0]),c(!0)):(null!==(n=null===r||void 0===r||null===(a=r.childNodes)||void 0===a?void 0:a.length)&&void 0!==n?n:0)>2&&(i.current.appendChild(null===r||void 0===r?void 0:r.childNodes[0]),c(!0))}),[null===r||void 0===r?void 0:r.childNodes]),Z.createElement("button",{ref:i,type:"button",className:"react-input-emoji--button".concat(t?" react-input-emoji--button__show":""),onClick:n},!s&&Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:"react-input-emoji--button--icon"},Z.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),Z.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})))}function zv(e){return e&&e.__esModule?e.default:e}function Uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vv,Wv,Hv,Gv,Kv,qv,Yv={},Xv=[],Jv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $v(e,t){for(var n in t)e[n]=t[n];return e}function Zv(e){var t=e.parentNode;t&&t.removeChild(e)}function Qv(e,t,n){var r,o,i,a={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?Vv.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===a[i]&&(a[i]=e.defaultProps[i]);return eb(e,a,r,o,null)}function eb(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Hv:o};return null==o&&null!=Wv.vnode&&Wv.vnode(i),i}function tb(e){return e.children}function nb(e,t){this.props=e,this.context=t}function rb(e,t){if(null==t)return e.__?rb(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?rb(e):null}function ob(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return ob(e)}}function ib(e){(!e.__d&&(e.__d=!0)&&Gv.push(e)&&!ab.__r++||qv!==Wv.debounceRendering)&&((qv=Wv.debounceRendering)||Kv)(ab)}function ab(){for(var e;ab.__r=Gv.length;)e=Gv.sort((function(e,t){return e.__v.__b-t.__v.__b})),Gv=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=$v({},o)).__v=o.__v+1,mb(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?rb(o):i,o.__h),gb(n,o),o.__e!=i&&ob(o)))}))}function sb(e,t,n,r,o,i,a,s,c,l){var u,d,h,p,f,m,g,y=r&&r.__k||Xv,v=y.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(p=n.__k[u]=null==(p=t[u])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?eb(null,p,null,null,p):Array.isArray(p)?eb(tb,{children:p},null,null,null):p.__b>0?eb(p.type,p.props,p.key,null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(h=y[u])||h&&p.key==h.key&&p.type===h.type)y[u]=void 0;else for(d=0;d<v;d++){if((h=y[d])&&p.key==h.key&&p.type===h.type){y[d]=void 0;break}h=null}mb(e,p,h=h||Yv,o,i,a,s,c,l),f=p.__e,(d=p.ref)&&h.ref!=d&&(g||(g=[]),h.ref&&g.push(h.ref,null,p),g.push(d,p.__c||f,p)),null!=f?(null==m&&(m=f),"function"==typeof p.type&&p.__k===h.__k?p.__d=c=cb(p,c,e):c=ub(e,p,h,y,f,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=rb(h))}for(n.__e=m,u=v;u--;)null!=y[u]&&("function"==typeof n.type&&null!=y[u].__e&&y[u].__e==n.__d&&(n.__d=rb(r,u+1)),vb(y[u],y[u]));if(g)for(u=0;u<g.length;u++)yb(g[u],g[++u],g[++u])}function cb(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?cb(r,t,n):ub(n,r,r,o,r.__e,t));return t}function lb(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){lb(e,t)})):t.push(e)),t}function ub(e,t,n,r,o,i){var a,s,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(s=i,c=0;(s=s.nextSibling)&&c<r.length;c+=2)if(s==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function db(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||Jv.test(t)?n:n+"px"}function hb(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||db(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||db(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?fb:pb,i):e.removeEventListener(t,i?fb:pb,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(dw){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function pb(e){this.l[e.type+!1](Wv.event?Wv.event(e):e)}function fb(e){this.l[e.type+!0](Wv.event?Wv.event(e):e)}function mb(e,t,n,r,o,i,a,s,c){var l,u,d,h,p,f,m,g,y,v,b,x=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,s=t.__e=n.__e,t.__h=null,i=[s]),(l=Wv.__b)&&l(t);try{e:if("function"==typeof x){if(g=t.props,y=(l=x.contextType)&&r[l.__c],v=l?y?y.props.value:l.__:r,n.__c?m=(u=t.__c=n.__c).__=u.__E:("prototype"in x&&x.prototype.render?t.__c=u=new x(g,v):(t.__c=u=new nb(g,v),u.constructor=x,u.render=bb),y&&y.sub(u),u.props=g,u.state||(u.state={}),u.context=v,u.__n=r,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=x.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=$v({},u.__s)),$v(u.__s,x.getDerivedStateFromProps(g,u.__s))),h=u.props,p=u.state,d)null==x.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==x.getDerivedStateFromProps&&g!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,v),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,v)||t.__v===n.__v){u.props=g,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,v),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(h,p,f)}))}u.context=v,u.props=g,u.state=u.__s,(l=Wv.__r)&&l(t),u.__d=!1,u.__v=t,u.__P=e,l=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(r=$v($v({},r),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(f=u.getSnapshotBeforeUpdate(h,p)),b=null!=l&&l.type===tb&&null==l.key?l.props.children:l,sb(e,Array.isArray(b)?b:[b],t,n,r,o,i,a,s,c),u.base=t.__e,t.__h=null,u.__h.length&&a.push(u),m&&(u.__E=u.__=null),u.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,i,a,s){var c,l,u,d=n.props,h=t.props,p=t.type,f=0;if("svg"===p&&(o=!0),null!=i)for(;f<i.length;f++)if((c=i[f])&&"setAttribute"in c==!!p&&(p?c.localName===p:3===c.nodeType)){e=c,i[f]=null;break}if(null==e){if(null===p)return document.createTextNode(h);e=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),i=null,s=!1}if(null===p)d===h||s&&e.data===h||(e.data=h);else{if(i=i&&Vv.call(e.childNodes),l=(d=n.props||Yv).dangerouslySetInnerHTML,u=h.dangerouslySetInnerHTML,!s){if(null!=i)for(d={},f=0;f<e.attributes.length;f++)d[e.attributes[f].name]=e.attributes[f].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||hb(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||hb(e,i,t[i],n[i],r)}(e,h,d,o,s),u)t.__k=[];else if(f=t.props.children,sb(e,Array.isArray(f)?f:[f],t,n,r,o&&"foreignObject"!==p,i,a,i?i[0]:n.__k&&rb(n,0),s),null!=i)for(f=i.length;f--;)null!=i[f]&&Zv(i[f]);s||("value"in h&&void 0!==(f=h.value)&&(f!==d.value||f!==e.value||"progress"===p&&!f)&&hb(e,"value",f,d.value,!1),"checked"in h&&void 0!==(f=h.checked)&&f!==e.checked&&hb(e,"checked",f,d.checked,!1))}return e}(n.__e,t,n,r,o,i,a,c);(l=Wv.diffed)&&l(t)}catch(w){t.__v=null,(c||null!=i)&&(t.__e=s,t.__h=!!c,i[i.indexOf(s)]=null),Wv.__e(w,t,n)}}function gb(e,t){Wv.__c&&Wv.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){Wv.__e(n,t.__v)}}))}function yb(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(r){Wv.__e(r,n)}}function vb(e,t,n){var r,o;if(Wv.unmount&&Wv.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||yb(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){Wv.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&vb(r[o],t,"function"!=typeof e.type);n||null==e.__e||Zv(e.__e),e.__e=e.__d=void 0}function bb(e,t,n){return this.constructor(e,n)}function xb(e,t,n){var r,o,i;Wv.__&&Wv.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],mb(t,e=(!r&&n||t).__k=Qv(tb,null,[e]),o||Yv,Yv,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?Vv.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r),gb(i,e)}Vv=Xv.slice,Wv={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(i){e=i}throw e}},Hv=0,nb.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=$v({},this.state),"function"==typeof e&&(e=e($v({},n),this.props)),e&&$v(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),ib(this))},nb.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ib(this))},nb.prototype.render=tb,Gv=[],Kv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ab.__r=0;var wb=0;function kb(e,t,n,r,o){var i,a,s={};for(a in t)"ref"==a?i=t[a]:s[a]=t[a];var c={type:e,props:s,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--wb,__source:r,__self:o};if("function"==typeof e&&(i=e.defaultProps))for(a in i)void 0===s[a]&&(s[a]=i[a]);return Wv.vnode&&Wv.vnode(c),c}var Sb={set:function(e,t){try{window.localStorage["emoji-mart.".concat(e)]=JSON.stringify(t)}catch(n){}},get:function(e){try{const t=window.localStorage["emoji-mart.".concat(e)];if(t)return JSON.parse(t)}catch(t){}}};const Cb=new Map,Eb=[{v:15,emoji:"\ud83e\udee8"},{v:14,emoji:"\ud83e\udee0"},{v:13.1,emoji:"\ud83d\ude36\u200d\ud83c\udf2b\ufe0f"},{v:13,emoji:"\ud83e\udd78"},{v:12.1,emoji:"\ud83e\uddd1\u200d\ud83e\uddb0"},{v:12,emoji:"\ud83e\udd71"},{v:11,emoji:"\ud83e\udd70"},{v:5,emoji:"\ud83e\udd29"},{v:4,emoji:"\ud83d\udc71\u200d\u2640\ufe0f"},{v:3,emoji:"\ud83e\udd23"},{v:2,emoji:"\ud83d\udc4b\ud83c\udffb"},{v:1,emoji:"\ud83d\ude43"}];function _b(e){if(Cb.has(e))return Cb.get(e);const t=Tb(e);return Cb.set(e,t),t}const Tb=(()=>{let e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch(r){}if(!e)return()=>!1;const t=20,n=Math.floor(12.5);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=40,e.canvas.height=25,n=>{e.clearRect(0,0,40,25),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,t,22);const r=e.getImageData(0,0,t,25).data,o=r.length;let i=0;for(;i<o&&!r[i+3];i+=4);if(i>=o)return!1;const a=t+i/4%t,s=Math.floor(i/4/t),c=e.getImageData(a,s,1,1).data;return r[i]===c[0]&&r[i+2]===c[2]&&!(e.measureText(n).width>=t)}})();var Nb={latestVersion:function(){for(const{v:e,emoji:t}of Eb)if(_b(t))return e},noCountryFlags:function(){return!_b("\ud83c\udde8\ud83c\udde6")}};const Ib=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let Ab=null;var Ob={add:function(e){Ab||(Ab=Sb.get("frequently")||{});const t=e.id||e;t&&(Ab[t]||(Ab[t]=0),Ab[t]+=1,Sb.set("last",t),Sb.set("frequently",Ab))},get:function(e){let{maxFrequentRows:t,perLine:n}=e;if(!t)return[];Ab||(Ab=Sb.get("frequently"));let r=[];if(!Ab){Ab={};for(let e in Ib.slice(0,n)){const t=Ib[e];Ab[t]=n-e,r.push(t)}return r}const o=t*n,i=Sb.get("last");for(let a in Ab)r.push(a);if(r.sort(((e,t)=>{const n=Ab[t],r=Ab[e];return n==r?e.localeCompare(t):n-r})),r.length>o){const e=r.slice(o);r=r.slice(0,o);for(let t of e)t!=i&&delete Ab[t];i&&-1==r.indexOf(i)&&(delete Ab[r[r.length-1]],r.splice(-1,1,i)),Sb.set("frequently",Ab)}return r},DEFAULTS:Ib},Rb={};Rb=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldn\u2019t be found","pick":"Pick an emoji\u2026","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var Mb={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let jb=null,Pb=null;const Db={};async function Lb(e){if(Db[e])return Db[e];const t=await fetch(e),n=await t.json();return Db[e]=n,n}let Fb=null,Bb=null,zb=!1;function Ub(e){let{caller:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Fb||(Fb=new Promise((e=>{Bb=e}))),e?async function(e){zb=!0;let{emojiVersion:t,set:n,locale:r}=e;if(t||(t=Mb.emojiVersion.value),n||(n=Mb.set.value),r||(r=Mb.locale.value),Pb)Pb.categories=Pb.categories.filter((e=>!!!e.name));else{Pb=("function"===typeof e.data?await e.data():e.data)||await Lb("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/".concat(t,"/").concat(n,".json")),Pb.emoticons={},Pb.natives={},Pb.categories.unshift({id:"frequent",emojis:[]});for(const e in Pb.aliases){const t=Pb.aliases[e],n=Pb.emojis[t];n&&(n.aliases||(n.aliases=[]),n.aliases.push(e))}Pb.originalCategories=Pb.categories}if(jb=("function"===typeof e.i18n?await e.i18n():e.i18n)||("en"==r?zv(Rb):await Lb("https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/".concat(r,".json"))),e.custom)for(let c in e.custom){c=parseInt(c);const t=e.custom[c],n=e.custom[c-1];if(t.emojis&&t.emojis.length){t.id||(t.id="custom_".concat(c+1)),t.name||(t.name=jb.categories.custom),n&&!t.icon&&(t.target=n.target||n),Pb.categories.push(t);for(const e of t.emojis)Pb.emojis[e.id]=e}}e.categories&&(Pb.categories=Pb.originalCategories.filter((t=>-1!=e.categories.indexOf(t.id))).sort(((t,n)=>e.categories.indexOf(t.id)-e.categories.indexOf(n.id))));let o=null,i=null;"native"==n&&(o=Nb.latestVersion(),i=e.noCountryFlags||Nb.noCountryFlags());let a=Pb.categories.length,s=!1;for(;a--;){const t=Pb.categories[a];if("frequent"==t.id){let{maxFrequentRows:n,perLine:r}=e;n=n>=0?n:Mb.maxFrequentRows.value,r||(r=Mb.perLine.value),t.emojis=Ob.get({maxFrequentRows:n,perLine:r})}if(!t.emojis||!t.emojis.length){Pb.categories.splice(a,1);continue}const{categoryIcons:n}=e;if(n){const e=n[t.id];e&&!t.icon&&(t.icon=e)}let r=t.emojis.length;for(;r--;){const n=t.emojis[r],a=n.id?n:Pb.emojis[n],c=()=>{t.emojis.splice(r,1)};if(!a||e.exceptEmojis&&e.exceptEmojis.includes(a.id))c();else if(o&&a.version>o)c();else if(!i||"flags"!=t.id||Kb.includes(a.id)){if(!a.search){if(s=!0,a.search=","+[[a.id,!1],[a.name,!0],[a.keywords,!1],[a.emoticons,!1]].map((e=>{let[t,n]=e;if(t)return(Array.isArray(t)?t:[t]).map((e=>(n?e.split(/[-|_|\s]+/):[e]).map((e=>e.toLowerCase())))).flat()})).flat().filter((e=>e&&e.trim())).join(","),a.emoticons)for(const t of a.emoticons)Pb.emoticons[t]||(Pb.emoticons[t]=a.id);let e=0;for(const t of a.skins){if(!t)continue;e++;const{native:n}=t;n&&(Pb.natives[n]=a.id,a.search+=",".concat(n));const r=1==e?"":":skin-tone-".concat(e,":");t.shortcodes=":".concat(a.id,":").concat(r)}}}else c()}}s&&Gb.reset();Bb()}(e):t&&!zb&&console.warn("`".concat(t,"` requires data to be initialized first. Promise will be pending until `init` is called.")),Fb}function Vb(e,t,n){e||(e={});const r={};for(let o in t)r[o]=Wb(o,e,t,n);return r}function Wb(e,t,n,r){const o=n[e];let i=r&&r.getAttribute(e)||(null!=t[e]&&void 0!=t[e]?t[e]:null);return o?(null!=i&&o.value&&typeof o.value!=typeof i&&(i="boolean"==typeof o.value?"false"!=i:o.value.constructor(i)),o.transform&&i&&(i=o.transform(i)),(null==i||o.choices&&-1==o.choices.indexOf(i))&&(i=o.value),i):i}let Hb=null;var Gb={search:async function(e){let{maxResults:t,caller:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.trim().length)return null;t||(t=90),await Ub(null,{caller:n||"SearchIndex.search"});const r=e.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter(((e,t,n)=>e.trim()&&n.indexOf(e)==t));if(!r.length)return;let o,i,a=Hb||(Hb=Object.values(Pb.emojis));for(const s of r){if(!a.length)break;o=[],i={};for(const e of a){if(!e.search)continue;const t=e.search.indexOf(",".concat(s));-1!=t&&(o.push(e),i[e.id]||(i[e.id]=0),i[e.id]+=e.id==s?0:t+1)}a=o}return o.length<2||(o.sort(((e,t)=>{const n=i[e.id],r=i[t.id];return n==r?e.id.localeCompare(t.id):n-r})),o.length>t&&(o=o.slice(0,t))),o},get:function(e){return e.id?e:Pb.emojis[e]||Pb.emojis[Pb.aliases[e]]||Pb.emojis[Pb.natives[e]]},reset:function(){Hb=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/};const Kb=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];var qb={categories:{activity:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:kb("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:kb("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:kb("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:kb("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[kb("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),kb("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[kb("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),kb("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:kb("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[kb("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),kb("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:kb("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[kb("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),kb("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[kb("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),kb("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:kb("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:kb("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:kb("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:kb("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:kb("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function Yb(e){let{id:t,skin:n,emoji:r}=e;if(e.shortcodes){const r=e.shortcodes.match(Gb.SHORTCODES_REGEX);r&&(t=r[1],r[2]&&(n=r[2]))}if(r||(r=Gb.get(t||e.native)),!r)return e.fallback;const o=r.skins[n-1]||r.skins[0],i=o.src||("native"==e.set||e.spritesheet?void 0:"function"===typeof e.getImageURL?e.getImageURL(e.set,o.unified):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@15.0.1/img/").concat(e.set,"/64/").concat(o.unified,".png")),a="function"===typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):"https://cdn.jsdelivr.net/npm/emoji-datasource-".concat(e.set,"@15.0.1/img/").concat(e.set,"/sheets-256/64.png");return kb("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:i?kb("img",{style:{maxWidth:e.size||"1em",maxHeight:e.size||"1em",display:"inline-block"},alt:o.native||o.shortcodes,src:i}):"native"==e.set?kb("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:o.native}):kb("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:"url(".concat(a,")"),backgroundSize:"".concat(100*Pb.sheet.cols,"% ").concat(100*Pb.sheet.rows,"%"),backgroundPosition:"".concat(100/(Pb.sheet.cols-1)*o.x,"% ").concat(100/(Pb.sheet.rows-1)*o.y,"%")}})})}const Xb="undefined"!==typeof window&&window.HTMLElement?window.HTMLElement:Object;class Jb extends Xb{static get observedAttributes(){return Object.keys(this.Props)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in e)this.attributeChangedCallback(t,null,e[t])}attributeChangedCallback(e,t,n){if(!this.component)return;const r=Wb(e,{[e]:n},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:r}):(this.component.props[e]=r,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),this.props=e,e.parent||e.ref){let t=null;const n=e.parent||(t=e.ref&&e.ref.current);t&&(t.innerHTML=""),n&&n.appendChild(this)}}}class $b extends Jb{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}constructor(e){let{styles:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.setShadow(),this.injectStyles(t)}}var Zb={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:e=>/\D/.test(e)?e:"".concat(e,"px")},set:Mb.set,skin:Mb.skin};class Qb extends Jb{async connectedCallback(){const e=Vb(this.props,Zb,this);e.element=this,e.ref=e=>{this.component=e},await Ub(),this.disconnected||xb(kb(Yb,Ln({},e)),this)}constructor(e){super(e)}}Uv(Qb,"Props",Zb),"undefined"===typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",Qb);var ex,tx=[],nx=Wv.__b,rx=Wv.__r,ox=Wv.diffed,ix=Wv.__c,ax=Wv.unmount;function sx(){var e;for(tx.sort((function(e,t){return e.__v.__b-t.__v.__b}));e=tx.pop();)if(e.__P)try{e.__H.__h.forEach(lx),e.__H.__h.forEach(ux),e.__H.__h=[]}catch(t){e.__H.__h=[],Wv.__e(t,e.__v)}}Wv.__b=function(e){nx&&nx(e)},Wv.__r=function(e){rx&&rx(e);var t=e.__c.__H;t&&(t.__h.forEach(lx),t.__h.forEach(ux),t.__h=[])},Wv.diffed=function(e){ox&&ox(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==tx.push(t)&&ex===Wv.requestAnimationFrame||((ex=Wv.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cx&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);cx&&(t=requestAnimationFrame(n))})(sx))},Wv.__c=function(e,t){t.some((function(e){try{e.__h.forEach(lx),e.__h=e.__h.filter((function(e){return!e.__||ux(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Wv.__e(n,e.__v)}})),ix&&ix(e,t)},Wv.unmount=function(e){ax&&ax(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{lx(e)}catch(n){t=n}})),t&&Wv.__e(t,n.__v))};var cx="function"==typeof requestAnimationFrame;function lx(e){var t=e.__c;"function"==typeof t&&(e.__c=void 0,t())}function ux(e){e.__c=e.__()}function dx(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function hx(e){this.props=e}(hx.prototype=new nb).isPureReactComponent=!0,hx.prototype.shouldComponentUpdate=function(e,t){return dx(this.props,e)||dx(this.state,t)};var px=Wv.__b;Wv.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),px&&px(e)};var fx=Wv.__e;Wv.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);fx(e,t,n)};var mx=Wv.unmount;function gx(){this.__u=0,this.t=null,this.__b=null}function yx(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function vx(){this.u=null,this.o=null}Wv.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),mx&&mx(e)},(gx.prototype=new nb).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=yx(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(! --r.__u){if(r.state.__e){var e=r.state.__e;r.__v.__k[0]=function e(t,n,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)})),t.__c&&t.__c.__P===n&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},gx.prototype.componentWillUnmount=function(){this.t=[]},gx.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,r)}))),t}(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__e&&Qv(tb,null,e.fallback);return o&&(o.__h=null),[Qv(tb,null,t.__e?null:e.children),o]};var bx=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(vx.prototype=new nb).__e=function(e){var t=this,n=yx(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),bx(t,e,r)):o()};n?n(i):i()}},vx.prototype.render=function(e){this.u=null,this.o=new Map;var t=lb(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},vx.prototype.componentDidUpdate=vx.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){bx(e,n,t)}))};var xx="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,wx=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,kx="undefined"!=typeof document;nb.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(nb.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Sx=Wv.event;function Cx(){}function Ex(){return this.cancelBubble}function _x(){return this.defaultPrevented}Wv.event=function(e){return Sx&&(e=Sx(e)),e.persist=Cx,e.isPropagationStopped=Ex,e.isDefaultPrevented=_x,e.nativeEvent=e};var Tx={configurable:!0,get:function(){return this.class}},Nx=Wv.vnode;Wv.vnode=function(e){var t,n=e.type,r=e.props,o=r;if("string"==typeof n){var i=-1===n.indexOf("-");for(var a in o={},r){var s=r[a];kx&&"children"===a&&"noscript"===n||"value"===a&&"defaultValue"in r&&null==s||("defaultValue"===a&&"value"in r&&null==r.value?a="value":"download"===a&&!0===s?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+n)&&(t=r.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t))?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(a)?a=a.toLowerCase():i&&wx.test(a)?a=a.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),o[a]=s)}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=lb(r.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=lb(r.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),e.props=o,r.class!=r.className&&(Tx.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",Tx))}e.$$typeof=xx,Nx&&Nx(e)};var Ix=Wv.__r;Wv.__r=function(e){Ix&&Ix(e),e.__c};const Ax={light:"outline",dark:"solid"};class Ox extends hx{renderIcon(e){const{icon:t}=e;if(t){if(t.svg)return kb("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return kb("img",{src:t.src})}const n=qb.categories[e.id]||qb.categories.custom;return n["auto"==this.props.icons?Ax[this.props.theme]:this.props.icons]||n}render(){let e=null;return kb("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:kb("div",{class:"flex relative",children:[this.categories.map(((t,n)=>{const r=t.name||jb.categories[t.id],o=!this.props.unfocused&&t.id==this.state.categoryId;return o&&(e=n),kb("button",{"aria-label":r,"aria-selected":o||void 0,title:r,type:"button",class:"flex flex-grow flex-center",onMouseDown:e=>e.preventDefault(),onClick:()=>{this.props.onClick({category:t,i:n})},children:this.renderIcon(t)})})),kb("div",{class:"bar",style:{width:"".concat(100/this.categories.length,"%"),opacity:null==e?0:1,transform:"rtl"===this.props.dir?"scaleX(-1) translateX(".concat(100*e,"%)"):"translateX(".concat(100*e,"%)")}})]})})}constructor(){super(),this.categories=Pb.categories.filter((e=>!e.target)),this.state={categoryId:this.categories[0].id}}}class Rx extends hx{shouldComponentUpdate(e){for(let t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}render(){return this.props.children}}const Mx=10;class jx extends nb{getInitialState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{skin:Sb.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.dir=jb.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(console.warn("[EmojiMart] Deprecation warning: `stickySearch` has been renamed `searchPosition`."),this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const t in e)this.nextState[t]=e[t];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout((()=>{let e=!1;for(const n in this.nextState)this.props[n]=this.nextState[n],"custom"!==n&&"categories"!==n||(e=!0);delete this.nextState;const t=this.getInitialState();if(e)return this.reset(t);this.setState(t)}))}componentWillUnmount(){this.unregister()}async reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await Ub(this.props),this.initGrid(),this.unobserve(),this.setState(e,(()=>{this.observeCategories(),this.observeRows()}))}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var e;document.removeEventListener("click",this.handleClickOutside),null===(e=this.darkMedia)||void 0===e||e.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve(){let{except:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)||(e=[e]);for(const t of this.observers)e.includes(t)||t.disconnect();this.observers=[].concat(e)}initGrid(){const{categories:e}=Pb;this.refs.categories=new Map;const t=Pb.categories.map((e=>e.id)).join(",");this.navKey&&this.navKey!=t&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=t,this.grid=[],this.grid.setsize=0;const n=(e,t)=>{const n=[];n.__categoryId=t.id,n.__index=e.length,this.grid.push(n);const r=this.grid.length-1,o=r%Mx?{}:{current:null};return o.index=r,o.posinset=this.grid.setsize+1,e.push(o),n};for(let r of e){const e=[];let t=n(e,r);for(let o of r.emojis)t.length==this.getPerLine()&&(t=n(e,r)),this.grid.setsize+=1,t.push(o);this.refs.categories.set(r.id,{root:{current:null},rows:e})}}initTheme(e){if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(!e.dynamicWidth)return;const{element:t,emojiButtonSize:n}=e,r=()=>{const{width:e}=t.getBoundingClientRect();return Math.floor(e/n)},o=new ResizeObserver((()=>{this.unobserve({except:o}),this.setState({perLine:r()},(()=>{this.initGrid(),this.forceUpdate((()=>{this.observeCategories(),this.observeRows()}))}))}));return o.observe(t),this.observers.push(o),r()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos(e){let[t,n]=e;const r=this.state.searchResults||this.grid,o=r[t]&&r[t][n];if(o)return Gb.get(o)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const t=new Map,n={root:this.refs.scroll.current,threshold:[0,1]},r=new IntersectionObserver((n=>{for(const e of n){const n=e.target.dataset.id;t.set(n,e.intersectionRatio)}const r=[...t];for(const[t,i]of r)if(i){(o=t)!=e.state.categoryId&&e.setState({categoryId:o});break}var o}),n);for(const{root:o}of this.refs.categories.values())r.observe(o.current);this.observers.push(r)}observeRows(){const e=Ln({},this.state.visibleRows),t=new IntersectionObserver((t=>{for(const n of t){const t=parseInt(n.target.dataset.index);n.isIntersecting?e[t]=!0:delete e[t]}this.setState({visibleRows:e})}),{root:this.refs.scroll.current,rootMargin:"".concat(this.props.emojiButtonSize*(Mx+5),"px 0px ").concat(this.props.emojiButtonSize*Mx,"px")});for(const{rows:n}of this.refs.categories.values())for(const e of n)e.current&&t.observe(e.current);this.observers.push(t)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate(e){let{e:t,input:n,left:r,right:o,up:i,down:a}=e;const s=this.state.searchResults||this.grid;if(!s.length)return;let[c,l]=this.state.pos;const u=(()=>{if(0==c&&0==l&&!t.repeat&&(r||i))return null;if(-1==c)return t.repeat||!o&&!a||n.selectionStart!=n.value.length?null:[0,0];if(r||o){let e=s[c];const t=r?-1:1;if(l+=t,!e[l]){if(c+=t,e=s[c],!e)return c=r?0:s.length-1,l=r?0:s[c].length-1,[c,l];l=r?e.length-1:0}return[c,l]}if(i||a){c+=i?-1:1;const e=s[c];return e?(e[l]||(l=e.length-1),[c,l]):(c=i?0:s.length-1,l=i?0:s[c].length-1,[c,l])}})();u?(t.preventDefault(),this.setState({pos:u,keyboard:!0},(()=>{this.scrollTo({row:u[0]})}))):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}scrollTo(e){let{categoryId:t,row:n}=e;const r=this.state.searchResults||this.grid;if(!r.length)return;const o=this.refs.scroll.current,i=o.getBoundingClientRect();let a=0;if(n>=0&&(t=r[n].__categoryId),t){a=(this.refs[t]||this.refs.categories.get(t).root).current.getBoundingClientRect().top-(i.top-o.scrollTop)+1}if(n>=0)if(n){const e=a+r[n].__index*this.props.emojiButtonSize,t=e+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(e<o.scrollTop)a=e;else{if(!(t>o.scrollTop+i.height))return;a=t-i.height}}else a=0;this.ignoreMouse(),o.scrollTop=a}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout((()=>{delete this.mouseIsIgnored}),100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick(e){let{e:t,emoji:n,pos:r}=e;if(this.props.onEmojiSelect&&(!n&&r&&(n=this.getEmojiByPos(r)),n)){const e=function(e){let{skinIndex:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.skins[t]||(t=0,e.skins[t]),r={id:e.id,name:e.name,native:n.native,unified:n.unified,keywords:e.keywords,shortcodes:n.shortcodes||e.shortcodes};return e.skins.length>1&&(r.skin=t+1),n.src&&(r.src=n.src),e.aliases&&e.aliases.length&&(r.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(r.emoticons=e.emoticons),r}(n,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&Ob.add(e,this.props),this.props.onEmojiSelect(e,t)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),Sb.set("skin",e)}renderNav(){return kb(Ox,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return kb("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[kb("div",{class:"flex flex-middle flex-grow",children:[kb("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:kb(Yb,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),kb("div",{class:"margin-".concat(this.dir[0]),children:kb("div",e||t?{class:"padding-".concat(this.dir[2]," align-").concat(this.dir[0]),children:[kb("div",{class:"preview-title ellipsis",children:e?e.name:jb.search_no_results_1}),kb("div",{class:"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:jb.search_no_results_2})]}:{class:"preview-placeholder color-c",children:jb.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}renderEmojiButton(e,t){let{pos:n,posinset:r,grid:o}=t;const i=this.props.emojiButtonSize,a=this.state.tempSkin||this.state.skin,s=(e.skins[a-1]||e.skins[0]).native,c=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(((e,n)=>e==t[n]))}(this.state.pos,n),l=n.concat(e.id).join("");return kb(Rx,{selected:c,skin:a,size:i,children:kb("button",{"aria-label":s,"aria-selected":c||void 0,"aria-posinset":r,"aria-setsize":o.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:t=>this.handleEmojiClick({e:t,emoji:e}),onMouseEnter:()=>this.handleEmojiOver(n),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[kb("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(r-1)%this.props.emojiButtonColors.length]:void 0}}),kb(Yb,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:a,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},l)}renderSearch(){const e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return kb("div",{children:[kb("div",{class:"spacer"}),kb("div",{class:"flex flex-middle",children:[kb("div",{class:"search relative flex-grow",children:[kb("input",{type:"search",ref:this.refs.searchInput,placeholder:jb.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),kb("span",{class:"icon loupe flex",children:qb.search.loupe}),this.state.searchResults&&kb("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:qb.search.delete})]}),e&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?kb("div",{class:"category",ref:this.refs.search,children:[kb("div",{class:"sticky padding-small align-".concat(this.dir[0]),children:jb.categories.search}),kb("div",{children:e.length?e.map(((t,n)=>kb("div",{class:"flex",children:t.map(((t,r)=>this.renderEmojiButton(t,{pos:[n,r],posinset:n*this.props.perLine+r+1,grid:e})))}))):kb("div",{class:"padding-small align-".concat(this.dir[0]),children:this.props.onAddCustomEmoji&&kb("a",{onClick:this.props.onAddCustomEmoji,children:jb.add_custom})})})]}):null}renderCategories(){const{categories:e}=Pb,t=!!this.state.searchResults,n=this.getPerLine();return kb("div",{style:{visibility:t?"hidden":void 0,display:t?"none":void 0,height:"100%"},children:e.map((e=>{const{root:t,rows:r}=this.refs.categories.get(e.id);return kb("div",{"data-id":e.target?e.target.id:e.id,class:"category",ref:t,children:[kb("div",{class:"sticky padding-small align-".concat(this.dir[0]),children:e.name||jb.categories[e.id]}),kb("div",{class:"relative",style:{height:r.length*this.props.emojiButtonSize},children:r.map(((t,r)=>{const o=t.index-t.index%Mx,i=this.state.visibleRows[o],a="current"in t?t:void 0;if(!i&&!a)return null;const s=r*n,c=s+n,l=e.emojis.slice(s,c);return l.length<n&&l.push(...new Array(n-l.length)),kb("div",{"data-index":t.index,ref:a,class:"flex row",style:{top:r*this.props.emojiButtonSize},children:i&&l.map(((e,n)=>{if(!e)return kb("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const r=Gb.get(e);return this.renderEmojiButton(r,{pos:[t.index,n],posinset:t.posinset+n,grid:this.grid})}))},t.index)}))})]})}))})}renderSkinToneButton(){return"none"==this.props.skinTonePosition?null:kb("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:kb("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":jb.skins.choose,title:jb.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:kb("span",{class:"skin-tone skin-tone-".concat(this.state.skin)})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos);return kb("div",{"aria-live":"polite",class:"sr-only",children:e?e.name:""})}renderSkins(){const e=this.refs.skinToneButton.current.getBoundingClientRect(),t=this.base.getBoundingClientRect(),n={};return"ltr"==this.dir?n.right=t.right-e.right-3:n.left=e.left-t.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?n.bottom=t.bottom-e.top+6:(n.top=e.bottom-t.top+3,n.bottom="auto"),kb("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":jb.skins.choose,class:"menu hidden","data-position":n.top?"top":"bottom",style:n,children:[...Array(6).keys()].map((e=>{const t=e+1,n=this.state.skin==t;return kb("div",{children:[kb("input",{type:"radio",name:"skin-tone",value:t,"aria-label":jb.skins[t],ref:n?this.refs.skinToneRadio:null,defaultChecked:n,onChange:()=>this.handleSkinMouseOver(t),onKeyDown:e=>{"Enter"!=e.code&&"Space"!=e.code&&"Tab"!=e.code||(e.preventDefault(),this.handleSkinClick(t))}}),kb("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(t),onMouseEnter:()=>this.handleSkinMouseOver(t),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[kb("span",{class:"skin-tone skin-tone-".concat(t)}),kb("span",{class:"margin-small-lr",children:jb.skins[t]})]})]})}))})}render(){const e=this.props.perLine*this.props.emojiButtonSize;return kb("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":"calc(".concat(e,"px + (var(--padding) + var(--sidebar-width)))")},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&kb("div",{class:"padding-lr",children:this.renderSearch()}),kb("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:kb("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),Uv(this,"darkMediaCallback",(()=>{"auto"==this.props.theme&&this.setState({theme:this.darkMedia.matches?"dark":"light"})})),Uv(this,"handleClickOutside",(e=>{const{element:t}=this.props;e.target!=t&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(e))})),Uv(this,"handleBaseClick",(e=>{this.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins()))})),Uv(this,"handleBaseKeydown",(e=>{this.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins())})),Uv(this,"handleSearchClick",(()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})})),Uv(this,"handleSearchInput",(async()=>{const e=this.refs.searchInput.current;if(!e)return;const{value:t}=e,n=await Gb.search(t),r=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!n)return this.setState({searchResults:n,pos:[-1,-1]},r);const o=e.selectionStart==e.value.length?[0,0]:[-1,-1],i=[];i.setsize=n.length;let a=null;for(let s of n)i.length&&a.length!=this.getPerLine()||(a=[],a.__categoryId="search",a.__index=i.length,i.push(a)),a.push(s);this.ignoreMouse(),this.setState({searchResults:i,pos:o},r)})),Uv(this,"handleSearchKeyDown",(e=>{const t=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":this.navigate({e:e,input:t,left:!0});break;case"ArrowRight":this.navigate({e:e,input:t,right:!0});break;case"ArrowUp":this.navigate({e:e,input:t,up:!0});break;case"ArrowDown":this.navigate({e:e,input:t,down:!0});break;case"Enter":e.preventDefault(),this.handleEmojiClick({e:e,pos:this.state.pos});break;case"Escape":e.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch()}})),Uv(this,"clearSearch",(()=>{const e=this.refs.searchInput.current;e&&(e.value="",e.focus(),this.handleSearchInput())})),Uv(this,"handleCategoryClick",(e=>{let{category:t,i:n}=e;this.scrollTo(0==n?{row:-1}:{categoryId:t.id})})),Uv(this,"openSkins",(e=>{const{currentTarget:t}=e,n=t.getBoundingClientRect();this.setState({showSkins:n},(async()=>{await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(let t in[...Array(e).keys()])await new Promise(requestAnimationFrame)}(2);const e=this.refs.menu.current;e&&(e.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))}))})),this.observers=[],this.state=Ln({pos:[-1,-1],perLine:this.initDynamicPerLine(e),visibleRows:{0:!0}},this.getInitialState(e))}}class Px extends $b{async connectedCallback(){const e=Vb(this.props,Mb,this);e.element=this,e.ref=e=>{this.component=e},await Ub(e),this.disconnected||xb(kb(jx,Ln({},e)),this.shadowRoot)}constructor(e){super(e,{styles:zv(Dx)})}}Uv(Px,"Props",Mb),"undefined"===typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",Px);var Dx={};function Lx(e){const t=(0,Z.useRef)(null),n=(0,Z.useRef)(null);return n.current&&n.current.update(e),(0,Z.useEffect)((()=>(n.current=new Px(Ln(Ln({},e),{},{ref:t})),()=>{n.current=null})),[]),Z.createElement("div",{ref:t})}Dx=':host {\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --preview-placeholder-size: 21px;\n  --preview-title-size: 1.1em;\n  --preview-subtitle-size: .9em;\n  --shadow-color: 0deg 0% 0%;\n  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);\n  display: flex;\n}\n\n[data-theme="light"] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme="dark"] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, 0, .2, 1);\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n  position: relative;\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  line-height: normal;\n}\n\n*, :before, :after {\n  box-sizing: border-box;\n  min-width: 0;\n  margin: 0;\n  padding: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: none;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.sr-only {\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  top: auto;\n  left: -10000px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n[dir="rtl"] .scroll {\n  padding-left: 0;\n  padding-right: var(--padding);\n}\n\n.scroll {\n  padding-right: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: rgba(0, 0, 0, 0);\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  z-index: 1;\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  font-weight: 500;\n  position: sticky;\n  top: -1px;\n}\n\n[dir="rtl"] .search input[type="search"] {\n  padding: 10px 2.2em 10px 2em;\n}\n\n[dir="rtl"] .search .loupe {\n  left: auto;\n  right: .7em;\n}\n\n[dir="rtl"] .search .delete {\n  left: .7em;\n  right: auto;\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size)  - 1px);\n}\n\n.search input[type="search"] {\n  width: 100%;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n  border: 0;\n  border-radius: 10px;\n  outline: 0;\n  padding: 10px 2em 10px 2.2em;\n  display: block;\n}\n\n.search input[type="search"]::-ms-input-placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"]::placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n}\n\n.search input[type="search"]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);\n}\n\n.search .icon {\n  z-index: 1;\n  color: rgba(var(--em-rgb-color), .7);\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  pointer-events: none;\n  left: .7em;\n}\n\n.search .delete {\n  right: .7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n}\n\n#nav {\n  z-index: 2;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav[dir="rtl"] .bar {\n  left: auto;\n  right: 0;\n}\n\n#nav .bar {\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  transition: transform var(--duration) var(--easing);\n  border-radius: 3px 3px 0 0;\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  padding: calc(var(--padding)  + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#preview .preview-placeholder {\n  font-size: var(--preview-placeholder-size);\n}\n\n#preview .preview-title {\n  font-size: var(--preview-title-size);\n}\n\n#preview .preview-subtitle {\n  font-size: var(--preview-subtitle-size);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  height: 2px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n#nav[data-position="top"]:before, #preview[data-position="top"]:before {\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n  top: 100%;\n}\n\n#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n  bottom: 100%;\n}\n\n.category:last-child {\n  min-height: calc(100% + 1px);\n}\n\n.category button {\n  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;\n  position: relative;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0s;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.skin-tone-button {\n  border: 1px solid rgba(0, 0, 0, 0);\n  border-radius: 100%;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  background-color: var(--em-color-border);\n  border-top-color: rgba(0, 0, 0, .05);\n  border-bottom-color: rgba(0, 0, 0, 0);\n  border-left-width: 0;\n  border-right-width: 0;\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(.9);\n}\n\n.menu {\n  z-index: 2;\n  white-space: nowrap;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n  border-radius: 10px;\n  padding: 4px;\n  position: absolute;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position="bottom"] {\n  transform-origin: 100% 100%;\n}\n\n.menu[data-position="bottom"].hidden {\n  transform: scale(.9)rotate(-3deg)translateY(5%);\n}\n\n.menu[data-position="top"] {\n  transform-origin: 100% 0;\n}\n\n.menu[data-position="top"].hidden {\n  transform: scale(.9)rotate(3deg)translateY(-5%);\n}\n\n.menu input[type="radio"] {\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  overflow: hidden;\n}\n\n.menu input[type="radio"]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  border-radius: 6px;\n  padding: 4px 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  mix-blend-mode: overlay;\n  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));\n  border: 1px solid rgba(0, 0, 0, .8);\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-index] {\n  justify-content: space-between;\n}\n\n[data-emoji-set="twitter"] .skin-tone:after {\n  box-shadow: none;\n  border-color: rgba(0, 0, 0, .5);\n}\n\n[data-emoji-set="twitter"] .skin-tone-1 {\n  background-color: #fade72;\n}\n\n[data-emoji-set="twitter"] .skin-tone-2 {\n  background-color: #f3dfd0;\n}\n\n[data-emoji-set="twitter"] .skin-tone-3 {\n  background-color: #eed3a8;\n}\n\n[data-emoji-set="twitter"] .skin-tone-4 {\n  background-color: #cfad8d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-5 {\n  background-color: #a8805d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set="google"] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);\n}\n\n[data-emoji-set="google"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="google"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="google"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="google"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="google"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="google"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n[data-emoji-set="facebook"] .skin-tone:after {\n  border-color: rgba(0, 0, 0, .4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set="facebook"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="facebook"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="facebook"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="facebook"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="facebook"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="facebook"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n';var Fx="https://cdn.jsdelivr.net/npm/@emoji-mart/data",Bx={};function zx(e){var t=e.theme,n=e.onSelectEmoji,r=e.disableRecent,o=e.customEmojis,i=e.language,a=(0,Z.useMemo)((function(){var e=[];return r||e.push("frequent"),e=[].concat(cv(e),["people","nature","foods","activity","places","objects","symbols","flags"])}),[r]),s=sv((0,Z.useState)(void 0),2),c=s[0],l=s[1];return(0,Z.useEffect)((function(){var e,t;if(!i)return Bx.en?void l(Bx.en):void fetch("".concat(Fx,"/i18n/en.json")).then((function(e){return(t=t||ov(nv().mark((function e(t){var n;return nv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,l(n),Bx.en=n;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})).catch((function(e){console.error("Failed to load translations:",e)}));Bx[i]?l(Bx[i]):fetch("".concat(Fx,"/i18n/").concat(i,".json")).then((function(t){return(e=e||ov(nv().mark((function e(t){var n;return nv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,l(n),Bx[i]=n;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})).catch((function(e){console.error("Failed to load translations:",e)}))}),[i]),c?Z.createElement(Lx,{data:void 0,theme:t,previewPosition:"none",onEmojiSelect:n,custom:o,categories:a,set:"apple",i18n:c}):null}var Ux=(0,Z.memo)(zx);function Vx(e){var t=e.showPicker,n=e.theme,r=e.handleSelectEmoji,o=e.disableRecent,i=e.customEmojis,a=e.position,s=e.language;return Z.createElement("div",{className:"react-emoji-picker--container"},t&&Z.createElement("div",{className:"react-emoji-picker--wrapper",onClick:function(e){return e.stopPropagation()},style:"below"===a?{top:"40px"}:{}},Z.createElement("div",{className:"react-emoji-picker"},Z.createElement(Ux,{theme:n,onSelectEmoji:r,disableRecent:o,customEmojis:i,language:s}))))}var Wx=function(e){var t=e.theme,n=e.keepOpened,r=e.disableRecent,o=e.customEmojis,i=e.addSanitizeFn,a=e.addPolluteFn,s=e.appendContent,c=e.buttonElement,l=e.buttonRef,u=e.language,d=sv((0,Z.useState)(!1),2),h=d[0],p=d[1],f=sv((0,Z.useState)(),2),m=f[0],g=f[1],y=sv((0,Z.useState)(),2),v=y[0],b=y[1];function x(e){e.stopPropagation(),e.preventDefault(),b(function(e){var t=e.currentTarget,n=t.getBoundingClientRect(),r=435;return n.top>=r?"above":"below"}(e)),p((function(e){return!e}))}function w(e){s(function(e){var t,n=document.querySelector("em-emoji-picker");if(!n)return gv(e.native);var r=null===n||void 0===n||null===(t=n.shadowRoot)||void 0===t?void 0:t.querySelector('[title="'.concat(e.name,'"] > span > span'));return r?mv(fv(r.style.cssText,'"',"'"),e.native):gv(e.native)}(e)),n||p((function(e){return!e}))}return(0,Z.useEffect)((function(){h&&function(){var e=window.getSelection();if(e.rangeCount&&("react-input-emoji--input"===(null===e||void 0===e?void 0:e.anchorNode.className)||"react-input-emoji--input"===e.anchorNode.parentNode.className)){var t=e.getRangeAt(0);dv=t.cloneRange()}}()}),[h]),(0,Z.useEffect)((function(){i(yv)}),[i]),(0,Z.useEffect)((function(){a(pv)}),[a]),(0,Z.useEffect)((function(){function e(e){var t=e.target;t.classList.contains("react-input-emoji--button")||t.classList.contains("react-input-emoji--button--icon")||p(!1)}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),(0,Z.useEffect)((function(){var e;null!==l&&void 0!==l&&null!==(e=l.current)&&void 0!==e&&e.style?(l.current.style.position="relative",g(l.current)):null!==c&&void 0!==c&&c.style&&(c.style.position="relative",g(c))}),[l,c]),m?Xt.createPortal(Z.createElement(Z.Fragment,null,Z.createElement(Vx,{showPicker:h,theme:t,handleSelectEmoji:w,disableRecent:r,customEmojis:o,position:v,language:u}),Z.createElement(Bv,{showPicker:h,toggleShowPicker:x,buttonElement:m,buttonRef:l})),m):Z.createElement(Z.Fragment,null,Z.createElement(Vx,{showPicker:h,theme:t,handleSelectEmoji:w,disableRecent:r,customEmojis:o,position:v,language:u}),Z.createElement(Bv,{showPicker:h,toggleShowPicker:x}))};function Hx(){var e=Gx();return e&&e.text.substring(e.begin,e.end)||null}function Gx(){var e=Kx();if(!e)return null;var t=e.element,n=e.caretOffset,r=t.textContent,o=r.lastIndexOf("@");return-1===o||o>=n||0!==o&&" "!==r[o-1]?null:{begin:o,end:n,text:r,element:t}}function Kx(){var e=function(){var e=document.getSelection().anchorNode;return 3==(null===e||void 0===e?void 0:e.nodeType)?e:null}();if(null===e)return null;var t=0;if("undefined"!=typeof window.getSelection){var n=window.getSelection().getRangeAt(0),r=n.cloneRange();r.selectNodeContents(e),r.setEnd(n.endContainer,n.endOffset),t=r.toString().length}else if("undefined"!=typeof document.selection&&"Control"!=document.selection.type){var o=document.selection.createRange(),i=document.body.createTextRange();i.moveToElementText(e),i.setEndPoint("EndToEnd",o),t=i.text.length}return{element:e,caretOffset:t}}function qx(e){var t,n=sv((0,Z.useState)(!1),2),r=n[0],o=n[1],i=sv((0,Z.useState)([]),2),a=i[0],s=i[1],c=sv((0,Z.useState)(null),2),l=c[0],u=c[1],d=(0,Z.useCallback)((function(){!function(){var e=Gx();e&&e.element.deleteData(e.begin,e.end-e.begin)}(),s([])}),[]),h=(0,Z.useCallback)(ov(nv().mark((function t(){var n,r;return nv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Hx(),u(n),null!==n){t.next=6;break}s([]),t.next=12;break;case 6:return o(!0),t.next=9,e(n);case 9:r=t.sent,o(!1),s(r);case 12:case"end":return t.stop()}}),t)}))),[e]),p=(0,Z.useCallback)((function(n){return(t=t||ov(nv().mark((function t(n){var r;return nv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"===typeof e){t.next=2;break}return t.abrupt("return");case 2:"Backspace"===n.key&&null!==(r=Kx())&&void 0!==r&&r.element.parentElement.hasAttribute("data-mention-id")?Kx().element.parentElement.remove():["ArrowUp","ArrowDown","Esc","Escape"].includes(n.key)||h();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}),[h,e]);return{mentionSearchText:l,mentionUsers:a,onKeyUp:p,onFocus:(0,Z.useCallback)((function(){h()}),[h]),onSelectUser:d,loading:r}}var Yx=function(e,t){var n=e.users,r=e.mentionSearchText,o=e.onSelect,i=e.addEventListener,a=sv((0,Z.useState)(0),2),s=a[0],c=a[1];function l(e,t){return'<span class="react-input-emoji--mention--item--name__selected" data-testid="metion-selected-word">'.concat(e,"</span>").concat(t)}(0,Z.useImperativeHandle)(t,(function(){return{prevUser:function(){c((function(e){return 0===e?0:e-1}))},nextUser:function(){c((function(e){return e===n.length-1?n.length-1:e+1}))}}})),(0,Z.useEffect)((function(){c(0)}),[n]);var u=(0,Z.useMemo)((function(){var e=r?r.substring(1).toLocaleLowerCase():"";return n.map((function(t){var n=t.name;r&&r.length>1&&(n=t.name.toLowerCase().startsWith(e)?l(t.name.substring(0,e.length),t.name.substring(e.length)):t.name.split(" ").map((function(t){return t.toLocaleLowerCase().startsWith(e)?l(t.substring(0,e.length),t.substring(e.length)):t})).join(" "));return tv(tv({},t),{},{nameHtml:n})}))}),[r,n]);function d(e){return function(t){t.stopPropagation(),t.preventDefault(),o(e)}}return(0,Z.useEffect)((function(){var e=i("enter",(function(e){e.stopPropagation(),e.preventDefault(),o(u[s])}));return function(){e()}}),[i,o,s,u]),Z.createElement("ul",{className:"react-input-emoji--mention--list","data-testid":"mention-user-list"},u.map((function(e,t){return Z.createElement("li",{key:e.id},Z.createElement("button",{type:"button",onClick:d(e),className:"react-input-emoji--mention--item".concat(s===t?" react-input-emoji--mention--item__selected":""),onMouseOver:function(){return c(t)}},Z.createElement("img",{className:"react-input-emoji--mention--item--img",src:e.image}),Z.createElement("div",{className:"react-input-emoji--mention--item--name",dangerouslySetInnerHTML:{__html:e.nameHtml}})))})))},Xx=(0,Z.forwardRef)(Yx),Jx=function(e){var t=e.searchMention,n=e.addEventListener,r=e.appendContent,o=e.addSanitizeFn,i=(0,Z.useRef)(null),a=sv((0,Z.useState)(!1),2),s=a[0],c=a[1],l=qx(t),u=l.mentionSearchText,d=l.mentionUsers,h=l.loading,p=l.onKeyUp,f=l.onFocus,m=l.onSelectUser;return(0,Z.useEffect)((function(){o((function(e){var t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.querySelectorAll(".react-input-emoji--mention--text")).forEach((function(e){t.innerHTML=t.innerHTML.replace(e.outerHTML,"@[".concat(e.dataset.mentionName,"](userId:").concat(e.dataset.mentionId,")"))})),t.innerHTML}))}),[o]),(0,Z.useEffect)((function(){c(d.length>0)}),[d]),(0,Z.useEffect)((function(){function e(){c(!1)}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),(0,Z.useEffect)((function(){var e=n("keyUp",p);return function(){e()}}),[n,p]),(0,Z.useEffect)((function(){var e=n("keyDown",(function(e){switch(e.key){case"Esc":case"Escape":c(!1)}}));return function(){e()}}),[n]),(0,Z.useEffect)((function(){var e=n("focus",f);return function(){e()}}),[n,f]),(0,Z.useEffect)((function(){if(s){var e=n("arrowUp",(function(e){e.stopPropagation(),e.preventDefault(),i.current.prevUser()})),t=n("arrowDown",(function(e){e.stopPropagation(),e.preventDefault(),i.current.nextUser()}));return function(){e(),t()}}}),[n,s]),Z.createElement(Z.Fragment,null,h?Z.createElement("div",{className:"react-input-emoji--mention--container"},Z.createElement("div",{className:"react-input-emoji--mention--loading"},Z.createElement("div",{className:"react-input-emoji--mention--loading--spinner"},"Loading..."))):s&&Z.createElement("div",{className:"react-input-emoji--mention--container",onClick:function(e){return e.stopPropagation()}},Z.createElement(Xx,{ref:i,mentionSearchText:u,users:d,onSelect:function(e){m(),r('<span class="react-input-emoji--mention--text" data-mention-id="'.concat(e.id,'" data-mention-name="').concat(e.name,'">@').concat(e.name,"</span> "))},addEventListener:n})))};function $x(){var e=[];return{subscribe:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},publish:function(t){e.forEach((function(e){return e(t)}))},get currentListerners(){return e}}}function Zx(e,t){var n=e.onChange,r=e.onEnter,o=e.onResize,i=e.onClick,a=e.onFocus,s=e.onBlur,c=e.onKeyDown,l=e.theme,u=e.cleanOnEnter,d=e.placeholder,h=e.maxLength,p=e.keepOpened,f=e.inputClass,m=e.disableRecent,g=e.tabIndex,y=e.value,v=e.customEmojis,b=e.language,x=e.searchMention,w=e.buttonElement,k=e.buttonRef,S=e.shouldReturn,C=e.shouldConvertEmojiToImage,E=e.borderRadius,_=e.borderColor,T=e.fontSize,N=e.fontFamily,I=e.background,A=e.placeholderColor,O=e.color,R=(0,Z.useRef)(null),M=function(){var e=(0,Z.useMemo)((function(){return{keyDown:$x(),keyUp:$x(),arrowUp:$x(),arrowDown:$x(),enter:$x(),focus:$x(),blur:$x()}}),[]);return{addEventListener:(0,Z.useCallback)((function(t,n){return e[t].subscribe(n)}),[e]),listeners:e}}(),j=M.addEventListener,P=M.listeners,D=Pv(S,C),L=D.addSanitizeFn,F=D.sanitize,B=D.sanitizedTextRef,z=function(){var e=(0,Z.useRef)([]);return{addPolluteFn:(0,Z.useCallback)((function(t){e.current.push(t)}),[]),pollute:(0,Z.useCallback)((function(t){return e.current.reduce((function(e,t){return t(e)}),t)}),[])}}(),U=z.addPolluteFn,V=z.pollute,W=(0,Z.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";null!==R.current&&(R.current.html=pv(e),B.current=e)}),[B]),H=(0,Z.useCallback)((function(e){W(e)}),[W]),G=function(e,t,n){var r=(0,Z.useRef)(null),o=(0,Z.useRef)(n),i=(0,Z.useCallback)((function(){if(null!==e.current){var n=r.current,o=e.current.size;n&&n.width===o.width&&n.height===o.height||"function"!==typeof t||t(o),r.current=o}}),[t,e]),a=(0,Z.useCallback)((function(e){"function"===typeof o.current&&o.current(e),"function"===typeof t&&i()}),[i,t]);return(0,Z.useEffect)((function(){e.current&&i()}),[i,e]),a}(R,o,n);function K(e){"undefined"!==typeof h&&null!==R.current&&bv(R.current)>=h||null!==R.current&&R.current.appendContent(e)}return function(e){var t=e.ref,n=e.textInputRef,r=e.setValue,o=e.emitChange,i=Pv(!1,e.shouldConvertEmojiToImage),a=i.sanitize,s=i.sanitizedTextRef;(0,Z.useImperativeHandle)(t,(function(){return{get value(){return s.current},set value(e){r(e)},focus:function(){null!==n.current&&n.current.focus()},blur:function(){null!==n.current&&a(n.current.html),o()}}}))}({ref:t,setValue:H,textInputRef:R,emitChange:G,shouldConvertEmojiToImage:C}),(0,Z.useEffect)((function(){B.current!==y&&H(y)}),[B,H,y]),(0,Z.useEffect)((function(){var e=j("keyDown",(function(e){if("undefined"!==typeof h&&"Backspace"!==e.key&&null!==R.current&&bv(R.current)>=h&&e.preventDefault(),"Enter"===e.key&&R.current){e.preventDefault();var t=F(R.current.html);return G(B.current),"function"===typeof r&&0===P.enter.currentListerners.length&&r(t),u&&0===P.enter.currentListerners.length&&W(""),"function"===typeof c&&c(e.nativeEvent),!1}return"function"===typeof c&&c(e.nativeEvent),!0}));return function(){e()}}),[j,u,G,P.enter.currentListerners.length,h,r,c,F,B,W]),(0,Z.useEffect)((function(){var e=j("focus",(function(){"function"===typeof i&&i(),"function"===typeof a&&a()}));return function(){e()}}),[j,i,a]),(0,Z.useEffect)((function(){var e=j("blur",(function(){"function"===typeof s&&s()}));return function(){e()}}),[j,s]),Z.createElement("div",{className:"react-emoji"},Z.createElement(Jx,{searchMention:x,addEventListener:j,appendContent:K,addSanitizeFn:L}),Z.createElement(Fv,{ref:R,onCopy:vv,onPaste:function(e){var t;e.preventDefault(),e.clipboardData&&(t=e.clipboardData.getData("text/plain"),t=V(t),document.execCommand("insertHTML",!1,t))},shouldReturn:S,onBlur:P.blur.publish,onFocus:P.focus.publish,onArrowUp:P.arrowUp.publish,onArrowDown:P.arrowDown.publish,onKeyUp:P.keyUp.publish,onKeyDown:P.keyDown.publish,onEnter:P.enter.publish,placeholder:d,style:{borderRadius:E,borderColor:_,fontSize:T,fontFamily:N,background:I,placeholderColor:A,color:O},tabIndex:g,className:f,onChange:function(e){F(e),y!==B.current&&G(B.current)}}),Z.createElement(Wx,{theme:l,keepOpened:p,disableRecent:m,customEmojis:v,addSanitizeFn:L,addPolluteFn:U,appendContent:K,buttonElement:w,buttonRef:k,language:b}))}var Qx=(0,Z.forwardRef)(Zx);Qx.defaultProps={theme:"auto",height:30,placeholder:"Type a message",borderRadius:21,borderColor:"#EAEAEA",color:"black",fontSize:15,fontFamily:"sans-serif",background:"white",tabIndex:0,shouldReturn:!1,shouldConvertEmojiToImage:!1,customEmojis:[],language:void 0};const ew=()=>{const{currentChat:e,messages:t,isMessagesLoading:n,userId:r,sendTextMessage:o,isChatBoxOpen:i,setIsChatBoxOpen:a}=(0,Z.useContext)(nw),{recipientUser:s}=Ky(e,r),[c,l]=(0,Z.useState)(""),u=(0,Z.useRef)(null);if((0,Z.useEffect)((()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[t]),n)return(0,fn.jsx)("p",{style:{textAlign:"center",width:"100%"},children:"Loading Chat..."});return i?(0,fn.jsxs)(Jy,{gap:4,className:"chat-box",children:[(0,fn.jsxs)("div",{className:"chat-header",children:[(0,fn.jsx)("strong",{children:null===s||void 0===s?void 0:s.username}),(0,fn.jsx)("span",{onClick:()=>{a(!1)},children:(0,fn.jsx)(Ut,{})})]}),(0,fn.jsx)(Jy,{gap:3,className:"messages",children:t&&t.map(((e,t)=>(0,fn.jsxs)(Jy,{className:"".concat((null===e||void 0===e?void 0:e.senderId)===r?"message self align-self-end flex-grow-0":"message1 align-self-start flex-grow-0"),ref:u,children:[(0,fn.jsx)("span",{className:"text",children:e.text}),(0,fn.jsx)("span",{className:"message-footer",children:Zy()(e.createdAt).calendar()})]},t)))}),(0,fn.jsxs)(Jy,{direction:"horizontal",gap:3,className:"chat-input flex-grow-0",children:[(0,fn.jsx)(Qx,{value:c,onChange:l,fontFamily:"Poppins",borderColor:"rgba(72, 112, 223, 0.2)",shouldReturn:!0,shouldConvertEmojiToImage:!1}),(0,fn.jsx)("button",{className:"send-btn",onClick:()=>{var t;r&&o(c,{_id:r,firstname:""},null!==(t=null===e||void 0===e?void 0:e._id)&&void 0!==t?t:"",l)},children:(0,fn.jsx)(Dp,{})})]})]}):null},tw={userChats:[],isUserChatsLoading:!1,UserChatsError:null,userId:null,potentialChats:[],createChat:async(e,t)=>{},updateCurrentChat:()=>{},currentChat:null,messages:[],isMessagesLoading:!1,messagesError:null,sendTextMessage:async()=>{},onlineUsers:[],notifications:[],allUsers:[],markAllNotificationsAsRead:()=>{},markNotificationAsRead:()=>{},toggleChatBox:()=>{},markThisUserNotificationsAsRead:()=>{},newMessage:null,isChatBoxOpen:!1,setIsChatBoxOpen:()=>{},deleteChat:async(e,t)=>{},getUserChats:()=>{}},nw=(0,Z.createContext)(tw),rw=e=>{let{children:t}=e;const[n,r]=(0,Z.useState)([]),[o,i]=(0,Z.useState)(!1),[a,s]=(0,Z.useState)(null),[c,l]=(0,Z.useState)(null),[u,d]=(0,Z.useState)([]),[h,p]=(0,Z.useState)(null),[f,m]=(0,Z.useState)([]),[g,y]=(0,Z.useState)(!1),[v,b]=(0,Z.useState)(null),[x,w]=(0,Z.useState)(null),[k,S]=(0,Z.useState)(null),[C,E]=(0,Z.useState)(null),[_,T]=(0,Z.useState)([]),[N,I]=(0,Z.useState)([]),[A,O]=(0,Z.useState)([]),[R,M]=(0,Z.useState)(tw.isChatBoxOpen);(0,Z.useEffect)((()=>{const e=sessionStorage.getItem("userId");e&&l(e)}),[]);(0,Z.useEffect)((()=>{const e=Gy({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.SOCKET_ENDPOINT||"https://kku-socket.onrender.com");return E(e),()=>{e.disconnect()}}),[c]),(0,Z.useEffect)((()=>{if(null!==C)return null===C||void 0===C||C.emit("addNewUser",c),C.on("getOnlineUsers",(e=>{T(e)})),()=>{C.off("getOnlineUsers")}}),[C,c]),(0,Z.useEffect)((()=>{if(null===C)return;const e=null===h||void 0===h?void 0:h.members.find((e=>e!==c));C.emit("sendMessage",Ln(Ln({},k),{},{recipientId:e}))}),[k]),(0,Z.useEffect)((()=>{if(null!==C)return C.on("getMessage",(e=>{(null===h||void 0===h?void 0:h._id)===e.chatId&&m((t=>[...t,e]))})),C.on("getNotification",(e=>{console.log("Received notification:",e);const t=null===h||void 0===h?void 0:h.members.some((t=>t===e.senderId));I(t?t=>[Ln(Ln({},e),{},{isRead:!0}),...t]:t=>[e,...t])})),()=>{C.off("getMessage"),C.off("getNotification")}}),[C,h]),(0,Z.useEffect)((()=>{console.log("Notifications in ChatContext:",N)}),[N]),(0,Z.useEffect)((()=>{(async()=>{const e=await kg("".concat(xg,"/users"));if(e.error)return console.log("Error fetching users",e);const t=e.filter((e=>{let t=!1;return c!==e._id&&(n&&(t=n.some((t=>t.members.includes(e._id)))),!t)}));d(t),O(e)})()}),[n,c]);const j=async()=>{if(c){i(!0),s(null);try{const e=await kg("".concat(xg,"/chats/").concat(c));if(i(!1),e.error)return void s(e.error);if(Array.isArray(e)){const t=e.filter((e=>!(e.deletedBy instanceof Map&&!0===e.deletedBy.get(c))));r(t)}else console.error("Unexpected response format:",e)}catch(e){i(!1),s({message:e}),console.error("Error fetching user chats:",e)}}};(0,Z.useEffect)((()=>{j()}),[c,N]),(0,Z.useEffect)((()=>{(async()=>{if(null!==h&&void 0!==h&&h._id&&c){y(!0),b(null);try{const e=await kg("".concat(xg,"/messages/").concat(h._id));if(y(!1),e.error)return void b(e);const t=e.filter((e=>!(e.deletedBy&&c&&e.deletedBy[c])));m(t)}catch(e){y(!1),b(e)}}})()}),[h,c]);const P=(0,Z.useCallback)((async(e,t,n,r)=>{if(!e)return console.log("\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e2d\u0e30\u0e44\u0e23\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07...");const o=await wg("".concat(xg,"/messages"),JSON.stringify({chatId:n,senderId:t._id,text:e}));if(o.error)return w(o);S(o),m((e=>[...e,o])),r("")}),[]),D=(0,Z.useCallback)((e=>{p(e)}),[]),L=(0,Z.useCallback)((e=>{const t=e.map((e=>Ln(Ln({},e),{},{isRead:!0})));I(t)}),[]),F=(0,Z.useCallback)(((e,t,n,r)=>{const o=t.find((t=>{const r=[n._id,e.senderId];return null===t||void 0===t?void 0:t.members.every((e=>r.includes(e)))})),i=r.map((t=>e.senderId===t.senderId?Ln(Ln({},e),{},{isRead:!0}):t));o&&D(o),I(i)}),[D,I]),B=(0,Z.useCallback)(((e,t)=>{const n=t.map((t=>{const n=e.some((e=>e.senderId===t.senderId));return n?Ln(Ln({},t),{},{isRead:!0}):t}));I(n)}),[I]),z=(0,Z.useCallback)((async(e,t)=>{try{if(!(await fetch("".concat(xg,"/chats/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})})).ok)throw new Error("Failed to delete chat");r((n=>{console.log("Before update:",n);const r=n.map((n=>n._id===e?Ln(Ln({},n),{},{deletedBy:new Map([...n.deletedBy?Array.from(n.deletedBy):[],[t,!0]])}):n)).filter((e=>!(e.deletedBy instanceof Map&&!0===e.deletedBy.get(t))));return console.log("After update:",r),r})),await fetch("".concat(xg,"/messages/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})}),m((n=>{console.log("Before message filter:",n);const r=n.filter((n=>!(n.chatId===e&&n.deletedBy===t)));return console.log("After message filter:",r),r}))}catch(n){console.error("Error deleting chat:",n)}}),[]);return(0,fn.jsxs)(nw.Provider,{value:{userChats:n,isUserChatsLoading:o,UserChatsError:a,userId:c,potentialChats:u,createChat:async(e,t)=>{if(!e||"string"!==typeof e||"string"!==typeof t)return void console.error("Invalid IDs provided:",e,t);console.log("Creating chat between:",e,t);const n=await wg("".concat(xg,"/chats"),JSON.stringify({firstId:e,secondId:t}));n.error?console.error("Error Creating Chat",n):(console.log("Chat created successfully:",n),r((e=>[...e,n])))},updateCurrentChat:D,currentChat:h,messages:f,isMessagesLoading:g,messagesError:v,sendTextMessage:P,onlineUsers:_,notifications:N,allUsers:A,markAllNotificationsAsRead:L,markNotificationAsRead:F,toggleChatBox:()=>{M((e=>!e))},markThisUserNotificationsAsRead:B,newMessage:k,isChatBoxOpen:R,setIsChatBoxOpen:M,deleteChat:z,getUserChats:j},children:[t,R&&(0,fn.jsx)(ew,{})]})},ow={fullname:"",username:"",profile_picture:"",bio:"",email:"",total_posts:0,total_reads:0,total_blogs:0,social_links:{},joinedAt:" "},iw=()=>{const{id:e}=Xe(),[t,n]=(0,Z.useState)(ow),[r,o]=(0,Z.useState)(!0),[i,a]=(0,Z.useState)(null),[s,c]=(0,Z.useState)(""),{id:l}=Xe(),[u,d]=(qe(),(0,Z.useState)(null)),[h,p]=(0,Z.useState)(!1),[f,m]=(0,Z.useState)(!1),[g,y]=(0,Z.useState)([]),[v,b]=(0,Z.useState)([]),[x,w]=(0,Z.useState)([]),[k,S]=(0,Z.useState)(!1),C=sessionStorage.getItem("userId");let{fullname:E,username:_,profile_picture:T,bio:N,total_posts:I,total_reads:A,social_links:O,joinedAt:R}=t,{userAuth:{username:M}}=(0,Z.useContext)(g2e);(0,Z.useEffect)((()=>{(async()=>{try{if(l){const e=await(async e=>{if(!e)throw new Error("Invalid user ID");const t="".concat($p,"/profile/").concat(e);console.log("Request URL:",t);try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const n=e.statusText||"Unknown Error";throw new Error("Server returned ".concat(e.status," ").concat(n," for ").concat(t))}const n=e.headers.get("content-type");if(!n||!n.includes("application/json"))return await e.text();const r=await e.json();return r.id||console.error("Response does not contain ID:",r),r}catch(n){return console.error("Error:",n.message),n instanceof TypeError?console.error("Network error or CORS issue"):n instanceof SyntaxError&&console.error("Error parsing JSON response"),null}})(l);d(e),m(sessionStorage.getItem("userId")===l),p(e.followers.includes(sessionStorage.getItem("userId")));const t=await(async e=>{try{const t=await fetch("".concat($p,"/posts?user=").concat(e));if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(t){throw console.error("Error fetching posts by user:",t),t}})(l),n=t.filter((e=>e.user._id===sessionStorage.getItem("userId")));y(n);const r=await(async e=>{try{const t=await fetch("".concat("http://localhost:3001","/posts/likedPosts/").concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));const n=await t.json();return console.log("Fetched liked posts:",n),n}catch(t){return console.error("Error fetching liked posts:",t),[]}})(l),o=r.filter((e=>null!==e));console.log("Fetched liked posts in Profile:",o),b(o);const i=await(async e=>{const t="".concat($p,"/posts/saved/").concat(e);console.log("Request URL:",t);try{const e=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const n=e.statusText||"Unknown Error";throw new Error("Server returned ".concat(e.status," ").concat(n," for ").concat(t))}return await e.json()}catch(n){return console.error("Error fetching saved posts:",n.message),n instanceof TypeError?console.error("Network error or CORS issue"):n instanceof SyntaxError&&console.error("Error parsing JSON response"),[]}})(l),a=i.filter((e=>null!==e));console.log("Fetched save posts in Profile:",a),w(a)}}catch(e){console.error("Error fetching profile data:",e)}})()}),[l]);const j=e=>{let{page:t=1,user_id:n}=e;n=void 0===n?null===i||void 0===i?void 0:i.user_id:n,ap.post(qp+"/search-blogs",{author:n,page:t}).then((async e=>{let{data:r}=e,o=await Np({state:i,data:r.blogs,page:t,countRoute:"/search-blogs-count",data_to_send:{author:n}});o.user_id=n,a(o)}))};(0,Z.useEffect)((()=>{e!==s&&a(null),null===i&&(P(),ap.post(qp+"/users/get-profile",{id:e}).then((t=>{let{data:r}=t;null!==r&&n(r),e&&c(e),j({user_id:r._id}),o(!1)})).catch((e=>{console.log(e),o(!1)})))}),[e,i]);const P=()=>{n(ow),o(!0),c("")},D=(0,Z.useCallback)((async()=>{const e="".concat("http://localhost:3001","/follow");try{const t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:l})});if(!t.ok)throw new Error("Server returned ".concat(t.status," ").concat(t.statusText," for ").concat(e));const n=await t.json();d(n.newFollow),p(n.newFollow.if_followed)}catch(t){console.error("Error:",t.message)}}),[l,h]),L=(0,Z.useCallback)((async()=>{try{const e=await fetch("".concat(qp,"/follow/delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:l})});if(!e.ok){const t=e.statusText||"Unknown Error";throw new Error("Server returned ".concat(e.status," ").concat(t," for ").concat(qp,"/follow/delete"))}const t=await e.json();d(t.unFollow),p(!1)}catch(e){console.error("Error:",e.message)}}),[l,h]),{setIsChatBoxOpen:F,userChats:B,updateCurrentChat:z,createChat:U}=(0,Z.useContext)(nw),[V,W]=(0,Z.useState)(!1);async function H(e,t){const n=function(e,t){const n=t.sort();return e.filter((e=>{const t=e.members.sort();return t.length===n.length&&t.every(((e,t)=>e===n[t]))}))}(B,[e,t]);if(!n[0])return!1;const r=B.find((e=>e._id===n[0]._id));return r&&(z(r),F(!0)),!0}return(0,Z.useEffect)((()=>{V&&H(C,l),W(!1)}),[B]),(0,fn.jsx)(Bu,{children:r?(0,fn.jsx)(sp,{}):_.length?(0,fn.jsxs)("section",{className:"h-cover d-md-flex flex-row-reverse align-items-start profilepage ",children:[(0,fn.jsxs)("div",{className:"d-flex flex-column profile_img gap-1 text-center",children:[(0,fn.jsx)("img",{src:T,alt:"",className:"rounded-circle "}),(0,fn.jsxs)("h1",{className:"fw-medium fs-6 mt-2",children:["@",_]}),(0,fn.jsx)("p",{className:"m-0",style:{textTransform:"capitalize",height:"1.5rem"},children:E}),(0,fn.jsxs)("p",{className:"m-0 mt-2",children:[I.toLocaleString()," \u0e1a\u0e25\u0e47\u0e2d\u0e01 -",A.toLocaleString()," \u0e2d\u0e48\u0e32\u0e19"]}),(0,fn.jsxs)("div",{className:"follow",children:[u&&(0,fn.jsxs)("div",{className:"follow-item",children:[(0,fn.jsx)(vg,{userProfile:u})," ",(0,fn.jsx)("span",{children:u.followersCount})]}),(0,fn.jsx)("div",{className:"bar-icon"}),u&&(0,fn.jsxs)("div",{className:"follow-item",children:[(0,fn.jsx)(bg,{userProfile:u})," ",(0,fn.jsxs)("span",{children:[u.followingCount," "]})]})]}),f?(0,fn.jsx)("div",{className:"edit d-flex justify-content-center my-4",children:(0,fn.jsx)(cn,{to:"/settings/edit-profile",className:"btn-light rounded-3",children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"})}):(0,fn.jsxs)("div",{className:"edit d-flex justify-content-center my-4",children:[(0,fn.jsx)("p",{className:"btn-light rounded-3",onClick:h?L:D,children:h?"Unfollow":"Follow"}),(0,fn.jsx)(cn,{to:"",className:"chat btn-light rounded-3",onClick:async()=>{await H(C,l)||C&&l&&(await U(C,l),W(!0))},children:"\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21"})]}),(0,fn.jsx)(Yp,{className:"max-md",bio:N,social_links:O,joinedAt:R})]}),(0,fn.jsx)("div",{className:"blogOfuser w-100",children:(0,fn.jsxs)(Uu,{routes:["\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48","\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a"],defaultHidden:["\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a"],children:[(0,fn.jsxs)(fn.Fragment,{children:[null===i?(0,fn.jsx)(sp,{}):i.result.length?i.result.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.1*t},children:(0,fn.jsx)(mp,{content:e,author:e.author})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"}),(0,fn.jsx)(Ip,{state:i,fetchDataFun:j})]}),(0,fn.jsx)(Yp,{bio:N,social_links:O,joinedAt:R})]})})]}):(0,fn.jsx)(Jp,{})})};function aw(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let sw={data:""},cw=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||sw,lw=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,uw=/\/\*[^]*?\*\/|  +/g,dw=/\n+/g,hw=(e,t)=>{let n="",r="",o="";for(let i in e){let a=e[i];"@"==i[0]?"i"==i[1]?n=i+" "+a+";":r+="f"==i[1]?hw(a,i):i+"{"+hw(a,"k"==i[1]?"":t)+"}":"object"==typeof a?r+=hw(a,t?t.replace(/([^,])+/g,(e=>i.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):i):null!=a&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hw.p?hw.p(i,a):i+":"+a+";")}return n+(t&&o?t+"{"+o+"}":o)+r},pw={},fw=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+fw(e[n]);return t}return e},mw=(e,t,n,r,o)=>{let i=fw(e),a=pw[i]||(pw[i]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(i));if(!pw[a]){let t=i!==e?e:(e=>{let t,n,r=[{}];for(;t=lw.exec(e.replace(uw,""));)t[4]?r.shift():t[3]?(n=t[3].replace(dw," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(dw," ").trim();return r[0]})(e);pw[a]=hw(o?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&pw.g?pw.g:null;return n&&(pw.g=pw[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(pw[a],t,r,s),a},gw=(e,t,n)=>e.reduce(((e,r,o)=>{let i=t[o];if(i&&i.call){let e=i(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;i=t?"."+t:e&&"object"==typeof e?e.props?"":hw(e,""):!1===e?"":e}return e+r+(null==i?"":i)}),"");function yw(e){let t=this||{},n=e.call?e(t.p):e;return mw(n.unshift?n.raw?gw(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,cw(t.target),t.g,t.o,t.k)}yw.bind({g:1});let vw,bw,xw,ww=yw.bind({k:1});function kw(e,t){let n=this||{};return function(){let r=arguments;function o(i,a){let s=Object.assign({},i),c=s.className||o.className;n.p=Object.assign({theme:bw&&bw()},s),n.o=/ *go\d+/.test(c),s.className=yw.apply(n,r)+(c?" "+c:""),t&&(s.ref=a);let l=e;return e[0]&&(l=s.as||e,delete s.as),xw&&l[0]&&xw(s),vw(l,s)}return t?t(o):o}}var Sw,Cw,Ew,_w,Tw,Nw,Iw,Aw,Ow,Rw,Mw,jw,Pw,Dw,Lw,Fw,Bw=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,zw=(()=>{let e=0;return()=>(++e).toString()})(),Uw=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Vw=new Map,Ww=e=>{if(Vw.has(e))return;let t=setTimeout((()=>{Vw.delete(e),qw({type:4,toastId:e})}),1e3);Vw.set(e,t)},Hw=(e,t)=>{switch(t.type){case 0:return Ln(Ln({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return t.toast.id&&(e=>{let t=Vw.get(e);t&&clearTimeout(t)})(t.toast.id),Ln(Ln({},e),{},{toasts:e.toasts.map((e=>e.id===t.toast.id?Ln(Ln({},e),t.toast):e))});case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?Hw(e,{type:1,toast:n}):Hw(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Ww(r):e.toasts.forEach((e=>{Ww(e.id)})),Ln(Ln({},e),{},{toasts:e.toasts.map((e=>e.id===r||void 0===r?Ln(Ln({},e),{},{visible:!1}):e))});case 4:return void 0===t.toastId?Ln(Ln({},e),{},{toasts:[]}):Ln(Ln({},e),{},{toasts:e.toasts.filter((e=>e.id!==t.toastId))});case 5:return Ln(Ln({},e),{},{pausedAt:t.time});case 6:let o=t.time-(e.pausedAt||0);return Ln(Ln({},e),{},{pausedAt:void 0,toasts:e.toasts.map((e=>Ln(Ln({},e),{},{pauseDuration:e.pauseDuration+o})))})}},Gw=[],Kw={toasts:[],pausedAt:void 0},qw=e=>{Kw=Hw(Kw,e),Gw.forEach((e=>{e(Kw)}))},Yw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xw=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Ln(Ln({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||zw()})}(t,e,n);return qw({type:2,toast:r}),r.id},Jw=(e,t)=>Xw("blank")(e,t);Jw.error=Xw("error"),Jw.success=Xw("success"),Jw.loading=Xw("loading"),Jw.custom=Xw("custom"),Jw.dismiss=e=>{qw({type:3,toastId:e})},Jw.remove=e=>qw({type:4,toastId:e}),Jw.promise=(e,t,n)=>{let r=Jw.loading(t.loading,Ln(Ln({},n),null==n?void 0:n.loading));return e.then((e=>(Jw.success(Bw(t.success,e),Ln(Ln({id:r},n),null==n?void 0:n.success)),e))).catch((e=>{Jw.error(Bw(t.error,e),Ln(Ln({id:r},n),null==n?void 0:n.error))})),e};var $w=(e,t)=>{qw({type:1,toast:{id:e,height:t}})},Zw=()=>{qw({type:5,time:Date.now()})},Qw=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,Z.useState)(Kw);(0,Z.useEffect)((()=>(Gw.push(n),()=>{let e=Gw.indexOf(n);e>-1&&Gw.splice(e,1)})),[t]);let r=t.toasts.map((t=>{var n,r;return Ln(Ln(Ln(Ln({},e),e[t.type]),t),{},{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||Yw[t.type],style:Ln(Ln(Ln({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Ln(Ln({},t),{},{toasts:r})}(e);(0,Z.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>Jw.dismiss(t.id)),n);t.visible&&Jw.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let r=(0,Z.useCallback)((()=>{n&&qw({type:6,time:Date.now()})}),[n]),o=(0,Z.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:o=8,defaultPosition:i}=n||{},a=t.filter((t=>(t.position||i)===(e.position||i)&&t.height)),s=a.findIndex((t=>t.id===e.id)),c=a.filter(((e,t)=>t<s&&e.visible)).length;return a.filter((e=>e.visible)).slice(...r?[c+1]:[0,c]).reduce(((e,t)=>e+(t.height||0)+o),0)}),[t]);return{toasts:t,handlers:{updateHeight:$w,startPause:Zw,endPause:r,calculateOffset:o}}},ek=ww(Sw||(Sw=aw(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),tk=ww(Cw||(Cw=aw(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),nk=ww(Ew||(Ew=aw(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),rk=kw("div")(_w||(_w=aw(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),ek,tk,(e=>e.secondary||"#fff"),nk),ok=ww(Tw||(Tw=aw(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ik=kw("div")(Nw||(Nw=aw(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),ok),ak=ww(Iw||(Iw=aw(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),sk=ww(Aw||(Aw=aw(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),ck=kw("div")(Ow||(Ow=aw(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),ak,sk,(e=>e.secondary||"#fff")),lk=kw("div")(Rw||(Rw=aw(["\n  position: absolute;\n"]))),uk=kw("div")(Mw||(Mw=aw(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),dk=ww(jw||(jw=aw(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),hk=kw("div")(Pw||(Pw=aw(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),dk),pk=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:o}=t;return void 0!==n?"string"==typeof n?Z.createElement(hk,null,n):n:"blank"===r?null:Z.createElement(uk,null,Z.createElement(ik,Ln({},o)),"loading"!==r&&Z.createElement(lk,null,"error"===r?Z.createElement(rk,Ln({},o)):Z.createElement(ck,Ln({},o))))},fk=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),mk=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),gk=kw("div")(Dw||(Dw=aw(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),yk=kw("div")(Lw||(Lw=aw(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),vk=Z.memo((e=>{let{toast:t,position:n,style:r,children:o}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,o]=Uw()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[fk(n),mk(n)];return{animation:t?"".concat(ww(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(ww(o)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},a=Z.createElement(pk,{toast:t}),s=Z.createElement(yk,Ln({},t.ariaProps),Bw(t.message,t));return Z.createElement(gk,{className:t.className,style:Ln(Ln(Ln({},i),r),t.style)},"function"==typeof o?o({icon:a,message:s}):Z.createElement(Z.Fragment,null,a,s))}));!function(e,t,n,r){hw.p=t,vw=e,bw=n,xw=r}(Z.createElement);var bk=e=>{let{id:t,className:n,style:r,onHeightUpdate:o,children:i}=e,a=Z.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,o]);return Z.createElement("div",{ref:a,className:n,style:r},i)},xk=yw(Fw||(Fw=aw(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),wk=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:o,children:i,containerStyle:a,containerClassName:s}=e,{toasts:c,handlers:l}=Qw(r);return Z.createElement("div",{style:Ln({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},a),className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map((e=>{let r=e.position||n,a=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ln(Ln({left:0,right:0,display:"flex",position:"absolute",transition:Uw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),o)})(r,l.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return Z.createElement(bk,{id:e.id,key:e.id,onHeightUpdate:l.updateHeight,className:e.visible?xk:"",style:a},"custom"===e.type?Bw(e.message,e):i?i(e):Z.createElement(vk,{toast:e,position:r}))})))},kk=Jw;const Sk={FaUser:Pt,MdOutlineMail:function(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 4.99L4 6h16zm0 12H4V8l8 5 8-5v10z"},child:[]}]})(e)},VscKey:function(e){return Ct({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.351 1.091a4.528 4.528 0 0 1 3.44 3.16c.215.724.247 1.49.093 2.23a4.583 4.583 0 0 1-4.437 3.6c-.438 0-.874-.063-1.293-.19l-.8.938-.379.175H7v1.5l-.5.5H5v1.5l-.5.5h-3l-.5-.5v-2.307l.146-.353L6.12 6.87a4.464 4.464 0 0 1-.2-1.405 4.528 4.528 0 0 1 5.431-4.375zm1.318 7.2a3.568 3.568 0 0 0 1.239-2.005l.004.005A3.543 3.543 0 0 0 9.72 2.08a3.576 3.576 0 0 0-2.8 3.4c-.01.456.07.908.239 1.33l-.11.543L2 12.404v1.6h2v-1.5l.5-.5H6v-1.5l.5-.5h1.245l.876-1.016.561-.14a3.47 3.47 0 0 0 1.269.238 3.568 3.568 0 0 0 2.218-.795zm-.838-2.732a1 1 0 1 0-1.662-1.11 1 1 0 0 0 1.662 1.11z"},child:[]}]})(e)}},Ck=e=>{let{name:t,type:n,id:r,value:o,onChange:i,placeholder:a,icon:s,disabled:c=!1}=e;const l=s?Sk[s]:null,[u,d]=(0,Z.useState)(!1);return(0,fn.jsxs)("div",{className:"Box",style:{position:"relative",width:"100%",marginBottom:"1rem"},children:[s&&(0,fn.jsx)("i",{className:s,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),l&&(0,fn.jsx)(l,{className:"input-icon",style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)"}}),(0,fn.jsx)("input",{name:t,type:"password"===n?u?"text":"password":n,placeholder:a,defaultValue:o,onChange:i,id:r,className:"input-box",disabled:c,style:{paddingLeft:"48px"}}),"password"===n&&(u?(0,fn.jsx)(Ht,{className:"input-icon",style:{left:"auto",right:"1rem",cursor:"pointer"},onClick:()=>d((e=>!e))}):(0,fn.jsx)(Wt,{className:"input-icon",style:{left:"auto",right:"1rem",cursor:"pointer"},onClick:()=>d((e=>!e))}))]})},Ek=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},_k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,a=i?e[o+1]:0,s=o+2<e.length,c=s?e[o+2]:0,l=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|c>>6,h=63&c;s||(h=64,i||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ek(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const a=o<e.length?n[e.charAt(o)]:64;++o;const s=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==a||null==s)throw new Tk;const c=t<<2|i>>4;if(r.push(c),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Tk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nk=function(e){return function(e){const t=Ek(e);return _k.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ik=function(e){try{return _k.decodeString(e,!0)}catch(x2e){console.error("base64Decode failed: ",x2e)}return null};const Ak=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ok=()=>{try{return Ak()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(x2e){return}const t=e&&Ik(e[1]);return t&&JSON.parse(t)})()}catch(x2e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(x2e))}},Rk=e=>{var t,n;return null===(n=null===(t=Ok())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Mk=()=>{var e;return null===(e=Ok())||void 0===e?void 0:e.config},jk=e=>{var t;return null===(t=Ok())||void 0===t?void 0:t["_".concat(e)]};class Pk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Dk(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class Lk extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Lk.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fk.prototype.create)}}class Fk{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(Bk,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new Lk(n,i,t)}}const Bk=/\{\$([^}]+)}/g;function zk(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(Uk(n)&&Uk(i)){if(!zk(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Uk(e){return null!==e&&"object"===typeof e}function Vk(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wk(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Hk(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Gk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Kk),void 0===r.error&&(r.error=Kk),void 0===r.complete&&(r.complete=Kk);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(x2e){}})),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(x2e){"undefined"!==typeof console&&console.error&&console.error(x2e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Kk(){}function qk(e){return e&&e._delegate?e._delegate:e}class Yk{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xk="[DEFAULT]";class Jk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pk;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(x2e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(x2e){if(r)return null;throw x2e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xk})}catch(x2e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(x2e){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xk;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xk;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xk;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(b2e){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$k(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(b2e){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xk;return this.component?this.component.multipleInstances?e:Xk:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function $k(e){return e===Xk?void 0:e}class Zk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Qk=[];var eS;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(eS||(eS={}));const tS={debug:eS.DEBUG,verbose:eS.VERBOSE,info:eS.INFO,warn:eS.WARN,error:eS.ERROR,silent:eS.SILENT},nS=eS.INFO,rS={[eS.DEBUG]:"log",[eS.VERBOSE]:"log",[eS.INFO]:"info",[eS.WARN]:"warn",[eS.ERROR]:"error"},oS=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=rS[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class iS{constructor(e){this.name=e,this._logLevel=nS,this._logHandler=oS,this._userLogHandler=null,Qk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in eS))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?tS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eS.DEBUG,...t),this._logHandler(this,eS.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eS.VERBOSE,...t),this._logHandler(this,eS.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eS.INFO,...t),this._logHandler(this,eS.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eS.WARN,...t),this._logHandler(this,eS.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,eS.ERROR,...t),this._logHandler(this,eS.ERROR,...t)}}const aS=(e,t)=>t.some((t=>e instanceof t));let sS,cS;const lS=new WeakMap,uS=new WeakMap,dS=new WeakMap,hS=new WeakMap,pS=new WeakMap;let fS={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return uS.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dS.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yS(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function mS(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(cS||(cS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vS(this),n),yS(lS.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yS(e.apply(vS(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(vS(this),t,...r);return dS.set(i,t.sort?t.sort():[t]),yS(i)}}function gS(e){return"function"===typeof e?mS(e):(e instanceof IDBTransaction&&function(e){if(uS.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));uS.set(e,t)}(e),aS(e,sS||(sS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,fS):e)}function yS(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(yS(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&lS.set(t,e)})).catch((()=>{})),pS.set(t,e),t}(e);if(hS.has(e))return hS.get(e);const t=gS(e);return t!==e&&(hS.set(e,t),pS.set(t,e)),t}const vS=e=>pS.get(e);const bS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],wS=new Map;function kS(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wS.get(t))return wS.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=xS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!bS.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),o&&t.done]))[0]};return wS.set(t,i),i}!function(e){fS=e(fS)}((e=>Ln(Ln({},e),{},{get:(t,n,r)=>kS(t,n)||e.get(t,n,r),has:(t,n)=>!!kS(t,n)||e.has(t,n)})));class SS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const CS="@firebase/app",ES="0.10.12",_S=new iS("@firebase/app"),TS="@firebase/app-compat",NS="@firebase/analytics-compat",IS="@firebase/analytics",AS="@firebase/app-check-compat",OS="@firebase/app-check",RS="@firebase/auth",MS="@firebase/auth-compat",jS="@firebase/database",PS="@firebase/data-connect",DS="@firebase/database-compat",LS="@firebase/functions",FS="@firebase/functions-compat",BS="@firebase/installations",zS="@firebase/installations-compat",US="@firebase/messaging",VS="@firebase/messaging-compat",WS="@firebase/performance",HS="@firebase/performance-compat",GS="@firebase/remote-config",KS="@firebase/remote-config-compat",qS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",JS="@firebase/vertexai-preview",$S="@firebase/firestore-compat",ZS="firebase",QS="[DEFAULT]",eC={[CS]:"fire-core",[TS]:"fire-core-compat",[IS]:"fire-analytics",[NS]:"fire-analytics-compat",[OS]:"fire-app-check",[AS]:"fire-app-check-compat",[RS]:"fire-auth",[MS]:"fire-auth-compat",[jS]:"fire-rtdb",[PS]:"fire-data-connect",[DS]:"fire-rtdb-compat",[LS]:"fire-fn",[FS]:"fire-fn-compat",[BS]:"fire-iid",[zS]:"fire-iid-compat",[US]:"fire-fcm",[VS]:"fire-fcm-compat",[WS]:"fire-perf",[HS]:"fire-perf-compat",[GS]:"fire-rc",[KS]:"fire-rc-compat",[qS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[$S]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"},tC=new Map,nC=new Map,rC=new Map;function oC(e,t){try{e.container.addComponent(t)}catch(x2e){_S.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),x2e)}}function iC(e){const t=e.name;if(rC.has(t))return _S.debug("There were multiple attempts to register component ".concat(t,".")),!1;rC.set(t,e);for(const n of tC.values())oC(n,e);for(const n of nC.values())oC(n,e);return!0}function aC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sC(e){return void 0!==e.settings}const cC=new Fk("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lC{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yk("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cC.create("app-deleted",{appName:this._name})}}const uC="10.14.0";function dC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:QS,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!==typeof o||!o)throw cC.create("bad-app-name",{appName:String(o)});if(n||(n=Mk()),!n)throw cC.create("no-options");const i=tC.get(o);if(i){if(zk(n,i.options)&&zk(r,i.config))return i;throw cC.create("duplicate-app",{appName:o})}const a=new Zk(o);for(const c of rC.values())a.addComponent(c);const s=new lC(n,r,a);return tC.set(o,s),s}function hC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QS;const t=tC.get(e);if(!t&&e===QS&&Mk())return dC();if(!t)throw cC.create("no-app",{appName:e});return t}function pC(e,t,n){var r;let o=null!==(r=eC[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _S.warn(e.join(" "))}iC(new Yk("".concat(o,"-version"),(()=>({library:o,version:t})),"VERSION"))}const fC="firebase-heartbeat-database",mC=1,gC="firebase-heartbeat-store";let yC=null;function vC(){return yC||(yC=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=yS(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(yS(a.result),e.oldVersion,e.newVersion,yS(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(e=>o(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(fC,mC,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(gC)}catch(x2e){console.warn(x2e)}}}).catch((e=>{throw cC.create("idb-open",{originalErrorMessage:e.message})}))),yC}async function bC(e,t){try{const n=(await vC()).transaction(gC,"readwrite"),r=n.objectStore(gC);await r.put(t,xC(e)),await n.done}catch(x2e){if(x2e instanceof Lk)_S.warn(x2e.message);else{const t=cC.create("idb-set",{originalErrorMessage:null===x2e||void 0===x2e?void 0:x2e.message});_S.warn(t.message)}}}function xC(e){return"".concat(e.name,"!").concat(e.options.appId)}class wC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SC(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kC();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(x2e){_S.warn(x2e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=kC(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),CC(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),CC(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Nk(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(x2e){return _S.warn(x2e),""}}}function kC(){return(new Date).toISOString().substring(0,10)}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(x2e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await vC()).transaction(gC),n=await t.objectStore(gC).get(xC(e));return await t.done,n}catch(x2e){if(x2e instanceof Lk)_S.warn(x2e.message);else{const t=cC.create("idb-get",{originalErrorMessage:null===x2e||void 0===x2e?void 0:x2e.message});_S.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return bC(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return bC(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function CC(e){return Nk(JSON.stringify({version:2,heartbeats:e})).length}var EC;EC="",iC(new Yk("platform-logger",(e=>new SS(e)),"PRIVATE")),iC(new Yk("heartbeat",(e=>new wC(e)),"PRIVATE")),pC(CS,ES,EC),pC(CS,ES,"esm2017"),pC("fire-js","");const _C="firebasestorage.googleapis.com",TC="storageBucket";class NC extends Lk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(OC(e),"Firebase Storage: ".concat(t," (").concat(OC(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,NC.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return OC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var IC,AC;function OC(e){return"storage/"+e}function RC(){return new NC(IC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function MC(){return new NC(IC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jC(){return new NC(IC.CANCELED,"User canceled the upload/download.")}function PC(){return new NC(IC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DC(e){return new NC(IC.INVALID_ARGUMENT,e)}function LC(){return new NC(IC.APP_DELETED,"The Firebase app was deleted.")}function FC(e,t){return new NC(IC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function BC(e){throw new NC(IC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(IC||(IC={}));class zC{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=zC.makeFromUrl(e,t)}catch(x2e){return new zC(e,"")}if(""===n.path)return n;throw r=e,new NC(IC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const o=new RegExp("^gs://"+r+"(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://".concat(t===_C?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:i}];for(let c=0;c<s.length;c++){const t=s[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let o=r[t.indices.path];o||(o=""),n=new zC(e,o),t.postModify(n);break}}if(null==n)throw function(e){return new NC(IC.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class UC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function VC(e){return"string"===typeof e||e instanceof String}function WC(e){return HC()&&e instanceof Blob}function HC(){return"undefined"!==typeof Blob}function GC(e,t,n,r){if(r<t)throw DC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw DC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function KC(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function qC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function YC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),o=-1!==t.indexOf(e);return n||r||o}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(AC||(AC={}));class XC{constructor(e,t,n,r,o,i,a,s,c,l,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new JC(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===AC.NO_ERROR,o=n.getStatus();if(!t||YC(o,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===AC.ABORT;return void e(!1,new JC(!1,null,t))}const i=-1!==this.successCodes_.indexOf(o);e(!0,new JC(i,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,o=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(o,o.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(x2e){r(x2e)}else if(null!==o){const e=RC();e.serverResponse=o.getErrorText(),this.errorCallback_?r(this.errorCallback_(o,e)):r(e)}else if(t.canceled){r(this.appDelete_?LC():jC())}else{r(MC())}};this.canceled_?t(0,new JC(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,o=null,i=null,a=!1,s=0;function c(){return 2===s}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){o=setTimeout((()=>{o=null,e(p,c())}),t)}function h(){i&&clearTimeout(i)}function p(e){if(l)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(e)return h(),void u.call(null,e,...n);if(c()||a)return h(),void u.call(null,e,...n);let i;r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),d(i)}let f=!1;function m(e){f||(f=!0,h(),l||(null!==o?(e||(s=2),clearTimeout(o),d(0)):e||(s=1)))}return d(0),i=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class JC{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function $C(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ZC(){const e=$C();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(HC())return new Blob(n);throw new NC(IC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function QC(e){if("undefined"===typeof atob)throw t="base-64",new NC(IC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const eE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class tE{constructor(e,t){this.data=e,this.contentType=t||null}}function nE(e,t){switch(e){case eE.RAW:return new tE(rE(t));case eE.BASE64:case eE.BASE64URL:return new tE(oE(e,t));case eE.DATA_URL:return new tE(function(e){const t=new iE(e);return t.base64?oE(eE.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(x2e){throw FC(eE.DATA_URL,"Malformed data URL.")}return rE(t)}(t.rest)}(t),function(e){const t=new iE(e);return t.contentType}(t))}throw RC()}function rE(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function oE(e,t){switch(e){case eE.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw FC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case eE.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw FC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=QC(t)}catch(x2e){if(x2e.message.includes("polyfill"))throw x2e;throw FC(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class iE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw FC(eE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){const n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class aE{constructor(e,t){let n=0,r="";WC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(WC(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new aE(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new aE(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(HC()){const e=t.map((e=>e instanceof aE?e.data_:e));return new aE(ZC.apply(null,e))}{const e=t.map((e=>VC(e)?nE(eE.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let o=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[o++]=e[t]})),new aE(r,!0)}}uploadData(){return this.data_}}function sE(e){let t;try{t=JSON.parse(e)}catch(x2e){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function cE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function lE(e,t){return t}class uE{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||lE}}let dE=null;function hE(){if(dE)return dE;const e=[];e.push(new uE("bucket")),e.push(new uE("generation")),e.push(new uE("metageneration")),e.push(new uE("name","fullPath",!0));const t=new uE("name");t.xform=function(e,t){return function(e){return!VC(e)||e.length<2?e:cE(e)}(t)},e.push(t);const n=new uE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new uE("timeCreated")),e.push(new uE("updated")),e.push(new uE("md5Hash",null,!0)),e.push(new uE("cacheControl",null,!0)),e.push(new uE("contentDisposition",null,!0)),e.push(new uE("contentEncoding",null,!0)),e.push(new uE("contentLanguage",null,!0)),e.push(new uE("contentType",null,!0)),e.push(new uE("metadata","customMetadata",!0)),dE=e,dE}function pE(e,t,n){const r={type:"file"},o=n.length;for(let i=0;i<o;i++){const e=n[i];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,o=new zC(n,r);return t._makeStorageReference(o)}})}(r,e),r}function fE(e,t,n){const r=sE(t);if(null===r)return null;return pE(e,r,n)}function mE(e,t){const n={},r=t.length;for(let o=0;o<r;o++){const r=t[o];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class gE{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function yE(e){if(!e)throw RC()}function vE(e,t){return function(n,r){const o=fE(e,r,t);return yE(null!==o),o}}function bE(e,t){return function(n,r){const o=fE(e,r,t);return yE(null!==o),function(e,t,n,r){const o=sE(t);if(null===o)return null;if(!VC(o.downloadTokens))return null;const i=o.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent,s=i.split(",").map((t=>{const o=e.bucket,i=e.fullPath;return KC("/b/"+a(o)+"/o/"+a(i),n,r)+qC({alt:"media",token:t})}));return s[0]}(o,r,e.host,e._protocol)}}function xE(e){return function(t,n){let r;var o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new NC(IC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new NC(IC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new NC(IC.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):r=403===t.getStatus()?function(e){return new NC(IC.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function wE(e){const t=xE(e);return function(n,r){let o=t(n,r);return 404===n.getStatus()&&(o=function(e){return new NC(IC.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),o.serverResponse=r.serverResponse,o}}function kE(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function SE(e,t,n,r,o){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const s=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;const c=kE(t,r,o),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+mE(c,n)+"\r\n--"+s+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+s+"--",d=aE.getBlob(l,r,u);if(null===d)throw PC();const h={name:c.fullPath},p=KC(i,e.host,e._protocol),f=e.maxUploadRetryTime,m=new gE(p,"POST",vE(e,n),f);return m.urlParams=h,m.headers=a,m.body=d.uploadData(),m.errorHandler=xE(t),m}let CE=null;class EE{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=AC.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=AC.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=AC.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw BC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw BC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw BC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(x2e){return-1}}getResponse(){if(!this.sent_)throw BC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw BC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class _E extends EE{initXhr(){this.xhr_.responseType="text"}}function TE(){return CE?CE():new _E}class NE{constructor(e,t){this._service=e,this._location=t instanceof zC?t:zC.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new NE(e,t)}get root(){const e=new zC(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new zC(this._location.bucket,e);return new NE(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new NC(IC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function IE(e,t,n){e._throwIfRoot("uploadBytes");const r=SE(e.storage,e._location,hE(),new aE(t,!0),n);return e.storage.makeRequestWithTokens(r,TE).then((t=>({metadata:t,ref:e})))}function AE(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=KC(t.fullServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,i=new gE(r,"GET",bE(e,n),o);return i.errorHandler=wE(t),i}(e.storage,e._location,hE());return e.storage.makeRequestWithTokens(t,TE).then((e=>{if(null===e)throw new NC(IC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function OE(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new zC(e._location.bucket,n);return new NE(e.storage,r)}function RE(e,t){if(e instanceof DE){const n=e;if(null==n._bucket)throw new NC(IC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TC+"' property when initializing the app?");const r=new NE(n,n._bucket);return null!=t?RE(r,t):r}return void 0!==t?OE(e,t):e}function ME(e,t){if(t&&function(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof DE)return function(e,t){return new NE(e,t)}(e,t);throw DC("To use ref(service, url), the first argument must be a Storage instance.")}return RE(e,t)}function jE(e,t){const n=null===t||void 0===t?void 0:t[TC];return null==n?null:zC.makeFromBucketSpec(n,e)}function PE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nk(JSON.stringify({alg:"none",type:"JWT"})),Nk(JSON.stringify(i)),""].join(".")}(o,e.app.options.projectId))}class DE{constructor(e,t,n,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=_C,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?zC.makeFromBucketSpec(r,this._host):jE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=zC.makeFromBucketSpec(this._url,e):this._bucket=jE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new NE(this,e)}_makeRequest(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new UC(LC());{const i=function(e,t,n,r,o,i){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=qC(e.urlParams),c=e.url+s,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,i),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new XC(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,a)}(e,this._appId,n,r,t,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const LE="@firebase/storage",FE="0.13.2",BE="storage";function zE(e,t,n){return IE(e=qk(e),t,n)}function UE(e){return AE(e=qk(e))}function VE(e,t){return ME(e=qk(e),t)}function WE(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new DE(r,o,i,n,uC)}iC(new Yk(BE,WE,"PUBLIC").setMultipleInstances(!0)),pC(LE,FE,""),pC(LE,FE,"esm2017");pC("firebase","10.14.0","app");function HE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KE=GE,qE=new Fk("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),YE=new iS("@firebase/auth");function XE(e){if(YE.logLevel<=eS.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];YE.error("Auth (".concat(uC,"): ").concat(e),...n)}}function JE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw t_(e,...n)}function $E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return t_(e,...n)}function ZE(e,t,n){const r=Object.assign(Object.assign({},KE()),{[t]:n});return new Fk("auth","Firebase",r).create(t,{appName:e.name})}function QE(e){return ZE(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&JE(e,"argument-error"),ZE(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function t_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qE.create(e,...n)}function n_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw t_(t,...r)}}function r_(e){const t="INTERNAL ASSERTION FAILED: "+e;throw XE(t),new Error(t)}function o_(e,t){e||r_(t)}function i_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function a_(){return"http:"===s_()||"https:"===s_()}function s_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function c_(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(a_()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class l_{constructor(e,t){this.shortDelay=e,this.longDelay=t,o_(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dk())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return c_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function u_(e,t){o_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class d_{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void r_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void r_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void r_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const h_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},p_=new l_(3e4,6e4);function f_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function m_(e,t,n,r){return g_(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let o={},i={};r&&("GET"===t?i=r:o={body:JSON.stringify(r)});const a=Vk(Object.assign({key:e.config.apiKey},i)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:s},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),d_.fetch()(v_(e,e.config.apiHost,n,a),c)}))}async function g_(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},h_),t);try{const t=new x_(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw w_(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw w_(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw w_(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw w_(e,"user-disabled",i);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw ZE(e,s,a);JE(e,s)}}catch(x2e){if(x2e instanceof Lk)throw x2e;JE(e,"network-request-failed",{message:String(x2e)})}}async function y_(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await m_(e,t,n,r,o);return"mfaPendingCredential"in i&&JE(e,"multi-factor-auth-required",{_serverResponse:i}),i}function v_(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r);return e.config.emulator?u_(e.config,o):"".concat(e.config.apiScheme,"://").concat(o)}function b_(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x_{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t($E(this.auth,"network-request-failed"))),p_.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function w_(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=$E(e,t,r);return o.customData._tokenResponse=n,o}function k_(e){return void 0!==e&&void 0!==e.enterprise}class S_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return b_(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function C_(e,t){return m_(e,"GET","/v2/recaptchaConfig",f_(e,t))}async function E_(e,t){return m_(e,"POST","/v1/accounts:lookup",t)}function __(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(x2e){}}function T_(e){return 1e3*Number(e)}function N_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return XE("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ik(n);return e?JSON.parse(e):(XE("Failed to decode base64 JWT payload"),null)}catch(x2e){return XE("Caught error parsing JWT payload as JSON",null===x2e||void 0===x2e?void 0:x2e.toString()),null}}function I_(e){const t=N_(e);return n_(t,"internal-error"),n_("undefined"!==typeof t.exp,"internal-error"),n_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function A_(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(x2e){throw x2e instanceof Lk&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(x2e)&&e.auth.currentUser===e&&await e.auth.signOut(),x2e}}class O_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(x2e){return void((null===x2e||void 0===x2e?void 0:x2e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class R_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=__(this.lastLoginAt),this.creationTime=__(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function M_(e){var t;const n=e.auth,r=await e.getIdToken(),o=await A_(e,E_(n,{idToken:r}));n_(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?j_(i.providerUserInfo):[],s=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),c=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!c&&l,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new R_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function j_(e){return e.map((e=>{var{providerId:t}=e,n=HE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class P_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){n_(e.idToken,"internal-error"),n_("undefined"!==typeof e.idToken,"internal-error"),n_("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):I_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){n_(0!==e.length,"internal-error");const t=I_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(n_(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await g_(e,{},(async()=>{const n=Vk({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=v_(e,r,"/v1/token","key=".concat(o)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",d_.fetch()(i,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new P_;return n&&(n_("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(n_("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(n_("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new P_,this.toJSON())}_performRefresh(){return r_("not implemented")}}function D_(e,t){n_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class L_{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,o=HE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new R_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await A_(this,this.stsTokenManager.getToken(this.auth,e));return n_(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qk(e),r=await n.getIdToken(t),o=N_(r);n_(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:__(T_(o.auth_time)),issuedAtTime:__(T_(o.iat)),expirationTime:__(T_(o.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qk(e);await M_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(n_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new L_(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){n_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await M_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sC(this.auth.app))return Promise.reject(QE(this.auth));const e=await this.getIdToken();return await A_(this,async function(e,t){return m_(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,i,a,s,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(i=t.photoURL)&&void 0!==i?i:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:k}=t;n_(v&&k,e,"internal-error");const S=P_.fromJSON(this.name,k);n_("string"===typeof v,e,"internal-error"),D_(u,e.name),D_(d,e.name),n_("boolean"===typeof b,e,"internal-error"),n_("boolean"===typeof x,e,"internal-error"),D_(h,e.name),D_(p,e.name),D_(f,e.name),D_(m,e.name),D_(g,e.name),D_(y,e.name);const C=new L_({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(C.providerData=w.map((e=>Object.assign({},e)))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new P_;r.updateFromServerResponse(t);const o=new L_({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await M_(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];n_(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?j_(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length),a=new P_;a.updateFromIdToken(n);const s=new L_({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new R_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===o||void 0===o?void 0:o.length)};return Object.assign(s,c),s}}const F_=new Map;function B_(e){o_(e instanceof Function,"Expected a class definition");let t=F_.get(e);return t?(o_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,F_.set(e,t),t)}class z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z_.type="NONE";const U_=z_;function V_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class W_{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=V_(this.userKey,r.apiKey,o),this.fullPersistenceKey=V_("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?L_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new W_(B_(U_),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=r[0]||B_(U_);const i=V_(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){const n=L_._fromJSON(e,t);c!==o&&(a=n),o=c;break}}catch(b2e){}const s=r.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&s.length?(o=s[0],a&&await o._set(i,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(i)}catch(b2e){}}))),new W_(o,e,n)):new W_(o,e,n)}}function H_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Y_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(G_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J_(t))return"Blackberry";if($_(t))return"Webos";if(K_(t))return"Safari";if((t.includes("chrome/")||q_(t))&&!t.includes("edge/"))return"Chrome";if(X_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function G_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/firefox\//i.test(e)}function K_(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/crios\//i.test(e)}function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/iemobile/i.test(e)}function X_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/android/i.test(e)}function J_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/blackberry/i.test(e)}function $_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/webos/i.test(e)}function Z_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Q_(){return function(){const e=Dk();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function eT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk();return Z_(e)||X_(e)||$_(e)||J_(e)||/windows phone/i.test(e)||Y_(e)}function tT(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=H_(Dk());break;case"Worker":t="".concat(H_(Dk()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(uC,"/").concat(r)}class nT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(x2e){r(x2e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(x2e){t.reverse();for(const n of t)try{n()}catch(rk){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===x2e||void 0===x2e?void 0:x2e.message})}}}class rT{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(o=s.containsUppercaseLetter)||void 0===o||o),s.isValid&&(s.isValid=null===(i=s.containsNumericCharacter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class oT{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aT(this),this.idTokenSubscription=new aT(this),this.beforeStateQueue=new nT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=B_(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await W_.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(x2e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await E_(this,{idToken:e}),n=await L_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(w2e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w2e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sC(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(x2e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(x2e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return n_(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(x2e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await M_(e)}catch(x2e){if((null===x2e||void 0===x2e?void 0:x2e.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sC(this.app))return Promise.reject(QE(this));const t=e?qk(e):null;return t&&n_(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&n_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return sC(this.app)?Promise.reject(QE(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sC(this.app)?Promise.reject(QE(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(B_(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return m_(e,"GET","/v2/passwordPolicy",f_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new rT(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fk("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return m_(e,"POST","/v2/accounts:revokeToken",f_(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&B_(e)||this._popupRedirectResolver;n_(t,this,"argument-error"),this.redirectPersistenceManager=await W_.create(this,[B_(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(n_(a,this,"internal-error"),a.then((()=>{i||o(this.currentUser)})),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return n_(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(YE.logLevel<=eS.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];YE.warn("Auth (".concat(uC,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function iT(e){return qk(e)}class aT{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Gk(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return n_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cT(e){return sT.loadJS(e)}function lT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class uT{constructor(e){this.type="recaptcha-enterprise",this.auth=iT(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;k_(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{C_(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new S_(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((o=>{if(!t&&k_(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=sT.recaptchaEnterpriseScript;0!==t.length&&(t+=o),cT(t).then((()=>{n(o,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function dT(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new uT(e);let i;try{i=await o.verify(n)}catch(s){i=await o.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hT(e,t,n,r){var o;if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await dT(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch((async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await dT(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)}))}function pT(e,t,n){const r=iT(e);n_(r._canInitEmulator,r,"emulator-config-failed"),n_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!!(null===n||void 0===n?void 0:n.disableWarnings),i=fT(t),{host:a,port:s}=function(e){const t=fT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:mT(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:mT(t)}}}(t),c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(i,"//").concat(a).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function mT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class gT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return r_("not implemented")}_getIdTokenResponse(e){return r_("not implemented")}_linkToIdToken(e,t){return r_("not implemented")}_getReauthenticationResolver(e){return r_("not implemented")}}async function yT(e,t){return m_(e,"POST","/v1/accounts:signUp",t)}async function vT(e,t){return y_(e,"POST","/v1/accounts:signInWithPassword",f_(e,t))}class bT extends gT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bT(e,t,"password")}static _fromEmailAndCode(e,t){return new bT(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return hT(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vT);case"emailLink":return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithEmailLink",f_(e,t))}(e,{email:this._email,oobCode:this._password});default:JE(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return hT(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yT);case"emailLink":return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithEmailLink",f_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:JE(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xT(e,t){return y_(e,"POST","/v1/accounts:signInWithIdp",f_(e,t))}class wT extends gT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wT(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):JE("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,o=HE(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new wT(n,r);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){return xT(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xT(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xT(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vk(t)}return e}}const kT={USER_NOT_FOUND:"user-not-found"};class ST extends gT{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ST({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ST({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithPhoneNumber",f_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await y_(e,"POST","/v1/accounts:signInWithPhoneNumber",f_(e,t));if(n.temporaryProof)throw w_(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return y_(e,"POST","/v1/accounts:signInWithPhoneNumber",f_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),kT)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new ST({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class CT{constructor(e){var t,n,r,o,i,a;const s=Wk(Hk(e)),c=null!==(t=s.apiKey)&&void 0!==t?t:null,l=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);n_(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(o=s.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=s.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Wk(Hk(e)).link,n=t?Wk(Hk(t)).deep_link_id:null,r=Wk(Hk(e)).deep_link_id;return(r?Wk(Hk(r)).link:null)||r||n||t||e}(e);try{return new CT(t)}catch(b2e){return null}}}class ET{constructor(){this.providerId=ET.PROVIDER_ID}static credential(e,t){return bT._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=CT.parseLink(t);return n_(n,"argument-error"),bT._fromEmailAndCode(e,n.code,n.tenantId)}}ET.PROVIDER_ID="password",ET.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ET.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class TT extends _T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class NT extends TT{constructor(){super("facebook.com")}static credential(e){return wT._fromParams({providerId:NT.PROVIDER_ID,signInMethod:NT.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return NT.credentialFromTaggedObject(e)}static credentialFromError(e){return NT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return NT.credential(t.oauthAccessToken)}catch(b2e){return null}}}NT.FACEBOOK_SIGN_IN_METHOD="facebook.com",NT.PROVIDER_ID="facebook.com";class IT extends TT{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wT._fromParams({providerId:IT.PROVIDER_ID,signInMethod:IT.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return IT.credentialFromTaggedObject(e)}static credentialFromError(e){return IT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return IT.credential(n,r)}catch(b2e){return null}}}IT.GOOGLE_SIGN_IN_METHOD="google.com",IT.PROVIDER_ID="google.com";class AT extends TT{constructor(){super("github.com")}static credential(e){return wT._fromParams({providerId:AT.PROVIDER_ID,signInMethod:AT.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return AT.credentialFromTaggedObject(e)}static credentialFromError(e){return AT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return AT.credential(t.oauthAccessToken)}catch(b2e){return null}}}AT.GITHUB_SIGN_IN_METHOD="github.com",AT.PROVIDER_ID="github.com";class OT extends TT{constructor(){super("twitter.com")}static credential(e,t){return wT._fromParams({providerId:OT.PROVIDER_ID,signInMethod:OT.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return OT.credentialFromTaggedObject(e)}static credentialFromError(e){return OT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return OT.credential(n,r)}catch(b2e){return null}}}OT.TWITTER_SIGN_IN_METHOD="twitter.com",OT.PROVIDER_ID="twitter.com";class RT{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await L_._fromIdTokenResponse(e,n,r),i=MT(n);return new RT({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=MT(n);return new RT({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function MT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class jT extends Lk{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,jT.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new jT(e,t,n,r)}}function PT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw jT._fromErrorAndOperation(e,n,t,r);throw n}))}async function DT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await A_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return RT._forOperation(e,"link",r)}async function LT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(sC(r.app))return Promise.reject(QE(r));const o="reauthenticate";try{const i=await A_(e,PT(r,o,t,e),n);n_(i.idToken,r,"internal-error");const a=N_(i.idToken);n_(a,r,"internal-error");const{sub:s}=a;return n_(e.uid===s,r,"user-mismatch"),RT._forOperation(e,o,i)}catch(x2e){throw(null===x2e||void 0===x2e?void 0:x2e.code)==="auth/".concat("user-not-found")&&JE(r,"user-mismatch"),x2e}}async function FT(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(sC(e.app))return Promise.reject(QE(e));const r="signIn",o=await PT(e,r,t),i=await RT._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}new WeakMap;const BT="__sak";class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(BT,"1"),this.storage.removeItem(BT),Promise.resolve(!0)):Promise.resolve(!1)}catch(b2e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class UT extends zT{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);Q_()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const VT=UT;class WT extends zT{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}WT.type="SESSION";const HT=WT;class GT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new GT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map((async e=>e(t.origin,o))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function KT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}GT.receivers=[];class qT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise(((a,s)=>{const c=KT("",20);r.port1.start();const l=setTimeout((()=>{s(new Error("unsupported_event"))}),n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),o=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(l),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{i&&this.removeMessageHandler(i)}))}}function YT(){return window}function XT(){return"undefined"!==typeof YT().WorkerGlobalScope&&"function"===typeof YT().importScripts}const JT="firebaseLocalStorageDb",$T="firebaseLocalStorage",ZT="fbase_key";class QT{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function eN(e,t){return e.transaction([$T],t?"readwrite":"readonly").objectStore($T)}function tN(){const e=indexedDB.open(JT,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore($T,{keyPath:ZT})}catch(x2e){n(x2e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains($T)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(JT);return new QT(e).toPromise()}(),t(await tN()))}))}))}async function nN(e,t,n){const r=eN(e,!0).put({[ZT]:t,value:n});return new QT(r).toPromise()}function rN(e,t){const n=eN(e,!0).delete(t);return new QT(n).toPromise()}class oN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await tN()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(x2e){if(t++>3)throw x2e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=GT._getInstance(XT()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qT(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(b2e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tN();return await nN(e,BT,"1"),await rN(e,BT),!0}catch(b2e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>nN(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=eN(e,!1).get(t),r=await new QT(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>rN(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=eN(e,!1).getAll();return new QT(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}oN.type="LOCAL";const iN=oN;lT("rcb"),new l_(3e4,6e4);const aN="recaptcha";async function sN(e,t,n){var r;const o=await n.verify();try{let i;if(n_("string"===typeof o,e,"argument-error"),n_(n.type===aN,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){n_("enroll"===t.type,e,"internal-error");const n=await function(e,t){return m_(e,"POST","/v2/accounts/mfaEnrollment:start",f_(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:o}});return n.phoneSessionInfo.sessionInfo}{n_("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;n_(n,e,"missing-multi-factor-info");const a=await function(e,t){return m_(e,"POST","/v2/accounts/mfaSignIn:start",f_(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return m_(e,"POST","/v1/accounts:sendVerificationCode",f_(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}class cN{constructor(e){this.providerId=cN.PROVIDER_ID,this.auth=iT(e)}verifyPhoneNumber(e,t){return sN(this.auth,e,qk(t))}static credential(e,t){return ST._fromVerification(e,t)}static credentialFromResult(e){const t=e;return cN.credentialFromTaggedObject(t)}static credentialFromError(e){return cN.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ST._fromTokenResponse(n,r):null}}function lN(e,t){return t?B_(t):(n_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cN.PROVIDER_ID="phone",cN.PHONE_SIGN_IN_METHOD="phone";class uN extends gT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xT(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xT(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xT(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dN(e){return FT(e.auth,new uN(e),e.bypassAuthState)}function hN(e){const{auth:t,user:n}=e;return n_(n,t,"internal-error"),LT(n,new uN(e),e.bypassAuthState)}async function pN(e){const{auth:t,user:n}=e;return n_(n,t,"internal-error"),DT(n,new uN(e),e.bypassAuthState)}class fN{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(x2e){this.reject(x2e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:a}=e;if(i)return void this.reject(i);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(x2e){this.reject(x2e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dN;case"linkViaPopup":case"linkViaRedirect":return pN;case"reauthViaPopup":case"reauthViaRedirect":return hN;default:JE(this.auth,"internal-error")}}resolve(e){o_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){o_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mN=new l_(2e3,1e4);class gN extends fN{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,gN.currentPopupAction&&gN.currentPopupAction.cancel(),gN.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return n_(e,this.auth,"internal-error"),e}async onExecution(){o_(1===this.filter.length,"Popup operations only handle one event");const e=KT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject($E(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($E(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gN.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject($E(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,mN.get())};e()}}gN.currentPopupAction=null;const yN="pendingRedirect",vN=new Map;class bN extends fN{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=vN.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=kN(t),r=wN(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(x2e){e=()=>Promise.reject(x2e)}vN.set(this.auth._key(),e)}return this.bypassAuthState||vN.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function xN(e,t){vN.set(e._key(),t)}function wN(e){return B_(e._redirectPersistence)}function kN(e){return V_(yN,e.config.apiKey,e.name)}async function SN(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(sC(e.app))return Promise.reject(QE(e));const r=iT(e),o=lN(r,t),i=new bN(r,o,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class CN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _N(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!_N(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($E(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(EN(e))}saveEventToCache(e){this.cachedEventUids.add(EN(e)),this.lastProcessedEventTime=Date.now()}}function EN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function _N(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const TN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NN=/^https?/;async function IN(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return m_(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(AN(n))return}catch(b2e){}JE(e,"unauthorized-domain")}function AN(e){const t=i_(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!NN.test(n))return!1;if(TN.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const ON=new l_(3e4,6e4);function RN(){const e=YT().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function MN(e){return new Promise(((t,n)=>{var r,o,i;function a(){RN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RN(),n($E(e,"network-request-failed"))},timeout:ON.get()})}if(null===(o=null===(r=YT().gapi)||void 0===r?void 0:r.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=YT().gapi)||void 0===i?void 0:i.load)){const t=lT("iframefcb");return YT()[t]=()=>{gapi.load?a():n($E(e,"network-request-failed"))},cT("".concat(sT.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw jN=null,e}))}let jN=null;const PN=new l_(5e3,15e3),DN="__/auth/iframe",LN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zN(e){const t=e.config;n_(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?u_(t,LN):"https://".concat(e.config.authDomain,"/").concat(DN),r={apiKey:t.apiKey,appName:e.name,v:uC},o=BN.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Vk(r).slice(1))}async function UN(e){const t=await function(e){return jN=jN||MN(e),jN}(e),n=YT().gapi;return n_(n,e,"internal-error"),t.open({where:document.body,url:zN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=$E(e,"network-request-failed"),i=YT().setTimeout((()=>{r(o)}),PN.get());function a(){YT().clearTimeout(i),n(t)}t.ping(a).then(a,(()=>{r(o)}))}))))}const VN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class WN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(x2e){}}}function HN(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},VN),{width:r.toString(),height:o.toString(),top:i,left:a}),l=Dk().toLowerCase();n&&(s=q_(l)?"_blank":n),G_(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Z_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dk())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new WN(null);const d=window.open(t||"",s,u);n_(d,e,"popup-blocked");try{d.focus()}catch(x2e){}return new WN(d)}const GN="__/auth/handler",KN="emulator/auth/handler",qN=encodeURIComponent("fac");async function YN(e,t,n,r,o,i){n_(e.config.authDomain,e,"auth-domain-config-required"),n_(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:uC,eventId:o};if(t instanceof _T){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof TT){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const c=await e._getAppCheckToken(),l=c?"#".concat(qN,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(GN);return u_(t,KN)}(e),"?").concat(Vk(s).slice(1)).concat(l)}const XN="webStorageSupport";const JN=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=SN,this._overrideRedirectResult=xN}async _openPopup(e,t,n,r){var o;o_(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return HN(e,await YN(e,t,n,i_(),r),KT())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){YT().location.href=e}(await YN(e,t,n,i_(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(o_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await UN(e),n=new CN(e);return t.register("authEvent",(t=>{n_(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(XN,{type:XN},(n=>{var r;const o=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[XN];void 0!==o&&t(!!o),JE(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eT()||K_()||Z_()}};var $N="@firebase/auth",ZN="1.7.9";class QN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){n_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const eI=jk("authIdTokenMaxAge")||300;let tI=null;var nI;!function(e){sT=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$E("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),nI="Browser",iC(new Yk("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;n_(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:s,clientPlatform:nI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tT(nI)},l=new oT(r,o,i,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(B_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),iC(new Yk("auth-internal",(e=>(e=>new QN(e))(iT(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),pC($N,ZN,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(nI)),pC($N,ZN,"esm2017");const rI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hC(),t=arguments.length>1?arguments[1]:void 0;e=qk(e);const n=aC(e,BE).getImmediate({identifier:t}),r=(e=>{const t=Rk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};PE(e,t,n,r)}(n,...r),n}(dC({apiKey:"AIzaSyA2xu2Gk8jCEmyVxT9QVJda4YbxpuvItEs",authDomain:"kku-blogging.firebaseapp.com",projectId:"kku-blogging",storageBucket:"kku-blogging.appspot.com",messagingSenderId:"1049515511189",appId:"1:1049515511189:web:128d03a138874966c63a9c",measurementId:"G-SJNFTSNPGW"})),oI=new IT,iI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hC();const t=aC(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=aC(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(zk(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;JE(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:JN,persistence:[iN,VT,HT]}),r=jk("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eI)return;const o=null===n||void 0===n?void 0:n.token;tI!==o&&(tI=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}}))})(e.toString());!function(e,t,n){qk(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){qk(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const o=Rk("auth");return o&&pT(n,"http://".concat(o)),n}(),aI=async()=>{let e=null;try{const t=await async function(e,t,n){if(sC(e.app))return Promise.reject($E(e,"operation-not-supported-in-this-environment"));const r=iT(e);e_(e,t,_T);const o=lN(r,n);return new gN(r,"signInViaPopup",t,o).executeNotNull()}(iI,oI);e=t}catch(w2e){console.log(w2e)}return e};class sI{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class cI{refCount(e){return lI("refCount")}incRef(e){return lI("incRef")}timerAvailable(){return!0}time(e){return lI("time")}read(e){return lI("read")}readSync(e){return lI("readSync")}readToGPU(e,t){return lI("readToGPU")}numDataIds(){return lI("numDataIds")}disposeData(e,t){return lI("disposeData")}write(e,t,n){return lI("write")}move(e,t,n,r,o){return lI("move")}createTensorFromGPUData(e,t,n){return lI("createTensorFromGPUData")}memory(){return lI("memory")}floatPrecision(){return lI("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return lI("dispose")}}function lI(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function uI(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,fI(e,t,n)}function dI(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,fI(e,n,r),fI(t,n,r)}function hI(e,t,n){return Math.max(e,Math.min(t,n))}function pI(e){return e%2===0?e:e+1}function fI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mI(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function gI(e,t){const n=Math.random();return t*n+(1-n)*e}function yI(e,t){let n=0;for(let r=0;r<e.length;r++){const o=Number(e[r])-Number(t[r]);n+=o*o}return n}function vI(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function bI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";vI(CI(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function xI(e){vI(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function wI(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function kI(e){return 0===e.length}function SI(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}function CI(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function EI(e){return e%1===0}function _I(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function TI(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function NI(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return uI(t),t}function II(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function AI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((o,i)=>{let a=0;const s=()=>{if(e())return void o();a++;const c=t(a);null!=n&&a>=n?i():null!=r?r(s,c):setTimeout(s,c)};s()}))}function OI(e,t){let n=1,r=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)n*=e[i];else if(-1===e[i]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(i));r=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found ".concat(e[i]," at dim ").concat(i));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const o=e.slice();return o[r]=t/n,o}function RI(e,t){const n=t.length;return vI((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),vI(e.every((e=>EI(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function MI(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:RI(t,e).sort();let a=0;for(let s=0;s<e.length;++s){if(null!=i){if(i[a]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==i[a]||i[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function jI(e,t){return PI(e,t)}function PI(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function DI(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function LI(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function FI(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function BI(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function zI(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function UI(e){return"string"===typeof e||e instanceof String}function VI(e){return"boolean"===typeof e}function WI(e){return"number"===typeof e}function HI(e){return Array.isArray(e)?HI(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":WI(e)?"float32":UI(e)?"string":VI(e)?"bool":"float32"}function GI(e){return!!(e&&e.constructor&&e.call&&e.apply)}function KI(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function qI(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function YI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Array;if(1===t.length){const i=t[0]*(r?2:1);for(let t=0;t<i;t++)o[t]=n[e+t]}else{const i=t[0],a=t.slice(1),s=a.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<i;t++)o[t]=YI(e+t*s,a,n,r)}return o}function XI(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return YI(0,e,t,n)}function JI(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}function $I(e,t){const n=ZI(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function ZI(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function QI(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return XI(e,new Float32Array(n));if("int32"===t)return XI(e,new Int32Array(n));if("bool"===t)return XI(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function eA(e){e.forEach((t=>{vI(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function tA(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function nA(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}function rA(e){return e&&e.then&&"function"===typeof e.then}const oA="tfjsflags";class iA{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=aA,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(sA().getBool("IS_TEST")||sA().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];sA().getBool("IS_TEST")||sA().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(rA(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(oA in e){e[oA].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)}))}}}function aA(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function sA(){return lA}let cA,lA=null;function uA(){if(null==cA){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}cA=e}return cA}function dA(e,t){const n=function(){const e=uA();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const hA="Abs",pA="Acos",fA="Acosh",mA="Add",gA="AddN",yA="All",vA="Any",bA="ArgMax",xA="ArgMin",wA="Asin",kA="Asinh",SA="Atan",CA="Atanh",EA="Atan2",_A="AvgPool",TA="AvgPoolGrad",NA="AvgPool3D",IA="AvgPool3DGrad",AA="BatchMatMul",OA="BatchToSpaceND",RA="Bincount",MA="BitwiseAnd",jA="BroadcastTo",PA="BroadcastArgs",DA="Cast",LA="Ceil",FA="ClipByValue",BA="Complex",zA="ComplexAbs",UA="Concat",VA="Conv2D",WA="Conv2DBackpropFilter",HA="Conv2DBackpropInput",GA="Conv3D",KA="Conv3DBackpropFilterV2",qA="Conv3DBackpropInputV2",YA="Cos",XA="Cosh",JA="Cumprod",$A="Cumsum",ZA="CropAndResize",QA="DenseBincount",eO="DepthToSpace",tO="DepthwiseConv2dNative",nO="DepthwiseConv2dNativeBackpropFilter",rO="DepthwiseConv2dNativeBackpropInput",oO="Diag",iO="Dilation2D",aO="Dilation2DBackpropInput",sO="Dilation2DBackpropFilter",cO="Draw",lO="RealDiv",uO="Einsum",dO="Elu",hO="EluGrad",pO="Erf",fO="Equal",mO="Exp",gO="ExpandDims",yO="Expm1",vO="FFT",bO="Fill",xO="FlipLeftRight",wO="Floor",kO="FloorDiv",SO="FusedBatchNorm",CO="GatherV2",EO="GatherNd",_O="Greater",TO="GreaterEqual",NO="Identity",IO="IFFT",AO="Imag",OO="IsFinite",RO="IsInf",MO="IsNan",jO="LeakyRelu",PO="Less",DO="LessEqual",LO="LinSpace",FO="Log",BO="Log1p",zO="LogicalAnd",UO="LogicalNot",VO="LogicalOr",WO="LogicalXor",HO="LogSoftmax",GO="LowerBound",KO="LRN",qO="LRNGrad",YO="MatrixBandPart",XO="Max",JO="Maximum",$O="MaxPool",ZO="MaxPoolGrad",QO="MaxPool3D",eR="MaxPool3DGrad",tR="MaxPoolWithArgmax",nR="Mean",rR="Min",oR="Minimum",iR="MirrorPad",aR="Mod",sR="Multinomial",cR="Multiply",lR="Neg",uR="NotEqual",dR="NonMaxSuppressionV3",hR="NonMaxSuppressionV4",pR="NonMaxSuppressionV5",fR="OnesLike",mR="OneHot",gR="Pack",yR="PadV2",vR="Pool",bR="Pow",xR="Prelu",wR="Prod",kR="RaggedGather",SR="RaggedRange",CR="RaggedTensorToTensor",ER="Range",_R="Real",TR="Reciprocal",NR="Relu",IR="Reshape",AR="ResizeNearestNeighbor",OR="ResizeNearestNeighborGrad",RR="ResizeBilinear",MR="ResizeBilinearGrad",jR="Relu6",PR="Reverse",DR="Round",LR="Rsqrt",FR="ScatterNd",BR="TensorScatterUpdate",zR="SearchSorted",UR="Select",VR="Selu",WR="Slice",HR="Sin",GR="Sinh",KR="Sign",qR="Sigmoid",YR="Softplus",XR="Sqrt",JR="Sum",$R="SpaceToBatchND",ZR="SplitV",QR="Softmax",eM="SparseFillEmptyRows",tM="SparseReshape",nM="SparseSegmentMean",rM="SparseSegmentSum",oM="SparseToDense",iM="SquaredDifference",aM="Square",sM="StaticRegexReplace",cM="StridedSlice",lM="StringNGrams",uM="StringSplit",dM="StringToHashBucketFast",hM="Sub",pM="Tan",fM="Tanh",mM="Tile",gM="TopK",yM="Transform",vM="Transpose",bM="Unique",xM="Unpack",wM="UnsortedSegmentSum",kM="UpperBound",SM="ZerosLike",CM="Step",EM="FromPixels",_M="RotateWithOffset",TM="_FusedMatMul",NM="FusedConv2D",IM="FusedDepthwiseConv2D";function AM(){sA().getBool("IS_TEST")||sA().getBool("PROD")||console.warn(...arguments)}function OM(){sA().getBool("IS_TEST")||sA().getBool("PROD")||console.log(...arguments)}const RM=dA("kernelRegistry",(()=>new Map)),MM=dA("gradRegistry",(()=>new Map));function jM(e,t){const n=VM(e,t);return RM.get(n)}function PM(e){return MM.get(e)}function DM(e){const t=RM.entries(),n=[];for(;;){const{done:r,value:o}=t.next();if(r)break;const[i,a]=o,[s]=i.split("_");s===e&&n.push(a)}return n}function LM(e){const{kernelName:t,backendName:n}=e,r=VM(t,n);RM.has(r)&&AM("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),RM.set(r,e)}function FM(e){const{kernelName:t}=e;MM.has(t)&&sA().getBool("DEBUG")&&AM("Overriding the gradient for '".concat(t,"'")),MM.set(t,e)}function BM(e,t){const n=VM(e,t);if(!RM.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));RM.delete(n)}function zM(e){if(!MM.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));MM.delete(e)}function UM(e,t){DM(e).forEach((e=>{LM(Object.assign({},e,{backendName:t}))}))}function VM(e,t){return"".concat(t,"_").concat(e)}function WM(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var HM=n(8818);const GM=n.n(HM)()||HM;function KM(e){return GM.fromString(e,!0,16)}const qM=KM("c3a5c85c97cb3127"),YM=KM("b492b66fbe98f273"),XM=KM("9ae16a3b2f90404f");function JM(e){return e.xor(e.shru(47))}function $M(e,t,n){const r=e.slice(t,t+n);return GM.fromBytes(Array.from(r),!0,!0)}function ZM(e,t){return $M(e,t,8)}function QM(e,t){return $M(e,t,4)}function ej(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function tj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KM("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let o=t.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function nj(e,t,n,r){return function(e,t,n,r,o,i){o=o.add(e),i=ej(i.add(o).add(r),21);const a=o;return o=(o=o.add(t)).add(n),i=i.add(ej(o,44)),[o.add(r),i.add(a)]}(ZM(e,t),ZM(e,t+8),ZM(e,t+16),ZM(e,t+24),n,r)}function rj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=GM.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=XM.add(2*t),r=ZM(e,0).add(XM),o=ZM(e,t-8);return tj(ej(o,37).mul(n).add(r),ej(r,25).add(o).mul(n),n)}if(t>=4){const n=XM.add(2*t);return tj(QM(e,0).shl(3).add(t),QM(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return JM(XM.mul(n).xor(qM.mul(r))).mul(XM)}return XM}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=XM.add(2*t),r=ZM(e,0).mul(YM),o=ZM(e,8),i=ZM(e,t-8).mul(n),a=ZM(e,t-16).mul(XM);return tj(ej(r.add(o),43).add(ej(i,30)).add(a),r.add(ej(o.add(XM),18)).add(i),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=XM.add(2*t),r=ZM(e,0).mul(XM),o=ZM(e,8),i=ZM(e,t-8).mul(n),a=ZM(e,t-16).mul(XM),s=ej(r.add(o),43).add(ej(i,30)).add(a),c=tj(s,r.add(ej(o.add(XM),18)).add(i),n),l=ZM(e,16).mul(n),u=ZM(e,24),d=s.add(ZM(e,t-32)).mul(n),h=c.add(ZM(e,t-24)).mul(n);return tj(ej(l.add(u),43).add(ej(d,30)).add(h),l.add(ej(u.add(r),18)).add(d),n)}(e,t);let r=n,o=n.mul(YM).add(113),i=JM(o.mul(XM).add(113)).mul(XM),a=[GM.UZERO,GM.UZERO],s=[GM.UZERO,GM.UZERO];r=r.mul(XM).add(ZM(e,0));let c=0;const l=64*(t-1>>6),u=l+(t-1&63)-63;do{r=ej(r.add(o).add(a[0]).add(ZM(e,c+8)),37).mul(YM),o=ej(o.add(a[1]).add(ZM(e,c+48)),42).mul(YM),r=r.xor(s[1]),o=o.add(a[0]).add(ZM(e,c+40)),i=ej(i.add(s[0]),33).mul(YM),a=nj(e,c,a[1].mul(YM),r.add(s[0])),s=nj(e,c+32,i.add(s[1]),o.add(ZM(e,c+16))),[i,r]=[r,i],c+=64}while(c!==l);const d=YM.add(i.and(255).shl(1));return c=u,s[0]=s[0].add(t-1&63),a[0]=a[0].add(s[0]),s[0]=s[0].add(a[0]),r=ej(r.add(o).add(a[0]).add(ZM(e,c+8)),37).mul(d),o=ej(o.add(a[1]).add(ZM(e,c+48)),42).mul(d),r=r.xor(s[1].mul(9)),o=o.add(a[0].mul(9).add(ZM(e,c+40))),i=ej(i.add(s[0]),33).mul(d),a=nj(e,c,a[1].mul(d),r.add(s[0])),s=nj(e,c+32,i.add(s[1]),o.add(ZM(e,c+16))),[i,r]=[r,i],tj(tj(a[0],s[0],d).add(JM(o).mul(qM)).add(i),tj(a[1],s[1],d).add(r),d)}function oj(e,t){return"string"===t?cj(e):ij([e],t)}function ij(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=dj(e)),sA().getBool("DEBUG")&&DI(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function aj(){return sA().platform.now()}function sj(e,t){return sA().platform.fetch(e,t)}function cj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",sA().platform.encode(e,t)}function lj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",sA().platform.decode(e,t)}function uj(e){return null!=sA().platform.isTypedArray?sA().platform.isTypedArray(e):WM(e)}function dj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||rA(e)||null==e||uj(e)&&n)t.push(e);else if(Array.isArray(e)||uj(e))for(let r=0;r<e.length;++r)dj(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let o=0;o<=r;o++)dj(e[o],t,n)}return t}class hj{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new fj)}profileKernel(e,t,n){let r;const o=()=>{r=n()};let i;const a=aj();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const e of r)e.dataSync();i=Promise.resolve({kernelMs:aj()-a})}if(sA().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<r.length;s++){const t=r[s];t.data().then((n=>{pj(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then((e=>e.kernelMs)),extraInfo:i.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:o,extraInfo:i}=e;n.forEach((e=>{Promise.all([e.data(),r,i]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],o,n[2])}))}))}}function pj(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class fj{logKernelProfile(e,t,n,r,o,i){const a="number"===typeof r?II("".concat(r,"ms"),9):r.error,s=II(e,25),c=t.rank,l=t.size,u=II(t.shape.toString(),14);let d="";for(const h in o){const e=o[h];if(null!=e){const n=e.shape||t.shape,r=n.length;d+="".concat(h,": ").concat(r,"D ").concat(r>0?n:""," ")}}console.log("%c".concat(s,"\t%c").concat(a,"\t%c").concat(c,"D ").concat(u,"\t%c").concat(l,"\t%c").concat(d,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const mj=20,gj=3,yj=7;function vj(e,t,n,r){const o=qI(t),i=function(e,t,n,r){const o=wI(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,c="complex64"===n?kj(e):e;if(s>1)for(let l=0;l<o/i;l++){const e=l*i;for(let t=0;t<i;t++)a[t]=Math.max(a[t],bj(c[e+t],0,n).length)}return a}(e,t,n,o),a=t.length,s=wj(e,t,n,o,i),c=["Tensor"];return r&&(c.push("  dtype: ".concat(n)),c.push("  rank: ".concat(a)),c.push("  shape: [".concat(t,"]")),c.push("  values:")),c.push(s.map((e=>"    "+e)).join("\n")),c.join("\n")}function bj(e,t,n){let r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(yj))," + ")+"".concat(parseFloat(e[1].toFixed(yj)),"j"):UI(e)?"'".concat(e,"'"):"bool"===n?xj(e):parseFloat(e.toFixed(yj)).toString(),II(r,t)}function xj(e){return 0===e?"false":"true"}function wj(e,t,n,r,o){let i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const a="complex64"===n?2:1,s=t[0],c=t.length;if(0===c){if("complex64"===n){return[bj(kj(e)[0],0,n)]}return"bool"===n?[xj(e[0])]:[e[0].toString()]}if(1===c){if(s>mj){const t=gj*a;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((s-gj)*a,s*a));return"complex64"===n&&(r=kj(r),i=kj(i)),["["+r.map(((e,t)=>bj(e,o[t],n))).join(", ")+", ..., "+i.map(((e,t)=>bj(e,o[s-gj+t],n))).join(", ")+"]"]}return["["+("complex64"===n?kj(e):Array.from(e)).map(((e,t)=>bj(e,o[t],n))).join(", ")+"]"]}const l=t.slice(1),u=r.slice(1),d=r[0]*a,h=[];if(s>mj){for(let t=0;t<gj;t++){const r=t*d,i=r+d;h.push(...wj(e.slice(r,i),l,n,u,o,!1))}h.push("...");for(let t=s-gj;t<s;t++){const r=t*d,i=r+d;h.push(...wj(e.slice(r,i),l,n,u,o,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,r=t+d;h.push(...wj(e.slice(t,r),l,n,u,o,m===s-1))}const p=2===c?",":"";h[0]="["+(s>0?h[0]+p:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+p;let f=",\n";for(let m=2;m<c;m++)f+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(i?"":f),h}function kj(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class Sj{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=wI(e),null!=n){const e=n.length;vI(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||PI(t,this.size),this.strides=qI(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),vI(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const o=this.locToIndex(n);this.values[o]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const i of t){if(i<0||i>=this.shape[r]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}r++}let o=t[t.length-1];for(let i=0;i<t.length-1;++i)o+=this.strides[i]*t[i];return this.values[o]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return Cj().makeTensor(this.values,this.shape,this.dtype)}}let Cj=null,Ej=null,_j=null;class Tj{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=wI(e),this.strides=qI(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Ej.buffer(this.shape,this.dtype,e)}bufferSync(){return Ej.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return XI(this.shape,e,"complex64"===this.dtype)}arraySync(){return XI(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=Cj().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>lj(e)))}catch(b2e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Cj().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Cj().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>lj(e)))}catch(b2e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Cj().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Cj().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ej.print(this,e)}clone(){return this.throwIfDisposed(),Ej.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return vj(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Ej.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),Cj().makeVariable(this,e,t,n)}}function Nj(){return dA("Tensor",(()=>Tj))}Object.defineProperty(Tj,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),Nj();class Ij extends Tj{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!CI(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));Cj().disposeTensor(this),this.dataId=e.dataId,Cj().incRef(this,null)}dispose(){Cj().disposeVariable(this),this.isDisposedInternal=!0}}var Aj,Oj,Rj,Mj,jj;Object.defineProperty(Ij,Symbol.hasInstance,{value:e=>e instanceof Tj&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Aj||(Aj={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Oj||(Oj={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Rj||(Rj={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Mj||(Mj={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(jj||(jj={}));const Pj={float32:Mj,int32:Oj,bool:Rj,complex64:jj};function Dj(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return Pj[e][t]}function Lj(e){return Dj(e,"int32")}function Fj(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function Bj(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function zj(e,t){if(e.dtype===t.dtype)return[e,t];const n=Dj(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Uj(e,t){vI(e.dtype===t.dtype,(()=>"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")))}function Vj(e,t){return t.some((t=>t.id===e.id))}function Wj(e){const t=[];return Hj(e,t,new Set),t}function Hj(e,t,n){if(null==e)return;if(e instanceof Tj)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const o=e;for(const i in o){const e=o[i];n.has(e)||(n.add(e),Hj(e,t,n))}}function Gj(e){return null!=e.kernelName}class Kj{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class qj{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Kj}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(AM("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new hj(this.backendInstance),!0}setupRegisteredKernels(){DM(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){DM(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof cI||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,AM("Initialization of backend ".concat(e," failed")),AM(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(w2e){return AM("Initialization of backend ".concat(e," failed")),AM(w2e.stack||w2e.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:o}=this.initializeBackend(n);if(o||r)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,o,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return qj.nextTensorId++}nextVariableId(){return qj.nextVariableId++}clone(e){const t=Xj.runKernel(NO,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return Xj.runKernel(DA,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=jM(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let o=0;n.forEach((e=>{o+="complex64"===e.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(a," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;let a,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=Gj(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(Gj(e)){const{kernelName:t,inputs:o,attrs:i}=e;null==this.backendName&&this.backend;const c=jM(t,this.backendName);vI(null!=c,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),a=()=>{const e=this.backend.numDataIds();s=c.kernelFunc({inputs:o,attrs:i,backend:this.backend});const a=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);const l=a.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,o,l);n=this.saveTensorsForBackwardMode(e)}return l}}else{const{forwardFunc:t}=e,o=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};a=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,o)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:l,attrs:u}=e,d=Gj(e)?null:e.backwardsFunc;let h;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(h=this.profiler.profileKernel(c,l,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),t=h.outputs):t=a()})),r&&this.addTapeNode(c,l,t,d,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(l).map((e=>null!=l[e]?l[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=PM(e);if(null!=r){const e=r.inputsToSave||[],o=r.outputsToSave||[];let i;r.saveAllInputs?(vI(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(t).map((e=>t[e]))):i=e.map((e=>t[e]));const a=n.filter(((e,t)=>o[t]));return i.concat(a)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let o=e;"string"===n&&UI(e[0])&&(o=e.map((e=>cj(e))));const i=r.write(o,t,n),a=new Tj(t,n,i,this.nextTensorId());if(this.trackTensor(a,r),"string"===n){const e=this.state.tensorInfo.get(i),t=zI(o);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,n,r){const o={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:o}=e,i=new Tj(r,o,n,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const o=new Ij(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name ".concat(o.name," was already registered"));return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*BI(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Ij||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*BI(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=PM(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=ZI(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],o,i))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=Wj(e),n=new Set(t.map((e=>e.id)));for(let o=0;o<this.state.activeScope.track.length;o++){const e=this.state.activeScope.track[o];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(vI(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const o=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));vI(o instanceof Tj,(()=>"The result y returned by f() must be a tensor."));const i=function(e,t,n){const r={},o={};for(let c=0;c<t.length;c++)r[t[c].id]=!0;for(let c=0;c<e.length;c++){const n=e[c],i=n.inputs;for(const e in i){const a=i[e];let s=!1;for(let e=0;e<t.length;e++)if(r[a.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,o[n.id]=!0;break}if(s)break}}const i={};i[n.id]=!0;const a={};for(let c=e.length-1;c>=0;c--){const t=e[c],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(i[t.outputs[e].id]){for(const e in n)i[n[e].id]=!0,a[t.id]=!0;break}}const s=[];for(let c=0;c<e.length;c++){const t=e[c];if(o[t.id]&&a[t.id]){const e={};for(const o in t.inputs){const n=t.inputs[o];r[n.id]&&(e[o]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,o);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[o.id]=null==n?function(e){const t=$I(wI(e),"float32");return Xj.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(let o=t.length-1;o>=0;o--){const i=t[o],a=[];if(i.outputs.forEach((t=>{const n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(i.kernelName,"."));const s=i.gradient(a);for(const t in i.inputs){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));const o=n((()=>s[t]()));if("float32"!==o.dtype)throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(o.dtype,"'"));const a=i.inputs[t];if(!CI(o.shape,a.shape))throw new Error("Error in gradient for op ".concat(i.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(o.shape,"', which does not match ")+"the shape of the input '".concat(a.shape,"'"));if(null==e[a.id])e[a.id]=o;else{const t=e[a.id];e[a.id]=r(t,o),t.dispose()}}}}(e,i,(e=>this.tidy(e)),Jj);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:o,grads:r}}))}customGrad(e){var t=this;return vI(GI(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];let i;vI(r.every((e=>e instanceof Tj)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};r.forEach(((e,t)=>{a[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(i=e(...r,n),vI(i.value instanceof Tj,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),vI(GI(i.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),i.value),backwardsFunc:(e,t)=>{const n=i.gradFunc(e,t),o=Array.isArray(n)?n:[n];vI(o.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),vI(o.every((e=>e instanceof Tj)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return o.forEach(((e,t)=>{a[t]=()=>e})),a},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=aj(),n=await this.backend.time(e);return n.wallMs=aj()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Kj;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Yj(){const e=uA();if(null==e._tfengine){const t=new iA(e);e._tfengine=new qj(t)}var t;return t=e._tfengine.ENV,lA=t,Cj=()=>e._tfengine,e._tfengine}qj.nextTensorId=0,qj.nextVariableId=0;const Xj=Yj();function Jj(e,t){const n={a:e,b:t};return Xj.runKernel(mA,n)}let $j;function Zj(e){$j=e}function Qj(e){if(void 0!==$j)return $j;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function eP(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const tP=sA();function nP(e,t){let n=e;if(uj(e))return"string"===t?[]:[e.length];if(Fj(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(Bj(e))return[e.buffer.size/(null==t?4:BI(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||uj(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&sA().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&rP(e,r,[]),r}function rP(e,t,n){if(n=n||[],!Array.isArray(e)&&!uj(e))return void vI(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));vI(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),vI(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const r=t.slice(1);for(let o=0;o<e.length;++o)rP(e[o],r,n.concat(o))}function oP(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function iP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof Nj())return oP(r,e.dtype,t,n),e;let o=HI(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),oP(r,o,t,n),null==e||!uj(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(r,"'"))}const i=nP(e,o);uj(e)||Array.isArray(e)||(e=[e]);const a="string"!==o?ij(e,o):dj(e,[],!0);return Xj.makeTensor(a,i,o)}function aP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,o)=>iP(e,"".concat(t,"[").concat(o,"]"),n,r)))}tP.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),tP.registerFlag("IS_BROWSER",(()=>eP())),tP.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),tP.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),tP.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),tP.registerFlag("PROD",(()=>!1)),tP.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>tP.getBool("DEBUG"))),tP.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),tP.registerFlag("IS_TEST",(()=>!1)),tP.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>tP.getBool("DEBUG"))),tP.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),tP.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),tP.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const sP="__op";function cP(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=sP;const o=function(){Xj.startScope(n);try{const e=r(...arguments);return rA(e)&&console.error("Cannot return a Promise inside of tidy."),Xj.endScope(e),e}catch(e){throw Xj.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}const lP=cP({complex_:function(e,t){const n=iP(e,"real","complex"),r=iP(t,"imag","complex");bI(n.shape,r.shape,"real and imag shapes, ".concat(n.shape," and ").concat(r.shape,", ")+"must match in call to tf.complex().");const o={real:n,imag:r};return Xj.runKernel(BA,o)}});function uP(e,t,n,r){if(null==r)r=HI(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Bj(e)||Fj(e)){if("float32"!==r&&"int32"!==r)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(r,"."));return Xj.backend.createTensorFromGPUData(e,t||n,r)}if(!uj(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){eA(t);const e=wI(t),r=wI(n);vI(e===r,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(r)));for(let o=0;o<n.length;++o){const e=n[o],r=o!==n.length-1||e!==wI(t.slice(o));vI(n[o]===t[o]||!r,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return uj(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?ij(e,r):dj(e,[],!0),Xj.makeTensor(e,t,r)}function dP(e,t,n){return uP(e,t,nP(e,n),n)}const hP={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class pP{static join(e){return new pP(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>uj(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=t+r.byteLength;this.shards.push({buffer:r,start:t,end:o}),t=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const r=new ArrayBuffer(t-e),o=new Uint8Array(r);let i=0;for(let a=n;a<this.shards.length;a++){const n=this.shards[a],r=e+i-n.start,s=i,c=Math.min(t,n.end)-n.start,l=new Uint8Array(n.buffer,r,c-r);if(o.set(l,s),i+=l.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const o=Math.floor((r-n)/2)+n,i=t(e[o]);if(0===i)return o;i<0?r=o:n=o+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function fP(){sA().set("PROD",!0)}function mP(){sA().set("DEBUG",!0)}function gP(){sA().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function yP(e){sA().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function vP(){Xj.disposeVariables()}function bP(){return Xj}function xP(){return Xj.memory()}function wP(e){return Xj.profile(e)}function kP(e,t){return Xj.tidy(e,t)}function SP(e){Wj(e).forEach((e=>e.dispose()))}function CP(e){return Xj.keep(e)}function EP(e){return Xj.time(e)}function _P(e){return Xj.setBackend(e)}function TP(){return Xj.ready()}function NP(){return Xj.backendName}function IP(e){Xj.removeBackend(e)}function AP(e){return Xj.findBackend(e)}function OP(e){return Xj.findBackendFactory(e)}function RP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Xj.registerBackend(e,t,n)}function MP(){return Xj.backend}function jP(e,t){sA().setPlatform(e,t)}_j=yP;const PP=4;async function DP(e,t){const n=[],r=[],o=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let i=0;i<o.length;++i){const a=o[i],s=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(a,"': ").concat(s.dtype));const c={name:a,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+PP*t.length,r=new Uint8Array(n);let o=0;for(let i=0;i<t.length;i++){const e=t[i],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,o),o+=PP,r.set(e,o),o+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(c.group=t),n.push(c)}return{data:WP(await Promise.all(r)),specs:n}}function LP(e,t){const n=new pP(e),r={};let o=0;for(const i of t){const e=FP(i,((e,t)=>n.slice(o+e,o+t)));r[i.name]=zP(i,n.slice(o,o+e)),o+=e}return r}function FP(e,t){const n=wI(e.shape);let r;if("quantization"in e){const t=e.quantization;r=hP[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=PP+new Uint32Array(t(e,e+PP))[0];return e}r=hP[e.dtype]}return n*r}async function BP(e,t){const n=wI(e.shape);let r;if("quantization"in e){const t=e.quantization;r=hP[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=PP+new Uint32Array(await t(e,e+PP))[0];return e}r=hP[e.dtype]}return n*r}function zP(e,t){const n=e.name,r=e.dtype,o=e.shape,i=wI(o);let a,s=0;if("quantization"in e){const o=e.quantization;if("uint8"===o.dtype||"uint16"===o.dtype){if(!("min"in o)||!("scale"in o))throw new Error("Weight ".concat(e.name," with quantization ").concat(o.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==o.dtype)throw new Error("Weight ".concat(e.name," has unknown ")+"quantization dtype ".concat(o.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==r)throw new Error("Weight ".concat(e.name," is quantized with ").concat(o.dtype," ")+"which only supports weights of type float32 not ".concat(r,"."))}const c=hP[o.dtype],l="uint8"===o.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===o.dtype||"uint16"===o.dtype){a=new Float32Array(l.length);for(let e=0;e<l.length;e++){const t=l[e];a[e]=t*o.scale+o.min}}else{if("float16"!==o.dtype)throw new Error("Unsupported quantization type ".concat(o.dtype," ")+"for weight type float32.");{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const o=new ArrayBuffer(4*r.length),i=new Uint32Array(o);for(let a=0;a<r.length;a++){const o=r[a],s=e[n[o>>10]+(1023&o)]+t[o>>10];i[a]=s}return new Float32Array(o)}}();a=e(l)}}else{if("int32"!==r)throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(r));if("uint8"!==o.dtype&&"uint16"!==o.dtype)throw new Error("Unsupported quantization type ".concat(o.dtype," ")+"for weight type int32.");a=new Int32Array(l.length);for(let e=0;e<l.length;e++){const t=l[e];a[e]=Math.round(t*o.scale+o.min)}}s+=i*c}else if("string"===r){const n=wI(e.shape);a=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(s,s+PP))[0];s+=PP;const n=new Uint8Array(t.slice(s,s+e));a.push(n),s+=e}}else{const e=hP[r];if("float32"===r)a=new Float32Array(t);else if("int32"===r)a=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){a=new Float32Array(t);const e=new Float32Array(a.length/2),n=new Float32Array(a.length/2);for(let t=0;t<e.length;t++)e[t]=a[2*t],n[t]=a[2*t+1];const r=dP(e,o,"float32"),i=dP(n,o,"float32"),s=lP(r,i);return r.dispose(),i.dispose(),s}throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(r))}a=new Uint8Array(t)}s+=i*e}return dP(a,o,r)}async function UP(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:o}=await e.read();if(t&&null==o){const e=n-r.byteLength;throw new Error("Reader is done but ".concat(e," bytes are still expected"))}const i=new Uint8Array(r.length+o.byteLength);i.set(r,0),i.set(new Uint8Array(o),r.length),r=i}return r.buffer}async function VP(e,t){const n={},r=e.getReader();let o=new ArrayBuffer(0);for(const i of t){const e=await BP(i,(async(e,t)=>(o=await UP(r,o,t),o.slice(e,t))));o=await UP(r,o,e);const t=o.slice(0,e);o=o.slice(e);const a=zP(i,t);if(n[i.name]=a,"webgpu"===NP()){const e=MP();"uploadToGPU"in e&&wI(a.shape)>=sA().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(a.dataId)}}return n}function WP(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const r=new Uint8Array(t);let o=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}const HP="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function GP(e){return HP?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function KP(e){return pP.join(e)}function qP(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function YP(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function XP(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function JP(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),XP(e,n,r)}function $P(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:GP(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:GP(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new pP(e.weightData).byteLength}}function ZP(e){const t=[];for(const n of e)t.push(...n.weights);return t}class QP{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==QP.instance&&(QP.instance=new QP),QP.instance}static registerSaveRouter(e){QP.getInstance().saveRouters.push(e)}static registerLoadRouter(e){QP.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return QP.getHandlers(e,"save")}static getLoadHandlers(e,t){return QP.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?QP.getInstance().loadRouters:QP.getInstance().saveRouters).forEach((t=>{const o=t(e,n);null!==o&&r.push(o)})),r}}const eD=e=>QP.registerSaveRouter(e),tD=e=>QP.registerLoadRouter(e),nD=e=>QP.getSaveHandlers(e),rD=(e,t)=>QP.getLoadHandlers(e,t),oD="tensorflowjs",iD="models_store",aD="model_info_store";function sD(){if(!sA().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function cD(e){const t=e.result;t.createObjectStore(iD,{keyPath:"modelPath"}),t.createObjectStore(aD,{keyPath:"modelPath"})}class lD{constructor(e){if(this.indexedDB=sD(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(oD,1);r.onupgradeneeded=()=>cD(r),r.onsuccess=()=>{const o=r.result;if(null==t){const t=o.transaction(iD,"readonly"),r=t.objectStore(iD).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(r.result.modelArtifacts)},r.onerror=e=>(o.close(),n(r.error)),t.oncomplete=()=>o.close()}else{t.weightData=pP.join(t.weightData);const r=$P(t),a=o.transaction(aD,"readwrite");let s,c,l=a.objectStore(aD);try{s=l.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(i){return n(i)}s.onsuccess=()=>{c=o.transaction(iD,"readwrite");const s=c.objectStore(iD);let u;try{u=s.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(i){return n(i)}u.onsuccess=()=>e({modelArtifactsInfo:r}),u.onerror=e=>{l=a.objectStore(aD);const t=l.delete(this.modelPath);t.onsuccess=()=>(o.close(),n(u.error)),t.onerror=e=>(o.close(),n(u.error))}},s.onerror=e=>(o.close(),n(s.error)),a.oncomplete=()=>{null==c?o.close():c.oncomplete=()=>o.close()}}},r.onerror=e=>n(r.error)}))}}lD.URL_SCHEME="indexeddb://";const uD=e=>{return sA().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(lD.URL_SCHEME)?(t=e.slice(lD.URL_SCHEME.length),new lD(t)):null;var t};QP.registerSaveRouter(uD),QP.registerLoadRouter(uD);class dD{constructor(){this.indexedDB=sD()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(oD,1);n.onupgradeneeded=()=>cD(n),n.onsuccess=()=>{const r=n.result,o=r.transaction(aD,"readonly"),i=o.objectStore(aD).getAll();i.onsuccess=()=>{const t={};for(const e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),o.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(lD.URL_SCHEME)?t.slice(lD.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(oD,1);r.onupgradeneeded=()=>cD(r),r.onsuccess=()=>{const o=r.result,i=o.transaction(aD,"readwrite"),a=i.objectStore(aD),s=a.get(e);let c;s.onsuccess=()=>{if(null==s.result)return o.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const r=a.delete(e),i=()=>{c=o.transaction(iD,"readwrite");const r=c.objectStore(iD).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=i,r.onerror=e=>(i(),o.close(),n(s.error))}},s.onerror=e=>(o.close(),n(s.error)),i.oncomplete=()=>{null==c?o.close():c.oncomplete=()=>o.close()}},r.onerror=e=>n(r.error)}))}}const hD="/",pD="tensorflowjs_models",fD="info",mD="model_topology",gD="weight_specs",yD="weight_data",vD="model_metadata";function bD(e){return{info:[pD,e,fD].join(hD),topology:[pD,e,mD].join(hD),weightSpecs:[pD,e,gD].join(hD),weightData:[pD,e,yD].join(hD),modelMetadata:[pD,e,vD].join(hD)}}function xD(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function wD(e){const t=e.split(hD);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(hD)}class kD{constructor(e){if(!sA().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=bD(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=$P(e),o=pP.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(HP)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(o));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch(w2e){throw xD(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(r.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(r.weightSpecsBytes,", ")+"weightDataBytes=".concat(r.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const e=JSON.parse(o);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(HP){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(i),t}}kD.URL_SCHEME="localstorage://";const SD=e=>{return sA().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(kD.URL_SCHEME)?(t=e.slice(kD.URL_SCHEME.length),new kD(t)):null;var t};QP.registerSaveRouter(SD),QP.registerLoadRouter(SD);class CD{constructor(){vI(sA().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),vI("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=pD+hD,n=hD+fD;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(t)&&o.endsWith(n)){e[wD(o)]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){var t;const n=bD(e=(t=e).startsWith(kD.URL_SCHEME)?t.slice(kD.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const r=JSON.parse(this.LS.getItem(n.info));return xD(n),r}}const ED="://";class _D{constructor(){this.managers={}}static getInstance(){return null==_D.instance&&(_D.instance=new _D),_D.instance}static registerManager(e,t){vI(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(ED)&&(e=e.slice(0,e.indexOf(ED))),vI(e.length>0,(()=>"scheme must not be an empty string."));const n=_D.getInstance();vI(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=_D.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(_D.getInstance().managers)}}function TD(e){if(-1===e.indexOf(ED))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(_D.getSchemes().join(",")));return{scheme:e.split(ED)[0],path:e.split(ED)[1]}}async function ND(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];vI(e!==t,(()=>"Old path and new path are the same: '".concat(e,"'")));const r=QP.getLoadHandlers(e);vI(r.length>0,(()=>"Copying failed because no load handler is found for source URL ".concat(e,"."))),vI(r.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"load handlers for source URL ".concat(e,".")));const o=r[0],i=QP.getSaveHandlers(t);vI(i.length>0,(()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,"."))),vI(i.length<2,(()=>"Copying failed because more than one (".concat(r.length,") ")+"save handlers for destination URL ".concat(t,".")));const a=i[0],s=TD(e).scheme,c=TD(e).path,l=s===TD(e).scheme,u=await o.load();n&&l&&await _D.getManager(s).removeModel(c);const d=await a.save(u);return n&&!l&&await _D.getManager(s).removeModel(c),d.modelArtifactsInfo}async function ID(){const e=_D.getSchemes(),t={};for(const n of e){const e=await _D.getManager(n).listModels();for(const r in e){t[n+ED+r]=e[r]}}return t}async function AD(e){const t=TD(e);return _D.getManager(t.scheme).removeModel(t.path)}async function OD(e,t){return ND(e,t,!1)}async function RD(e,t){return ND(e,t,!0)}class MD{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&sA().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return WM(e)}}if(sA().get("IS_BROWSER")){sA().setPlatform("browser",new MD);try{_D.registerManager(kD.URL_SCHEME,new CD)}catch(w2e){}try{_D.registerManager(lD.URL_SCHEME,new dD)}catch(w2e){}}const jD=()=>n(5817);let PD;class DD{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=sA().global.fetch?sA().global.fetch(e,t):(null==PD&&(PD=jD()),PD(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function LD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",eA(e),new Sj(e,t,n)}sA().get("IS_NODE")&&!sA().get("IS_BROWSER")&&sA().setPlatform("node",new DD);const FD=cP({cast_:function(e,t){const n=iP(e,"x","cast");if(!LI(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},o={dtype:t};return Xj.runKernel(DA,r,o)}});const BD=cP({clone_:function(e){const t={x:iP(e,"x","clone","string_or_numeric")};return Xj.runKernel(NO,t)}});function zD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}Yj();Ej={buffer:LD,cast:FD,clone:BD,print:zD};const UD=cP({add_:function(e,t){let n=iP(e,"a","add"),r=iP(t,"b","add");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(mA,o)}});const VD=cP({floorDiv_:function(e,t){let n=iP(e,"a","floorDiv"),r=iP(t,"b","floorDiv");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(kO,o)}});const WD=cP({div_:function(e,t){let n=iP(e,"a","div"),r=iP(t,"b","div");if([n,r]=zj(n,r),"int32"===n.dtype&&"int32"===r.dtype)return VD(n,r);const o={a:n,b:r};return Xj.runKernel(lO,o,{})}});const HD=cP({mul_:function(e,t){let n=iP(e,"a","mul"),r=iP(t,"b","mul");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(cR,o)}});const GD=cP({sqrt_:function(e){const t={x:iP(e,"x","sqrt","float32")};return Xj.runKernel(XR,t)}});const KD=cP({square_:function(e){const t=iP(e,"x","square");return Xj.runKernel("Square",{x:t},{})}});const qD=cP({zerosLike_:function(e){const t={x:iP(e,"x","zerosLike")};return Xj.runKernel(SM,t)}});function YD(e){return vI(GI(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const r=iP(t,"x","tf.grad","string_or_numeric"),o=null!=n?iP(n,"dy","tf.grad"):null;return Xj.tidy((()=>{const{value:t,grads:n}=Xj.gradients((()=>e(r)),[r],o);return null!=o&&bI(t.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),eL(n),n[0]}))}}function XD(e){return vI(GI(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{vI(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const r=aP(t,"args","tf.grads","string_or_numeric"),o=null!=n?iP(n,"dy","tf.grads"):null;return Xj.tidy((()=>{const{value:t,grads:n}=Xj.gradients((()=>e(...r)),r,o);return null!=o&&bI(t.shape,o.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),eL(n),n}))}}function JD(e){return vI(GI(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{vI(t instanceof Tj,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),vI(null==n||n instanceof Tj,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:r,value:o}=Xj.gradients((()=>e(t)),[t],n);return eL(r),{grad:r[0],value:o}}}function $D(e){return vI(GI(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{vI(Array.isArray(t)&&t.every((e=>e instanceof Tj)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),vI(null==n||n instanceof Tj,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const r=Xj.gradients((()=>e(...t)),t,n);return null!=n&&bI(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),eL(r.grads),r}}function ZD(e,t){vI(GI(e),(()=>"The f passed in variableGrads(f) must be a function")),vI(null==t||Array.isArray(t)&&t.every((e=>e instanceof Ij)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in Xj.registeredVariables)t.push(Xj.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,o=t.length;t=t.filter((e=>e.trainable)),vI(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(o," variables is ")+"trainable."));const{value:i,grads:a}=Xj.gradients(e,t,null,!0);vI(a.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),vI(0===i.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(i.rank," tensor")));const s={};return t.forEach(((e,t)=>{null!=a[t]&&(s[e.name]=a[t])})),null!=r&&r.forEach((e=>s[e.name]=null)),{value:i,grads:s}}function QD(e){return Xj.customGrad(e)}function eL(e){const t=e.filter((e=>null==e)).length;if(t>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function tL(e,t){if((uj(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&uj(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return uP(e,[],[],t)}const nL=new Map,rL=new Map;class oL{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class iL{constructor(){this.classNameMap={}}static getMap(){return null==iL.instance&&(iL.instance=new iL),iL.instance}static register(e){iL.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function aL(e,t,n){vI(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),vI("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),vI(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return iL.register(e),nL.set(r,e),rL.set(e,r),e}function sL(e){return rL.has(e)?rL.get(e):e.className}class cL extends oL{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:o}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:o[e.name]})));this.applyGradients(e)}else this.applyGradients(o);return SP(o),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return ZD(e,t)}dispose(){null!=this.iterations_&&SP(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:tL(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(cL,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class lL extends cL{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=Xj.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Xj.registeredVariables[t],o=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:kP((()=>qD(r).variable(o)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:kP((()=>qD(r).variable(o)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;kP((()=>{const e=UD(HD(a,this.rho),HD(KD(i),1-this.rho)),t=HD(WD(GD(UD(s,this.epsilon)),GD(UD(a,this.epsilon))),i),n=UD(HD(s,this.rho),HD(KD(t),1-this.rho));a.assign(e),s.assign(n);const o=UD(HD(t,-this.learningRate),r);r.assign(o)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(SP(this.accumulatedGrads.map((e=>e.variable))),SP(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function uL(e,t,n){eA(e);const r={shape:e,value:t,dtype:n=n||HI(t)};return Xj.runKernel(bO,{},r)}class dL extends cL{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Xj.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:kP((()=>uL(r.shape,this.initialAccumulatorValue).variable(e)))}}const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedGrads[n].variable;kP((()=>{const e=UD(i,KD(o));i.assign(e);const t=UD(HD(WD(o,GD(UD(e,Xj.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&SP(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const hL=cP({pow_:function(e,t){let n=iP(e,"base","pow"),r=iP(t,"exp","pow");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(bR,o)}});const pL=cP({sub_:function(e,t){let n=iP(e,"a","sub"),r=iP(t,"b","sub");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(hM,o)}});class fL extends cL{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],kP((()=>{this.accBeta1=tL(t).variable(),this.accBeta2=tL(n).variable()})),null==r&&(this.epsilon=Xj.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);kP((()=>{const n=pL(1,this.accBeta1),r=pL(1,this.accBeta2);t.forEach(((t,o)=>{const i=Xj.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:"".concat(t,"/m"),variable:kP((()=>qD(i).variable(a)))}),null==this.accumulatedSecondMoment[o]&&(this.accumulatedSecondMoment[o]={originalName:"".concat(t,"/v"),variable:kP((()=>qD(i).variable(a)))});const s=Array.isArray(e)?e[o].tensor:e[t];if(null==s)return;const c=this.accumulatedFirstMoment[o].variable,l=this.accumulatedSecondMoment[o].variable,u=UD(HD(c,this.beta1),HD(s,1-this.beta1)),d=UD(HD(l,this.beta2),HD(KD(s),1-this.beta2)),h=WD(u,n),p=WD(d,r);c.assign(u),l.assign(d);const f=UD(HD(WD(h,UD(GD(p),this.epsilon)),-this.learningRate),i);i.assign(f)})),this.accBeta1.assign(HD(this.accBeta1,this.beta1)),this.accBeta2.assign(HD(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&SP(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&SP(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),kP((()=>{this.accBeta1.assign(hL(this.beta1,this.iterations_+1)),this.accBeta2.assign(hL(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const mL=cP({abs_:function(e){const t=iP(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return Xj.runKernel(zA,e)}{const e={x:t};return Xj.runKernel(hA,e)}}});function gL(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function yL(e,t){const n=[];for(let r=0;r<t.length;r++){const o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function vL(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let o=0;o<n;o++){let i=e[e.length-o-1];null==i&&(i=1);let a=t[t.length-o-1];if(null==a&&(a=1),1===i)r[n-o-1]=a;else if(1===a)r[n-o-1]=i;else{if(i!==a){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}r[n-o-1]=i}}return r}const bL=cP({maximum_:function(e,t){let n=iP(e,"a","maximum"),r=iP(t,"b","maximum");[n,r]=zj(n,r),"bool"===n.dtype&&(n=FD(n,"int32"),r=FD(r,"int32")),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(JO,o)}});class xL extends cL{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],kP((()=>{this.iteration=tL(0).variable(),this.accBeta1=tL(t).variable()})),null==r&&(this.epsilon=Xj.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);kP((()=>{const n=pL(1,this.accBeta1),r=WD(-this.learningRate,UD(HD(this.iteration,this.decay),1));t.forEach(((t,o)=>{const i=Xj.registeredVariables[t],a=!1;null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:"".concat(t,"/m"),variable:qD(i).variable(a)}),null==this.accumulatedWeightedInfNorm[o]&&(this.accumulatedWeightedInfNorm[o]={originalName:"".concat(t,"/v"),variable:qD(i).variable(a)});const s=Array.isArray(e)?e[o].tensor:e[t];if(null==s)return;const c=this.accumulatedFirstMoment[o].variable,l=this.accumulatedWeightedInfNorm[o].variable,u=UD(HD(c,this.beta1),HD(s,1-this.beta1)),d=HD(l,this.beta2),h=mL(s),p=bL(d,h);c.assign(u),l.assign(p);const f=UD(HD(WD(r,n),WD(u,UD(p,this.epsilon))),i);i.assign(f)})),this.iteration.assign(UD(this.iteration,1)),this.accBeta1.assign(HD(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&SP(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&SP(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class wL extends cL{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);t.forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=Xj.registeredVariables[t];kP((()=>{const e=UD(HD(this.c,r),o);o.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=CP(tL(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class kL extends wL{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=tL(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Xj.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:kP((()=>qD(r).variable(e)))}}const o=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];null!=i&&kP((()=>{let e;const t=UD(HD(this.m,o),i);e=this.useNesterov?UD(HD(this.c,UD(i,HD(t,this.m))),r):UD(HD(this.c,t),r),o.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&SP(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class SL extends cL{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,null==r&&(this.epsilon=Xj.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Xj.registeredVariables[t],o=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:kP((()=>qD(r).variable(o)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:kP((()=>qD(r).variable(o)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:kP((()=>qD(r).variable(o)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;kP((()=>{const e=UD(HD(a,this.decay),HD(KD(i),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,o=UD(HD(t,this.decay),HD(i,1-this.decay)),c=WD(HD(i,this.learningRate),GD(pL(e,UD(KD(o),this.epsilon)))),l=UD(HD(s,this.momentum),c);a.assign(e),t.assign(o),s.assign(l);const u=pL(r,l);r.assign(u)}else{const e=UD(HD(a,this.decay),HD(KD(i),1-this.decay)),t=UD(HD(s,this.momentum),WD(HD(i,this.learningRate),GD(UD(e,this.epsilon))));a.assign(e),s.assign(t);const n=pL(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&SP(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&SP(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&SP(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const CL=[lL,dL,fL,xL,kL,SL,wL];function EL(e){return new Promise((e=>setTimeout(e))).then(e)}class _L{constructor(e){if(!sA().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(_L.URL_SCHEME)&&(e=e.slice(_L.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=pP.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=YP(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=r,await EL((()=>o.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await EL((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:$P(e)}}}}_L.URL_SCHEME="downloads://";class TL{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),o=r.modelTopology;if(null==o)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==r.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:o});const i=JP(r,(e=>this.loadWeights(e)));e(i)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const i of e)t.push(...i.weights),n.push(...i.paths);const r=this.checkManifestAndWeightFiles(e),o=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(o).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const o=new FileReader;o.onload=e=>{const t=e.target.result;n(t)},o.onerror=t=>r("Failed to weights data from file of path '".concat(e,"'.")),o.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>qP(e.name))),r={};for(const o of e)o.paths.forEach((e=>{const o=qP(e);if(-1!==t.indexOf(o))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(o,"'"));if(t.push(o),-1===n.indexOf(o))throw new Error("Weight file with basename '".concat(o,"' is not provided."));r[e]=this.weightsFiles[n.indexOf(o)]}));if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return r}}function NL(e){return new TL(e)}function IL(e,t,n,r){!function(e){vI(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){vI(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),vI(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),vI(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,r=null==r?1:r);let o=0;return Promise.all(e.map((i=>(i.then((i=>{const a=n+ ++o/e.length*(r-n);return t(a),i})),i))))}async function AL(e,t){null==t&&(t={});const n=null==t.fetchFunc?sA().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),o=(null==t.onProgress?await Promise.all(r):await IL(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(o):await IL(o,t.onProgress,.5,1)}async function OL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return RL((e=>AL(e,{requestInit:r})))(e,t,n)}function RL(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const o=t.map((()=>!1)),i={},a=null!=r?r.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const c="quantization"in e?e.quantization.dtype:e.dtype,l=hP[c]*wI(e.shape),u=()=>{o[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=r?r.forEach(((t,n)=>{t===e.name&&(u(),a[n]=!0)})):u(),s.push(e.name),n+=l}))})),!a.every((e=>e))){const e=r.filter(((e,t)=>!a[t]));throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."))}const c=o.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),l=[];c.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;l.push(t)}))}));const u=await e(l),d={};let h=0;return c.forEach((e=>{const n=t[e].paths.length,r=new pP(u.slice(h,h+n));i[e].forEach((e=>{const t=LP(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),h+=n})),d}}QP.registerSaveRouter((e=>sA().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(_L.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new _L(e)}(e.slice(_L.URL_SCHEME.length)):null));class ML{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(vI("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=sA().platform.fetch,vI(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&vI(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=YP(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=pP.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:$P(e),responses:[r]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(r.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(x2e){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return JP(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=ZP(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?sA().platform.fetch:t.fetchFunc;let o,i=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var a;i<e.length;){if(!o){const n=(await r(e[i],t.requestInit,{isBinary:!0})).body;o=n.getReader()}const{done:s,value:c}=await o.read();if(!s)return void n.enqueue(c);i++,o=void 0,null===(a=t.onProgress)||void 0===a||a.call(t,i/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),o=n>t?e.substring(n):"";return[r+"/",o]}(t),o=this.weightPathPrefix||n,i=[],a=[];for(const s of e)for(const e of s.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(e)):i.push(o+e+r);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(e){const t=await this.getWeightUrls(e);return[ZP(e),await AL(t,this.loadOptions)]}}function jL(e){return null!=e.match(ML.URL_SCHEME_REGEX)}ML.URL_SCHEME_REGEX=/^https?:\/\//;const PL=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>jL(e))):jL(e),n)return DL(e,t)}return null};function DL(e,t){return new ML(e,t)}function LL(e,t){return DL(e,t)}QP.registerSaveRouter(PL),QP.registerLoadRouter(PL);class FL{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class BL{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class zL{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function UL(e,t,n,r){return new zL(VL(...arguments))}function VL(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new FL(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new FL({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new FL({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function WL(e){return new BL(e)}function HL(e){return new BL(e)}const GL=cP({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=iP(e,"a","matMul"),i=iP(t,"b","matMul");[o,i]=zj(o,i);const a={a:o,b:i},s={transposeA:n,transposeB:r};return Xj.runKernel(AA,a,s)}});const KL=cP({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const i={indices:iP(e,"indices","oneHot","int32")},a={dtype:o,depth:t,onValue:n,offValue:r};return Xj.runKernel(mR,i,a)}});const qL=cP({imag_:function(e){const t={input:iP(e,"input","imag")};return Xj.runKernel(AO,t)}});const YL=cP({neg_:function(e){const t={x:iP(e,"x","neg")};return Xj.runKernel(lR,t)}});const XL=cP({real_:function(e){const t={input:iP(e,"input","real")};return Xj.runKernel(_R,t)}});const JL=cP({transpose_:function(e,t,n){const r=iP(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),vI(r.rank===t.length,(()=>"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{vI(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)))})),r.rank<=1)return r.clone();const o={x:r},i={perm:t};return"complex64"===r.dtype?kP((()=>{let e=XL(r),t=qL(r);return e=Xj.runKernel(vM,{x:e},i),t=Xj.runKernel(vM,{x:t},i),n&&(t=YL(t)),lP(e,t)})):Xj.runKernel(vM,o,i)}});const $L=cP({confusionMatrix_:function(e,t,n){const r=iP(e,"labels","confusionMatrix"),o=iP(t,"predictions","confusionMatrix");vI(null==n||n>0&&Number.isInteger(n),(()=>"If provided, numClasses must be a positive integer, "+"but got ".concat(n))),vI(1===r.rank,(()=>"Expected the rank of labels to be 1, but got ".concat(r.rank))),vI(1===o.rank,(()=>"Expected the rank of predictions to be 1, "+"but got ".concat(o.rank))),vI(r.shape[0]===o.shape[0],(()=>"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(o.shape[0],". ")+"Labels and predictions should have the same number of elements.")),vI(n>0&&Number.isInteger(n),(()=>"numClasses is required to be a positive integer, but got "+"".concat(n)));const i=KL(FD(r,"int32"),n),a=KL(FD(o,"int32"),n),s=JL(i),c=GL(s,a);return FD(c,"int32")}});function ZL(e,t,n){if(xI(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=nP(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return uP(e,t,r,n)}let QL,eF=!1;function tF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,o=!1,i=!1,a=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)a=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(null!=jM(EM,Xj.backendName)){const n={pixels:e},r={numChannels:t};return Xj.runKernel(EM,n,r)}const[c,l]=o?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,d;if(a)u=e.getContext("2d").getImageData(0,0,c,l).data;else if(r||n)u=e.data;else if(i||o||s){if(null==QL)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");QL=new OffscreenCanvas(1,1).getContext("2d")}else QL=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});QL.canvas.width=c,QL.canvas.height=l,QL.drawImage(e,0,0,c,l),u=QL.getImageData(0,0,c,l).data}if(4===t)d=new Int32Array(u);else{const e=c*l;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=u[4*n+e]}return ZL(d,[l,c,t],"int32")}function nF(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function rF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=null;if(sA().getBool("WRAP_TO_IMAGEBITMAP")&&nF(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(x2e){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return tF(n,t)}function oF(e){if(2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}async function iF(e,t){let n=iP(e,"img","toPixels");if(!(e instanceof Tj)){const e=n;n=FD(e,"int32"),e.dispose()}oF(n);const[r,o]=n.shape.slice(0,2),i=2===n.rank?1:n.shape[2],a=await n.data(),s="float32"===n.dtype?255:1,c=new Uint8ClampedArray(o*r*4);for(let l=0;l<r*o;++l){const e=[0,0,0,255];for(let r=0;r<i;r++){const t=a[l*i+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===n.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===i?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[r]=t*s}const t=4*l;c[t+0]=Math.round(e[0]),c[t+1]=Math.round(e[1]),c[t+2]=Math.round(e[2]),c[t+3]=Math.round(e[3])}if(null!=t){if(!eF){null!=jM(cO,Xj.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),eF=!0)}t.width=o,t.height=r;const e=t.getContext("2d"),n=new ImageData(c,o,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),c}function aF(e,t,n){let r=iP(e,"img","draw");if(!(e instanceof Tj)){const e=r;r=FD(e,"int32"),e.dispose()}oF(r),function(e){const t=(null===e||void 0===e?void 0:e.alpha)||1;if(t>1||t<0)throw new Error("Alpha value ".concat(t," is suppoed to be in range [0 - 1]."))}(null===n||void 0===n?void 0:n.imageOptions);const o={image:r},i={canvas:t,options:n};Xj.runKernel(cO,o,i)}const sF=cP({fromPixels_:tF});function cF(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===wI(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const o=t.shape,i=o[o.length-1];let a=1;for(let d=0;d<o.length-1;++d)a*=o[d];const s=e.shape,c=o.slice();c.pop();let l=1;for(let d=i;d<n;++d)l*=s[d],c.push(s[d]);const u=[...qI(e.shape).map((e=>e/l)),1].slice(0,i);return[c,a,l,u]}function lF(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(o,".");if(n.rank<o)throw new Error(i+" update.rank < ".concat(o,". "));if(e.length<r+(n.rank-o))throw new Error(i+" Output shape length < ".concat(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != ".concat(o+e.length-r));for(let a=0;a<o;++a)if(n.shape[a]!==t.shape[a])throw new Error(i+" updates.shape[".concat(a,"] (").concat(n.shape[a],") != indices.shape[").concat(a,"] (").concat(t.shape[a],")."));for(let a=0;a<n.rank-o;++a)if(n.shape[a+o]!==e[a+r])throw new Error(i+" updates.shape[".concat(a+o,"] (").concat(n.shape[a+o],") != shape[").concat(a+o,"] (").concat(e[a+o],")"))}function uF(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}lF(n,t,e)}function dF(e,t,n){const r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length;let a=1;for(let c=o;c<i;++c)a*=n[c];const s=o<1?1:o;return{sliceRank:o,numUpdates:wI(t.shape)/s,sliceSize:a,strides:[...qI(n.slice(0,o)),1],outputSize:wI(n)}}const hF=-2,pF=-1;function fF(e,t,n){const r=e.shape.length;vI(r===t.length,(()=>"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,")."))),vI(r===n.length,(()=>"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")));for(let o=0;o<r;++o)vI(t[o]+n[o]<=e.shape[o],(()=>"Error in slice".concat(r,"D: begin[").concat(o,"] + size[").concat(o,"] ")+"(".concat(t[o]+n[o],") would overflow input.shape[").concat(o,"] (").concat(e.shape[o],")")))}function mF(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function gF(e,t,n){const r=[];for(let o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function yF(e,t,n,r){const o=[...e];for(let i=o.length;i<r.length;i++)o.push(1);for(let i=0;i<n;i++)0===i?o[t]=1:(o.splice(t,0,1),o.pop());return o}function vF(e,t,n){return n<=e?n:n-(t-1)}function bF(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function xF(e,t,n,r,o,i,a,s,c){const l=e.length;let u=new Array(l),d=new Array(l),h=new Array(l);if(t.length&&n>0){const c=t[0],l=n+1;u=wF(a,c,l,r,e),d=kF(s,c,l,o,e),h=yF(i,c,l,e)}else for(let p=0;p<l;p++)u[p]=CF(a,r,i,e,p,c),d[p]=EF(s,o,i,e,p,c),h[p]=SF(i,p,c);return{begin:u,end:d,strides:h}}function wF(e,t,n,r,o){const i=[...o],a=bF(n,t);for(let s=0;s<i.length;s++)if(a.indexOf(s)>-1)i[s]=0;else{const o=vF(t,n,s);let a=r[o];e&1<<o&&(a=0),i[s]=a}return i}function kF(e,t,n,r,o){const i=[...o],a=bF(n,t);for(let s=0;s<i.length;s++)if(a.indexOf(s)>-1)i[s]=Number.MAX_SAFE_INTEGER;else{const o=vF(t,n,s);let a=r[o];e&1<<o&&(a=Number.MAX_SAFE_INTEGER),i[s]=a}for(let s=0;s<i.length;s++){const e=o[s];i[s]<0&&(i[s]+=e),i[s]=hI(0,i[s],o[s])}return i}function SF(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function CF(e,t,n,r,o,i){let a=t[o];const s=n[o]||1;(e&1<<o||i&1<<o||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const c=r[o];return a<0&&(a+=c),a=hI(0,a,c-1),a}function EF(e,t,n,r,o,i){let a=t[o];const s=n[o]||1;(e&1<<o||i&1<<o||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const c=r[o];return a<0&&(a+=c),a=s>0?hI(0,a,c):hI(-1,a,c-1),a}function _F(e,t,n){let r=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(let o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function TF(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function NF(e,t,n){let r;const o=e.shape.length;let i;return r="number"===typeof t?[t,...new Array(o-1).fill(0)]:t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice(),r.forEach((e=>{vI(-1!==e,(()=>"slice() does not support negative begin indexing."))})),i=null==n?new Array(o).fill(-1):"number"===typeof n?[n,...new Array(o-1).fill(-1)]:n.length<o?n.concat(new Array(o-n.length).fill(-1)):n,i=i.map(((t,n)=>t>=0?t:(vI(-1===t,(()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,"."))),e.shape[n]-r[n]))),[r,i]}function IF(e,t,n,r,o,i,a,s,c){let l;if(null==r?(l=new Array(t.length),l.fill(1)):l=r,null!=a&&0!==(a&a-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:l.slice(),beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:c};for(let v=0;v<d.dims;v++)u&&0!==(1<<v&s)&&d.numAddAxisAfterEllipsis++,1<<v&a&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const o=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<o;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(hF),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(pF),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,h);let p=!0,f=!0,m=!0;const g=[],y=[];for(let v=0;v<e.length;++v){if(0===h.strides[v])throw Error("strides[".concat(v,"] must be non-zero"));const t=!!(h.shrinkAxisMask&1<<v),n=e[v];if(-1===n){g.push(t?1:-1);continue}const r=[h.beginMask&1<<v,h.endMask&1<<v],o=[h.strides[v]>0?0:-1,h.strides[v]>0?n:n-1];if(t&&h.strides[v]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===h.strides[v];const i=!!(h.beginMask&1<<v&&h.endMask&1<<v);if(h.beginValid&&h.endValid){if(t){const e=h.begin[v]<0?n+h.begin[v]:h.begin[v];if(h.begin[v]=e,h.end[v]=h.begin[v]+1,e<0||e>=n)throw Error("slice index ".concat(h.begin[v]," of dimension ").concat(v," out of bounds."))}else h.begin[v]=AF(h.begin[v],0,h.strides[v],n,r,o),h.end[v]=AF(h.end[v],1,h.strides[v],n,r,o);const e=1===h.strides[v]&&0===h.begin[v]&&h.end[v]===n;p=p&&e,f=f&&(0===v&&1===h.strides[v]||e)}else p=p&&1===h.strides[v]&&i,f=f&&(0===v&&1===h.strides[v]||i);let a,s=!1;if(h.beginValid&&h.endValid?(a=h.end[v]-h.begin[v],s=!0):t?(a=1,s=!0):i&&n>=0&&(a=h.strides[v]<0?-n:n,s=!0),s){let e;e=0===a||a<0!==h.strides[v]<0?0:Math.trunc(a/h.strides[v])+(a%h.strides[v]!==0?1:0),g.push(e)}else g.push(-1)}for(let v=0;v<h.finalShapeGatherIndices.length;++v){const e=h.finalShapeGatherIndices[v];e>=0?y.push(g[e]):e===hF&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>h.finalShapeGatherIndices[t]!==hF)),finalShape:y,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function AF(e,t,n,r,o,i){if(o[t])return n>0?i[t]:i[t+1&1];{const t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}const OF=.001,RF=.1;function MF(e,t,n){return null==n&&(n=jF()),PF(e,t,((e,t)=>BF(e,t,n)))}function jF(){return 32===Xj.backend.floatPrecision()?OF:RF}function PF(e,t,n){let r=!0;if((uj(e)||uj(t))&&(r=!1),uj(e)&&uj(t)&&(r=!0),r){const n=e.constructor.name,r=t.constructor.name;if(n!==r)throw new Error("Arrays are of different type. Actual: ".concat(n,". ")+"Expected: ".concat(r))}if(Array.isArray(e)&&Array.isArray(t)){const n=nP(e),r=nP(t);if(!CI(n,r))throw new Error("Arrays have different shapes. "+"Actual: [".concat(n,"]. Expected: [").concat(r,"]"))}const o=uj(e)?e:dj(e),i=uj(t)?t:dj(t);if(o.length!==i.length)throw new Error("Arrays have different lengths actual: ".concat(o.length," vs ")+"expected: ".concat(i.length,".\n")+"Actual:   ".concat(o,".\n")+"Expected: ".concat(i,"."));for(let a=0;a<i.length;++a){const e=o[a],t=i[a];if(!n(e,t))throw new Error("Arrays differ: actual[".concat(a,"] = ").concat(e,", expected[").concat(a,"] = ").concat(t,".\n")+"Actual:   ".concat(o,".\n")+"Expected: ".concat(i,"."))}"undefined"!==typeof expect&&expect().nothing()}function DF(e,t){e().then((()=>t.fail()),(()=>t())),"undefined"!==typeof expect&&expect().nothing()}function LF(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return UI(e)||UI(e[0])||UI(t)||UI(t[0])?PF(e,n,((e,t)=>e==t)):PF(e,t,((e,t)=>BF(e,t,0)))}function FF(e,t,n){if(null==n&&(n=jF()),!BF(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function BF(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function zF(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function UF(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(let o=0;o<r.length;o++)if(n[o]!==r[o])throw new Error("Expected ArrayBuffer value at ".concat(o," to be ")+"".concat(r[o]," but got ").concat(n[o]," instead"))}function VF(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?VF(n):e[t]=cj(n)}return e}function WF(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((e=>{t.addEventListener("loadeddata",(n=>e(t))),t.load()}))}async function HF(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise((t=>{e.requestVideoFrameCallback(t)}))}const GF="4.22.0";class KF{static sgd(e){return new wL(e)}static momentum(e,t){return new kL(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new SL(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new fL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new lL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new xL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new dL(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}const qF=cP({acos_:function(e){const t={x:iP(e,"x","acos")};return Xj.runKernel(pA,t)}});const YF=cP({acosh_:function(e){const t={x:iP(e,"x","acosh")};return Xj.runKernel(fA,t)}});const XF=cP({addN_:function(e){vI(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),vI(e.length>=1,(()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)));const t=e.map(((e,t)=>iP(e,"tensors".concat(t),"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!CI(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return Xj.runKernel(gA,r)}});const JF=cP({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:iP(e,"x","all","bool")},o={axis:t,keepDims:n};return Xj.runKernel(yA,r,o)}});const $F=cP({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:iP(e,"x","any","bool")},o={axis:t,keepDims:n};return Xj.runKernel(vA,r,o)}});const ZF=cP({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:iP(e,"x","argMax")},r={axis:t};return Xj.runKernel(bA,n,r)}});const QF=cP({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:iP(e,"x","argMin")},r={axis:t};return Xj.runKernel(xA,n,r)}});const eB=cP({asin_:function(e){const t={x:iP(e,"x","asin")};return Xj.runKernel(wA,t)}});const tB=cP({asinh_:function(e){const t={x:iP(e,"x","asinh")};return Xj.runKernel(kA,t)}});const nB=cP({atan_:function(e){const t={x:iP(e,"x","atan")};return Xj.runKernel(SA,t)}});const rB=cP({atan2_:function(e,t){let n=iP(e,"a","atan2"),r=iP(t,"b","atan2");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(EA,o)}});const oB=cP({atanh_:function(e){const t={x:iP(e,"x","atanh")};return Xj.runKernel(CA,t)}});function iB(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0;return cB(e,[...t,e[3]],n,i,r,null,null,vB(o))}function aB(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[s,c]=dB(t);let l;if("channelsLast"===a)l=[s,c,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat ".concat(a));l=[s,c,e[1],e[1]]}return cB(e,l,n,r,o,i,!1,a)}function sB(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[s,c,l]=hB(t);let u,d;if("NDHWC"===a)d="channelsLast",u=[s,c,l,e[4],e[4]];else{if("NCDHW"!==a)throw new Error("Unknown dataFormat ".concat(a));d="channelsFirst",u=[s,c,l,e[1],e[1]]}return lB(e,u,n,r,o,!1,d,i)}function cB(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[c,l,u,d]=[-1,-1,-1,-1];if("channelsLast"===s)[c,l,u,d]=e;else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));[c,d,l,u]=e}const[h,p,,f]=t,[m,g]=dB(n),[y,v]=dB(r),b=pB(h,y),x=pB(p,v),{padInfo:w,outHeight:k,outWidth:S}=function(e,t,n,r,o,i,a,s,c){let l,u,d;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,o){null==r&&(r=uB(e,t,n));const i=e[0],a=e[1],s=fB((i-t+2*r)/n+1,o),c=fB((a-t+2*r)/n+1,o);return[s,c]}([t,n],i,r,e,s);u=o[0],d=o[1]}else if("same"===e){u=Math.ceil(t/r),d=Math.ceil(n/o);const e=Math.max(0,(u-1)*r+i-t),s=Math.max(0,(d-1)*o+a-n),c=Math.floor(e/2),h=e-c,p=Math.floor(s/2);l={top:c,bottom:h,left:p,right:s-p,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-i+1)/r),d=Math.ceil((n-a+1)/o);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const h="channelsLast"===c?e[1][0]:e[2][0],p="channelsLast"===c?e[1][1]:e[2][1],f="channelsLast"===c?e[2][0]:e[3][0],m="channelsLast"===c?e[2][1]:e[3][1];l={top:h,bottom:p,left:f,right:m,type:0===h&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},u=fB((t-i+h+p)/r+1,s),d=fB((n-a+f+m)/o+1,s)}}return{padInfo:l,outHeight:u,outWidth:d}}(o,l,u,m,g,b,x,i,s),C=a?f*d:f;let E;return"channelsFirst"===s?E=[c,C,k,S]:"channelsLast"===s&&(E=[c,k,S,C]),{batchSize:c,dataFormat:s,inHeight:l,inWidth:u,inChannels:d,outHeight:k,outWidth:S,outChannels:C,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:h,filterWidth:p,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:v,inShape:e,outShape:E,filterShape:t}}function lB(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,[c,l,u,d,h]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[c,l,u,d,h]=e;else{if("channelsFirst"!==a)throw new Error("Unknown dataFormat ".concat(a));[c,h,l,u,d]=e}const[p,f,m,,g]=t,[y,v,b]=hB(n),[x,w,k]=hB(r),S=pB(p,x),C=pB(f,w),E=pB(m,k),{padInfo:_,outDepth:T,outHeight:N,outWidth:I}=function(e,t,n,r,o,i,a,s,c,l,u){let d,h,p,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,o,i){null==o&&(o=uB(e,t[0],r[0]));const a=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*o>=t[s]&&(a[s]=fB((e[s]-t[s]+2*o)/r[s]+1,i));return a}([t,n,r,1],[s,c,l],1,[o,i,a],e,u);h=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));{h=Math.ceil(t/o),p=Math.ceil(n/i),f=Math.ceil(r/a);const e=(h-1)*o+s-t,u=(p-1)*i+c-n,m=(f-1)*a+l-r,g=Math.floor(e/2),y=e-g,v=Math.floor(u/2),b=u-v,x=Math.floor(m/2);d={top:v,bottom:b,left:x,right:m-x,front:g,back:y,type:"SAME"}}}return{padInfo:d,outDepth:h,outHeight:p,outWidth:f}}(o,l,u,d,y,v,b,S,C,E,s),A=i?g*h:g;let O;return"channelsFirst"===a?O=[c,A,T,N,I]:"channelsLast"===a&&(O=[c,T,N,I,A]),{batchSize:c,dataFormat:a,inDepth:l,inHeight:u,inWidth:d,inChannels:h,outDepth:T,outHeight:N,outWidth:I,outChannels:A,padInfo:_,strideDepth:y,strideHeight:v,strideWidth:b,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:C,effectiveFilterWidth:E,dilationDepth:x,dilationHeight:w,dilationWidth:k,inShape:e,outShape:O,filterShape:t}}function uB(e,t,n){const r=pB(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function dB(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function hB(e){return"number"===typeof e?[e,e,e]:e}function pB(e,t){return t<=1?e:e+(e-1)*(t-1)}function fB(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function mB(e){const[t,n,r]=dB(e);return 1===t&&1===n&&1===r}function gB(e,t){return mB(e)||mB(t)}function yB(e){return dB(e).every((e=>e>0))}function vB(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function bB(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)vI(EI(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{vI(EI(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const xB=cP({reshape_:function(e,t){const n={x:iP(e,"x","reshape","string_or_numeric")},r={shape:t};return Xj.runKernel(IR,n,r)}});const wB=cP({avgPool_:function(e,t,n,r,o){const i=iP(e,"x","avgPool","float32");vI(gB(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let a=i,s=!1;3===i.rank&&(s=!0,a=xB(i,[1,i.shape[0],i.shape[1],i.shape[2]])),vI(4===a.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(a.rank,"."))),bB("avgPool",r,o);const c={x:a},l={filterSize:t,strides:n,pad:r,dimRoundingMode:o};let u=Xj.runKernel(_A,c,l);return u=FD(u,i.dtype),s?xB(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const kB=cP({avgPool3d_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const a=iP(e,"x","avgPool3d","float32");let s=a,c=!1;4===a.rank&&(c=!0,s=xB(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),vI(5===s.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(s.rank,"."))),vI("NDHWC"===i,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i))),vI("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'"))),bB("avgPool3d",r,o);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:i};let d=Xj.runKernel(NA,l,u);return d=FD(d,s.dtype),c?xB(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const SB=cP({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vI(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=aP(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return BD(n[0]);const r=n,o={axis:t};return Xj.runKernel(UA,r,o)}});const CB=cP({sigmoid_:function(e){const t={x:iP(e,"x","sigmoid","float32")};return Xj.runKernel(qR,t)}});const EB=cP({slice_:function(e,t,n){const r=iP(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const o={x:r},i={begin:t,size:n};return Xj.runKernel(WR,o,i)}});const _B=cP({tanh_:function(e){const t={x:iP(e,"x","tanh","float32")};return Xj.runKernel(fM,t)}});const TB=cP({basicLSTMCell_:function(e,t,n,r,o,i){const a=iP(e,"forgetBias","basicLSTMCell"),s=iP(t,"lstmKernel","basicLSTMCell"),c=iP(n,"lstmBias","basicLSTMCell"),l=iP(r,"data","basicLSTMCell"),u=iP(o,"c","basicLSTMCell"),d=iP(i,"h","basicLSTMCell"),h=SB([l,d],1),p=GL(h,s),f=UD(p,c),m=f.shape[0],g=f.shape[1]/4,y=[m,g],v=EB(f,[0,0],y),b=EB(f,[0,g],y),x=EB(f,[0,2*g],y),w=EB(f,[0,3*g],y),k=UD(HD(CB(v),_B(b)),HD(u,CB(UD(a,x))));return[k,HD(_B(k),CB(w))]}});const NB=cP({batchToSpaceND_:function(e,t,n){const r=iP(e,"x","batchToSpaceND"),o=t.reduce(((e,t)=>e*t));vI(r.rank>=1+t.length,(()=>"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(t.length))),vI(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),vI(r.shape[0]%o===0,(()=>"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(o)));const i={x:r},a={blockShape:t,crops:n};return Xj.runKernel(OA,i,a)}});const IB=cP({batchNorm_:function(e,t,n,r,o,i){null==i&&(i=.001);const a=iP(e,"x","batchNorm"),s=iP(t,"mean","batchNorm"),c=iP(n,"variance","batchNorm");let l,u;null!=o&&(l=iP(o,"scale","batchNorm")),null!=r&&(u=iP(r,"offset","batchNorm")),vI(s.rank===c.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),vI(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),vI(null==l||s.rank===l.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d=function(e){let t;return t=0===e.rank||1===e.rank?xB(e,[1,1,1,e.size]):2===e.rank?xB(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?xB(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(a),h={x:d,scale:l,offset:u,mean:s,variance:c},p={varianceEpsilon:i},f=Xj.runKernel(SO,h,p);return xB(f,a.shape)}});const AB=cP({batchNorm2d_:function(e,t,n,r,o,i){const a=iP(e,"x","batchNorm"),s=iP(t,"mean","batchNorm"),c=iP(n,"variance","batchNorm");let l,u;return null!=o&&(l=iP(o,"scale","batchNorm")),null!=r&&(u=iP(r,"offset","batchNorm")),vI(2===a.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(a.rank,"."))),vI(2===s.rank||1===s.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(s.rank,"."))),vI(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=l&&vI(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&vI(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),IB(a,s,c,u,l,i)}});const OB=cP({batchNorm3d_:function(e,t,n,r,o,i){const a=iP(e,"x","batchNorm"),s=iP(t,"mean","batchNorm"),c=iP(n,"variance","batchNorm");let l,u;return null!=o&&(l=iP(o,"scale","batchNorm")),null!=r&&(u=iP(r,"offset","batchNorm")),vI(3===a.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(a.rank,"."))),vI(3===s.rank||1===s.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(s.rank,"."))),vI(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=l&&vI(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&vI(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),IB(a,s,c,u,l,i)}});const RB=cP({batchNorm4d_:function(e,t,n,r,o,i){const a=iP(e,"x","batchNorm"),s=iP(t,"mean","batchNorm"),c=iP(n,"variance","batchNorm");let l,u;return null!=o&&(l=iP(o,"scale","batchNorm")),null!=r&&(u=iP(r,"offset","batchNorm")),vI(4===a.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(a.rank,"."))),vI(4===s.rank||1===s.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(s.rank,"."))),vI(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=l&&vI(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=u&&vI(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),IB(a,s,c,u,l,i)}});const MB=cP({bincount_:function(e,t,n){const r=iP(e,"x","bincount"),o=iP(t,"weights","bincount");vI("int32"===r.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(r.dtype))),vI(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),vI(o.size===r.size||0===o.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(r.shape,", weights shape: ")+"".concat(o.shape,".")));const i={x:r,weights:o},a={size:n};return Xj.runKernel(RA,i,a)}});const jB=cP({bitwiseAnd_:function(e,t){const n=iP(e,"x","bitwiseAnd"),r=iP(t,"y","bitwiseAnd");if(!CI(n.shape,r.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(r.shape));if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(r.dtype));const o={a:n,b:r};return Xj.runKernel(MA,o)}});const PB=cP({broadcastArgs_:function(e,t){const n=iP(e,"s0","broadcastArgs","int32"),r=iP(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==r.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(r.rank));const o={s0:n,s1:r};return Xj.runKernel(PA,o)}});const DB=cP({broadcastTo_:function(e,t){let n=iP(e,"broadcastTo","x");const r=n.shape;if(eA(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=xB(n,e)}const o=n.shape,i=Array.from(t);for(let l=t.length-1;l>=0;l--)if(o[l]===t[l])i[l]=1;else if(1!==n.shape[l])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(t,"]."));const a=i.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0));if(0===a.length)return BD(n);const s={x:n},c={reps:i};return Xj.runKernel(mM,s,c)}});const LB=cP({ceil_:function(e){const t={x:iP(e,"x","ceil","float32")};return Xj.runKernel(LA,t)}});const FB=cP({clipByValue_:function(e,t,n){const r=iP(e,"x","clipByValue");if(vI(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return uL(r.shape,t,r.dtype);const o={x:r},i={clipValueMin:t,clipValueMax:n};return Xj.runKernel(FA,o,i)}});const BB=cP({concat1d_:function(e){return SB(e,0)}});const zB=cP({concat2d_:function(e,t){return SB(e,t)}});const UB=cP({concat3d_:function(e,t){return SB(e,t)}});const VB=cP({concat4d_:function(e,t){return SB(e,t)}});const WB=cP({conv2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0;const s=iP(e,"x","conv2d","float32"),c=iP(t,"filter","conv2d","float32");let l=s,u=!1;3===s.rank&&(u=!0,l=xB(s,[1,s.shape[0],s.shape[1],s.shape[2]])),vI(4===l.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(l.rank,"."))),vI(4===c.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(c.rank,"."))),bB("conv2d",r,a);const d="NHWC"===o?l.shape[3]:l.shape[1];vI(d===c.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(c.shape[2],"."))),vI(gB(n,i),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'"))),vI(yB(i),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),vI(yB(n),(()=>"Error in conv2D: Strides should be larger than 0."));const h={x:l,filter:c},p={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},f=Xj.runKernel(VA,h,p);return u?xB(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const HB=cP({conv1d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const s=iP(e,"x","conv1d"),c=iP(t,"filter","conv1d");let l=s,u=!1;2===s.rank&&(u=!0,l=xB(s,[1,s.shape[0],s.shape[1]])),vI(3===l.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(l.rank,"."))),vI(3===c.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(c.rank,"."))),bB("conv1d",r,a),vI(l.shape[2]===c.shape[1],(()=>"Error in conv1d: depth of input (".concat(l.shape[2],") must match ")+"input depth for filter ".concat(c.shape[1],"."))),vI(gB(n,i),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(i,"'"))),vI(yB(i),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),vI(yB(n),(()=>"Error in conv1D: Stride should be larger than 0.")),vI("NWC"===o,(()=>"Error in conv1d: got dataFormat of ".concat(o," but only NWC is currently supported.")));const d=xB(c,[1,c.shape[0],c.shape[1],c.shape[2]]),h=xB(l,[l.shape[0],1,l.shape[1],l.shape[2]]),p=WB(h,d,[1,n],r,"NHWC",[1,i],a);return xB(p,u?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const GB=cP({conv2DBackpropInput_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",a=arguments.length>6?arguments[6]:void 0;vI(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let s=e,c=t,l=!1;3===t.rank&&(l=!0,c=xB(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),vI(4===s.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,"."))),vI(4===c.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(c.rank))),vI(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const u="NHWC"===i?s[3]:s[1],d="NHWC"===i?c.shape[3]:c.shape[1];vI(u===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),vI(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),bB("conv2dDerInput",o,a);const h={dy:c,filter:n},p={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,inputShape:s},f=Xj.runKernel(HA,h,p);return l?xB(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const KB=cP({conv2dTranspose_:function(e,t,n,r,o,i){const a=iP(e,"x","conv2dTranspose"),s=iP(t,"filter","conv2dTranspose");return GB(n,a,s,r,o,"NHWC",i)}});const qB=cP({conv3d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const a=iP(e,"x","conv3d"),s=iP(t,"filter","conv3d");let c=a,l=!1;4===a.rank&&(l=!0,c=xB(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),vI(5===c.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(c.rank,"."))),vI(5===s.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,"."))),vI(c.shape[4]===s.shape[3],(()=>"Error in conv3d: depth of input (".concat(c.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],"."))),vI(gB(n,i),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'"))),vI("NDHWC"===o,(()=>"Error in conv3d: got dataFormat of ".concat(o," but only NDHWC is currently supported."))),vI(yB(i),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),vI(yB(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:c,filter:s},d={strides:n,pad:r,dataFormat:o,dilations:i},h=Xj.runKernel(GA,u,d);return l?xB(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const YB=cP({conv3DBackpropInput_:function(e,t,n,r,o){vI(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let i=e,a=t,s=!1;4===t.rank&&(s=!0,a=xB(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const c=i[4],l=a.shape[4];vI(5===i.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(i.length,"."))),vI(5===a.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(a.rank))),vI(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),vI(c===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(c,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),vI(l===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(l,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const u={dy:a,filter:n},d={pad:o,strides:r,inputShape:i},h=Xj.runKernel(qA,u,d);return s?xB(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const XB=cP({conv3dTranspose_:function(e,t,n,r,o){const i=iP(e,"x","conv3dTranspose"),a=iP(t,"filter","conv3dTranspose");return YB(n,i,a,r,o)}});const JB=cP({cos_:function(e){const t={x:iP(e,"x","cos","float32")};return Xj.runKernel(YA,t)}});const $B=cP({cosh_:function(e){const t={x:iP(e,"x","cosh","float32")};return Xj.runKernel(XA,t)}});const ZB=cP({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={x:iP(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return Xj.runKernel(JA,o,i)}});const QB=cP({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={x:iP(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return Xj.runKernel($A,o,i)}});const ez=cP({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=iP(e,"x","denseBincount"),i=iP(t,"weights","denseBincount");vI("int32"===o.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(o.dtype))),vI(o.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(o.rank,"."))),vI(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),vI(i.size===o.size||0===i.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(o.shape,", weights shape: ")+"".concat(i.shape,".")));const a={x:o,weights:i},s={size:n,binaryOutput:r};return Xj.runKernel(QA,a,s)}});const tz=cP({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=iP(e,"x","depthToSpace","float32"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];vI(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),vI(o*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(r.shape))),vI(i*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(i," and ").concat(t," for depthToSpace with input shape\n        ").concat(r.shape))),vI(a%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(a," for depthToSpace with input shape ").concat(r.shape)));const s={x:r},c={blockSize:t,dataFormat:n};return Xj.runKernel(eO,s,c)}});const nz=cP({depthwiseConv2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0;const s=iP(e,"x","depthwiseConv2d","float32"),c=iP(t,"filter","depthwiseConv2d","float32");let l=s,u=!1;3===s.rank&&(u=!0,l=xB(s,[1,s.shape[0],s.shape[1],s.shape[2]])),vI(4===l.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,"."))),vI(4===c.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(c.rank,".")));const d="NHWC"===o?l.shape[3]:l.shape[1];vI(d===c.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(c.shape[2],"."))),bB("depthwiseConv2d",r,a);const h={x:l,filter:c},p={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},f=Xj.runKernel(tO,h,p);return u?xB(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const rz=cP({diag_:function(e){const t={x:iP(e,"x","diag")};return Xj.runKernel(oO,t)}});const oz=cP({dilation2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const a=iP(e,"x","dilation2d"),s=iP(t,"filter","dilation2d");vI(3===a.rank||4===a.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(a.rank,"."))),vI(3===s.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(s.rank,"."))),vI("NHWC"===i,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(i)));let c=a,l=!1;3===a.rank&&(c=xB(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=!0),vI(c.shape[3]===s.shape[2],(()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(c.shape[3]," vs ").concat(s.shape[2])));const u={x:c,filter:s},d={strides:n,pad:r,dilations:o},h=Xj.runKernel(iO,u,d);return l?xB(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const iz=cP({equal_:function(e,t){let n=iP(e,"a","equal","string_or_numeric"),r=iP(t,"b","equal","string_or_numeric");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(fO,o)}});const az=cP({where_:function(e,t,n){const r=iP(t,"a","where"),o=iP(n,"b","where"),i=iP(e,"condition","where","bool"),a=vL(vL(i.shape,r.shape),o.shape),s={condition:DB(i,a),t:DB(r,a),e:DB(o,a)};return Xj.runKernel(UR,s)}});const sz=cP({divNoNan_:function(e,t){let n=iP(e,"a","div"),r=iP(t,"b","div");[n,r]=zj(n,r);const o=WD(n,r),i=qD(o),a=iz(r,i);return az(a,i,o)}});const cz=cP({dot_:function(e,t){const n=iP(e,"t1","dot"),r=iP(t,"t2","dot");vI((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(vI(o===i,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(o," and ").concat(i,"."))),1===n.rank&&1===r.rank){const e=xB(n,[1,-1]),t=xB(r,[-1,1]),o=GL(e,t);return xB(o,[])}if(1===n.rank&&2===r.rank){const e=xB(n,[1,-1]),t=xB(r,[r.shape[0],r.shape[1]]),o=GL(e,t);return xB(o,[o.size])}if(2===n.rank&&1===r.rank){const e=xB(r,[-1,1]),t=GL(n,e);return xB(t,[t.size])}{const e=xB(r,[r.shape[0],r.shape[1]]);return GL(n,e)}}});const lz=cP({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(((e,t)=>iP(e,"tensors".concat(t),"einsum"))),i={equation:e};return Xj.runKernel(uO,o,i)}});const uz=cP({elu_:function(e){const t={x:iP(e,"x","elu","float32")};return Xj.runKernel(dO,t)}});const dz=cP({ensureShape_:function(e,t){const n=iP(e,"x","ensureShape","string_or_numeric");if(!SI(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});const hz=cP({erf_:function(e){let t=iP(e,"x","erf");vI("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=FD(t,"float32"));const n={x:t};return Xj.runKernel(pO,n)}});function pz(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function fz(e,t,n){const r=e.length+t.length,o=[];let i=0,a=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function mz(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((t=>e[t]))]}function gz(e,t){return fz(e,t.map((e=>1)),t)}function yz(e,t,n){vI(pz(t,n),(()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")))}function vz(e,t){if(pz(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function bz(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function xz(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const wz=cP({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:iP(e,"x","max")},o={reductionIndices:t,keepDims:n};return Xj.runKernel(XO,r,o)}});const kz=cP({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:iP(e,"x","min")},o={axis:t,keepDims:n};return Xj.runKernel(rR,r,o)}});const Sz=cP({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=iP(e,"x","sum");"bool"===r.dtype&&(r=FD(r,"int32"));const o={x:r},i={axis:t,keepDims:n};return Xj.runKernel(JR,o,i)}});function Cz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return mL(e);if(1!==e.rank&&null===n)return Cz(xB(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Sz(mL(e),n);if(t===1/0)return wz(mL(e),n);if(t===-1/0)return kz(mL(e),n);if("euclidean"===t||2===t)return GD(Sz(hL(mL(e),tL(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return wz(Sz(mL(e),n[0]),n[1]-1);if(t===1/0)return wz(Sz(mL(e),n[1]),n[0]);if(t===-1/0)return kz(Sz(mL(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return GD(Sz(KD(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const Ez=cP({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Cz(e=iP(e,"x","norm"),t,n);let i=o.shape;if(r){const t=RI(n,e.shape);i=gz(o.shape,t)}return xB(o,i)}});const _z=cP({euclideanNorm_:function(e){return Ez(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const Tz=cP({exp_:function(e){const t={x:iP(e,"x","exp")};return Xj.runKernel(mO,t)}});const Nz=cP({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=iP(e,"x","expandDims","string_or_numeric");vI(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},o={dim:t};return Xj.runKernel(gO,r,o)}});const Iz=cP({expm1_:function(e){const t={x:iP(e,"x","expm1")};return Xj.runKernel(yO,t)}});const Az=cP({tile_:function(e,t){const n=iP(e,"x","tile","string_or_numeric");vI(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const r={x:n},o={reps:t};return Xj.runKernel(mM,r,o)}});const Oz=cP({eye_:function(e,t,n){null==t&&(t=e);const r=LD([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),o=e<=t?e:t;for(let a=0;a<o;++a)r.set(1,a,a);const i=xB(r.toTensor(),[e,t]);if(null==n)return i;if(1===n.length)return Az(Nz(i,0),[n[0],1,1]);if(2===n.length)return Az(Nz(Nz(i,0),0),[n[0],n[1],1,1]);if(3===n.length)return Az(Nz(Nz(Nz(i,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const Rz=cP({floor_:function(e){const t={x:iP(e,"x","floor","float32")};return Xj.runKernel(wO,t)}});const Mz=cP({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o={x:iP(e,"x","gather"),indices:iP(t,"indices","gather","int32")},i={axis:n,batchDims:r};return Xj.runKernel(CO,o,i)}});const jz=cP({greater_:function(e,t){let n=iP(e,"a","greater","string_or_numeric"),r=iP(t,"b","greater","string_or_numeric");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(_O,o)}});const Pz=cP({greaterEqual_:function(e,t){let n=iP(e,"a","greaterEqual","string_or_numeric"),r=iP(t,"b","greaterEqual","string_or_numeric");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(TO,o)}});const Dz=cP({isFinite_:function(e){const t={x:iP(e,"x","isFinite")};return Xj.runKernel(OO,t)}});const Lz=cP({isInf_:function(e){const t={x:iP(e,"x","isInf")};return Xj.runKernel(RO,t)}});const Fz=cP({isNaN_:function(e){const t={x:iP(e,"x","isNaN")};return Xj.runKernel(MO,t)}});const Bz=cP({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:iP(e,"x","leakyRelu")},r={alpha:t};return Xj.runKernel(jO,n,r)}});const zz=cP({less_:function(e,t){let n=iP(e,"a","less","string_or_numeric"),r=iP(t,"b","less","string_or_numeric");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(PO,o)}});const Uz=cP({lessEqual_:function(e,t){let n=iP(e,"a","lessEqual","string_or_numeric"),r=iP(t,"b","lessEqual","string_or_numeric");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(DO,o)}});function Vz(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return Xj.runKernel(LO,{},r)}const Wz=cP({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const i=iP(e,"x","localResponseNormalization");vI(4===i.rank||3===i.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(i.rank,"."))),vI(EI(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let a=i,s=!1;3===i.rank&&(s=!0,a=xB(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const c={x:a},l={depthRadius:t,bias:n,alpha:r,beta:o},u=Xj.runKernel(KO,c,l);return s?xB(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Hz=cP({log_:function(e){const t={x:iP(e,"x","log","float32")};return Xj.runKernel(FO,t)}});const Gz=cP({log1p_:function(e){const t={x:iP(e,"x","log1p")};return Xj.runKernel(BO,t)}});const Kz=cP({softplus_:function(e){const t={x:iP(e,"x","softplus")};return Xj.runKernel(YR,t)}});const qz=cP({logSigmoid_:function(e){const t=iP(e,"x","logSigmoid"),n=QD((e=>({value:YL(Kz(YL(e))),gradFunc:t=>HD(t,CB(YL(e)))})));return n(t)}});const Yz=cP({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=iP(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const r=QD(((e,n)=>{const r=wz(e,t,!0),o=pL(e,r),i=pL(FD(o,"float32"),Hz(Sz(Tz(o),t,!0)));n([i]);return{value:i,gradFunc:(e,n)=>{const[r]=n,o=Tz(r);return pL(e,HD(Sz(e,t,!0),o))}}}));return r(n)}});const Xz=cP({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=iP(e,"x","logSumExp"),o=RI(t,r.shape),i=wz(r,o,!0),a=pL(r,i),s=Tz(a),c=Sz(s,o),l=Hz(c),u=UD(xB(i,l.shape),l);if(n){const e=gz(u.shape,o);return xB(u,e)}return u}});const Jz=cP({logicalAnd_:function(e,t){const n=iP(e,"a","logicalAnd","bool"),r=iP(t,"b","logicalAnd","bool");vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(zO,o)}});const $z=cP({logicalNot_:function(e){const t={x:iP(e,"x","logicalNot","bool")};return Xj.runKernel(UO,t)}});const Zz=cP({logicalOr_:function(e,t){const n=iP(e,"a","logicalOr","bool"),r=iP(t,"b","logicalOr","bool");vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(VO,o)}});const Qz=cP({logicalXor_:function(e,t){const n=iP(e,"a","logicalXor","bool"),r=iP(t,"b","logicalXor","bool");return vL(n.shape,r.shape),Jz(Zz(e,t),$z(Jz(e,t)))}}),eU=2147483648;const tU=cP({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=iP(e,"sortedSequence","searchSorted"),o=iP(t,"values","searchSorted"),i=r.shape[r.shape.length-1],a=o.shape[o.shape.length-1],s=xB(r,[-1,i]),c=xB(o,[-1,a]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(wI(c.shape)>=eU)throw new Error("values tensor size must less than ".concat(eU));if(s.shape[1]>=eU)throw new Error("trailing dim_size must less than ".concat(eU," for int32 output type, was ").concat(s.shape[1]));const l={sortedSequence:s,values:c},u={side:n};return Xj.runKernel(zR,l,u)}});function nU(e,t){return tU(e,t,"left")}const rU=cP({maxPool_:function(e,t,n,r,o){const i=iP(e,"x","maxPool");let a=i,s=!1;3===i.rank&&(s=!0,a=xB(i,[1,i.shape[0],i.shape[1],i.shape[2]])),vI(4===a.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(a.rank,"."))),vI(gB(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),bB("maxPool",r,o);const c={x:a},l={filterSize:t,strides:n,pad:r,dimRoundingMode:o},u=Xj.runKernel($O,c,l);return s?xB(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const oU=cP({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const a=iP(e,"x","maxPool3d");let s=a,c=!1;4===a.rank&&(c=!0,s=xB(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),vI(5===s.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(s.rank,"."))),vI("NDHWC"===i,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i))),bB("maxPool3d",r,o);const l={x:s},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:i},d=Xj.runKernel(QO,l,u);return c?xB(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const iU=cP({maxPoolWithArgmax_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i={x:iP(e,"x","maxPoolWithArgmax")},a={filterSize:t,strides:n,pad:r,includeBatchInIndex:o},s=Xj.runKernel(tR,i,a);return{result:s[0],indexes:s[1]}}});const aU=cP({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:iP(e,"x","mean")},o={axis:t,keepDims:n};return Xj.runKernel(nR,r,o)}});function sU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(eA(e),"complex64"===t){const t=sU(e,"float32"),n=sU(e,"float32");return lP(t,n)}const n=ZI(wI(e),t);return Xj.makeTensor(n,e,t)}function cU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(eA(e),"complex64"===t){const t=cU(e,"float32"),n=sU(e,"float32");return lP(t,n)}const n=$I(wI(e),t);return Xj.makeTensor(n,e,t)}function lU(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let r=iP(e,"x","meshgrid",e instanceof Tj?e.dtype:"float32");if(void 0===t)return[r];let o=iP(t,"y","meshgrid",t instanceof Tj?t.dtype:"float32");const i=wI(r.shape),a=wI(o.shape);return"xy"===n?(r=xB(r,[1,-1]),o=xB(o,[-1,1]),[GL(cU([a,1],r.dtype),r),GL(o,cU([1,i],o.dtype))]):(r=xB(r,[-1,1]),o=xB(o,[1,-1]),[GL(r,cU([1,a],r.dtype)),GL(cU([i,1],o.dtype),o)])}const uU=cP({minimum_:function(e,t){let n=iP(e,"a","minimum"),r=iP(t,"b","minimum");[n,r]=zj(n,r),"bool"===n.dtype&&(n=FD(n,"int32"),r=FD(r,"int32")),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(oR,o)}});const dU=cP({mirrorPad_:function(e,t,n){vI("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const r=iP(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");vI(t.length===r.rank,(()=>"Padding doesn't match input. Must be ".concat(r.rank,". ")+"Got ".concat(t.length,".")));const o="reflect"===n?1:0;for(let s=0;s<r.rank;s++)vI(2===t[s].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),vI(t[s][0]>=0&&t[s][0]<=r.shape[s]-o&&t[s][1]>=0&&t[s][1]<=r.shape[s]-o,(()=>"Padding in dimension ".concat(s," cannot be greater than or equal ")+"to ".concat(r.shape[s]-o," or less than 0 for input of ")+"shape ".concat(r.shape)));const i={paddings:t,mode:n},a={x:r};return Xj.runKernel(iR,a,i)}});const hU=cP({mod_:function(e,t){let n=iP(e,"a","mod"),r=iP(t,"b","mod");[n,r]=zj(n,r);const o={a:n,b:r};return Xj.runKernel(aR,o)}});const pU=cP({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=RI(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=iP(e,"x","moments")).shape),r=aU(e,n,t);let o=r.shape;t||(o=gz(r.shape,n));const i=KD(pL(FD(e,"float32"),xB(r,o)));return{mean:r,variance:aU(i,n,t)}}});const fU=cP({multiRNNCell_:function(e,t,n,r){const o=iP(t,"data","multiRNNCell"),i=aP(n,"c","multiRNNCell"),a=aP(r,"h","multiRNNCell");let s=o;const c=[];for(let d=0;d<e.length;d++){const t=e[d](s,i[d],a[d]);c.push(t[0]),c.push(t[1]),s=t[1]}const l=[],u=[];for(let d=0;d<c.length;d+=2)l.push(c[d]),u.push(c[d+1]);return[l,u]}});const mU=cP({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=iP(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(i,"."));if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(a));n=n||Math.random();const s={logits:1===a?xB(o,[1,-1]):o},c={numSamples:t,seed:n,normalized:r},l=Xj.runKernel(sR,s,c);return 1===a?xB(l,[l.size]):l}});const gU=cP({notEqual_:function(e,t){let n=iP(e,"a","notEqual","string_or_numeric"),r=iP(t,"b","notEqual","string_or_numeric");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(uR,o)}});const yU=cP({onesLike_:function(e){const t={x:iP(e,"x","onesLike")};return Xj.runKernel(fR,t)}});const vU=cP({outerProduct_:function(e,t){const n=iP(e,"v1","outerProduct"),r=iP(t,"v2","outerProduct");vI(1===n.rank&&1===r.rank,(()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")));const o=xB(n,[-1,1]),i=xB(r,[1,-1]);return GL(o,i)}});const bU=cP({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=iP(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:t,constantValue:n},i={x:r};return Xj.runKernel(yR,i,o)}});const xU=cP({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vI(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),bU(e,[t],n)}});const wU=cP({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vI(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),bU(e,t,n)}});const kU=cP({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vI(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),bU(e,t,n)}});const SU=cP({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return vI(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),bU(e,t,n)}});const CU=cP({spaceToBatchND_:function(e,t,n){const r=iP(e,"x","spaceToBatchND");vI(r.rank>=1+t.length,(()=>"input rank ".concat(r.rank," should be > than [blockShape] ").concat(t.length))),vI(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),vI(r.shape.reduce(((e,r,o)=>o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]===0:e),!0),(()=>"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const o={x:r},i={blockShape:t,paddings:n};return Xj.runKernel($R,o,i)}});const EU=cP({pool_:function(e,t,n,r,o,i,a){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");const s=iP(e,"x","maxPool");let c=s,l=!1;3===s.rank&&(l=!0,c=xB(s,[1,s.shape[0],s.shape[1],s.shape[2]])),vI(gB(i,o),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(o,"'")));const u=aB(c.shape,t,i,o,r),d=[u.dilationHeight,u.dilationWidth];let h;h="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),o=r.map((e=>Math.floor(e/2))),i=r.map(((e,t)=>e-o[t]));return r.map(((e,t)=>[o[t],i[t]]))}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];const p=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),o=n.map((e=>e[1])),i=e.concat(r,o),a=t.map(((e,t)=>(e-i[t]%e)%e)),s=o.map(((e,t)=>e+a[t])),c=t.map(((e,t)=>[r[t],s[t]])),l=t.map(((e,t)=>[0,a[t]]));return[c,l]}([u.inHeight,u.inWidth],d,h),g=p?r:"valid",y=p?c:CU(c,d,f),v=("avg"===n?()=>wB(y,t,i,g,a):()=>rU(y,t,i,g,a))(),b=p?v:NB(v,d,m);return l?xB(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const _U=cP({prelu_:function(e,t){const n={x:iP(e,"x","prelu"),alpha:iP(t,"alpha","prelu")};return Xj.runKernel(xR,n)}});const TU=cP({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=iP(e,"x","prod");"bool"===r.dtype&&(r=FD(r,"int32"));const o={x:r},i={axis:t,keepDims:n};return Xj.runKernel(wR,o,i)}});const NU=cP({raggedGather_:function(e,t,n,r){const o={paramsNestedSplits:e.map(((e,t)=>iP(e,"tensors".concat(t),"raggedGather","int32"))),paramsDenseValues:iP(t,"paramsDenseValues","raggedGather"),indices:iP(n,"indices","raggedGather","int32")},i={outputRaggedRank:r},a=Xj.runKernel(kR,o,i);return{outputNestedSplits:a.slice(0,a.length-1),outputDenseValues:a[a.length-1]}}});const IU=cP({raggedRange_:function(e,t,n){const r=iP(e,"starts","raggedRange"),o={starts:r,limits:iP(t,"limits","raggedRange",r.dtype),deltas:iP(n,"deltas","raggedRange",r.dtype)},i=Xj.runKernel(SR,o);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}});const AU=cP({raggedTensorToTensor_:function(e,t,n,r,o){const i=iP(e,"shape","raggedTensorToTensor","int32"),a=iP(t,"values","raggedTensorToTensor"),s={shape:i,values:a,defaultValue:iP(n,"defaultValue","raggedTensorToTensor",a.dtype),rowPartitionTensors:r.map(((e,t)=>iP(e,"tensors".concat(t),"raggedTensorToTensor","int32")))},c={rowPartitionTypes:o};return Xj.runKernel(CR,s,c)}});const OU=cP({rand_:function(e,t,n){eA(e);const r=wI(e);let o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));o=new Uint8Array(r)}for(let i=0;i<r;i++)o[i]=t();return Xj.makeTensor(o,e,n)}});var RU=n(4334);class MU{constructor(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const i=o||Math.random();this.random=RU.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,o,i;do{r=2*this.random()-1,o=2*this.random()-1,i=r*r+o*o}while(i>=1||0===i);const a=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*a,t=this.mean+this.stdDev*o*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class jU{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const o=r||Math.random();this.randu=RU.alea(o.toString()),this.randn=new MU(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,o,i;for(;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-i+Math.log(i)),o=this.randu(),o<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class PU{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=RU.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const DU=cP({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;if(eA(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));const i=new jU(t,n,r,o),a=LD(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const LU=cP({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(eA(e),null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));const i=new MU(t,n,r,!1,o),a=LD(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const FU=cP({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return LU(e,0,1,t,n)}});const BU=cP({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;eA(e);const i=LD(e,r),a=new PU(t,n,null,o);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});const zU=cP({randomUniformInt_:function(e,t,n,r){return BU(e,t,n,"int32",r)}});function UU(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:r};return Xj.runKernel(ER,{},o)}const VU=cP({reciprocal_:function(e){const t={x:iP(e,"x","reciprocal")};return Xj.runKernel(TR,t)}});const WU=cP({relu_:function(e){const t={x:iP(e,"x","relu")};return Xj.runKernel(NR,t)}});const HU=cP({relu6_:function(e){const t={x:iP(e,"x","relu6")};return Xj.runKernel(jR,t)}});const GU=cP({reverse_:function(e,t){const n={x:iP(e,"x","reverse")},r={dims:t};return Xj.runKernel(PR,n,r)}});const KU=cP({reverse1d_:function(e){const t=iP(e,"x","reverse");return vI(1===t.rank,(()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,"."))),GU(t,0)}});const qU=cP({reverse2d_:function(e,t){const n=iP(e,"x","reverse");return vI(2===n.rank,(()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,"."))),GU(n,t)}});const YU=cP({reverse3d_:function(e,t){const n=iP(e,"x","reverse");return vI(3===n.rank,(()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,"."))),GU(n,t)}});const XU=cP({reverse4d_:function(e,t){const n=iP(e,"x","reverse");return vI(4===n.rank,(()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,"."))),GU(n,t)}});const JU=cP({round_:function(e){const t={x:iP(e,"x","round")};return Xj.runKernel(DR,t)}});const $U=cP({rsqrt_:function(e){const t={x:iP(e,"x","rsqrt","float32")};return Xj.runKernel(LR,t)}});const ZU=cP({selu_:function(e){const t={x:iP(e,"x","selu")};return Xj.runKernel(VR,t)}});const QU=cP({separableConv2d_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const s=iP(e,"x","separableConv2d"),c=iP(t,"depthwiseFilter","separableConv2d"),l=iP(n,"pointwiseFilter","separableConv2d");let u=s,d=!1;if(3===s.rank&&(d=!0,u=xB(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");vI(4===u.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),vI(4===c.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(c.rank,"."))),vI(4===l.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(c.rank,"."))),vI(1===l.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(l.shape[0],"."))),vI(1===l.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(l.shape[1],".")));const h=c.shape[2],p=c.shape[3];vI(l.shape[2]===h*p,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*p,", ")+"but got ".concat(l.shape[2],".")));const f=nz(u,c,r,o,a,i),m=WB(f,l,1,"valid",a);return d?xB(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const eV=async function(e,t){const n=iP(e,"x","setdiff1d"),r=iP(t,"y","setdiff1d");vI(n.dtype===r.dtype,(()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(r.dtype,")."))),vI(1===n.rank,(()=>"x should be 1D tensor, but got x (".concat(n.shape,")."))),vI(1===r.rank,(()=>"y should be 1D tensor, but got y (".concat(r.shape,").")));const o=await n.data(),i=await r.data(),a=new Set(i);let s=0;for(let u=0;u<o.length;u++)a.has(o[u])||s++;const c=new Sj([s],n.dtype),l=new Sj([s],"int32");for(let u=0,d=0;u<o.length;u++)a.has(o[u])||(c.values[d]=o[u],l.values[d]=u,d++);return[c.toTensor(),l.toTensor()]};const tV=cP({sign_:function(e){const t={x:iP(e,"x","sign")};return Xj.runKernel(KR,t)}});const nV=cP({sin_:function(e){const t={x:iP(e,"x","sin","float32")};return Xj.runKernel(HR,t)}});const rV=cP({sinh_:function(e){const t={x:iP(e,"x","sinh")};return Xj.runKernel(GR,t)}});const oV=cP({slice1d_:function(e,t,n){const r=iP(e,"x","slice1d");return vI(1===r.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor"))),EB(r,[t],[n])}});const iV=cP({slice2d_:function(e,t,n){const r=iP(e,"x","slice2d");return vI(2===r.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor"))),EB(r,t,n)}});const aV=cP({slice3d_:function(e,t,n){const r=iP(e,"x","slice3d");return vI(3===r.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor"))),EB(r,t,n)}});const sV=cP({slice4d_:function(e,t,n){const r=iP(e,"x","slice4d");return vI(4===r.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor"))),EB(r,t,n)}});const cV=cP({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=iP(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const r={logits:n},o={dim:t};return Xj.runKernel(QR,r,o)}});const lV=cP({fft_:function(e){vI("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return Xj.runKernel(vO,t)}});const uV=cP({ifft_:function(e){vI("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return Xj.runKernel(IO,t)}});const dV=cP({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const o=xB(e,[n,t]);r=uV(o)}else{const o=[n,2*(t-1)],i=xB(XL(e),[n,t]),a=xB(qL(e),[n,t]),s=GU(EB(i,[0,1],[n,t-2]),1),c=HD(GU(EB(a,[0,1],[n,t-2]),1),tL(-1)),l=SB([i,s],1),u=SB([a,c],1),d=xB(lP(l,u),[o[0],o[1]]);r=uV(d)}if(r=XL(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=xB(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const hV=cP({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:iP(e,"x","split")},o={numOrSizeSplits:t,axis:n};return Xj.runKernel(ZR,r,o)}});const pV=cP({rfft_:function(e,t){vI("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const r=e.size/n;let o;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,o=EB(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,o=SB([e,sU(r)],e.shape.length-1),n=t}else o=e;const i=qD(o),a=xB(lP(o,i),[r,n]),s=lV(a),c=Math.floor(n/2)+1,l=XL(s),u=qL(s),d=hV(l,[c,n-c],l.shape.length-1),h=hV(u,[c,n-c],u.shape.length-1),p=o.shape.slice();return p[o.shape.length-1]=c,xB(lP(d[0],h[0]),p)}});const fV=cP({squaredDifference_:function(e,t){let n=iP(e,"a","squaredDifference"),r=iP(t,"b","squaredDifference");[n,r]=zj(n,r),vL(n.shape,r.shape);const o={a:n,b:r};return Xj.runKernel(iM,o,{})}});const mV=cP({squeeze_:function(e,t){const n=iP(e,"x","squeeze","string_or_numeric");return xB(n,MI(n.shape,t).newShape)}});const gV=cP({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=aP(e,"tensors","stack","string_or_numeric");vI(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&vI(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,o={axis:t};return Xj.runKernel(gR,r,o)}});const yV=cP({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:iP(e,"x","step")},r={alpha:t};return Xj.runKernel(CM,n,r)}});const vV=cP({stridedSlice_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const l={x:iP(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:r,beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:c};return Xj.runKernel(cM,l,u)}});const bV=cP({tan_:function(e){const t={x:iP(e,"x","tan","float32")};return Xj.runKernel(pM,t)}});function xV(e,t){xI(e);const n=nP(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return uP(e,null,n,t)}function wV(e,t,n){if(xI(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=nP(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return uP(e,t,r,n)}function kV(e,t,n){if(xI(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=nP(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return uP(e,t,r,n)}function SV(e,t,n){if(xI(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=nP(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return uP(e,t,r,n)}function CV(e,t,n){if(xI(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=nP(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return uP(e,t=t||r,r,n)}const EV=cP({tensorScatterUpdate_:function(e,t,n){const r=iP(e,"tensor","tensorScatterupdate"),o=iP(t,"indices","tensorScatterupdate","int32"),i=iP(n,"updates","tensorScatterupdate");if(uF(i,o,r.shape),r.dtype!==i.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(r.dtype," and ").concat(i.dtype,"."));const a={tensor:r,indices:o,updates:i};return Xj.runKernel(BR,a,{})}});const _V=cP({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=iP(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(o,") ")+"but got ".concat(t));const i={x:r},a={k:t,sorted:n},[s,c]=Xj.runKernel(gM,i,a);return{values:s,indices:c}}});const TV=cP({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(eA(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new MU(t,n,r,!0,o),a=LD(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const NV=cP({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=iP(e,"x","unique","string_or_numeric");vI(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},o={axis:t},[i,a]=Xj.runKernel(bM,r,o);return{values:i,indices:a}}});const IV=cP({unsortedSegmentSum_:function(e,t,n){const r=iP(e,"x","unsortedSegmentSum"),o=iP(t,"segmentIds","unsortedSegmentSum","int32");vI(EI(n),(()=>"numSegments must be of dtype int"));const i={x:r,segmentIds:o},a={numSegments:n};return Xj.runKernel(wM,i,a)}});const AV=cP({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=iP(e,"x","unstack","string_or_numeric");vI(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const r={value:n},o={axis:t};return Xj.runKernel(xM,r,o)}});function OV(e,t){return tU(e,t,"right")}function RV(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return Xj.makeVariable(e,t,n,r)}function MV(e,t){const n=[];for(let i=0;i<t.length;i++)t[i]&&n.push(i);const r=LD(e,"int32"),o=LD([n.length,e.length],"int32");for(let i=0;i<n.length;i++){const t=r.indexToLoc(n[i]),a=i*e.length;o.values.set(t,a)}return o.toTensor()}const jV=async function(e){const t=iP(e,"condition","whereAsync","bool"),n=await t.data(),r=MV(t.shape,n);return e!==t&&t.dispose(),r};const PV=async function(e,t,n){const r=iP(e,"tensor","boolMask"),o=iP(t,"mask","boolMask","bool"),i=null==n?0:n,a=o.rank,s=r.shape;vI(a>0,(()=>"mask cannot be scalar")),bI(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let m=i;m<i+a;m++)c*=s[m];const l=s.slice(0,i).concat([c],s.slice(i+a)),u=xB(r,l),d=xB(o,[-1]),h=await jV(d),p=mV(h,[1]),f=Mz(u,p,i);return e!==r&&r.dispose(),t!==o&&o.dispose(),p.dispose(),u.dispose(),d.dispose(),h.dispose(),f};const DV=cP({movingAverage_:function(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const i=iP(e,"v","movingAverage"),a=iP(t,"x","movingAverage"),s=iP(n,"decay","movingAverage");Uj(i,a),vI(CI(i.shape,a.shape),(()=>"Shape mismatch in v and x"));const c=tL(1),l=pL(c,s);let u=HD(pL(a,i),l);if(o){vI(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=iP(r,"step","movingAverage");u=WD(u,pL(c,hL(s,e)))}return UD(i,u)}});const LV=cP({scatterND_:function(e,t,n){eA(n);const r=iP(e,"indices","scatterND","int32"),o=iP(t,"updates","scatterND");uF(o,r,n);const i={indices:r,updates:o},a={shape:n};return Xj.runKernel(FR,i,a)}});const FV=cP({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;eA(n);const o=iP(e,"sparseIndices","sparseToDense","int32"),i=iP(t,"sparseValues","sparseToDense","string_or_numeric"),a=iP(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));const a=t.size;if(0!==t.rank&&(1!==t.rank||a!==o))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(o,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,n,a);const s={sparseIndices:o,sparseValues:i,defaultValue:a},c={outputShape:n};return Xj.runKernel(oM,s,c)}});const BV=cP({gatherND_:function(e,t){const n=iP(t,"indices","gatherND","int32"),r={params:iP(e,"x","gatherND","string_or_numeric"),indices:n};return Xj.runKernel(EO,r)}});const zV=cP({dropout_:function(e,t,n,r){const o=iP(e,"x","dropout");if(vI("float32"===o.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(o.dtype," tensor instead."))),vI(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof Tj?o.clone():o;const i=function(e,t){if(null==t)return e.shape.slice();if(CI(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=WD(Rz(UD(BU(i,0,1,"float32",r),a)),a);return HD(o,s)}});function UV(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function VV(e,t,n){const r=1-e%2,o=new Float32Array(e);for(let i=0;i<e;++i){const a=2*Math.PI*i/(e+r-1);o[i]=t-n*Math.cos(a)}return xV(o,"float32")}const WV=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=iP(e,"predictions","inTopK"),o=iP(t,"targets","inTopK");vI(r.rank>1,(()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(r.rank))),vI(r.rank-1===o.rank,(()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(r.rank," and targets rank ").concat(o.rank))),bI(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];vI(n>0&&n<=i,(()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(i,"), but got ").concat(n)));const a=await r.data(),s=await o.data(),[c,l]=[a.length/i,i],u=jI("bool",c);for(let d=0;d<c;d++){const e=d*l,t=a.subarray(e,e+l),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),u[d]=0;for(let o=0;o<n;o++)if(r[o].index===s[d]){u[d]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),dP(u,o.shape,"bool")};const HV=cP({conv2DBackpropFilter_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",a=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=xB(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c=t;3===c.rank&&(c=xB(t,[1,t.shape[0],t.shape[1],t.shape[2]])),vI(4===s.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,"."))),vI(4===c.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(c.shape,"."))),vI(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const l="NHWC"===i?s.shape[3]:s.shape[1],u="NHWC"===i?c.shape[3]:c.shape[1];vI(l===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(l,") must ")+"match input depth in filter (".concat(n[2],"."))),vI(u===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],")."))),bB("conv2dDerFilter",o,a);const d={x:s,dy:c},h={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,filterShape:n};return Xj.runKernel(WA,d,h)}});function GV(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return HD(e,yV(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function KV(e,t){let n=t;const r=yL(e.shape,t.shape);return r.length>0&&(n=Sz(n,r)),xB(n,e.shape)}function qV(e,t,n,r){if("linear"===t)return e;if("relu"===t)return WU(e);if("elu"===t)return uz(e);if("relu6"===t)return HU(e);if("prelu"===t)return _U(e,n);if("leakyrelu"===t)return Bz(e,r);if("sigmoid"===t)return CB(e);throw new Error("Unknown fused activation ".concat(t,"."))}const YV=(e,t)=>!(e>0)||"linear"===t;const XV=cP({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:o,dataFormat:i="NHWC",dilations:a=[1,1],dimRoundingMode:s,bias:c,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(l=l||"linear",!1===YV(Xj.state.gradientDepth,l)){vI("NHWC"===i,(()=>"Error in fused conv2d: got dataFormat of ".concat(i," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=WB(t,n,r,o,i,a,s);return null!=c&&(e=UD(e,c)),qV(e,l,u,d)}const h=iP(t,"x","conv2d","float32"),p=iP(n,"filter","conv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=xB(h,[1,h.shape[0],h.shape[1],h.shape[2]])),vI(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),vI(4===p.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(p.rank,"."))),bB("fused conv2d",o,s);const g="NHWC"===i?f.shape[3]:f.shape[1];vI(p.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(p.shape[2],"."))),vI(gB(r,a),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(a,"'")));const y=cB(f.shape,p.shape,r,a,o,s);let v,b;if(null!=c&&(v=iP(c,"bias","fused conv2d"),[v]=zj(v,h),"NHWC"===i?vL(y.outShape,v.shape):(vI(v.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(v.shape.length,"."))),vI(0===v.shape.length||v.shape[0]===y.outChannels||1===v.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(v.shape,") is not ")+"compatible with the number of output channels "+"(".concat(y.outChannels,")"))))),null!=u){const e=u.shape;if(vI(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)vI(1===e[0]||e[0]===y.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(y.outChannels,").")));else if(3===e.length)try{vL(e,y.outShape)}catch(x2e){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(y.outShape,").");throw Error(n)}b=iP(u,"prelu weights","fused conv2d")}const x=(e,t)=>{vI("NHWC"===i,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(i," but only NHWC is currently supported.")));const[n,s,c,u]=t,d=GV(e,c,l);vI(mB(a),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(a,"'")));const h=[GB(s.shape,d,n,r,o),HV(s,d,n.shape,r,o)];if(null!=u){const e=KV(u,d);h.push(e)}return h},w={x:f,filter:p,bias:v,preluActivationWeights:b},k={strides:r,pad:o,dataFormat:i,dilations:a,dimRoundingMode:s,activation:l,leakyreluAlpha:d};if(null==c){const e=QD(((e,t,n)=>{let r=Xj.runKernel(NM,w,k);return n([t,e,r]),m&&(r=xB(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,p)}{const e=QD(((e,t,n,r)=>{let o=Xj.runKernel(NM,w,k);return r([t,e,o,n]),m&&(o=xB(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:x}}));return e(f,p,v)}}});const JV=cP({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=xB(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let c=t;3===c.rank&&(c=xB(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const l={x:s,dy:c},u={strides:r,pad:o,dimRoundingMode:a,dilations:i,filterShape:n};return Xj.runKernel(nO,l,u)}});const $V=cP({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],a=arguments.length>6?arguments[6]:void 0,s=t,c=!1;3===t.rank&&(c=!0,s=xB(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const l={dy:s,filter:n},u={strides:r,pad:o,dimRoundingMode:a,dilations:i,inputShape:e},d=Xj.runKernel(rO,l,u);return c?xB(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const ZV=cP({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:o,dataFormat:i="NHWC",dilations:a=[1,1],dimRoundingMode:s,bias:c,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(!1===YV(Xj.state.gradientDepth,l)){let e=nz(t,n,r,o,i,a,s);return null!=c&&(e=UD(e,c)),qV(e,l,u,d)}const h=iP(t,"x","depthwiseConv2d","float32"),p=iP(n,"filter","depthwiseConv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=xB(h,[1,h.shape[0],h.shape[1],h.shape[2]])),vI(4===f.rank,(()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,"."))),vI(4===p.rank,(()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(p.rank,"."))),vI(f.shape[3]===p.shape[2],(()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(p.shape[2],"."))),null==a&&(a=[1,1]),vI(gB(r,a),(()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(a,"'"))),bB("fused depthwiseConv2d",o,s);const g=cB(f.shape,p.shape,r,a,o,s,!0);let y,v;null!=c&&(y=iP(c,"bias","fused conv2d"),[y]=zj(y,h),vL(g.outShape,y.shape)),null!=u&&(v=iP(u,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{vI(mB(a),(()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(a,"'")));const[n,i,c,u]=t,d=GV(e,c,l),h=$V(i.shape,d,n,r,o,a,s),p=JV(i,d,n.shape,r,o,a,s);if(null!=u){return[h,p,KV(y,d)]}return[h,p]},x={x:f,filter:p,bias:y,preluActivationWeights:v},w={strides:r,pad:o,dataFormat:i,dilations:a,dimRoundingMode:s,activation:l,leakyreluAlpha:d};if(null==c){const e=QD(((e,t,n)=>{let r=Xj.runKernel(IM,x,w);return n([t,e,r]),m&&(r=xB(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,p)}{const e=QD(((e,t,n,r)=>{let o=Xj.runKernel(IM,x,w);return r([t,e,o,n]),m&&(o=xB(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:b}}));return e(f,p,y)}}});const QV=cP({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:o=!1,bias:i,activation:a="linear",preluActivationWeights:s,leakyreluAlpha:c=.2}=e;if(!1===YV(Xj.state.gradientDepth,a)){let e=GL(t,n,r,o);return null!=i&&(e=UD(e,i)),qV(e,a,s,c)}let l=iP(t,"a","fused matMul"),u=iP(n,"b","fused matMul");[l,u]=zj(l,u);const d=r?l.shape[l.rank-2]:l.shape[l.rank-1],h=o?u.shape[u.rank-1]:u.shape[u.rank-2],p=r?l.shape[l.rank-1]:l.shape[l.rank-2],f=o?u.shape[u.rank-2]:u.shape[u.rank-1],m=l.shape.slice(0,-2),g=u.shape.slice(0,-2),y=wI(m),v=wI(g);vI(d===h,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(l.shape," and ")+"".concat(u.shape," and transposeA=").concat(r)+" and transposeB=".concat(o," must match.")));const b=vL(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,f]),x=xB(l,r?[y,d,p]:[y,p,d]),w=xB(u,o?[v,f,h]:[v,h,f]);let k,S;null!=i&&(k=iP(i,"bias","fused matMul"),[k]=zj(k,l),vL(b,k.shape)),null!=s&&(S=iP(s,"prelu weights","fused matMul"));const C=(e,t)=>{const[n,s,c,l]=t,u=GV(xB(e,c.shape),c,a);let d,h;if(r||o?!r&&o?(d=GL(u,s,!1,!1),h=GL(u,n,!0,!1)):r&&!o?(d=GL(s,u,!1,!0),h=GL(n,u,!1,!1)):(d=GL(s,u,!0,!0),h=GL(u,n,!0,!0)):(d=GL(u,s,!1,!0),h=GL(n,u,!0,!1)),null!=i){return[d,h,KV(l,u)]}return[d,h]},E={a:x,b:w,bias:k,preluActivationWeights:S},_={transposeA:r,transposeB:o,activation:a,leakyreluAlpha:c};if(null==i){const e=QD(((e,t,n)=>{const r=Xj.runKernel(TM,E,_);return n([e,t,r]),{value:xB(r,b),gradFunc:C}}));return e(x,w)}{const e=QD(((e,t,n,r)=>{const o=Xj.runKernel(TM,E,_);return r([e,t,o,n]),{value:xB(o,b),gradFunc:C}}));return e(x,w,k)}}});const eW=cP({hammingWindow_:function(e){return VV(e,.54,.46)}});const tW=cP({hannWindow_:function(e){return VV(e,.5,.5)}});const nW=cP({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0;const a=[];for(;i+t<=e.size;)a.push(EB(e,i,t)),i+=n;if(r)for(;i<e.size;){const r=i+t-e.size,s=SB([EB(e,i,t-r),uL([r],o)]);a.push(s),i+=n}return 0===a.length?wV([],[0,t]):xB(SB(a),[a.length,t])}});const rW=cP({stft_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tW;null==r&&(r=UV(t));const i=nW(e,t,n),a=HD(i,o(t));return pV(a,r)}});const oW=cP({cropAndResize_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=iP(e,"image","cropAndResize"),s=iP(t,"boxes","cropAndResize","float32"),c=iP(n,"boxInd","cropAndResize","int32"),l=s.shape[0];vI(4===a.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(a.rank,"."))),vI(2===s.rank&&4===s.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(l,",4] ")+"but had shape ".concat(s.shape,"."))),vI(1===c.rank&&c.shape[0]===l,(()=>"Error in cropAndResize: boxInd must be have size [".concat(l,"] ")+"but had shape ".concat(s.shape,"."))),vI(2===r.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,"."))),vI(r[0]>=1&&r[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(r))),vI("bilinear"===o||"nearest"===o,(()=>"method must be bilinear or nearest, but was ".concat(o)));const u={image:a,boxes:s,boxInd:c},d={method:o,extrapolationValue:i,cropSize:r};return Xj.runKernel(ZA,u,d)}});const iW=cP({flipLeftRight_:function(e){const t=iP(e,"image","flipLeftRight","float32");vI(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return Xj.runKernel(xO,n,{})}});const aW=cP({grayscaleToRGB_:function(e){const t=iP(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];vI(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),vI(1===r,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")));const o=new Array(t.rank);return o.fill(1,0,n),o[n]=3,Az(t,o)}});const sW=cP({rgbToGrayscale_:function(e){const t=iP(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];vI(t.rank>=2,(()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),vI(3===r,(()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(r,".")));const o=t.dtype,i=FD(t,"float32"),a=xV([.2989,.587,.114]);let s;switch(t.rank){case 2:s=lz("ij,j->i",i,a);break;case 3:s=lz("ijk,k->ij",i,a);break;case 4:s=lz("ijkl,l->ijk",i,a);break;case 5:s=lz("ijklm,m->ijkl",i,a);break;case 6:s=lz("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return s=Nz(s,-1),FD(s,o)}});const cW=cP({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=iP(e,"image","rotateWithOffset","float32");vI(4===o.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(o.rank,".")));const i={image:o},a={radians:t,fillValue:n,center:r};return Xj.runKernel(_M,i,a)}});function lW(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);const a=e.shape[0];return n=Math.min(n,a),vI(0<=r&&r<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(r,"'"))),vI(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),vI(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),vI(1===t.rank,(()=>"scores must be a 1D tensor")),vI(t.shape[0]===a,(()=>"scores has incompatible shape with boxes. Expected ".concat(a,", ")+"but was ".concat(t.shape[0]))),vI(0<=i&&i<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(i,"'"))),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}const uW=cP({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=iP(e,"boxes","nonMaxSuppression","float32"),a=iP(t,"scores","nonMaxSuppression","float32"),s=lW(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const c={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return Xj.runKernel(dR,{boxes:i,scores:a},c)}});function dW(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,o=e.length,i=0,a=!1;for(;r<o;){i=r+(o-r>>>1);const s=n(t,e[i]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||hW)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function hW(e,t){return e>t?1:e<t?-1:0}function pW(e,t,n,r,o){return gW(e,t,n,r,o,0)}function fW(e,t,n,r,o,i){return gW(e,t,n,r,o,0,!1,i,!0)}function mW(e,t,n,r,o,i){return gW(e,t,n,r,o,i,!0)}function gW(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const l=[];for(let g=0;g<t.length;g++)t[g]>o&&l.push({score:t[g],boxIndex:g,suppressBeginIndex:0});l.sort(bW);const u=i>0?-.5/i:0,d=[],h=[];for(;d.length<n&&l.length>0;){const t=l.pop(),{score:n,boxIndex:i,suppressBeginIndex:a}=t;if(n<o)break;let s=!1;for(let c=d.length-1;c>=a;--c){const n=yW(e,i,d[c]);if(n>=r){s=!0;break}if(t.score=t.score*vW(r,u,n),t.score<=o)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(i),h.push(t.score)):t.score>o&&dW(l,t,bW))}const p=d.length,f=n-p;s&&f>0&&(d.push(...new Array(f).fill(0)),h.push(...new Array(f).fill(0)));const m={selectedIndices:d};return a&&(m.selectedScores=h),c&&(m.validOutputs=p),m}function yW(e,t,n){const r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),l=Math.min(o[0],o[2]),u=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),h=Math.max(o[1],o[3]),p=(s-i)*(c-a),f=(d-l)*(h-u);if(p<=0||f<=0)return 0;const m=Math.max(i,l),g=Math.max(a,u),y=Math.min(s,d),v=Math.min(c,h),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(p+f-b)}function vW(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function bW(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const xW=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const i=iP(e,"boxes","nonMaxSuppressionAsync"),a=iP(t,"scores","nonMaxSuppressionAsync"),s=lW(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const c=await Promise.all([i.data(),a.data()]),l=c[0],u=c[1],{selectedIndices:d}=pW(l,u,n,r,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),xV(d,"int32")};const wW=cP({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=iP(e,"boxes","nonMaxSuppression"),s=iP(t,"scores","nonMaxSuppression"),c=lW(a,s,n,r,o,i);n=c.maxOutputSize,r=c.iouThreshold,o=c.scoreThreshold,i=c.softNmsSigma;const l={boxes:a,scores:s},u={maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i},d=Xj.runKernel(pR,l,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const kW=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=iP(e,"boxes","nonMaxSuppressionAsync"),s=iP(t,"scores","nonMaxSuppressionAsync"),c=lW(a,s,n,r,o,i);n=c.maxOutputSize,r=c.iouThreshold,o=c.scoreThreshold,i=c.softNmsSigma;const l=await Promise.all([a.data(),s.data()]),u=l[0],d=l[1],{selectedIndices:h,selectedScores:p}=mW(u,d,n,r,o,i);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:xV(h,"int32"),selectedScores:xV(p)}};const SW=cP({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=iP(e,"boxes","nonMaxSuppression"),s=iP(t,"scores","nonMaxSuppression"),c=lW(a,s,n,r,o,null),l={boxes:a,scores:s},u={maxOutputSize:c.maxOutputSize,iouThreshold:c.iouThreshold,scoreThreshold:c.scoreThreshold,padToMaxOutputSize:i},d=Xj.runKernel(hR,l,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const CW=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=iP(e,"boxes","nonMaxSuppressionAsync"),s=iP(t,"scores","nonMaxSuppressionAsync"),c=lW(a,s,n,r,o,null),l=c.maxOutputSize,u=c.iouThreshold,d=c.scoreThreshold,[h,p]=await Promise.all([a.data(),s.data()]),{selectedIndices:f,validOutputs:m}=fW(h,p,l,u,d,i);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:xV(f,"int32"),validOutputs:tL(m,"int32")}};const EW=cP({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=iP(e,"images","resizeBilinear");vI(3===o.rank||4===o.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(o.rank,"."))),vI(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),vI(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let i=o,a=!1;3===o.rank&&(a=!0,i=xB(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:i},c={alignCorners:n,halfPixelCenters:r,size:t},l=Xj.runKernel(RR,s,c);return a?xB(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const _W=cP({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=iP(e,"images","resizeNearestNeighbor");vI(3===o.rank||4===o.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(o.rank,"."))),vI(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),vI("float32"===o.dtype||"int32"===o.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),vI(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let i=o,a=!1;3===o.rank&&(a=!0,i=xB(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:i},c={alignCorners:n,halfPixelCenters:r,size:t},l=Xj.runKernel(AR,s,c);return a?xB(l,[l.shape[1],l.shape[2],l.shape[3]]):l}});const TW=cP({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=iP(e,"image","threshold"),i=o.shape[0]*o.shape[1];let a,s,c,l,u=HD(xV([r]),255);if(vI(3===o.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(o.rank,"."))),vI(3===o.shape[2]||1===o.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(o.shape[2],"."))),vI("int32"===o.dtype||"float32"===o.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(o.dtype,"."))),vI("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===o.shape[2]){[a,s,c]=hV(o,[1,1,1],-1);const e=HD(a,.2989),t=HD(s,.587),n=HD(c,.114);l=UD(UD(e,t),n)}else l=e;if("otsu"===t){u=function(e,t){let n,r,o,i,a,s,c=xV([-1]),l=xV([0]),u=xV([0]);for(let d=0;d<e.size-1;d++){n=EB(e,0,d+1),r=EB(e,d+1),a=WD(Sz(n),t),s=WD(Sz(r),t);const h=Sz(HD(n,UU(0,n.size)));o=WD(h,Sz(n));const p=uL(r.shape,n.size),f=UD(UU(0,r.size),p),m=HD(r,f);i=WD(Sz(m),Sz(r));const g=pL(o,i),y=pL(o,i),v=HD(a,s);u=HD(HD(v,g),y);const b=jz(u,l);l=az(b,u,l),c=az(b,xV([d]),c)}return c}(MB(FD(JU(l),"int32"),dP([]),256),i)}const d=n?Uz(l,u):jz(l,u);return FD(HD(d,255),"int32")}});const NW=cP({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;const a=iP(e,"image","transform","float32"),s=iP(t,"transforms","transform","float32");vI(4===a.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(a.rank,"."))),vI(2===s.rank&&(s.shape[0]===a.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),vI(null==i||2===i.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(i,".")));const c={image:a,transforms:s},l={interpolation:n,fillMode:r,fillValue:o,outputShape:i};return Xj.runKernel(yM,c,l)}});const IW=cP({bandPart_:function(e,t,n){const r=iP(e,"a","bandPart");vI(r.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")));const o=r.shape,[i,a]=r.shape.slice(-2);let s,c;"number"===typeof t?(vI(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),vI(t<=i,(()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(i,")."))),s=iP(t<0?i:t,"numLower","bandPart")):(vI("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=az(zz(t,0),i,uU(t,i))),"number"===typeof n?(vI(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,"."))),vI(n<=a,(()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(a,")."))),c=iP(n<0?a:n,"numUpper","bandPart")):(vI("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),c=az(zz(n,0),a,uU(n,a)));const l=xB(UU(0,i,1,"int32"),[-1,1]),u=UU(0,a,1,"int32"),d=pL(l,u),h=Jz(Uz(d,s),Pz(d,YL(c))),p=sU([i,a],r.dtype);return xB(gV(AV(xB(r,[-1,i,a])).map((e=>az(h,e,p)))),o)}});const AW=cP({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,vI(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)vI(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=hV(e,e.shape[0],0).map((e=>mV(e,[0])));vI(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],r=e;for(let o=0;o<e.length;++o)n.push(Xj.tidy((()=>{let e=r[o];if(o>0)for(let t=0;t<o;++t){const r=HD(Sz(HD(n[t],e)),n[t]);e=pL(e,r)}return WD(e,Ez(e,"euclidean"))})));return t?gV(n,0):n}});function OW(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xj.tidy((()=>{vI(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],r=e.shape[1];let o=Oz(n),i=BD(e);const a=wV([[1]],[1,1]);let s=BD(a);const c=n>=r?r:n;for(let e=0;e<c;++e){const t=i,c=s,l=o;[s,i,o]=Xj.tidy((()=>{const t=EB(i,[e,e],[n-e,1]),c=Ez(t),l=EB(i,[e,e],[1,1]),u=az(jz(l,0),wV([[-1]]),wV([[1]])),d=pL(l,HD(u,c)),h=WD(t,d);s=1===h.shape[0]?BD(a):SB([a,EB(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);const p=YL(WD(GL(u,d),c)),f=EB(i,[e,0],[n-e,r]),m=HD(p,s),g=JL(s);if(0===e)i=pL(f,GL(m,GL(g,f)));else{const t=pL(f,GL(m,GL(g,f)));i=SB([EB(i,[0,0],[e,r]),t],0)}const y=JL(m),v=EB(o,[0,e],[n,o.shape[1]-e]);if(0===e)o=pL(v,GL(GL(v,s),y));else{const t=pL(v,GL(GL(v,s),y));o=SB([EB(o,[0,0],[n,e]),t],1)}return[s,i,o]})),SP([t,c,l])}return!t&&n>r&&(o=EB(o,[0,0],[n,r]),i=EB(i,[0,0],[r,r])),[o,i]}))}const RW=cP({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(vI(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return OW(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=AV(xB(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];r.forEach((e=>{const[n,r]=OW(e,t);o.push(n),i.push(r)}));return[xB(gV(o,0),e.shape),xB(gV(i,0),e.shape)]}}});var MW;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(MW||(MW={}));const jW=cP({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MW.SUM_BY_NONZERO_WEIGHTS;const r=iP(e,"losses","computeWeightedLoss");let o=null;null!=t&&(o=iP(t,"weights","computeWeightedLoss"));const i=null==o?r:HD(r,o);if(n===MW.NONE)return i;if(n===MW.SUM)return Sz(i);if(n===MW.MEAN){if(null==o)return aU(i);{const e=r.size/o.size,t=WD(Sz(i),Sz(o));return e>1?WD(t,tL(e)):t}}if(n===MW.SUM_BY_NONZERO_WEIGHTS){if(null==o)return WD(Sz(i),tL(r.size));{const e=HD(o,cU(r.shape)),t=FD(Sz(gU(e,tL(0))),"float32");return WD(Sz(i),t)}}throw Error("Unknown reduction: ".concat(n))}});const PW=cP({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:MW.SUM_BY_NONZERO_WEIGHTS;const o=iP(e,"labels","absoluteDifference"),i=iP(t,"predictions","absoluteDifference");let a=null;null!=n&&(a=iP(n,"weights","absoluteDifference")),bI(o.shape,i.shape,"Error in absoluteDifference: ");const s=mL(pL(o,i));return jW(s,a,r)}});const DW=cP({cosineDistance_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:MW.SUM_BY_NONZERO_WEIGHTS;const i=iP(e,"labels","cosineDistance"),a=iP(t,"predictions","cosineDistance");let s=null;null!=r&&(s=iP(r,"weights","cosineDistance")),bI(i.shape,a.shape,"Error in cosineDistance: ");const c=tL(1),l=pL(c,Sz(HD(i,a),n,!0));return jW(l,s,o)}});const LW=cP({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:MW.SUM_BY_NONZERO_WEIGHTS,o=iP(e,"labels","hingeLoss");const i=iP(t,"predictions","hingeLoss");let a=null;null!=n&&(a=iP(n,"weights","hingeLoss")),bI(o.shape,i.shape,"Error in hingeLoss: ");const s=tL(1);o=pL(HD(tL(2),o),s);const c=WU(pL(s,HD(o,i)));return jW(c,a,r)}});const FW=cP({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:MW.SUM_BY_NONZERO_WEIGHTS;const i=iP(e,"labels","huberLoss"),a=iP(t,"predictions","huberLoss");let s=null;null!=n&&(s=iP(n,"weights","huberLoss")),bI(i.shape,a.shape,"Error in huberLoss: ");const c=tL(r),l=mL(pL(a,i)),u=uU(l,c),d=pL(l,u),h=UD(HD(tL(.5),KD(u)),HD(c,d));return jW(h,s,o)}});const BW=cP({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:MW.SUM_BY_NONZERO_WEIGHTS;const i=iP(e,"labels","logLoss"),a=iP(t,"predictions","logLoss");let s=null;null!=n&&(s=iP(n,"weights","logLoss")),bI(i.shape,a.shape,"Error in logLoss: ");const c=tL(1),l=tL(r),u=YL(HD(i,Hz(UD(a,l)))),d=HD(pL(c,i),Hz(UD(pL(c,a),l))),h=pL(u,d);return jW(h,s,o)}});const zW=cP({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:MW.SUM_BY_NONZERO_WEIGHTS;const o=iP(e,"labels","meanSquaredError"),i=iP(t,"predictions","meanSquaredError");let a=null;null!=n&&(a=iP(n,"weights","meanSquaredError")),bI(o.shape,i.shape,"Error in meanSquaredError: ");const s=fV(o,i);return jW(s,a,r)}});const UW=cP({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:MW.SUM_BY_NONZERO_WEIGHTS,i=iP(e,"multiClassLabels","sigmoidCrossEntropy");const a=iP(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=iP(n,"weights","sigmoidCrossEntropy")),bI(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=tL(r),t=tL(1),n=tL(.5);i=UD(HD(i,pL(t,e)),HD(n,e))}const c=function(e,t){const n=iP(e,"labels","sigmoidCrossEntropyWithLogits"),r=iP(t,"logits","sigmoidCrossEntropyWithLogits");bI(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const o=WU(r),i=HD(r,n),a=Gz(Tz(YL(mL(r))));return UD(pL(o,i),a)}(i,a);return jW(c,s,o)}});const VW=cP({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:MW.SUM_BY_NONZERO_WEIGHTS,i=iP(e,"onehotLabels","softmaxCrossEntropy");const a=iP(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=iP(n,"weights","softmaxCrossEntropy")),bI(i.shape,a.shape,"Error in softmaxCrossEntropy: "),r>0){const e=tL(r),t=tL(1),n=tL(i.shape[1]);i=UD(HD(i,pL(t,e)),WD(e,n))}const c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const r=QD(((e,t,r)=>{const o=Xz(t,[n],!0),i=pL(FD(t,"float32"),o);r([e,i]);const a=YL(HD(i,e));return{value:Sz(a,[n]),gradFunc:(e,t)=>{const[r,o]=t,i=gz(e.shape,[n]);return[HD(xB(e,i),pL(FD(r,"float32"),Tz(o))),HD(xB(e,i),pL(Tz(o),FD(r,"float32")))]}}}));return r(e,t)}(i,a);return jW(c,s,o)}});const WW=cP({sparseFillEmptyRows_:function(e,t,n,r){const o=iP(e,"indices","sparseFillEmptyRows","int32"),i=iP(t,"values","sparseFillEmptyRows"),a=iP(n,"denseShape","sparseFillEmptyRows","int32"),s=iP(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==o.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(o.shape));if(1!==i.rank)throw new Error("Values should be Tensor1D but received shape ".concat(i.shape));if(1!==a.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(a.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));const c={indices:o,values:i,denseShape:a,defaultValue:s},l=Xj.runKernel(eM,c);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}});const HW=cP({sparseReshape_:function(e,t,n){const r=iP(e,"inputIndices","sparseReshape","int32"),o=iP(t,"inputShape","sparseReshape","int32"),i=iP(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==o.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(i.shape));const a={inputIndices:r,inputShape:o,newShape:i},s=Xj.runKernel(tM,a);return{outputIndices:s[0],outputShape:s[1]}}});const GW=cP({sparseSegmentMean_:function(e,t,n){const r=iP(e,"data","sparseSegmentMean"),o=iP(t,"indices","sparseSegmentMean","int32"),i=iP(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(o.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(i.shape));const a={data:r,indices:o,segmentIds:i};return Xj.runKernel(nM,a)}});const KW=cP({sparseSegmentSum_:function(e,t,n){const r=iP(e,"data","sparseSegmentSum"),o=iP(t,"indices","sparseSegmentSum","int32"),i=iP(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(o.shape));if(1!==i.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(i.shape));const a={data:r,indices:o,segmentIds:i};return Xj.runKernel(rM,a)}});const qW=cP({stringNGrams_:function(e,t,n,r,o,i,a,s){const c=iP(e,"data","stringNGrams","string");if("string"!==c.dtype)throw new Error("Data must be of datatype string");if(1!==c.shape.length)throw new Error("Data must be a vector, saw: ".concat(c.shape));const l=iP(t,"dataSplits","stringNGrams");if("int32"!==l.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:r,leftPad:o,rightPad:i,padWidth:a,preserveShortSequences:s},d={data:c,dataSplits:l},h=Xj.runKernel(lM,d,u);return{nGrams:h[0],nGramsSplits:h[1]}}});const YW=cP({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=iP(e,"input","stringSplit","string"),o=iP(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==o.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(o.shape));const i={skipEmpty:n},a={input:r,delimiter:o},s=Xj.runKernel(uM,a,i);return{indices:s[0],values:s[1],shape:s[2]}}});const XW=cP({stringToHashBucketFast_:function(e,t){const n=iP(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const o={input:n};return Xj.runKernel(dM,o,r)}});const JW=cP({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=iP(e,"input","staticRegexReplace","string"),i={pattern:t,rewrite:n,replaceGlobal:r};return Xj.runKernel(sM,{x:o},i)}}),$W={fft:lV,ifft:uV,rfft:pV,irfft:dV},ZW={hammingWindow:eW,hannWindow:tW,frame:nW,stft:rW},QW={flipLeftRight:iW,grayscaleToRGB:aW,resizeNearestNeighbor:_W,resizeBilinear:EW,rgbToGrayscale:sW,rotateWithOffset:cW,cropAndResize:oW,nonMaxSuppression:uW,nonMaxSuppressionAsync:xW,nonMaxSuppressionWithScore:wW,nonMaxSuppressionWithScoreAsync:kW,nonMaxSuppressionPadded:SW,nonMaxSuppressionPaddedAsync:CW,threshold:TW,transform:NW},eH={bandPart:IW,gramSchmidt:AW,qr:RW},tH={absoluteDifference:PW,computeWeightedLoss:jW,cosineDistance:DW,hingeLoss:LW,huberLoss:FW,logLoss:BW,meanSquaredError:zW,sigmoidCrossEntropy:UW,softmaxCrossEntropy:VW},nH={sparseFillEmptyRows:WW,sparseReshape:HW,sparseSegmentMean:GW,sparseSegmentSum:KW},rH={stringNGrams:qW,stringSplit:YW,stringToHashBucketFast:XW,staticRegexReplace:JW},oH=KF,iH="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function aH(){return new Promise((e=>iH((()=>e()))))}function sH(e,t){const n=e[0].length;e.forEach(((e,t)=>{vI(e.length===n,(()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")))})),vI(t>=0&&t<n,(()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")));const r=e[0];e.forEach(((e,o)=>{for(let i=0;i<n;i++)vI(i===t||e[i]===r[i],(()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(o,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(o,".")))}))}function cH(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var lH;function uH(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(r.length));for(let o=1;o<n.length;++o){const i=n[o],a=r[r.length-n.length+o],s=r[a];if(i>=0)if(s>=0){if(s!==i)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(o+e,"] = ").concat(i," but shape[").concat(o+e,"] = ").concat(s))}else r[a]=i}return r}function dH(e){const t={FIRST_DIM_SIZE:lH.FIRST_DIM_SIZE,VALUE_ROWIDS:lH.VALUE_ROWIDS,ROW_LENGTHS:lH.ROW_LENGTHS,ROW_SPLITS:lH.ROW_SPLITS,ROW_LIMITS:lH.ROW_LIMITS,ROW_STARTS:lH.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function hH(e){return 0===e.length?0:e[0]===lH.FIRST_DIM_SIZE?e.length-1:e.length}function pH(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(r,")"));for(let o=0;o<Math.min(n,r-1);++o){const n=e[o],r=t[o+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(o-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(o-e.length,"] = ").concat(r))}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(lH||(lH={}));const fH=30;function mH(e){return e<=fH?e:KI(e,Math.floor(Math.sqrt(e)))}function gH(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function yH(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let o=0;o<n;++o)r=r.concat([e[o+1]/t[o],t[o]]);r=r.concat(e.slice(n+1))}return r}function vH(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],o=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?o.push(n):r.push(n);n.push(...r),n.push(0),n.push(...o)}return n}function bH(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(let i=1;i<e.length;++i)i<=t.length?r?o.push(t[i-1]*e[i]):o.push(e[i]/t[i-1]):o.push(e[i]);return o}function xH(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function wH(e,t,n){const r=e.slice(0,1);for(let o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}const kH=1.7580993408473768,SH=1.0507009873554805,CH=.3275911,EH=.254829592,_H=-.284496736,TH=1.421413741,NH=-1.453152027,IH=1.061405429;function AH(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function OH(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function RH(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function MH(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function jH(e,t){return{real:e[2*t],imag:e[2*t+1]}}function PH(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function DH(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){const i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}function LH(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const FH="->",BH=/->/g,zH=",",UH="...";function VH(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(BH,"").length)/FH.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(FH,'").'));const[r,o]=e.split(FH);vI(-1===r.indexOf(UH),(()=>'The ellipsis notation ("'.concat(UH,'") is not supported yet.')));const i=r.split(zH),a=i.length;if(t!==a)throw new Error("Expected ".concat(a," input tensors, received ").concat(t));if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<o.length;++d){const e=o[d];if(!i.some((t=>-1!==t.indexOf(e))))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&e!==zH&&s.push(e)}const c=new Array(i.length);for(let d=0;d<a;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error("Found duplicate axes in input component ".concat(i[d],". ")+"Support for duplicate axes in input is not implemented yet.");c[d]=[];for(let e=0;e<i[d].length;++e)c[d].push(s.indexOf(i[d][e]))}const l=s.length,u=[];for(let d=o.length;d<l;++d)u.push(d);return{allDims:s,summedDims:u,idDims:c}}function WH(e,t){let n=new Array(e);n.fill(-1);for(let o=0;o<t.length;++o)n[t[o]]=o;const r=[];for(let o=0;o<e;++o)-1===n[o]&&r.push(o);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function HH(e,t,n){const r=new Array(e);for(let o=0;o<n.length;++o){const e=n[o].shape;for(let n=0;n<t[o].length;++n)void 0===r[t[o][n]]?r[t[o][n]]=e[n]:vI(r[t[o][n]]===e[n],(()=>"Expected dimension ".concat(r[t[o][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n])))}}function GH(e,t){const n=e,r=[];let o=0;0===e.length&&n.push(-1),o=e.length+1;for(let a=0;a<o;++a)r.push([]);const i=[];for(let a=0;a<n.length;++a){const e=qH(t,n[a]);for(const t of e)-1===i.indexOf(t)&&(r[a].push(t),i.push(t))}return{path:n,steps:r}}function KH(e){return e.every(((e,t)=>e===t))}function qH(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function YH(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)vI(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const o=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);vI(o<=1,(()=>"There should be only one negative value in split array."));const i=t.indexOf(-1);if(-1!==i){const r=t.reduce(((e,t)=>t>0?e+t:e));t[i]=e.shape[n]-r}vI(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function XH(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function JH(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function $H(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function ZH(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function QH(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function eG(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function tG(e,t){const n=wI(e),r=wI(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function nG(e,t){const n=wI(e),r=wI(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function rG(){return"segment ids must be >= 0"}function oG(){return"segment ids are not increasing"}function iG(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function aG(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function sG(e,t){let n,r=!1;for(e<=fH?(n=e,r=!0):n=KI(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=KI(e,n+1);return n}function cG(e,t,n){const r=[],o=e.length;for(let i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}function lG(e,t,n,r){const o=t.shape.length,i=e.shape.length;if(0!==r&&(r<-o||r>o))throw new Error("Expect batchDims in the range of [-".concat(o,", ").concat(o,"], but got ").concat(r));if(r<0&&(r+=o),r>i)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(i,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const a=e.shape[n],s=[];let c=1,l=1,u=1;for(let d=0;d<r;++d)s.push(e.shape[d]),c*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<o;d++)s.push(t.shape[d]);for(let d=n+1;d<i;d++)s.push(e.shape[d]),u*=e.shape[d];return{batchSize:c,sliceSize:u,outerSize:l,dimSize:a,outputShape:s}}function uG(e){try{return e.map((e=>lj(e)))}catch(w2e){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(w2e))}}function dG(e){return e.map((e=>cj(e)))}!function(){for(const e of CL)aL(e)}();const hG={kernelName:hA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,yV(FD(n,"float32"),-1))}}},pG={kernelName:pA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=KD(FD(n,"float32")),r=GD(pL(tL(1),t));return YL(WD(e,r))}}}},fG={kernelName:fA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=GD(pL(KD(FD(n,"float32")),1));return WD(e,t)}}}},mG={kernelName:mA,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{let t=e;const r=yL(n.shape,o);return r.length>0&&(t=Sz(t,r)),xB(t,n.shape)},b:()=>{let t=e;const n=yL(r.shape,o);return n.length>0&&(t=Sz(t,n)),xB(t,r.shape)}}}},gG={kernelName:gA,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},yG={kernelName:bA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>qD(n)}}},vG={kernelName:xA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>qD(n)}}},bG={kernelName:wA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,GD(pL(tL(1),KD(FD(n,"float32")))))}}},xG={kernelName:kA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=GD(UD(tL(1),KD(FD(n,"float32"))));return WD(e,t)}}}},wG={kernelName:EA,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{const t=UD(KD(n),KD(r));let i=HD(e,WD(r,t));const a=yL(n.shape,o);return a.length>0&&(i=Sz(i,a)),xB(i,n.shape)},b:()=>{const t=UD(KD(n),KD(r));let i=YL(HD(e,WD(n,t)));const a=yL(r.shape,o);return a.length>0&&(i=Sz(i,a)),xB(i,r.shape)}}}},kG={kernelName:SA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,UD(KD(FD(n,"float32")),1))}}},SG={kernelName:CA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,pL(tL(1),KD(FD(n,"float32"))))}}};const CG=cP({avgPool3dGrad_:function(e,t,n,r,o,i){const a=iP(e,"dy","avgPool3dGrad"),s=iP(t,"input","avgPool3dGrad");let c=a,l=s,u=!1;4===s.rank&&(u=!0,c=xB(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),l=xB(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),vI(5===c.rank,(()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(c.rank,"."))),vI(5===l.rank,(()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(l.rank,"."))),bB("avgPool3dGrad",o,i);const d={dy:c,input:l},h={filterSize:n,strides:r,pad:o,dimRoundingMode:i},p=Xj.runKernel(IA,d,h);return u?xB(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),EG={kernelName:NA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:s}=n;return{x:()=>CG(e,r,o,i,a,s)}}};const _G=cP({avgPoolGrad_:function(e,t,n,r,o){const i=iP(e,"dy","avgPoolGrad"),a=iP(t,"input","avgPoolGrad");vI(a.rank===i.rank,(()=>"Rank of input (".concat(a.rank,") does not match rank of dy (").concat(i.rank,")")));let s=a,c=i,l=!1;3===a.rank&&(l=!0,s=xB(a,[1,a.shape[0],a.shape[1],a.shape[2]]),c=xB(i,[1,i.shape[0],i.shape[1],i.shape[2]])),vI(4===c.rank,(()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(c.rank,"."))),vI(4===s.rank,(()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(s.rank,".")));const u={dy:c,input:s},d={filterSize:n,strides:r,pad:o},h=Xj.runKernel(TA,u,d);return l?xB(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),TG={kernelName:_A,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:o,strides:i,pad:a}=n;return{x:()=>_G(e,r,o,i,a)}}},NG={kernelName:AA,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,o]=t,{transposeA:i,transposeB:a}=n;return i||a?!i&&a?{a:()=>GL(e,o,!1,!1),b:()=>GL(e,r,!0,!1)}:i&&!a?{a:()=>GL(o,e,!1,!0),b:()=>GL(r,e,!1,!1)}:{a:()=>GL(o,e,!0,!0),b:()=>GL(e,r,!0,!0)}:{a:()=>GL(e,o,!1,!0),b:()=>GL(r,e,!0,!1)}}},IG={kernelName:OA,gradFunc:(e,t,n)=>{const{blockShape:r,crops:o}=n;return{x:()=>CU(e,r,o)}}},AG={kernelName:jA,gradFunc:(e,t,n)=>{const r=n,o=r.inputShape,i=r.shape,a=Array.from(i);for(let c=o.length-1;c>=0;c--)if(o[c]===i[c])a[c]=1;else if(1!==o[c])throw new Error("broadcastTo(): [".concat(o,"] cannot be broadcast to [").concat(i,"]."));const s=[];for(let c=0;c<a.length;c++)a[c]>1&&s.push(c);return{x:()=>Sz(e,s,!0)}}},OG={kernelName:DA,gradFunc:e=>({x:()=>e.clone()})},RG={kernelName:LA,gradFunc:e=>({x:()=>qD(e)})},MG={kernelName:FA,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:o,clipValueMax:i}=n;return{x:()=>az(Jz(Pz(r,o),Uz(r,i)),e,qD(e))}}},jG={kernelName:zA,inputsToSave:["x"],gradFunc:hG.gradFunc},PG={kernelName:UA,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:o}=n,i=RI(o,t[0].shape)[0],a=r.map((e=>e[i]));return hV(e,a,i).map((e=>()=>e))}},DG={kernelName:VA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{dilations:i,strides:a,pad:s,dataFormat:c}=n;return vI(mB(i),(()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(i,"'"))),{x:()=>GB(r.shape,e,o,a,s,c),filter:()=>HV(r,e,o.shape,a,s,c)}}},LG={kernelName:HA,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{strides:i,pad:a,dataFormat:s,dimRoundingMode:c}=n;return{dy:()=>WB(e,o,i,a,s,1,c),filter:()=>HV(e,r,o.shape,i,a,s,c)}}};const FG=cP({conv3DBackpropFilter_:function(e,t,n,r,o){let i=e;4===e.rank&&(i=xB(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let a=t;4===a.rank&&(a=xB(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),vI(5===i.rank,(()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(i.shape,"."))),vI(5===a.rank,(()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(a.shape,"."))),vI(5===n.length,(()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,"."))),vI(i.shape[4]===n[3],(()=>"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must ")+"match input depth in filter (".concat(n[3],"."))),vI(a.shape[4]===n[4],(()=>"Error in conv3dDerFilter: depth of dy (".concat(a.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")));const s={x:i,dy:a},c={strides:r,pad:o,filterShape:n};return Xj.runKernel(KA,s,c)}}),BG={kernelName:GA,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:o,pad:i}=n;vI(mB(r),(()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")));const[a,s]=t;return{x:()=>YB(a.shape,e,s,o,i),filter:()=>FG(a,e,s.shape,o,i)}}},zG={kernelName:YA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(YL(nV(FD(n,"float32"))),e)}}},UG={kernelName:XA,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(rV(FD(n,"float32")),e)}}},VG={kernelName:$A,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o,exclusive:i,reverse:a}=n;return{x:()=>{const t=vz([o],r.rank);let n=QB(e,o,i,!a);return null!=t&&(n=JL(n,t)),n}}}},WG={kernelName:tO,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:o,pad:i,dimRoundingMode:a}=n,s=null==r?[1,1]:r;vI(mB(s),(()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")));const[c,l]=t;return vI(4===c.rank,(()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(c.rank,"."))),vI(4===l.rank,(()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(l.rank,"."))),vI(c.shape[3]===l.shape[2],(()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(c.shape[3],") must match the inChannels dimension ")+"in filter ".concat(l.shape[2],"."))),vI(gB(o,s),(()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(o," and dilations ")+"'".concat(s,"'."))),bB("depthwiseConv2d",i,a),{x:()=>$V(c.shape,e,l,o,i,s,a),filter:()=>JV(c,e,l.shape,o,i,s,a)}}},HG={kernelName:iO,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,i={x:r,filter:o,dy:e},a={x:r,filter:o,dy:e};return{x:()=>Xj.runKernel(aO,i,n),filter:()=>Xj.runKernel(sO,a,n)}}},GG={kernelName:dO,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>Xj.runKernel(hO,r)}}},KG={kernelName:pO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=HD(Tz(YL(KD(n))),2/Math.sqrt(Math.PI));return{x:()=>HD(e,r)}}},qG={kernelName:mO,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,n)}}},YG={kernelName:gO,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>xB(e,n.shape)}}},XG={kernelName:yO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,Tz(n))}}},JG={kernelName:wO,gradFunc:e=>({x:()=>qD(e)})},$G={kernelName:kO,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{const t=WD(e,FD(r,"float32")),i=yL(n.shape,o);return i.length>0?xB(Sz(t,i),n.shape):t},b:()=>{let t=HD(e,FD(n,"float32"));const i=yL(r.shape,o);i.length>0&&(t=xB(Sz(t,i),r.shape));const a=KD(r);return YL(WD(t,FD(a,"float32")))}}}},ZG={kernelName:SO,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[o,i,a,s]=t,c=null==s?tL(1):s,l=yL(i.shape,o.shape),u=[];if(1===i.rank){for(let e=0;e<o.shape.length-1;++e)u.push(o.shape[e]);u.push(1)}const d=pL(o,i),h=HD(e,c),p=$U(UD(a,tL(r))),f=HD(HD(HD(p,p),p),tL(-.5));return{x:()=>1===i.rank?xB(HD(HD(e,Az(xB(p,[1,1,1,i.shape[0]]),u)),c),o.shape):xB(HD(HD(e,p),c),o.shape),mean:()=>{let e=HD(HD(p,tL(-1)),h);return 1===i.rank&&(e=Sz(e,l)),xB(e,i.shape)},variance:()=>{let e=HD(HD(f,d),h);return 1===i.rank&&(e=Sz(e,l)),xB(e,i.shape)},scale:()=>{const t=HD(d,p);let n=HD(e,t);return 1===i.rank&&(n=Sz(n,l)),xB(n,i.shape)},offset:()=>{let t=e;return 1===i.rank&&(t=Sz(t,l)),xB(t,i.shape)}}}},QG={kernelName:CO,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,o]=t,{axis:i,batchDims:a}=n,s=RI(i,r.shape)[0],c=(e,t,n)=>()=>{const r=e.shape,o=t.size,a=r.slice(0,s),c=a.length,l=r.slice(i,r.length).slice(1),u=l.length,d=eK(0,c),h=eK(c+1,c+1+u),p=tK([a,[o],l]),f=xB(n,p),m=xB(t,[o]),g=tK([[c],d,h]),y=JL(f,g);let v=IV(y,m,e.shape[s]);const b=bz(g);return v=JL(v,b),v};if(1===a){const t=r.shape[0],n=r.split(t,0);return{x:()=>{const t=gV(n.map(((t,n)=>c(t,o.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)},indices:()=>o}}return{x:c(r,o,e),indices:()=>o}}};function eK(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function tK(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const nK={kernelName:TO,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>qD(n),b:()=>qD(r)}}},rK={kernelName:NO,gradFunc:e=>({x:()=>FD(e,"float32")})},oK={kernelName:OO,gradFunc:e=>({x:()=>qD(e)})},iK={kernelName:RO,gradFunc:e=>({x:()=>qD(e)})},aK={kernelName:MO,gradFunc:e=>({x:()=>qD(e)})},sK={kernelName:jO,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:o}=n,i=jz(r,0);return{x:()=>az(i,e,HD(e,o))}}},cK={kernelName:BO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,UD(n,1))}}},lK={kernelName:FO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,FD(n,"float32"))}}},uK={kernelName:HO,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n;return{logits:()=>{const t=Tz(r);return pL(e,HD(Sz(e,o,!0),t))}}}};const dK=cP({localResponseNormalizationBackprop_:function(e,t,n){const r={x:e,y:t,dy:n},o={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return Xj.runKernel(qO,r,o)}}),hK={kernelName:KO,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{depthRadius:i,bias:a,alpha:s,beta:c}=n;return{x:()=>dK(r,o,e,i,a,s,c)}}};function pK(e,t,n,r){return t.rank<n.rank&&(t=xB(t,gz(t.shape,r))),e.rank<n.rank&&(e=xB(e,gz(e.shape,r))),{x:()=>HD(e,FD(iz(n,t),e.dtype))}}const fK={kernelName:XO,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:o}=r,i=t[0],a=pK(e,t[1],i,RI(o,i.shape));return{x:()=>a.x()}}},mK={kernelName:JO,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>HD(e,FD(Pz(n,r),"float32")),b:()=>HD(e,FD(zz(n,r),"float32"))}}};const gK=cP({maxPool3dGrad_:function(e,t,n,r,o,i,a){const s=iP(e,"dy","maxPool3dGrad"),c=iP(t,"input","maxPool3dGrad"),l=iP(n,"output","maxPool3dGrad");let u=s,d=c,h=l,p=!1;4===c.rank&&(p=!0,u=xB(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=xB(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=xB(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),vI(5===u.rank,(()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,"."))),vI(5===d.rank,(()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,"."))),vI(5===h.rank,(()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,"."))),bB("maxPool3dGrad",i,a);const f={dy:u,input:d,output:h},m={filterSize:r,strides:o,pad:i,dimRoundingMode:a},g=Xj.runKernel(eR,f,m);return p?xB(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),yK={kernelName:QO,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:c}=n;return{x:()=>gK(e,r,o,i,a,s,c)}}};const vK=cP({maxPoolGrad_:function(e,t,n,r,o,i,a){const s=iP(e,"dy","maxPoolGrad"),c=iP(t,"input","maxPoolGrad"),l=iP(n,"output","maxPoolGrad");vI(c.rank===s.rank,(()=>"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(s.rank,")"))),vI(4===s.rank,(()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(s.rank,"."))),vI(4===c.rank,(()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(c.rank,"."))),bB("maxPoolGrad",i,a);const u={dy:s,input:c,output:l},d={filterSize:r,strides:o,pad:i,dimRoundingMode:a};return Xj.runKernel(ZO,u,d)}}),bK={kernelName:$O,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{filterSize:i,strides:a,pad:s}=n;return{x:()=>vK(e,r,o,i,a,s)}}},xK={kernelName:nR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n,i=RI(o,r.shape),a=wI(mz(r.shape,i)[1]);return{x:()=>{const t=r.shape.slice();i.forEach((e=>{t[e]=1}));const n=xB(e,t);return WD(HD(n,cU(r.shape,"float32")),a)}}}},wK={kernelName:rR,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:o}=r,[i,a]=t,s=pK(e,a,i,RI(o,i.shape));return{x:()=>s.x()}}},kK={kernelName:oR,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>HD(e,FD(Uz(n,r),"float32")),b:()=>HD(e,FD(jz(n,r),"float32"))}}},SK={kernelName:iR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:o}=n,i=o.map((e=>e[0]));return{x:()=>EB(e,i,r.shape)}}},CK={kernelName:aR,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{const t=yL(n.shape,o);return t.length>0?xB(Sz(e,t),n.shape):e},b:()=>{const t=HD(e,YL(Rz(WD(n,r)))),i=yL(r.shape,o);return i.length>0?xB(Sz(t,i),r.shape):t}}}},EK={kernelName:cR,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{const t=HD(e,FD(r,"float32")),i=yL(n.shape,o);return i.length>0?xB(Sz(t,i),n.shape):t},b:()=>{const t=HD(e,FD(n,"float32")),i=yL(r.shape,o);return i.length>0?xB(Sz(t,i),r.shape):t}}}},_K={kernelName:yR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:o}=n,i=o.map((e=>e[0]));return{x:()=>EB(e,i,r.shape)}}},TK={kernelName:bR,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,o]=t,i=n,a=r,s=vL(i.shape,a.shape);return{a:()=>{const t=FD(a,"float32");let n=HD(e,HD(t,hL(i,pL(t,tL(1)))));const r=yL(i.shape,s);return r.length>0&&(n=Sz(n,r)),xB(n,i.shape)},b:()=>{const t=jz(i,0),n=az(t,Hz(i),qD(i));let r=HD(e,HD(o,n));const c=yL(a.shape,s);return c.length>0&&(r=Sz(r,c)),xB(r,a.shape)}}}},NK={kernelName:xR,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,o=jz(n,0);return{x:()=>az(o,e,HD(e,r)),alpha:()=>{let t=az(o,qD(e),HD(e,n));const i=yL(r.shape,e.shape);return i.length>0&&(t=Sz(t,i)),xB(t,r.shape)}}}};function IK(e,t,n){const r=e.shape.length,o=r-n.length,i=vz(n,r);let a=e;null!=i&&(a=JL(e,i));const s=a.shape.slice(),c=s.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);s.push(c);let l=function(e,t,n){const r=e.shape.slice();r[n]=1;const o=xB(t,r),i=ZB(e,n,!0,!1),a=ZB(e,n,!0,!0),s=HD(i,a);return HD(o,s)}(a.reshape(s),t,o);if(l=l.reshape(a.shape),null!=i){const e=bz(i);l=JL(l,e)}return l}const AK={kernelName:wR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n;let i=[];return i=void 0===o||null===o?r.shape.map(((e,t)=>t)):"number"===typeof o?[o]:o,{x:()=>IK(r,e,i)}}},OK={kernelName:lO,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{const t=WD(e,FD(r,"float32")),i=yL(n.shape,o);return i.length>0?xB(Sz(t,i),n.shape):t},b:()=>{let t=HD(e,FD(n,"float32"));const i=yL(r.shape,o);i.length>0&&(t=xB(Sz(t,i),r.shape));const a=KD(r);return YL(WD(t,FD(a,"float32")))}}}},RK={kernelName:TR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,YL(KD(n)))}}},MK={kernelName:jR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=HD(Uz(n,6),yV(n));return{x:()=>HD(e,FD(r,"float32"))}}},jK={kernelName:NR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,FD(yV(n),"float32"))}}},PK={kernelName:IR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>xB(e,n.shape)}}},DK={kernelName:LR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>YL(WD(e,HD(hL(n,1.5),2)))}}},LK={kernelName:VR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=jz(n,tL(0)),r=tL(kH),o=tL(SH),i=HD(e,o),a=HD(HD(e,r),Tz(FD(n,"float32")));return az(t,i,a)}}}},FK={kernelName:qR,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,HD(n,pL(tL(1),n)))}}},BK={kernelName:HR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(JB(FD(n,"float32")),e)}}},zK={kernelName:GR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD($B(FD(n,"float32")),e)}}},UK={kernelName:WR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:o,size:i}=n,a=r.shape,[s,c]=NF(r,o,i),l=[];for(let u=0;u<e.rank;u++)l.push([s[u],a[u]-s[u]-c[u]]);return{x:()=>bU(e,l)}}},VK={kernelName:QR,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:o}=n,i=HD(e,r);return{logits:()=>pL(i,HD(Sz(i,[o],true),r))}}},WK={kernelName:YR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,CB(n))}}},HK={kernelName:$R,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:o}=n;return{x:()=>NB(e,r,o)}}},GK={kernelName:ZR,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>SB(e,r)}}},KK={kernelName:XR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,HD(GD(FD(n,"float32")),2))}}},qK={kernelName:aM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(e,HD(FD(n,"float32"),2))}}},YK={kernelName:iM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=tL(2);return{a:()=>HD(e,HD(o,pL(n,r))),b:()=>HD(e,HD(o,pL(r,n)))}}},XK={kernelName:hM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=vL(n.shape,r.shape);return{a:()=>{let t=e;const r=yL(n.shape,o);return r.length>0&&(t=Sz(t,r)),xB(t,n.shape)},b:()=>{let t=e;const n=yL(r.shape,o);return n.length>0&&(t=Sz(t,n)),xB(YL(t),r.shape)}}}},JK={kernelName:JR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,o=r.shape.slice(),{axis:i}=n;RI(i,r.shape).forEach((e=>{o[e]=1}));const a=xB(e,o),s=HD(a,cU(r.shape,"float32"));return{x:()=>s}}},$K={kernelName:pM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WD(e,KD(JB(n)))}}},ZK={kernelName:fM,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>HD(pL(tL(1),KD(n)),e)}}},QK={kernelName:mM,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:o}=n;return{x:()=>{let t=qD(r);if(1===r.rank)for(let n=0;n<o[0];++n)t=UD(t,EB(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<o[0];++n)for(let i=0;i<o[1];++i)t=UD(t,EB(e,[n*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<o[0];++n)for(let i=0;i<o[1];++i)for(let a=0;a<o[2];++a)t=UD(t,EB(e,[n*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(let n=0;n<o[0];++n)for(let i=0;i<o[1];++i)for(let a=0;a<o[2];++a)for(let s=0;s<o[3];++s)t=UD(t,EB(e,[n*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},eq={kernelName:wM,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=bL(t,qD(t)),r=Mz(e,n);let o=Pz(t,tL(0,"int32"));const i=r.rank-o.rank;for(let s=0;s<i;++s)o=Nz(o,s+1);o=Jz(o,cU(r.shape,"bool"));const a=qD(r);return az(o,r,a)}(e,n)}}};const tq=[hG,pG,fG,mG,gG,yG,vG,bG,xG,wG,kG,SG,EG,TG,NG,IG,AG,OG,RG,MG,jG,PG,LG,DG,BG,zG,UG,VG,WG,HG,OK,GG,KG,qG,YG,XG,$G,JG,ZG,QG,nK,rK,oK,iK,aK,sK,cK,lK,uK,hK,fK,fK,mK,yK,bK,xK,wK,kK,SK,CK,EK,{kernelName:lR,gradFunc:e=>({x:()=>YL(e)})},{kernelName:mR,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>sU(n.shape,"float32")}}},{kernelName:fR,gradFunc:e=>({x:()=>qD(e)})},{kernelName:gR,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return AV(e,r).map((e=>()=>e))}},_K,_K,TK,NK,AK,RK,MK,jK,PK,{kernelName:RR,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,o={dy:e,images:r};return{images:()=>Xj.runKernel(MR,o,n)}}},{kernelName:AR,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,o={dy:e,images:r};return{images:()=>Xj.runKernel(OR,o,n)}}},{kernelName:PR,gradFunc:(e,t,n)=>{const{dims:r}=n,o=RI(r,e.shape);return{x:()=>GU(e,o)}}},{kernelName:DR,gradFunc:e=>({x:()=>qD(e)})},DK,{kernelName:UR,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>FD(qD(n),"float32"),t:()=>HD(e,FD(n,e.dtype)),e:()=>HD(e,FD($z(n),e.dtype))}}},LK,FK,{kernelName:KR,gradFunc:e=>({x:()=>qD(e)})},BK,zK,UK,VK,WK,HK,HK,GK,GK,KK,YK,qK,{kernelName:CM,gradFunc:e=>({x:()=>qD(e)})},XK,JK,$K,ZK,QK,{kernelName:vM,gradFunc:(e,t,n)=>{const r=n,{perm:o}=r,i=bz(o);return{x:()=>JL(e,i)}}},{kernelName:xM,gradFunc:(e,t,n)=>{const r=n,{axis:o}=r;return{value:()=>gV(e,o)}}},eq,{kernelName:SM,gradFunc:e=>({x:()=>qD(e)})}];for(const n of tq)FM(n);Nj().prototype.abs=function(){return this.throwIfDisposed(),mL(this)},Nj().prototype.acos=function(){return this.throwIfDisposed(),qF(this)},Nj().prototype.acosh=function(){return this.throwIfDisposed(),YF(this)},Nj().prototype.add=function(e){return this.throwIfDisposed(),UD(this,e)},Nj().prototype.all=function(e,t){return this.throwIfDisposed(),JF(this,e,t)},Nj().prototype.any=function(e,t){return this.throwIfDisposed(),$F(this,e,t)},Nj().prototype.argMax=function(e){return this.throwIfDisposed(),ZF(this,e)},Nj().prototype.argMin=function(e){return this.throwIfDisposed(),QF(this,e)},Nj().prototype.asScalar=function(){return this.throwIfDisposed(),vI(1===this.size,(()=>"The array must have only 1 element.")),xB(this,[])},Nj().prototype.asType=function(e){return this.throwIfDisposed(),FD(this,e)},Nj().prototype.as1D=function(){return this.throwIfDisposed(),xB(this,[this.size])},Nj().prototype.as2D=function(e,t){return this.throwIfDisposed(),xB(this,[e,t])},Nj().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),xB(this,[e,t,n])},Nj().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),xB(this,[e,t,n,r])},Nj().prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),xB(this,[e,t,n,r,o])},Nj().prototype.asin=function(){return this.throwIfDisposed(),eB(this)},Nj().prototype.asinh=function(){return this.throwIfDisposed(),tB(this)},Nj().prototype.atan=function(){return this.throwIfDisposed(),nB(this)},Nj().prototype.atan2=function(e){return this.throwIfDisposed(),rB(this,e)},Nj().prototype.atanh=function(){return this.throwIfDisposed(),oB(this)},Nj().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),wB(this,e,t,n,r)},Nj().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),NB(this,e,t)},Nj().prototype.batchNorm=function(e,t,n,r,o){return this.throwIfDisposed(),IB(this,e,t,n,r,o)},Nj().prototype.broadcastTo=function(e){return this.throwIfDisposed(),DB(this,e)},Nj().prototype.cast=function(e){return this.throwIfDisposed(),FD(this,e)},Nj().prototype.ceil=function(){return this.throwIfDisposed(),LB(this)},Nj().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),FB(this,e,t)},Nj().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Tj&&(e=[e]),SB([this,...e],t)},Nj().prototype.conv1d=function(e,t,n,r,o,i){return this.throwIfDisposed(),HB(this,e,t,n,r,o,i)},Nj().prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),KB(this,e,t,n,r,o)},Nj().prototype.conv2d=function(e,t,n,r,o,i){return this.throwIfDisposed(),WB(this,e,t,n,r,o,i)},Nj().prototype.cos=function(){return this.throwIfDisposed(),JB(this)},Nj().prototype.cosh=function(){return this.throwIfDisposed(),$B(this)},Nj().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),ZB(this,e,t,n)},Nj().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),QB(this,e,t,n)},Nj().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),tz(this,e,t)},Nj().prototype.depthwiseConv2d=function(e,t,n,r,o,i){return this.throwIfDisposed(),nz(this,e,t,n,r,o,i)},Nj().prototype.dilation2d=function(e,t,n,r,o){return this.throwIfDisposed(),oz(this,e,t,n,r,o)},Nj().prototype.divNoNan=function(e){return this.throwIfDisposed(),sz(this,e)},Nj().prototype.div=function(e){return this.throwIfDisposed(),WD(this,e)},Nj().prototype.dot=function(e){return this.throwIfDisposed(),cz(this,e)},Nj().prototype.elu=function(){return this.throwIfDisposed(),uz(this)},Nj().prototype.equal=function(e){return this.throwIfDisposed(),iz(this,e)},Nj().prototype.erf=function(){return this.throwIfDisposed(),hz(this)},Nj().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),_z(this,e,t)},Nj().prototype.exp=function(){return this.throwIfDisposed(),Tz(this)},Nj().prototype.expandDims=function(e){return this.throwIfDisposed(),Nz(this,e)},Nj().prototype.expm1=function(){return this.throwIfDisposed(),Iz(this)},Nj().prototype.fft=function(){return this.throwIfDisposed(),lV(this)},Nj().prototype.flatten=function(){return this.throwIfDisposed(),xB(this,[this.size])},Nj().prototype.floor=function(){return this.throwIfDisposed(),Rz(this)},Nj().prototype.floorDiv=function(e){return this.throwIfDisposed(),VD(this,e)},Nj().prototype.gather=function(e,t,n){return this.throwIfDisposed(),Mz(this,e,t,n)},Nj().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Pz(this,e)},Nj().prototype.greater=function(e){return this.throwIfDisposed(),jz(this,e)},Nj().prototype.ifft=function(){return this.throwIfDisposed(),uV(this)},Nj().prototype.irfft=function(){return this.throwIfDisposed(),dV(this)},Nj().prototype.isFinite=function(){return this.throwIfDisposed(),Dz(this)},Nj().prototype.isInf=function(){return this.throwIfDisposed(),Lz(this)},Nj().prototype.isNaN=function(){return this.throwIfDisposed(),Fz(this)},Nj().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Bz(this,e)},Nj().prototype.lessEqual=function(e){return this.throwIfDisposed(),Uz(this,e)},Nj().prototype.less=function(e){return this.throwIfDisposed(),zz(this,e)},Nj().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),Wz(this,e,t,n,r)},Nj().prototype.logSigmoid=function(){return this.throwIfDisposed(),qz(this)},Nj().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Yz(this,e)},Nj().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Xz(this,e,t)},Nj().prototype.log=function(){return this.throwIfDisposed(),Hz(this)},Nj().prototype.log1p=function(){return this.throwIfDisposed(),Gz(this)},Nj().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Jz(this,e)},Nj().prototype.logicalNot=function(){return this.throwIfDisposed(),$z(this)},Nj().prototype.logicalOr=function(e){return this.throwIfDisposed(),Zz(this,e)},Nj().prototype.logicalXor=function(e){return this.throwIfDisposed(),Qz(this,e)},Nj().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),GL(this,e,t,n)},Nj().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),rU(this,e,t,n,r)},Nj().prototype.max=function(e,t){return this.throwIfDisposed(),wz(this,e,t)},Nj().prototype.maximum=function(e){return this.throwIfDisposed(),bL(this,e)},Nj().prototype.mean=function(e,t){return this.throwIfDisposed(),aU(this,e,t)},Nj().prototype.min=function(e,t){return this.throwIfDisposed(),kz(this,e,t)},Nj().prototype.minimum=function(e){return this.throwIfDisposed(),uU(this,e)},Nj().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),dU(this,e,t)},Nj().prototype.mod=function(e){return this.throwIfDisposed(),hU(this,e)},Nj().prototype.mul=function(e){return this.throwIfDisposed(),HD(this,e)},Nj().prototype.neg=function(){return this.throwIfDisposed(),YL(this)},Nj().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Ez(this,e,t,n)},Nj().prototype.notEqual=function(e){return this.throwIfDisposed(),gU(this,e)},Nj().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),KL(this,e,t,n)},Nj().prototype.onesLike=function(){return this.throwIfDisposed(),yU(this)},Nj().prototype.pad=function(e,t){return this.throwIfDisposed(),bU(this,e,t)},Nj().prototype.pool=function(e,t,n,r,o,i){return this.throwIfDisposed(),EU(this,e,t,n,r,o,i)},Nj().prototype.pow=function(e){return this.throwIfDisposed(),hL(this,e)},Nj().prototype.prelu=function(e){return this.throwIfDisposed(),_U(this,e)},Nj().prototype.prod=function(e,t){return this.throwIfDisposed(),TU(this,e,t)},Nj().prototype.reciprocal=function(){return this.throwIfDisposed(),VU(this)},Nj().prototype.relu=function(){return this.throwIfDisposed(),WU(this)},Nj().prototype.relu6=function(){return this.throwIfDisposed(),HU(this)},Nj().prototype.reshapeAs=function(e){return this.throwIfDisposed(),xB(this,e.shape)},Nj().prototype.reshape=function(e){return this.throwIfDisposed(),xB(this,e)},Nj().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),EW(this,e,t,n)},Nj().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),_W(this,e,t,n)},Nj().prototype.reverse=function(e){return this.throwIfDisposed(),GU(this,e)},Nj().prototype.rfft=function(){return this.throwIfDisposed(),pV(this)},Nj().prototype.round=function(){return this.throwIfDisposed(),JU(this)},Nj().prototype.rsqrt=function(){return this.throwIfDisposed(),$U(this)},Nj().prototype.selu=function(){return this.throwIfDisposed(),ZU(this)},Nj().prototype.separableConv2d=function(e,t,n,r,o,i){return this.throwIfDisposed(),QU(this,e,t,n,r,o,i)},Nj().prototype.sigmoid=function(){return this.throwIfDisposed(),CB(this)},Nj().prototype.sign=function(){return this.throwIfDisposed(),tV(this)},Nj().prototype.sin=function(){return this.throwIfDisposed(),nV(this)},Nj().prototype.sinh=function(){return this.throwIfDisposed(),rV(this)},Nj().prototype.slice=function(e,t){return this.throwIfDisposed(),EB(this,e,t)},Nj().prototype.softmax=function(e){return this.throwIfDisposed(),cV(this,e)},Nj().prototype.softplus=function(){return this.throwIfDisposed(),Kz(this)},Nj().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),CU(this,e,t)},Nj().prototype.split=function(e,t){return this.throwIfDisposed(),hV(this,e,t)},Nj().prototype.sqrt=function(){return this.throwIfDisposed(),GD(this)},Nj().prototype.square=function(){return this.throwIfDisposed(),KD(this)},Nj().prototype.squaredDifference=function(e){return this.throwIfDisposed(),fV(this,e)},Nj().prototype.squeeze=function(e){return this.throwIfDisposed(),mV(this,e)},Nj().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Tj?[this,e]:[this,...e];return gV(n,t)},Nj().prototype.step=function(e){return this.throwIfDisposed(),yV(this,e)},Nj().prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return this.throwIfDisposed(),vV(this,e,t,n,r,o,i,a,s)},Nj().prototype.sub=function(e){return this.throwIfDisposed(),pL(this,e)},Nj().prototype.sum=function(e,t){return this.throwIfDisposed(),Sz(this,e,t)},Nj().prototype.tan=function(){return this.throwIfDisposed(),bV(this)},Nj().prototype.tanh=function(){return this.throwIfDisposed(),_B(this)},Nj().prototype.tile=function(e){return this.throwIfDisposed(),Az(this,e)},Nj().prototype.toBool=function(){return this.throwIfDisposed(),FD(this,"bool")},Nj().prototype.toFloat=function(){return this.throwIfDisposed(),FD(this,"float32")},Nj().prototype.toInt=function(){return this.throwIfDisposed(),FD(this,"int32")},Nj().prototype.topk=function(e,t){return this.throwIfDisposed(),_V(this,e,t)},Nj().prototype.transpose=function(e){return this.throwIfDisposed(),JL(this,e)},Nj().prototype.unique=function(e){return this.throwIfDisposed(),NV(this,e)},Nj().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),IV(this,e,t)},Nj().prototype.unstack=function(e){return this.throwIfDisposed(),AV(this,e)},Nj().prototype.where=function(e,t){return this.throwIfDisposed(),az(e,this,t)},Nj().prototype.zerosLike=function(){return this.throwIfDisposed(),qD(this)};class nq extends Error{constructor(e){super(e),Object.setPrototypeOf(this,nq.prototype)}}class rq extends Error{constructor(e){super(e),Object.setPrototypeOf(this,rq.prototype)}}class oq extends Error{constructor(e){super(e),Object.setPrototypeOf(this,oq.prototype)}}class iq extends Error{constructor(e){super(e),Object.setPrototypeOf(this,iq.prototype)}}class aq extends Error{constructor(e){super(e),Object.setPrototypeOf(this,aq.prototype)}}Error;class sq{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function cq(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function lq(e,t){if(!e)throw new aq(t)}function uq(e,t){let n=0;for(const r of e)r===t&&n++;return n}function dq(e){return 1===e.length?e[0]:e}function hq(e){return Array.isArray(e)?e:[e]}function pq(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function fq(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let mq={};function gq(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function yq(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>yq(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?yq(t):e[n]=t.value)}}}function vq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const o=e;let i;if(o in n)i=n[o];else if(o in mq)i=mq[o];else if(i=t[o],null==i)throw new oq("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return i}{const i=e;if(null==i.className||null==i.config)throw new oq("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(i),".\n")+"'className' and 'config' must set.");const a=i.className;let s,c;if(a in n?[s,c]=n[a]:a in mq?[s,c]=mq.className:a in t&&([s,c]=t[a]),null==s)throw new oq("Unknown ".concat(r,": ").concat(a,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=c){const e={};for(const n of Object.keys(mq))e[n]=mq[n];for(const o of Object.keys(n))e[o]=n[o];i.config.customObjects=e;const t=Object.assign({},mq);for(const o of Object.keys(n))mq[o]=n[o];yq(i.config);const r=c(s,i.config,n,o);return mq=Object.assign({},t),r}{const e=Object.assign({},mq);for(const r of Object.keys(n))mq[r]=n[r];const t=new s(i.config);return mq=Object.assign({},e),t}}}function bq(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function xq(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function wq(e){if(null==e)throw new oq("Invalid value in obj: ".concat(JSON.stringify(e)));for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function kq(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new oq("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function Sq(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return lq(n>=0),lq(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function Cq(e,t){Array.isArray(e)?(vI(e.length>0,(()=>"".concat(t," is unexpectedly an empty array."))),e.forEach(((e,n)=>Cq(e,"element ".concat(n+1," of ").concat(t))))):vI(Number.isInteger(e)&&e>0,(()=>"Expected ".concat(t," to be a positive integer, but got ")+"".concat(Eq(e),".")))}function Eq(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>Eq(e))).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function _q(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let Tq=0;function Nq(){return Tq++}const Iq={};function Aq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in Iq||(Iq[e]=0),Iq[e]+=1,e+Iq[e].toString()}const Oq=["channelsFirst","channelsLast"],Rq=["nearest","bilinear"],Mq=["valid","same","causal"],jq=["max","avg"],Pq=["sum","mul","concat","ave"],Dq=new Map;function Lq(e){kq(Oq,"DataFormat",e)}function Fq(e){kq(Mq,"PaddingMode",e)}function Bq(e){kq(jq,"PoolMode",e)}const zq=[],Uq="/";function Vq(e,t){zq.push(e);try{const e=t();return zq.pop(),e}catch(x2e){throw zq.pop(),x2e}}function Wq(e){if(!Kq(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===zq.length?"":zq.join(Uq)+Uq)+e}function Hq(e){if(!Kq(e))throw new Error("Not a valid tensor name: '"+e+"'");Dq.has(e)||Dq.set(e,0);const t=Dq.get(e);if(Dq.set(e,Dq.get(e)+1),t>0){const n="".concat(e,"_").concat(t);return Dq.set(n,1),n}return e}const Gq=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Kq(e){return!!e.match(Gq)}function qq(e){return e===parseInt(e.toString(),10)}function Yq(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let o=t;o<n;++o)r*=e[o];return r}function Xq(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Jq(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function $q(e,t){if(t<e)throw new oq("end (".concat(t,") < begin (").concat(e,") is forbidden."));const n=[];for(let r=e;r<t;++r)n.push(r);return n}let Zq;function Qq(){return null==Zq&&(Zq=MP().epsilon()),Zq}function eY(e,t){return FD(e,t)}function tY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),xB(e,n)}function nY(e,t,n){return kP((()=>{switch(e.rank){case 1:return oV(e,t,n);case 2:return iV(e,[t,0],[n,e.shape[1]]);case 3:return aV(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return sV(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return EB(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return EB(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new oq("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function rY(e,t,n){return kP((()=>{switch(e.rank){case 1:return oV(e,t,n);case 2:return iV(e,[0,t],[e.shape[0],n]);case 3:return aV(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return sV(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new oq("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function oY(e,t,n,r){return kP((()=>{switch(e.rank){case 1:return oV(e,t,n);case 2:switch(r){case 1:return nY(e,t,n);case 2:return rY(e,t,n);default:throw new oq("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return nY(e,t,n);case 2:return aV(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return rY(e,t,n);default:throw new oq("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return nY(e,t,n);case 2:return sV(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return sV(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return rY(e,t,n);default:throw new oq("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new oq("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function iY(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),SB(e,n)}function aY(e,t){switch(e.rank){case 1:return BB([e,t]);case 2:return zB([e,t],0);case 3:return UB([e,t],0);case 4:return VB([e,t],0);default:throw new oq("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function sY(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new oq("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return Az(e,t)}function cY(e){return LU(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function lY(e,t,n,r){if(e.rank<2||t.rank<2)throw new iq("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new iq("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape))}if(2===e.rank&&2===t.rank){return QV({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?hY(e.rank,r,"channelsLast"):null,activation:n})}{const o=e.shape.slice(),i=o.pop();e=xB(e,[-1,i]);const a=t.shape.slice(),s=a.pop(),c=a.pop(),l=[...a,s],u=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=xB(JL(t,u),[c,-1]);const d=[...o,...l];return xB(QV({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?hY(e.rank,r,"channelsLast"):null,activation:n}),d)}}function uY(e,t,n){return kP((()=>(t=Array.isArray(t)?xV(t,"int32"):FD(t,"int32"),Mz(e,t,n))))}function dY(e){return HD(e,e)}function hY(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new oq("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?xB(t,[1,r[0],1,1,1]):xB(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?xB(t,[1,1,1,1,r[0]]):xB(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?xB(t,[1,r[0],1,1]):xB(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?xB(t,[1,1,1,r[0]]):xB(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?xB(t,[1,r[0],1]):xB(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?xB(t,[1,1,r[0]]):xB(t,[1].concat(r))}else if(e<3)return t;throw new oq("Unsupported input rank by biasAdd: ".concat(t.rank))}function pY(e,t,n){return kP((()=>(null==n&&(n="channelsLast"),Lq(n),UD(e,hY(e.rank,t,n)))))}function fY(e,t,n,r){return kP((()=>zV(e,t,n,r)))}function mY(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const gY=["fanIn","fanOut","fanAvg"],yY=["normal","uniform","truncatedNormal"];class vY extends oL{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class bY extends vY{apply(e,t){return sU(e,t)}}bY.className="Zeros",aL(bY);class xY extends vY{apply(e,t){return cU(e,t)}}xY.className="Ones",aL(xY);class wY extends vY{constructor(e){if(super(),"object"!==typeof e)throw new oq("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new oq("config must have value set but got ".concat(e));this.value=e.value}apply(e,t){return kP((()=>HD(tL(this.value),cU(e,t))))}getConfig(){return{value:this.value}}}wY.className="Constant",aL(wY);class kY extends vY{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return BU(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}kY.className="RandomUniform",aL(kY);class SY extends vY{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new iq("randomNormal does not support dType ".concat(t,"."));return cY(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}SY.className="RandomNormal",aL(SY);class CY extends vY{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new iq("truncatedNormal does not support dType ".concat(t,"."));return TV(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}CY.className="TruncatedNormal",aL(CY);class EY extends vY{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return kP((()=>{if(2!==e.length||e[0]!==e[1])throw new oq("Identity matrix initializer can only be used for 2D square matrices.");return HD(this.gain,Oz(e[0]))}))}getConfig(){return{gain:this.gain}}}EY.className="Identity",aL(EY);class _Y extends vY{constructor(e){if(super(),e.scale<0)throw new oq("scale must be a positive float. Got: ".concat(e.scale));this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function(e){kq(gY,"FanMode",e)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function(e){kq(yY,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Lq(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){const r=Yq(e,2);t=e[1]*r,n=e[0]*r}else if("channelsLast"===r){const r=Yq(e,0,e.length-2);t=e[e.length-2]*r,n=e[e.length-1]*r}}else{const r=Yq(e);t=Math.sqrt(r),n=Math.sqrt(r)}return[t,n]}(e),r=n[0],o=n[1];let i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,o):i/=Math.max(1,(r+o)/2),"normal"===this.distribution){const n=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new iq("".concat(this.getClassName()," does not support dType ").concat(t,"."));return TV(e,0,n,t,this.seed)}{const n=Math.sqrt(3*i);return BU(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}_Y.className="VarianceScaling",aL(_Y);class TY extends _Y{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return _Y.className}}TY.className="GlorotUniform",aL(TY);class NY extends _Y{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return _Y.className}}NY.className="GlorotNormal",aL(NY);class IY extends _Y{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return _Y.className}}IY.className="HeNormal",aL(IY);class AY extends _Y{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return _Y.className}}AY.className="HeUniform",aL(AY);class OY extends _Y{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return _Y.className}}OY.className="LeCunNormal",aL(OY);class RY extends _Y{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return _Y.className}}RY.className="LeCunUniform",aL(RY);class MY extends vY{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return kP((()=>{if(e.length<2)throw new iq("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError("Unsupported data type ".concat(t,"."));const n=wI(e.slice(0,-1)),r=e[e.length-1],o=n*r;o>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(o,") elements: ")+"Slowness may result.");const i=cY([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),a=eH.qr(i,!1);let s=a[0];const c=a[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return s=HD(s,c.sign()),n<r&&(s=s.transpose()),HD(tL(this.gain),s.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}MY.className="Orthogonal",aL(MY);const jY={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function PY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vq(e,iL.getMap().classNameMap,t,"initializer")}function DY(e){return gq(e)}function LY(e){if("string"===typeof e){const t=e in jY?jY[e]:e;if("GlorotNormal"===t)return new NY;if("GlorotUniform"===t)return new TY;if("HeNormal"===t)return new IY;if("HeUniform"===t)return new AY;if("LeCunNormal"===t)return new OY;if("LeCunUniform"===t)return new RY;{const e={};return e.className=t,e.config={},PY(e)}}return e instanceof vY?e:PY(e)}function FY(e){return Array.isArray(e)&&Array.isArray(e[0])}function BY(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function zY(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new oq("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function UY(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new oq("Expected exactly 1 Shape; got ".concat(e.length))}return e}function VY(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const WY="Variable";class HY{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WY,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Nq(),n=null==n?WY:n,this.originalName=Wq(n),this.name=Hq(this.originalName),this.trainable_=r,this.constraint=o,this.val=RV(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function GY(e){return e.map((e=>e.read()))}function KY(e){e.forEach((e=>{e[0].write(e[1])}))}class qY{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class YY{constructor(e,t,n,r,o,i,a){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=o,this.outputTensorIndex=a,this.id=Nq(),null!=i&&(this.originalName=Wq(i),this.name=Hq(this.originalName)),this.rank=t.length}}let XY=0;class JY{constructor(e,t){this.callArgs=t,this.id=XY++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let $Y=0;class ZY extends oL{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=$Y++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=pq(e)+"_"+Aq(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new rq("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new oq("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return dq(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return dq(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new nq("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new nq("Layer ".concat(this.name)+" is not connected, no input to return.");return dq(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new nq("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new nq("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return dq(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=hq(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=hq(this.inputSpec);if(t.length!==n.length)throw new oq("Layer ".concat(this.name," expects ").concat(n.length," inputs, ")+"but it received ".concat(t.length," input tensors. ")+"Input received: ".concat(e));for(let r=0;r<t.length;r++){const e=t[r],o=n[r];if(null==o)continue;const i=e.rank;if(null!=o.ndim&&i!==o.ndim)throw new oq("Input ".concat(r," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(o.ndim,", found ndim=").concat(i));if(null!=o.maxNDim&&i>o.maxNDim)throw new oq("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(o.maxNDim,", found ndim=").concat(i));if(null!=o.minNDim&&i<o.minNDim)throw new oq("Input ".concat(r," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(o.minNDim,", found ndim=").concat(i,"."));if(null!=o.dtype&&e.dtype!==o.dtype)throw new oq("Input ".concat(r," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(o.dtype,", found dtype=").concat(e.dtype,"."));if(o.axes){const t=e.shape;for(const e in o.axes){const n=Number(e),i=o.axes[e],a=n>=0?t[n]:t[t.length+n];if(null!=i&&-1===[i,null].indexOf(a))throw new oq("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(n," of input shape to ")+"have value ".concat(i," but got shape ").concat(t,"."))}}if(null!=o.shape)for(let t=0;t<o.shape.length;++t){const n=o.shape[t],i=e.shape[t];if(null!=n&&null!=i&&n!==i)throw new oq("Input ".concat(r," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(o.shape,", ")+"found shape=".concat(e.shape,"."))}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=hq(e),r=function(e){let t=!0;for(const n of hq(e))if(!(n instanceof YY)){t=!1;break}return t}(e),o=function(e){let t=!0;for(const n of hq(e))if(n instanceof YY){t=!1;break}return t}(e);if(r===o)throw new oq("Arguments to apply() must be all SymbolicTensors or all Tensors");return Vq(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of hq(e))t.push(n.shape);this.build(dq(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const o=hq(r),i=[];for(let e of o)-1!==n.indexOf(e)&&(e=e.clone()),i.push(e);if(r=dq(i),null!=this.activityRegularizer)throw new iq("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=hq(e);const t=[];for(const n of e)t.push(n.shape);return dq(t)}(e),r=this.computeOutputShape(n);let o;const i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),o=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new YY(i,n,this,hq(e),t,this.name,r))):new YY(i,r,this,hq(e),t,this.name),this.addInboundNode(e,o,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new iq("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new nq("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new nq("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new rq("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return VY(this.weights)}build(e){this.built=!0}getWeights(){return GY(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){kP((()=>{const t=this.weights;if(t.length!==e.length)throw new oq('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(t.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0===t.length)return;const n=[],r=GY(t);for(let o=0;o<r.length;++o){const i=r[o],a=t[o],s=e[o];if(!CI(i.shape,s.shape))throw new oq("Layer weight shape ".concat(i.shape," ")+"not compatible with provided weight shape ".concat(s.shape));n.push([a,s])}KY(n)}))}addWeight(e,t,n,r,o,i,a,s){if(-1!==this._addedWeightNames.indexOf(e))throw new oq("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():LY("zeros"));const c=r.apply(t,n),l=new HY(c,n,e,i,a);return c.dispose(),null!=o&&this.addLoss((()=>o.apply(l.read()))),null==i&&(i=!0),i?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=hq(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((e=>{if(null!=e)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),o=hq(t),i=hq(r);if(o.length!==i.length)throw new Error("".concat(this.name," outputs ").concat(o.length," tensors ")+"but ".concat(o.length," masks for those tensors"));for(let a=0;a<o.length;a++)o[a].kerasMask=i[a]}addInboundNode(e,t,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const s=hq(e);t=hq(t),n=hq(n),r=hq(r),o=BY(o),i=BY(i);const c=[],l=[],u=[];for(const d of s)c.push(d.sourceLayer),l.push(d.nodeIndex),u.push(d.tensorIndex);new JY({outboundLayer:this,inboundLayers:c,nodeIndices:l,tensorIndices:u,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:o,outputShapes:i},a);for(let d=0;d<t.length;d++)t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function QY(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=QY(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class eX extends ZY{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:Aq("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new oq("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new oq("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new oq("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new YY(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new JY({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new oq("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}function tX(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new oq("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;null==n&&(n="float32");return new eX({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}eX.className="InputLayer",aL(eX);class nX{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof nX)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new oq("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return FD(t,e.dtype)}catch(w2e){throw new oq("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof YY){if(null==this.id2Value[e.id])throw new oq("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new oq("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}}getMask(e){if(e instanceof YY){if(null==this.id2Value[e.id])throw new oq("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new oq("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&SP(this.id2Mask)}}const rX=new sq,oX=new sq;function iX(e,t,n,r){const o=null!=n&&n.training,i=Array.isArray(e),a=i?e:[e],s=a.map((e=>e.name)),c=[],l=t.names();for(const f of s)-1!==l.indexOf(f)?c.push(t.getValue(f)):c.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const u=s.join(",")+"|"+t.names().sort().join(",");let d,h=rX.get(u);if(null==h){const e=function(e,t){vI(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const o=sX(e[0],t);n=o.sorted,r=o.recipientMap}else{const o=new Set;for(const i of e){const{sorted:e,recipientMap:a}=sX(i,t);for(const t of e)o.has(t.name)||(n.push(t),o.add(t.name));for(const t in a)null==r[t]&&(r[t]=new Set),a[t].forEach((e=>r[t].add(e)))}}return{sorted:n,recipientCounts:aX(r)}}(a,t);h=e.sorted,d=e.recipientCounts,rX.put(u,h),oX.put(u,d)}d={},o||Object.assign(d,oX.get(u));const p=new nX(t);for(let f=0;f<h.length;++f){if(null!=r){const e=xP().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const e=h[f],i=e.sourceLayer;if(i instanceof eX)continue;const a=[],l=[],u=[];let m=!1;for(const n of e.inputs){const e=p.getValue(n),r=p.getMask(n);a.push(e),l.push(r),null!=r&&(m=!0),o||(d[n.name]--,0!==d[n.name]||t.hasKey(n)||-1!==s.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||u.push(e))}m&&((n=n||{}).mask=l[0]);const g=hq(i.apply(a,n));let y=null;i.supportsMasking&&(y=i.computeMask(a,l));const v=cX(e),b=Array.isArray(v)?v:[v];for(let t=0;t<b.length;++t){p.hasKey(b[t])||p.add(b[t],g[t],Array.isArray(y)?y[0]:y);const e=s.indexOf(b[t].name);-1!==e&&(c[e]=g[t])}o||SP(u)}return p.disposeMasks(),i?c:c[0]}function aX(e){const t={};for(const n in e)t[n]=e[n].size;return t}function sX(e,t){const n=new Set,r=[],o={};for(const s of t.names())n.add(s);const i=[],a=[];for(i.push(e);i.length>0;){const e=i[i.length-1];if(n.has(e.name)){i.pop();continue}const t=a[a.length-1]===i.length-1;if(0===e.inputs.length||t)i.pop(),r.push(e),n.add(e.name),t&&a.pop();else{a.push(i.length-1);for(const t of e.inputs)null==o[t.name]&&(o[t.name]=new Set),o[t.name].add(e.name),n.has(t.name)||i.push(t)}}return{sorted:r,recipientMap:o}}function cX(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function lX(e,t){return kP((()=>GD(Sz(HD(e,e),t,!0))))}sA().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=rX&&rX.setMaxEntries(e),null!=oX&&oX.setMaxEntries(e)}));class uX extends oL{getConfig(){return{}}}class dX extends uX{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return kP((()=>{const t=lX(e,this.axis),n=FB(t,0,this.maxValue);return HD(e,WD(n,UD(Qq(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}dX.className="MaxNorm",aL(dX);class hX extends uX{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return kP((()=>WD(e,UD(Qq(),lX(e,this.axis)))))}getConfig(){return{axis:this.axis}}}hX.className="UnitNorm",aL(hX);class pX extends uX{apply(e){return WU(e)}}pX.className="NonNeg",aL(pX);class fX extends uX{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return kP((()=>{const t=lX(e,this.axis),n=UD(HD(this.rate,FB(t,this.minValue,this.maxValue)),HD(1-this.rate,t));return HD(e,WD(n,UD(Qq(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}fX.className="MinMaxNorm",aL(fX);const mX={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function gX(e){return gq(e)}function yX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vq(e,iL.getMap().classNameMap,t,"constraint")}function vX(e){if(null==e)return null;if("string"===typeof e){return yX({className:e in mX?mX[e]:e,config:{}})}return e instanceof uX?e:yX(e)}function bX(e){return new dX(e)}function xX(e){return new hX(e)}function wX(){return new pX}function kX(e){return new fX(e)}function SX(){return new bY}function CX(){return new xY}function EX(e){return new wY(e)}function _X(e){return new kY(e)}function TX(e){return new SY(e)}function NX(e){return new CY(e)}function IX(e){return new EY(e)}function AX(e){return new _Y(e)}function OX(e){return new TY(e)}function RX(e){return new NY(e)}function MX(e){return new IY(e)}function jX(e){return new AY(e)}function PX(e){return new OY(e)}function DX(e){return new RY(e)}function LX(e){return new MY(e)}async function FX(e){if(null==e)return;const t=[],n=[],r=[];for(const o in e){const i=e[o];if("number"!==typeof i){const e=i;t.push(e.data()),n.push(o),r.push(e)}}if(t.length>0){const o=await Promise.all(t);for(let t=0;t<o.length;++t)e[n[t]]=o[t][0];SP(r)}}function BX(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var zX;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(zX||(zX={}));class UX{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class VX{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class WX extends UX{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"===typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const o=kP((()=>UD(this.totals[r],HD(e,n))));this.totals[r]=o,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:kP((()=>{const e=HD(WD(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),CP(t[n])})))}}class HX extends UX{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const o in this.history){const r=this.history[o];for(let i=0;i<r.length;++i)if("number"!==typeof r[i]){const a=r[i];e.push(a.data()),t.push(o),n.push(i)}}const r=await Promise.all(e);for(let o=0;o<r.length;++o){this.history[t[o]][n[o]].dispose(),this.history[t[o]][n[o]]=r[o][0]}}}class GX extends UX{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||aH,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");WI(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,o=null!=n?n():aj();return function(){const i=null!=n?n():aj();return i-o<t||(o=i,r=e(...arguments)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await FX(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await FX(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await FX(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await FX(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await FX(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):WI(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await FX(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await FX(e),await this.trainEnd(e))}}function KX(e,t){if(null==e&&(e={}),e instanceof UX)return[e];if(Array.isArray(e)&&e[0]instanceof UX)return e;return hq(e).map((e=>new GX(e,t)))}class qX{constructor(){}static registerCallbackConstructor(e,t){vI(e>=0&&Number.isInteger(e),(()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e))),qX.checkForDuplicate(t),null==qX.constructors[e]&&(qX.constructors[e]=[]),qX.constructors[e].push(t)}static checkForDuplicate(e){for(const t in qX.constructors){qX.constructors[+t].forEach((t=>{if(t===e)throw new oq("Duplicate callback constructor.")}))}}static clear(){qX.constructors={}}static createCallbacks(e){const t=[];for(const n in qX.constructors){const r=+n;e>=r&&t.push(...qX.constructors[r])}return t.map((e=>new e))}}function YX(e,t,n,r,o,i,a,s,c){const l=new HX,u=[new WX,...qX.createCallbacks(t)];null!=e&&u.push(...e),u.push(l);const d=new VX(u);return d.setParams({epochs:n,initialEpoch:r,samples:o,steps:i,batchSize:a,verbose:t,doValidation:s,metrics:c}),{callbackList:d,history:l}}function XX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return vq(e,iL.getMap().classNameMap,t,"layer",n)}function JX(e,t){return kP((()=>{"float32"!==e.dtype&&(e=FD(e,"float32"));const n=Sz(dY(e),t,!0),r=uL(n.shape,Qq()),o=GD(bL(n,r));return WD(e,o)}))}function $X(e,t){return kP((()=>aU(dY(pL(t,e)),-1)))}function ZX(e,t){return kP((()=>aU(mL(pL(t,e)),-1)))}function QX(e,t){return kP((()=>{const n=pL(e,t),r=FB(mL(e),Qq(),Number.MAX_VALUE),o=mL(WD(n,r));return HD(100,aU(o,-1))}))}function eJ(e,t){return kP((()=>{const n=FB(t,Qq(),Number.MAX_VALUE),r=Hz(UD(1,n)),o=FB(e,Qq(),Number.MAX_VALUE),i=Hz(UD(1,o));return aU(dY(pL(r,i)),-1)}))}function tJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return kP((()=>{if(n)t=cV(t);else{const e=Sz(t,t.shape.length-1,!0);t=WD(t,e)}return t=FB(t,Qq(),1-Qq()),YL(Sz(HD(FD(e,"float32"),Hz(t)),t.shape.length-1))}))}function nJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return kP((()=>{const r=FD(Rz(function(e){const t=[Yq(e.shape)];return xB(e,t)}(e)),"int32"),o=(t=FB(t,Qq(),1-Qq())).shape;return tJ(xB(KL(r,o[o.length-1]),o),t,n)}))}function rJ(e,t){return kP((()=>{let n;return n=FB(t,Qq(),1-Qq()),n=Hz(WD(n,pL(1,n))),aU(function(e,t){if(!CI(e.shape,t.shape))throw new oq("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return kP((()=>{const n=WU(t),r=YL(mL(t));return UD(pL(n,HD(t,e)),Gz(Tz(r)))}))}(e,n),-1)}))}function oJ(e,t){return kP((()=>{const n=FB(e,Qq(),1),r=FB(t,Qq(),1);return Sz(HD(e,Hz(WD(n,r))),-1)}))}function iJ(e,t){return kP((()=>{const n=JX(e,-1),r=JX(t,-1),o=HD(n,r);return YL(Sz(o,-1))}))}qX.constructors={};const aJ={meanSquaredError:$X,meanAbsoluteError:ZX,meanAbsolutePercentageError:QX,meanSquaredLogarithmicError:eJ,squaredHinge:function(e,t){return kP((()=>{const n=bL(0,pL(1,HD(e,t)));return aU(dY(n),-1)}))},hinge:function(e,t){return kP((()=>{const n=bL(0,pL(1,HD(e,t)));return aU(n,-1)}))},categoricalHinge:function(e,t){return kP((()=>{const n=Sz(HD(e,t),-1),r=wz(HD(pL(1,e),t),-1);return bL(0,UD(1,pL(r,n)))}))},logcosh:function(e,t){return kP((()=>{const n=Math.log(2),r=pL(t,e),o=pL(UD(r,Kz(HD(-2,r))),n);return aU(o,-1)}))},categoricalCrossentropy:tJ,sparseCategoricalCrossentropy:nJ,binaryCrossentropy:rJ,kullbackLeiblerDivergence:oJ,poisson:function(e,t){return kP((()=>{const n=Hz(UD(Qq(),t));return aU(pL(t,HD(e,n)),-1)}))},cosineProximity:iJ};function sJ(e){if("string"===typeof e){if(e in aJ)return aJ[e];let t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new oq(t)}return e}function cJ(e,t){return kP((()=>{const n=HD(.5,yU(t)),r=eY(jz(t,n),e.dtype);return aU(iz(e,r),-1)}))}function lJ(e,t){return kP((()=>eY(iz(ZF(e,-1),ZF(t,-1)),"float32")))}function uJ(e,t){return kP((()=>FD(Sz(Jz(iz(e,1),iz(t,1))),"float32")))}function dJ(e,t){return kP((()=>{const n=uJ(e,t),r=function(e,t){return kP((()=>FD(Sz(Jz(iz(e,0),iz(t,1))),"float32")))}(e,t),o=UD(n,r);return FD(az(jz(o,0),WD(n,o),0),"float32")}))}function hJ(e,t){return kP((()=>{const n=uJ(e,t),r=function(e,t){return kP((()=>FD(Sz(Jz(iz(e,1),iz(t,0))),"float32")))}(e,t),o=UD(n,r);return FD(az(jz(o,0),WD(n,o),0),"float32")}))}function pJ(e,t){return rJ(e,t)}function fJ(e,t){return e.rank===t.rank&&(e=mV(e,[e.rank-1])),(t=ZF(t,-1)).dtype!==e.dtype&&(t=FD(t,e.dtype)),FD(iz(e,t),"float32")}const mJ=tJ,gJ=nJ,yJ={binaryAccuracy:cJ,categoricalAccuracy:lJ,precision:dJ,categoricalCrossentropy:mJ,sparseCategoricalCrossentropy:gJ,mse:$X,MSE:$X,mae:ZX,MAE:ZX,mape:QX,MAPE:QX,cosine:iJ};function vJ(e){if("string"===typeof e&&e in yJ)return yJ[e];if("string"!==typeof e&&null!=e)return e;throw new oq("Unknown metric ".concat(e))}function bJ(e){if(lq(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;{let t;for(const n of Object.keys(aJ))if(aJ[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(yJ))if(yJ[n]===e){t=n;break}return void 0!==t?t:e.name}}const xJ=1048576;function wJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!kJ(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>xJ&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(n.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(xJ,"."))}}function kJ(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!kJ(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!kJ(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function SJ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const o=function(e){let t=!0;const n=[],r=[];for(const o in e.nodesByDepth)n.push(e.nodesByDepth[o]);for(const o of n){if(o.length>1||1===o.length&&o[0].inboundLayers.length>1){t=!1;break}r.push(...o)}if(t)for(const o of e.layers){let e=!1;for(const n of o.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),i=["Layer (type)","Input Shape","Output shape","Param #"];let a;if(o?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!o){i.push("Receives inputs"),a=[];for(const t in e.nodesByDepth)a.push(...e.nodesByDepth[t])}r("_".repeat(t)),CJ(i,n,r),r("=".repeat(t));const s=e.layers;for(let u=0;u<s.length;++u)o?EJ(s[u],n,r):_J(s[u],n,a,r),r((u===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const c=function(e){let t;t=null!=e.collectedTrainableWeights?VY(e.collectedTrainableWeights):VY(e.trainableWeights);return t}(e),l=VY(e.nonTrainableWeights);r("Total params: ".concat(c+l)),r("Trainable params: ".concat(c)),r("Non-trainable params: ".concat(l)),r("_".repeat(t))}function CJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="";for(let o=0;o<e.length;++o)o>0&&(r=r.slice(0,r.length-1)+" "),r+=e[o],r=r.slice(0,t[o]),r+=" ".repeat(t[o]-r.length);n(r)}function EJ(e,t,n){let r,o;try{o=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(w2e){o="multiple"}try{r=JSON.stringify(e.outputShape)}catch(w2e){r="multiple"}const i=e.name,a=e.getClassName();CJ(["".concat(i," (").concat(a,")"),o,r,e.countParams().toString()],t,n)}function _J(e,t,n,r){let o,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(w2e){i="multiple"}try{o=JSON.stringify(e.outputShape)}catch(w2e){o="multiple"}const a=[];for(const u of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(let e=0;e<u.inboundLayers.length;++e){const t=u.inboundLayers[e].name,n=u.nodeIndices[e],r=u.tensorIndices[e];a.push("".concat(t,"[").concat(n,"][").concat(r,"]"))}const s=e.name,c=e.getClassName(),l=0===a.length?"":a[0];CJ(["".concat(s," (").concat(c,")"),i,o,e.countParams().toString(),l],t,r);for(let u=1;u<a.length;++u)CJ(["","","","",a[u]],t,r)}function TJ(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function NJ(e,t){if(null===e)return null;if("string"===typeof e)return fq(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let o=0;o<r;++o){const r=e[o];TJ(t,o,r)?n.push(r):n.push(NJ(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"===typeof r)t[n]=r;else{const e=fq(n);t[e]=NJ(r,e)}}return t}}function IJ(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return pq(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let o=0;o<r;++o){const r=e[o];TJ(t,o,r)?n.push(r):n.push(IJ(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],o=pq(n);t[o]="name"!==n&&"className"!==n||"string"!==typeof r?IJ(r,n):r}return t}}const AJ="4.22.0";class OJ extends ZY{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=Aq(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],xq(this.inputs).length!==this.inputs.length)throw new oq("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map((e=>e.name))));xq(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map((e=>e.name)))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const y of this.inputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;lq(0===t,"input layer has >1 nodes"),lq(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const t=this.inputLayers[y];if(!(t instanceof eX))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(y," (0-based) originates ")+"from layer type ".concat(t.getClassName(),"."));this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},o={},i={},a=[],s=(e,t,n,r,o,c)=>{null!=r&&null!=o&&null!=c||(r=e.sourceLayer,o=e.nodeIndex,c=e.tensorIndex);const l=r.inboundNodes[o];if(-1!==n.indexOf(l))throw new rq("The tensor ".concat(e.name,' at layer "').concat(r.name,'" ')+"is part of a cycle.");if(-1!==t.indexOf(l))return;this.containerNodes.add(OJ.nodeKey(r,o)),r.id in i||(i[r.id]=Object.keys(i).length),-1===n.indexOf(l)&&n.push(l);const u=l.inboundLayers.length;for(let i=0;i<u;i++){const e=l.inputTensors[i],r=l.inboundLayers[i],o=l.nodeIndices[i],a=l.tensorIndices[i];s(e,t,n,r,o,a)}for(t.push(l);n.indexOf(l)>=0;)n.splice(n.indexOf(l),1);a.push(l)},c=[],l=[];for(const y of this.outputs)s(y,c,l);const u=a.slice().reverse();for(const y of u){n[y.id]=y,y.id in t||(t[y.id]=0);let e=t[y.id];const i=null==r[y.outboundLayer.id]?0:r[y.outboundLayer.id];e=Math.max(e,i),r[y.outboundLayer.id]=e,o[y.outboundLayer.id]=y.outboundLayer,t[y.id]=e;for(let r=0;r<y.inboundLayers.length;r++){const o=y.inboundLayers[r],i=y.nodeIndices[r],a=o.inboundNodes[i],s=null==t[a.id]?0:t[a.id];t[a.id]=Math.max(e+1,s),n[a.id]=a}}const d={};for(const y in t){const e=t[y];e in d||(d[e]=[]),d[e].push(n[y])}const h={};for(const y in r){const e=r[y];e in h||(h[e]=[]),h[e].push(o[y])}let p=Object.keys(h).map((e=>parseInt(e,10))).sort(bq);this.layers=[];for(const y of p){const e=h[y];e.sort(((e,t)=>{const n=i[e.id],r=i[t.id];return n<r?-1:n>r?1:0}));for(const t of e)t instanceof OJ&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=h,p=Object.keys(d).map((e=>parseInt(e,10))).sort(bq);const f=this.inputs.slice(),m=[];for(const y of p)for(const e of d[y]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new rq("Graph disconnected: cannot obtain value for tensor ".concat(n)+' at layer "'.concat(t.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(m));for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const y of g){const e=g.filter((e=>e===y)).length;if(1!==e)throw new rq('The name "'.concat(y,'" is used ').concat(e," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new JY({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new oq("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let r=0;const o=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);o&&this.parseWeights(e);for(const a of this.layers)for(const[e,t]of a.weights.entries()){const i=o?"".concat(t.name.split("/").slice(0,-1).join("/")+"/").concat(e):t.originalName;if(null!=n[i])throw new oq("Duplicate weight name: ".concat(i));n[i]=t,r++}const i=[];for(const a in e){let r=a;if(null==n[a]){const e=a.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])i.push([n[r],e[a]]);else if(t)throw new oq("Provided weight data has no target variable: ".concat(a));delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new oq("".concat(e.length," of ").concat(r," weights are not set: ")+"".concat(e))}KY(i)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],o=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");o!==t&&(e[o]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(AJ),t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=IJ(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return kP((()=>{e=hq(e);const n=new nX;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return iX(this.outputs,n,t)}))}computeMask(e,t){return kP((()=>{let n;return e=hq(e),n=null==t?cq(null,e.length):hq(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=BY(e);if(t.length!==this.inputLayers.length)throw new oq("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const n={};for(let a=0;a<t.length;a++){const e=this.inputLayers[a],r=t[a];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(bq);if(r.length>1)for(const a of r){const e=this.nodesByDepth[a];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const r=[];for(let a=0;a<t.inboundLayers.length;a++){const e=t.inboundLayers[a],o=t.nodeIndices[a],i=t.tensorIndices[a],s=n["".concat(e.name,"_").concat(o,"_").concat(i)];r.push(s)}const o=BY(e.computeOutputShape(dq(r))),i=e.inboundNodes.indexOf(t);for(let t=0;t<o.length;t++){n["".concat(e.name,"_").concat(i,"_").concat(t)]=o[t]}}}const o=[],i=[];for(let a=0;a<this.outputLayers.length;a++){const e=this.outputLayers[a],t=this.outputLayersNodeIndices[a],n=this.outputLayersTensorIndices[a],r="".concat(e.name,"_").concat(t,"_").concat(n);i.push(r)}for(let a=0;a<i.length;a++){const e=i[a];lq(e in n),o.push(n[e])}return dq(o)}runInternalGraph(e,t){null==t&&(t=cq(null,e.length));const n={};for(let s=0;s<this.inputs.length;++s){const r=this.inputs[s],o=e[s],i=t[s];n[r.id]=[o,i]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(bq);for(const s of r){const e=this.nodesByDepth[s];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,o=t.outputTensors,i=new Array;for(const t of r)t.id in n&&i.push(n[t.id]);if(i.length===r.length){let r,a,s,c,l={};if(null!=t.callArgs&&(l=t.callArgs),1===i.length){const[t,n]=i[0];null==l.mask&&(l.mask=n),s=hq(e.call(t,l)),c=hq(e.computeMask(t,n)),r=[t],a=[n]}else r=i.map((e=>e[0])),a=i.map((e=>e[1])),null==l.mask&&(l.mask=a),s=hq(e.call(r,l)),c=hq(e.computeMask(r,a));if(e.activityRegularizer)throw new iq("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<o.length;++e){const t=o[e],r=s[e],i=c[e];n[t.id]=[r,i]}}}}const o=[],i=[],a=[];for(const s of this.outputs){lq(s.id in n,"Could not compute output ".concat(s.name," : ").concat(s.id));const[e,t]=n[s.id];a.push(e.shape),o.push(e),i.push(t)}return[o,i,a]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof OJ?1:0;for(let e=0;e<r.inboundNodes.length;e++){const o=OJ.nodeKey(r,e);this.containerNodes.has(o)&&(t[o]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new oq("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new oq("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new oq("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return kP((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=OJ.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const i of this.layers){const e=i.getClassName(),r=i.getConfig(),o=[];for(let n=0;n<i.inboundNodes.length;n++){const e=i.inboundNodes[n],r=OJ.nodeKey(i,n);let a={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),a=e.callArgs}catch(w2e){console.warn("Layer ".concat(i.name," was passed ")+"non-serializable keyword arguments: "+"".concat(e.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),a={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const o=e.inboundLayers[r],i=e.nodeIndices[r],s=e.tensorIndices[r];let c=t[OJ.nodeKey(o,i)];null==c&&(c=0),n.push([o.name,c,s,a])}o.push(n)}}}const a={};a.name=i.name,a.className=e,a.config=r,a.inboundNodes=o,n.push(a)}e.layers=n;const r=[];for(let i=0;i<this.inputLayers.length;i++){const e=this.inputLayers[i],n=this.inputLayersNodeIndices[i],o=OJ.nodeKey(e,n);if(!this.containerNodes.has(o))continue;let a=t[o];null!==a&&void 0!==a||(a=0);const s=this.inputLayersTensorIndices[i];r.push([e.name,a,s])}e.inputLayers=r;const o=[];for(let i=0;i<this.outputLayers.length;i++){const e=this.outputLayers[i],n=this.outputLayersNodeIndices[i],r=OJ.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let a=t[r];null!==a&&void 0!==a||(a=0);const s=this.outputLayersTensorIndices[i];o.push([e.name,a,s])}return e.outputLayers=o,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={},o={};function i(e,t){e.name in o?o[e.name].push(t):o[e.name]=[t]}function a(e,t){const n=[];let o;for(const a of t){const s=a[0],c=a[1],l=a[2];if(o=null==a[3]?{}:a[3],!(s in r))return void i(e,t);const u=r[s];if(u.inboundNodes.length<=c)return void i(e,t);const d=u.inboundNodes[c];n.push(d.outputTensors[l])}n.length>0&&e.apply(dq(n),o)}function s(e){const o=e.name,a=XX(e,null!=t.customObjects?t.customObjects:{});a.setFastWeightInitDuringBuild(n),r[o]=a;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new oq("Corrupted configuration, expected array for nodeData: ".concat(e));i(a,e)}))}const c=t.name,l=t.layers;for(const f of l)s(f);for(;!wq(o);)for(const e of l){const t=r[e.name];if(t.name in o){const e=o[t.name];delete o[t.name];for(const n of e)a(t,n)}}const u=[],d=[],h=t.inputLayers;for(const f of h){const e=f[0],t=f[1],n=f[2];lq(e in r);const o=r[e].inboundNodes[t].outputTensors;u.push(o[n])}const p=t.outputLayers;for(const f of p){const e=f[0],t=f[1],n=f[2];lq(e in r);const o=r[e].inboundNodes[t].outputTensors;d.push(o[n])}return new e({inputs:u,outputs:d,name:c})}get stateful(){if(this._stateful)throw new oq("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){kP((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function RJ(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function MJ(e,t){return RJ(e,t,"classWeight")}async function jJ(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=kP((()=>{if(1===e.shape.length)return BD(e);if(2===e.shape.length){if(e.shape[1]>1){return ZF(e,1)}if(1===e.shape[1])return xB(e,[e.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(e.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(e.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),r=Array.from(await t.data());SP(t);const o=[];return r.forEach((e=>{if(null==n[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");o.push(n[e])})),xV(o,"float32")}return null}function PJ(e,t){return HD(e,t)}function DJ(e,t){let n,r;const o=t;n=o.xs,r=o.ys,vI(null!=n&&null!=r,(()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)));const i=LJ("input",e.inputNames,n),a=LJ("output",e.outputNames,r),s=i[0].shape[0];vI(i.length===e.inputs.length,(()=>"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(i.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")"))),vI(a.length===e.outputs.length,(()=>"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(a.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")));for(let c=0;c<i.length;c++)vI(i[c].shape[0]===s,(()=>"Batch size mismatch: input "+"".concat(e.inputNames[c]," has ").concat(i[c].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")));for(let c=0;c<a.length;c++)vI(a[c].shape[0]===s,(()=>"Batch size mismatch: output "+"".concat(e.outputNames[c]," has ").concat(a[c].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")));return{xs:i,ys:a}}function LJ(e,t,n){if(n instanceof Tj)return[n];if(Array.isArray(n))return vI(n.length===t.length,(()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,"."))),n;{const r=[];for(const o of t){if(null==n[o])throw new oq("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(o,"'."));r.push(n[o])}return r}}async function FJ(e,t,n){const r=null!=n.batchesPerEpoch;if(vI(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),vI(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),vI(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs))),vI(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch))),vI(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const o=null!=n.validationData;let i,a;if(o)if(BJ(n.validationData))vI(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches)));else{const e=function(e){if(3===e.length)throw new iq("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);i=e.xs,a=e.ys}const s=e.makeTrainFunction(),c=e.getDedupedMetricsNames();let l;l=o?c.slice().concat(c.map((e=>"val_"+e))):c.slice();const u=KX(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,{callbackList:h,history:p}=YX(u,d,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,o,l);h.setModel(e),e.history=p,await h.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const l={};await h.onEpochBegin(f);let u=0,d=0;for(r||(m=await t.iterator());!r||u<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(u," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:o}=DJ(e,t.value),i={};i.batch=d,i.size=r[0].shape[0],await h.onBatchBegin(d,i);const a=[];if(null!=n.classWeight){const t=MJ(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)a.push(await jJ(o[e],null,t[e]))}const l=r.concat(o).concat(a),p=s(l);SP(l);for(let e=0;e<c.length;++e){const t=c[e],n=p[e];i[t]=n,CP(n)}await h.onBatchEnd(d,i),BX(i),d++,u++}if(r?u>=n.batchesPerEpoch:t.done){if(o){let t;t=BJ(n.validationData)?hq(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):hq(e.evaluate(i,a,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)l["val_".concat(e.metricsNames[n])]=t[n]}break}if(e.stopTraining_)break}if(await h.onEpochEnd(f,l),f++,e.stopTraining_)break}return await h.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function BJ(e){return"function"===typeof e.iterator}function zJ(e){vI(e>0&&Number.isInteger(e),(()=>"batchSize is required to be a positive integer, but got ".concat(e)))}function UJ(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>nY(e,t,n-t))):nY(e,t,n-t)}function VJ(e,t){return kP((()=>null==e?null:Array.isArray(e)?e.map((e=>VJ(e,t))):uY(e,"int32"===t.dtype?t:FD(t,"int32"))))}function WJ(e,t){const n=[];let r=0,o=null;for(;r<e;)o=r+t,o>=e&&(o=e),n.push([r,o]),r=o;return n}function HJ(e){const t=[];e instanceof Tj&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(tY(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function GJ(e,t){if(null==e)return;const n=[];if(t instanceof Tj)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const o in t){const e=t[o];n.push(e.id)}const r=[];if(e instanceof Tj)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const o in e){const t=e[o];-1===n.indexOf(t.id)&&r.push(t)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function KJ(e){return Array.isArray(e)}function qJ(e){return!function(e){return e instanceof Tj}(e)&&!KJ(e)}function YJ(e,t,n){let r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(KJ(e)&&e.length>0)t=!0;else if(qJ(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new oq("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((e=>null));if(qJ(e)){r=[];for(const n of t){if(null==e[n])throw new oq('No data provided for "'.concat(n,'". Need data for each key in: ')+"".concat(t));r.push(e[n])}}else if(KJ(e)){if(e.length!==t.length)throw new oq("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(t.length>1)throw new oq("The model ".concat(i," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=HJ(r),null!=n)for(let a=0;a<t.length;++a){if(null==n[a])continue;const e=r[a];if(e.shape.length!==n[a].length)throw new oq("Error when checking ".concat(i,": expected ").concat(t[a]," ")+"to have ".concat(n[a].length," dimension(s). but got array with ")+"shape ".concat(e.shape));for(let t=0;t<n[a].length;++t){if(0===t&&!o)continue;const r=e.shape[t],s=n[a][t];if(null!=s&&s>=0&&r!==s)throw new oq("".concat(i," expected a batch of elements where each ")+"example has shape [".concat(n[a].slice(1,n[a].length),"] ")+"(i.e.,tensor shape [*,".concat(n[a].slice(1,n[a].length),"])")+" but the ".concat(i," received an input with ").concat(e.shape[0])+" examples, each with shape [".concat(e.shape.slice(1,e.shape.length),"]")+" (tensor shape [".concat(e.shape,"])"))}}return r}function XJ(e,t,n){let r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new oq("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new oq("The model expects ".concat(t.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(let a=0;a<t.length;++a){if(null==n[a])continue;const e=r[a];if(e.shape.length!==n[a].length)throw new oq("Error when checking ".concat(i,": expected ").concat(t[a]," ")+"to have ".concat(n[a].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(e.shape)));for(let r=0;r<n[a].length;++r){if(0===r&&!o)continue;const s=e.shape[r],c=n[a][r];if(null!=c&&c!==s)throw new oq("Error when checking ".concat(i,": expected ")+"".concat(t[a]," to have shape ").concat(JSON.stringify(n[a])," but ")+"got array with shape ".concat(JSON.stringify(e.shape),"."))}}}class JJ extends OJ{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new oq("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");SJ(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>oH.adagrad(.01),Adadelta:()=>oH.adadelta(1,.95,Qq()),Adam:()=>oH.adam(.001,.9,.999,Qq()),Adamax:()=>oH.adamax(.002,.9,.999,Qq(),0),RMSProp:()=>oH.rmsprop(.001,.9,0,Qq()),SGD:()=>oH.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new oq("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof cL))throw new oq("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new oq("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));const n=e.loss;t=n.map((e=>sJ(e)))}else{const n=sJ(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new oq('Unknown entry in loss dictionary: "'.concat(t,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const n of this.outputNames)null==e.loss[n]&&console.warn('Output "'.concat(n,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(n," during training")),t.push(sJ(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let i=0;i<this.outputs.length;++i){const e=this.internalOutputShapes[i],t=this.outputNames[i];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[i])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Vq("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),o=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Vq("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=t=>{let n,r,i;for(const a of t){if("string"===typeof a&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(a)){const t=this.internalOutputShapes[e];let o;1===t[t.length-1]||this.lossFunctions[e]===rJ?-1!==["accuracy","acc"].indexOf(a)?r=cJ:-1!==["crossentropy","ce"].indexOf(a)&&(r=pJ):this.lossFunctions[e]===nJ?-1!==["accuracy","acc"].indexOf(a)?r=fJ:-1!==["crossentropy","ce"].indexOf(a)&&(r=gJ):-1!==["accuracy","acc"].indexOf(a)?r=lJ:-1!==["crossentropy","ce"].indexOf(a)&&(r=mJ),-1!==["accuracy","acc"].indexOf(a)?o="acc":-1!==["crossentropy","ce"].indexOf(a)&&(o="ce"),i=r,n=""+o}else{const e=vJ(a);i=e,n=""+bJ(a)}let t;Vq(n,(()=>{t=i})),o(e,n,t)}};t(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null==n.batchSize?32:n.batchSize;zJ(r);const o=this.standardizeUserDataXY(e,t,!0,r);try{const e=o[0].concat(o[1]);this.makeTestFunction();const t=this.testFunction;return dq(this.testLoop(t,e,r,n.verbose,n.steps))}finally{GJ(o[0],e),GJ(o[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,o=e.testFunction;let i=[];if(n.verbose>0)throw new iq("Verbose mode is not implemented yet.");vI(!r||n.batches>0&&Number.isInteger(n.batches),(()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches))));const a="function"===typeof t.next?t:await t.iterator();let s=0,c=0;for(;!r||c<n.batches;){const t=await a.next();if(i=kP((()=>{if(t.value){const{xs:n,ys:r}=DJ(e,t.value),a=n.concat(r),l=kP((()=>o(a)));if(SP(a),0===c)for(let e=0;e<l.length;++e)i.push(tL(0));const u=a[0].shape[0];for(let e=0;e<l.length;++e){const t=l[e],n=i[e];i[e]=kP((()=>UD(i[e],HD(u,t)))),c>0&&SP(n)}SP(l),s+=u,++c}return i})),t.done){r&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let l=0;l<i.length;++l){const e=i[l];i[l]=WD(i[l],s),SP(e)}return dq(i)}(this,e,t)}checkNumSamples(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new oq("If ".concat(o," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new oq("Either the input data should have a defined shape, or "+"".concat(o," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new oq("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],o=this.retrieveSymbolicTensors(r),i=new nX;if(e instanceof Tj&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new oq("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let t=0;t<this.inputs.length;++t)i.add(this.inputs[t],e[t])}else for(const s of this.inputs){const t=e[s.name];if(null==t)throw new oq("No value is provided for the model's input ".concat(s.name));i.add(s,t)}const a=iX(o,i);return n?a:a[0]}retrieveSymbolicTensors(e){const t=cq(null,e.length);let n=e.length;for(const r of this.layers){const o=Array.isArray(r.output)?r.output:[r.output],i=o.map((e=>e.name));for(let r=0;r<e.length;++r){const a=i.indexOf(e[r]);if(-1!==a&&(t[r]=o[a],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new oq("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(n)))}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return kP((()=>{const r=this.checkNumSamples(e);if(n)throw new iq("Verbose predictLoop() is not implemented yet.");const o=WJ(r,t),i=this.outputs.map((e=>[]));for(let t=0;t<o.length;++t){kP((()=>{const n=o[t][0],r=o[t][1],i=UJ(e,n,r),a=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)a.push({key:this.inputs[e],value:i[e]});else a.push({key:this.inputs[0],value:i});const s=new nX(a);return iX(this.outputs,s)})).forEach(((e,t)=>i[t].push(e)))}return dq(i.map((e=>SB(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=HJ(e);XJ(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return zJ(e),this.predictLoop(n,e)}finally{GJ(n,e)}}predictOnBatch(e){XJ(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new rq("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let o=0;o<this.feedOutputShapes.length;++o){const e=this.feedOutputShapes[o];this.feedLossFns[o]===nJ?r.push(e.slice(0,e.length-1).concat([1])):r.push(e)}if(function(e,t){const n=xq(e.map((e=>e.shape[0])));n.sort();const r=xq(t.map((e=>e.shape[0])));if(r.sort(),n.length>1)throw new oq("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((e=>e.shape)))));if(r.length>1)throw new oq("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((e=>e.shape)))));if(n.length>0&&r.length>0&&!CI(n,r))throw new oq("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(n[0]," input sample(s) and ").concat(r[0]," target ")+"sample(s).")}(e=YJ(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=YJ(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const r=[$X,rJ,tJ];for(let o=0;o<e.length;++o){const i=e[o],a=t[o],s=n[o];if(null!=a){if(a===tJ&&1===i.shape[i.shape.length-1])throw new oq("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(a)){const e=i.shape.slice(1),t=s.slice(1);for(let n=0;n<e.length;++n){const r=e[n],o=t[n];if(null!=o&&r!==o)throw new oq("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new oq("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}async standardizeUserData(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0;const[a,s]=this.standardizeUserDataXY(e,t,o,i);if(null!=n)throw new Error("sample weight is not supported yet.");let c=null;if(null!=r){const e=MJ(r,this.outputNames);c=[];for(let t=0;t<e.length;++t)c.push(await jJ(s[t],null,e[t]))}return[a,s,c]}testLoop(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return kP((()=>{const i=this.checkNumSamples(t,n,o,"steps"),a=[];if(r>0)throw new iq("Verbose mode is not implemented yet.");if(null!=o)throw new iq("steps mode in testLoop() is not implemented yet");{const r=WJ(i,n),o=xV($q(0,i));for(let n=0;n<r.length;++n){const i=r[n][0],s=r[n][1],c=nY(o,i,s-i),l=VJ(t,c),u=e(l);if(0===n)for(let e=0;e<u.length;++e)a.push(tL(0));for(let e=0;e<u.length;++e){const t=u[e];a[e]=UD(a[e],HD(s-i,t))}}for(let e=0;e<a.length;++e)a[e]=WD(a[e],i)}return a}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let o=r;if(uq(e,r)>1){const t=uq(e.slice(0,n),r);o+="_".concat(t)}t.push(o)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),i=[],a=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const a=new nX(e),s=iX(this.outputs,a,{training:!0});let c;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],s[n]);null!=o[n]&&(e=PJ(e,o[n]));const i=aU(e);t.push(i),c=0===n?e:UD(c,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],o=this.metricsTensors[n][1];e=aU(t(r[o],s[o]))}CP(e),i.push(e)}return c=aU(c),this.calculateLosses().forEach((e=>{c=UD(c,e)})),c}),!0,a)].concat(i)}}makeTestFunction(){this.testFunction=e=>kP((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let e=0;e<this.inputs.length;++e)i.push({key:this.inputs[e],value:r[e]});const a=new nX(i),s=iX(this.outputs,a);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],i=aU(r(o[e],s[e]));n=0===e?i:UD(n,i),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],i=aU(n(o[r],s[r]));t.push(i)}return t}))}async fit(e,t){let n,r,o,i,a,s,c,l,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const h=null==d.batchSize?32:d.batchSize;zJ(h);const p=!1,f=await this.standardizeUserData(e,t,d.sampleWeight,d.classWeight,p,h);n=f[0],r=f[1],u=f[2];let m,g=!1;if(null!=d.validationData&&d.validationData.length>0){if(g=!0,2!==d.validationData.length)throw 3===d.validationData.length?new iq("validationData including sample weights is not supported yet."):new oq("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(d.validationData," is invalid."));a=d.validationData[0],s=d.validationData[1];const e=!0,t=await this.standardizeUserData(a,s,null,null,e,h);c=t[0],l=t[1],m=c.concat(l)}else if(null!=d.validationSplit&&d.validationSplit>0&&d.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-d.validationSplit)),t=n[0].shape[0];c=UJ(n,e,t),o=n,n=UJ(n,0,e),l=UJ(r,e,t),i=r,r=UJ(r,0,e),m=c.concat(l)}else null!=d.validationSteps&&(g=!0);const y=n.concat(r).concat(u);this.checkTrainableWeightsConsistency();const v=this.makeTrainFunction(),b=this.getDedupedMetricsNames();let x,w;g?(this.makeTestFunction(),x=this.testFunction,w=b.slice().concat(b.map((e=>"val_"+e)))):(x=null,m=[],w=b.slice());const k=KX(d.callbacks,d.yieldEvery);return await this.fitLoop(v,y,b,h,d.epochs,d.verbose,k,x,m,d.shuffle,w,d.initialEpoch,null,null)}finally{this.isTraining=!1,GJ(n,e),GJ(r,t),GJ(o,e),GJ(i,t),GJ(c,a),GJ(l,s),null!=u&&SP(u)}}async fitLoop(e,t,n,r,o,i,a,s,c,l,u,d,h,p){null==r&&(r=32),null==o&&(o=1),null==l&&(l=!0),null==d&&(d=0);let f=!1;if(null!=s&&null!=c&&(f=!0),null!=p&&(f=!0,null==h))throw new oq("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,h,"steps_per_epoch");let g;null!=m&&(g=$q(0,m)),null==i&&(i=1);const{callbackList:y,history:v}=YX(a,i,o,d,m,h,r,f,u);y.setModel(this),this.history=v,await y.onTrainBegin(),this.stopTraining_=!1;for(let b=d;b<o;++b){await y.onEpochBegin(b);const o={};if(null!=h)throw new iq("stepsPerEpoch mode is not implemented yet.");{if("batch"===l)throw new iq("batch shuffling is not implemneted yet");l&&uI(g);const i=xV(g),a=WJ(m,r);for(let l=0;l<a.length;++l){const u={};if(await y.onBatchBegin(l,u),kP((()=>{const d=a[l][0],h=a[l][1],p=nY(i,d,h-d);u.batch=l,u.size=h-d;const m=VJ(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];u[t]=r,CP(r)}if(l===a.length-1&&f){const e=this.testLoop(s,c,r);for(let t=0;t<n.length;++t){const r=n[t],i=e[t];CP(i),o["val_"+r]=i}}})),await y.onBatchEnd(l,u),BX(u),this.stopTraining_)break}i.dispose()}if(await y.onEpochEnd(b,o),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return FJ(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],o=n[1],i=this.makeTrainFunction()(r.concat(o)),a=[];for(const s of i){const e=await s.data();a.push(e[0])}return SP(i),GJ(n[0],e),GJ(n[1],t),dq(a)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,o=this.getWeights(n);for(let i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:o[i]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=xP().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-xP().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=pq(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>pq(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!==typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=pq(n[r])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[pq(bJ(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>pq(bJ(e))));{const e={};for(const t in this.metrics)e[t]=pq(bJ(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=XX(NJ(e.optimizer_config));let n,r;if("string"===typeof e.loss)n=fq(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>fq(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=fq(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>fq(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=fq(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"===typeof e){const t=nD(e);if(0===t.length)throw new oq("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new oq("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new oq("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await DP(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(AJ),convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){r.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:o}=await DP(await this.optimizer.getWeights(),e);n.specs.push(...o),n.data=KP([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;wJ(this.userDefinedMetadata,this.name,e),r.userDefinedMetadata=this.userDefinedMetadata}return r.weightData=n.data,r.weightSpecs=n.specs,e.save(r)}setUserDefinedMetadata(e){wJ(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}JJ.className="Model",aL(JJ);class $J extends JJ{}async function ZJ(e,t){"modelTopology"in e||(e={modelTopology:e});let n=e.modelTopology;null!=n.model_config&&(n=n.model_config);const r=XX(NJ(n),t);if(null!=e.weightsManifest){const t=await OL(e.weightsManifest,e.pathPrefix,r.weights.map((e=>e.originalName))),n={};for(const e of r.weights)n[e.originalName]=t[e.originalName];r.loadWeights(n),SP(t)}return r}async function QJ(e,t){if(null==t&&(t={}),"string"===typeof e){const n=rD(e,t);if(0===n.length)n.push(LL(e,t));else if(n.length>1)throw new oq("Found more than one (".concat(n.length,") load handlers for ")+"URL '".concat(e,"'"));e=n[0]}return async function(e,t,n){null==n&&(n={});if(null==e.load)throw new oq("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await e.load();let o=r.modelTopology;null!=o.model_config&&(o=o.model_config);const i=null==n.strict||n.strict,a=null!=r.weightData&&null!=r.weightSpecs&&i,s=XX(NJ(o),t,a),c=r.trainingConfig;null!=c&&s.loadTrainingConfig(c);null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata);if(null!=r.weightData){if(null==r.weightSpecs)throw new oq("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:e,optimizerWeights:t}=function(e,t){const n=LP(e,t),r={},o=[];return t.forEach((e=>{"optimizer"===e.group?o.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:o}}(r.weightData,r.weightSpecs);s.loadWeights(e,i),null!=s.optimizer&&t.length>0&&await s.optimizer.setWeights(t),SP(e),SP(t.map((e=>e.tensor)))}return s}(e,void 0,t)}$J.className="Functional",aL($J);class e$ extends JJ{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:Aq("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new oq("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const t=e instanceof e$||e instanceof JJ;let n;if(t){if(n=e,1!==n.outputs.length)throw new oq("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new oq("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new oq("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=tX({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new oq("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new oq("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=QY(this.outputs[0])}this.inboundNodes=[],new JY({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:cq(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(UY(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new JJ({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new rq("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new rq("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new rq("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new rq("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new oq("Legacy serialization format not supported yet.");n=t}else vI(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,o=t;const i=new e(o);if(!(i instanceof e$))throw new iq("Sequential.fromConfig called on non-Sequential input: ".concat(i));for(const a of n){const e=XX(a,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),i.add(e)}return i}set stopTraining(e){if(null==this.model)throw new oq("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new oq("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}function t$(e){return new JJ(e)}function n$(e){return new e$(e)}function r$(e){return tX(e)}function o$(e,t){qX.registerCallbackConstructor(e,t)}e$.className="Sequential",aL(e$);class i$ extends oL{getConfig(){return{}}}class a$ extends i${apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new iq("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return uz(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}a$.className="elu",aL(a$);class s$ extends i${apply(e){return ZU(e)}}s$.className="selu",aL(s$);class c$ extends i${apply(e){return WU(e)}}c$.className="relu",aL(c$);class l$ extends i${apply(e){return kP((()=>uU(6,WU(e))))}}l$.className="relu6",aL(l$);class u$ extends i${apply(e){return e}}u$.className="linear",aL(u$);class d$ extends i${apply(e){return CB(e)}}d$.className="sigmoid",aL(d$);class h$ extends i${apply(e){return function(e){return kP((()=>{const t=UD(.5,HD(.2,e));return FB(t,0,1)}))}(e)}}h$.className="hardSigmoid",aL(h$);class p$ extends i${apply(e){return Kz(e)}}p$.className="softplus",aL(p$);class f$ extends i${apply(e){return function(e){return kP((()=>WD(e,UD(mL(e),1))))}(e)}}f$.className="softsign",aL(f$);class m$ extends i${apply(e){return _B(e)}}m$.className="tanh",aL(m$);class g$ extends i${apply(e){return cV(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}g$.className="softmax",aL(g$);class y$ extends i${apply(e){return Yz(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}y$.className="logSoftmax",aL(y$);class v$ extends i${apply(e){return kP((()=>kP((()=>{const t=Math.sqrt(2),n=HD(.5,UD(1,hz(WD(e,t))));return HD(e,n)}))))}}v$.className="gelu",aL(v$);class b$ extends i${apply(e){return kP((()=>HD(.5,HD(e,UD(1,_B(HD(GD(WD(2,Math.PI)),UD(e,HD(.044715,hL(e,3))))))))))}}b$.className="gelu_new",aL(b$);class x$ extends i${apply(e){return kP((()=>HD(e,_B(Kz(e)))))}}x$.className="mish",aL(x$);class w$ extends i${apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return kP((()=>HD(CB(HD(e,t)),e)))}}function k$(e){return e.getClassName()}function S$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vq(e,iL.getMap().classNameMap,t,"activation")}function C$(e){if(null==e){const e={className:"linear",config:{}};return S$(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},S$(t)}return e instanceof i$?e:S$(e)}function E$(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}w$.className="swish",aL(w$);class _$ extends oL{}class T$ extends _${constructor(e){super(),E$(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return kP((()=>{let t=sU([1]);return this.hasL1&&(t=UD(t,Sz(HD(this.l1,mL(e))))),this.hasL2&&(t=UD(t,Sz(HD(this.l2,dY(e))))),xB(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}T$.className="L1L2",aL(T$);const N$={l1l2:"L1L2"};function I$(e){return gq(e)}function A$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vq(e,iL.getMap().classNameMap,t,"regularizer")}function O$(e){if(null==e)return null;if("string"===typeof e){return A$({className:e in N$?N$[e]:e,config:{}})}return e instanceof _$?e:A$(e)}class R$ extends ZY{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=zY(e);let n=WU(e);return null!=this.maxValue&&(n=FB(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}R$.className="ReLU",aL(R$);class M$ extends ZY{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=zY(e);return Bz(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}M$.className="LeakyReLU",aL(M$);class j$ extends ZY{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=LY(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=O$(e.alphaRegularizer),this.alphaConstraint=vX(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new oq("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=UY(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new qY({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=zY(e),_U(e,this.alpha.read())}getConfig(){const e={alphaInitializer:DY(this.alphaInitializer),alphaRegularizer:I$(this.alphaRegularizer),alphaConstraint:gX(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}j$.className="PReLU",aL(j$);class P$ extends ZY{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new iq("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=zY(e);return uz(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}P$.className="ELU",aL(P$);class D$ extends ZY{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=zY(e);return HD(n,FD(jz(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}D$.className="ThresholdedReLU",aL(D$);class L$ extends ZY{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new g$).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return kP((()=>{let n=zY(e);const r=t.mask;if(null!=r){const e=HD(pL(cU(n.shape),FD(r,n.dtype)),tL(-1e9));n=UD(n,e)}return this.axis instanceof Array?this.axis.length>1?Tz(pL(n,Xz(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function F$(e,t,n){if("number"===typeof e)return cq(e,t);if(e.length!==t)throw new oq("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(let r=0;r<t;++r){const o=e[r];if(!qq(o))throw new oq("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(o))}return e}function B$(e,t,n,r){if(null==e)return e;let o;return o="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((o+r-1)/r)}function z$(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Jq([n-t,0]);else{if("same"!==r)throw new oq("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function U$(e,t){return kP((()=>(Lq(t),"channelsFirst"===t?JL(e,[0,2,3,1]):e)))}function V$(e,t){return kP((()=>(Lq(t),"channelsFirst"===t?JL(e,[0,2,3,4,1]):e)))}function W$(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return kP((()=>{if(null==i&&(i="channelsLast"),Lq(i),3!==e.shape.length)throw new oq("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new oq("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new oq("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if("channelsFirst"===i&&(e=JL(e,[0,2,1])),"causal"===o)throw new iq("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=HB(e,t,r,"same"===o?"same":"valid","NWC",a);return null!=n&&(s=pY(s,n)),s}))}function H$(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return kP((()=>{if(null==i&&(i="channelsLast"),Lq(i),3!==e.rank&&4!==e.rank)throw new oq("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new oq("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));let c=U$(e,i);if("causal"===o)throw new iq("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=XV({x:c,filter:t,strides:r,pad:"same"===o?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(c=JL(c,[0,3,1,2])),c}))}function G$(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return kP((()=>{if(null==i&&(i="channelsLast"),Lq(i),4!==e.rank&&5!==e.rank)throw new oq("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new oq("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));let s=V$(e,i);if("causal"===o)throw new iq("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=qB(s,t,r,"same"===o?"same":"valid","NDHWC",a),null!=n&&(s=pY(s,n)),"channelsFirst"===i&&(s=JL(s,[0,4,1,2,3])),s}))}L$.className="Softmax",aL(L$);class K$ extends ZY{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",K$.verifyArgs(t),this.rank=e,Cq(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new iq("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=F$(t.kernelSize,e,"kernelSize"),this.strides=F$(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Fq(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Lq(this.dataFormat),this.activation=C$(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=LY(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=vX(t.biasConstraint),this.biasRegularizer=O$(t.biasRegularizer),this.activityRegularizer=O$(t.activityRegularizer),this.dilationRate=F$(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new oq("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new oq("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new oq("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}static verifyArgs(e){if(lq("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Sq(e.kernelSize,"number",1,3))throw new oq("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:k$(this.activation),useBias:this.useBias,biasInitializer:DY(this.biasInitializer),biasRegularizer:I$(this.biasRegularizer),activityRegularizer:I$(this.activityRegularizer),biasConstraint:gX(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class q$ extends K${constructor(e,t){super(e,t),this.kernel=null,q$.verifyArgs(t),this.filters=t.filters,Cq(this.filters,"filters"),this.kernelInitializer=LY(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=vX(t.kernelConstraint),this.kernelRegularizer=O$(t.kernelRegularizer)}build(e){e=UY(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new oq("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return kP((()=>{let t;e=zY(e);const n=null==this.bias?null:this.bias.read(),r=_q(this.activation.getClassName());if(null!=r&&2===this.rank)t=H$(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=W$(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=H$(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new iq("convolutions greater than 3D are not implemented yet.");t=G$(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=UY(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<n.length;++o){const e=B$(n[o],this.kernelSize[o],this.padding,this.strides[o],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[o]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:DY(this.kernelInitializer),kernelRegularizer:I$(this.kernelRegularizer),kernelConstraint:gX(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new oq("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class Y$ extends q${constructor(e){super(2,e),Y$.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!Sq(e.kernelSize,"number",1,2))throw new oq("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}Y$.className="Conv2D",aL(Y$);class X$ extends q${constructor(e){super(3,e),X$.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new oq("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}X$.className="Conv3D",aL(X$);class J$ extends Y${constructor(e){if(super(e),this.inputSpec=[new qY({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new oq("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(4!==(e=UY(e)).length)throw new oq("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new oq("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new qY({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return kP((()=>{let t=zY(e);if(4!==t.shape.length)throw new oq("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,r=n[0];let o,i;"channelsFirst"===this.dataFormat?(o=2,i=3):(o=1,i=2);const a=n[o],s=n[i],c=this.kernelSize[0],l=this.kernelSize[1],u=this.strides[0],d=this.strides[1],h=[r,z$(a,u,c,this.padding),z$(s,d,l,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=JL(t,[0,2,3,1]));let p=KB(t,this.kernel.read(),h,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=JL(p,[0,3,1,2])),null!=this.bias&&(p=pY(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=UY(e)).slice();let n,r,o;"channelsFirst"===this.dataFormat?(n=1,r=2,o=3):(n=3,r=1,o=2);const i=this.kernelSize[0],a=this.kernelSize[1],s=this.strides[0],c=this.strides[1];return t[n]=this.filters,t[r]=z$(t[r],s,i,this.padding),t[o]=z$(t[o],c,a,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}J$.className="Conv2DTranspose",aL(J$);class $$ extends X${constructor(e){if(super(e),this.inputSpec=[new qY({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new oq("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(5!==(e=UY(e)).length)throw new oq("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new oq("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new qY({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return kP((()=>{let t=zY(e);if(5!==t.shape.length)throw new oq("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,r=n[0];let o,i,a;"channelsFirst"===this.dataFormat?(a=2,o=3,i=4):(a=1,o=2,i=3);const s=n[a],c=n[o],l=n[i],u=this.kernelSize[0],d=this.kernelSize[1],h=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,z$(s,p,u,this.padding),z$(c,f,d,this.padding),z$(l,m,h,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=JL(t,[0,2,3,4,1]));let y=XB(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=JL(y,[0,4,1,2,3])),null!==this.bias&&(y=pY(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=UY(e)).slice();let n,r,o,i;"channelsFirst"===this.dataFormat?(n=1,r=2,o=3,i=4):(n=4,r=1,o=2,i=3);const a=this.kernelSize[0],s=this.kernelSize[1],c=this.kernelSize[2],l=this.strides[0],u=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[r]=z$(t[r],l,a,this.padding),t[o]=z$(t[o],u,s,this.padding),t[i]=z$(t[i],d,c,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}$$.className="Conv3DTranspose",aL($$);class Z$ extends q${constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new oq("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new oq("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new oq("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(t.padding)));this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=LY(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=O$(t.depthwiseRegularizer),this.depthwiseConstraint=vX(t.depthwiseConstraint),this.pointwiseInitializer=LY(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=O$(t.pointwiseRegularizer),this.pointwiseConstraint=vX(t.pointwiseConstraint)}build(e){if((e=UY(e)).length<this.rank+2)throw new oq("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new oq("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),o=[];for(let a=0;a<this.rank;++a)o.push(1);o.push(n*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new qY({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return kP((()=>{let t;if(e=zY(e),1===this.rank)throw new iq("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=JL(e,[0,2,3,1])),t=QU(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=pY(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=JL(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=DY(this.depthwiseInitializer),e.pointwiseInitializer=DY(this.pointwiseInitializer),e.depthwiseRegularizer=I$(this.depthwiseRegularizer),e.pointwiseRegularizer=I$(this.pointwiseRegularizer),e.depthwiseConstraint=gX(this.depthwiseConstraint),e.pointwiseConstraint=gX(this.pointwiseConstraint),e}}Z$.className="SeparableConv";class Q$ extends Z${constructor(e){super(2,e)}}Q$.className="SeparableConv2D",aL(Q$);class eZ extends q${constructor(e){super(1,e),eZ.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!Sq(e.kernelSize,"number",1,1))throw new oq("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}eZ.className="Conv1D",aL(eZ);class tZ extends ZY{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return kP((()=>{if(e=zY(e),"channelsLast"===this.dataFormat){const t=oY(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return oY(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=oY(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return oY(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}tZ.className="Cropping2D",aL(tZ);class nZ extends ZY{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Lq(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function(e){kq(Rq,"InterpolationFormat",e)}(this.interpolation)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return kP((()=>{let t=zY(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=JL(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],o="nearest"===this.interpolation?QW.resizeNearestNeighbor(t,[e,r]):QW.resizeBilinear(t,[e,r]);return JL(o,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?QW.resizeNearestNeighbor(t,[e,r]):QW.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}nZ.className="UpSampling2D",aL(nZ);class rZ extends K${constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=LY(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=vX(e.depthwiseConstraint),this.depthwiseRegularizer=O$(e.depthwiseRegularizer)}build(e){if((e=UY(e)).length<4)throw new oq("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new oq("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return kP((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return kP((()=>{null==o&&(o="channelsLast"),Lq(o);let a=U$(e,o);if(4!==e.rank)throw new oq("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new oq("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return a=nz(a,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===o&&(a=JL(a,[0,3,1,2])),a}))}(e=zY(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=pY(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=UY(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=B$(t,this.kernelSize[0],this.padding,this.strides[0]),i=B$(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,o,i]:[e[0],o,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=DY(this.depthwiseInitializer),e.depthwiseRegularizer=I$(this.depthwiseRegularizer),e.depthwiseConstraint=gX(this.depthwiseRegularizer),e}}function oZ(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new oq("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function o(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=o(t),constants:n=o(n)}}function iZ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return kP((()=>{const c=t.shape.length;if(c<3)throw new oq("Input should be at least 3D, but is ".concat(c,"D."));const l=[1,0].concat($q(2,c));if(t=JL(t,l),null!=i)throw new iq("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=o&&(o=FD(FD(o,"bool"),"float32"),o.rank===c-1&&(o=Nz(o,-1)),o=JL(o,l)),r&&(t=GU(t,0),null!=o&&(o=GU(o,0)));const u=[];let d,h=n;const p=t.shape[0],f=AV(t);let m,g;null!=o&&(m=AV(o));for(let t=0;t<p;++t){const n=f[t],r=kP((()=>e(n,h)));if(null==o)d=r[0],h=r[1];else{const e=kP((()=>{const e=m[t],n=pL(yU(e),e);return{output:UD(HD(r[0],e),HD(h[0],n)),newStates:h.map(((t,o)=>UD(HD(r[1][o],e),HD(t,n))))}}));d=e.output,h=e.newStates}s&&u.push(d)}if(s){g=gV(u,1)}return[d,g,h]}))}rZ.className="DepthwiseConv2D",aL(rZ);class aZ extends ZY{constructor(e){let t;if(super(e),null==e.cell)throw new oq("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new fZ({cells:e.cell}):e.cell,null==t.stateSize)throw new oq("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new qY({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return $q(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){FY(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return kP((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new iq("Constants support is not implemented in RNN yet.");FY(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new qY({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let o;if(this.cell.build(r),o=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!CI(this.stateSpec.map((e=>e.shape[e.shape.length-1])),o))throw new oq("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=o.map((e=>new qY({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];kP((()=>{if(!this.stateful)throw new nq("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new oq("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>sU([n,e]))):this.states_=[sU([n,this.cell.stateSize])];else if(null==e)SP(this.states_),null!=this.keptStates&&(SP(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>sU([n,e]))):this.states_[0]=sU([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new oq("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===t?this.keptStates.push(this.states_.slice()):SP(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,i=[n,o];if(!CI(r.shape,i))throw new oq("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(i,", received shape=").concat(r.shape));this.states_[t]=r}}this.states_=this.states_.map((e=>CP(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const o=oZ(e,n,r,this.numConstants);e=o.inputs,n=o.initialState,r=o.constants;let i=[],a=[];if(null!=n){t.initialState=n,i=i.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new qY({shape:e.shape}));a=a.concat(this.stateSpec)}null!=r&&(t.constants=r,i=i.concat(r),this.numConstants=r.length);if(i[0]instanceof YY){const n=[e].concat(i),r=this.inputSpec.concat(a),o=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=o,s}return super.apply(e,t)}call(e,t){return kP((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let o=null==t?null:t.initialState;e=zY(e),null==o&&(o=this.stateful?this.states_:this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==i)throw new oq("RNN Layer has ".concat(i," state(s) but was passed ")+"".concat(o.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:r},s=iZ(((e,t)=>{const n=this.cell.call([e].concat(t),a);return[n[0],n.slice(1)]}),e,o,this.goBackwards,n,null,this.unroll,this.returnSequences),c=s[0],l=s[1],u=s[2];this.stateful&&this.resetStates(u,r);const d=this.returnSequences?l:c;return this.returnState?[d].concat(u):d}))}getInitialState(e){return kP((()=>{let t=sU(e.shape);return t=Sz(t,[1,2]),t=tY(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?sY(t,[1,e]):t)):this.cell.stateSize>1?[sY(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===aZ.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=XX(t.cell,n);return new e(Object.assign(t,{cell:r}))}}aZ.className="RNN",aL(aZ);class sZ extends ZY{}class cZ extends sZ{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Cq(this.units,"units"),this.activation=C$(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=LY(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=LY(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=LY(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=O$(e.kernelRegularizer),this.recurrentRegularizer=O$(e.recurrentRegularizer),this.biasRegularizer=O$(e.biasRegularizer),this.kernelConstraint=vX(e.kernelConstraint),this.recurrentConstraint=vX(e.recurrentConstraint),this.biasConstraint=vX(e.biasConstraint),this.dropout=Xq([1,Jq([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Xq([1,Jq([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=UY(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return kP((()=>{if(2!==e.length)throw new oq("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let n=e[1];e=e[0];const r=null!=t.training&&t.training;let o;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=mZ({ones:()=>yU(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=mZ({ones:()=>yU(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;o=lY(null!=i?HD(e,i):e,this.kernel.read()),null!=this.bias&&(o=pY(o,this.bias.read())),null!=a&&(n=HD(n,a));let s=UD(o,lY(n,this.recurrentKernel.read()));return null!=this.activation&&(s=this.activation.apply(s)),[s,s]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:k$(this.activation),useBias:this.useBias,kernelInitializer:DY(this.kernelInitializer),recurrentInitializer:DY(this.recurrentInitializer),biasInitializer:DY(this.biasInitializer),kernelRegularizer:I$(this.kernelRegularizer),recurrentRegularizer:I$(this.recurrentRegularizer),biasRegularizer:I$(this.biasRegularizer),activityRegularizer:I$(this.activityRegularizer),kernelConstraint:gX(this.kernelConstraint),recurrentConstraint:gX(this.recurrentConstraint),biasConstraint:gX(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}cZ.className="SimpleRNNCell",aL(cZ);class lZ extends aZ{constructor(e){e.cell=new cZ(e),super(e)}call(e,t){return kP((()=>{null!=this.cell.dropoutMask&&(SP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(SP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return new e(t)}}lZ.className="SimpleRNN",aL(lZ);class uZ extends sZ{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new oq("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Cq(this.units,"units"),this.activation=C$(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=C$(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=LY(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=LY(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=LY(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=O$(e.kernelRegularizer),this.recurrentRegularizer=O$(e.recurrentRegularizer),this.biasRegularizer=O$(e.biasRegularizer),this.kernelConstraint=vX(e.kernelConstraint),this.recurrentConstraint=vX(e.recurrentConstraint),this.biasConstraint=vX(e.biasConstraint),this.dropout=Xq([1,Jq([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Xq([1,Jq([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=UY(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return kP((()=>{if(2!==e.length)throw new oq("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=mZ({ones:()=>yU(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=mZ({ones:()=>yU(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,i=this.recurrentDropoutMask;let a,s,c;0<this.dropout&&this.dropout<1&&(e=HD(e,o[0]));let l=lY(e,this.kernel.read());this.useBias&&(l=pY(l,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=HD(r,i[0]));const u=this.recurrentKernel.read(),[d,h]=hV(u,[2*this.units,this.units],u.rank-1),p=lY(r,d),[f,m,g]=hV(l,3,l.rank-1),[y,v]=hV(p,2,p.rank-1);a=this.recurrentActivation.apply(UD(f,y)),s=this.recurrentActivation.apply(UD(m,v));const b=lY(HD(s,r),h);c=this.activation.apply(UD(g,b));const x=UD(HD(a,r),HD(UD(1,YL(a)),c));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:k$(this.activation),recurrentActivation:k$(this.recurrentActivation),useBias:this.useBias,kernelInitializer:DY(this.kernelInitializer),recurrentInitializer:DY(this.recurrentInitializer),biasInitializer:DY(this.biasInitializer),kernelRegularizer:I$(this.kernelRegularizer),recurrentRegularizer:I$(this.recurrentRegularizer),biasRegularizer:I$(this.biasRegularizer),activityRegularizer:I$(this.activityRegularizer),kernelConstraint:gX(this.kernelConstraint),recurrentConstraint:gX(this.recurrentConstraint),biasConstraint:gX(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}uZ.className="GRUCell",aL(uZ);class dZ extends aZ{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new uZ(e),super(e)}call(e,t){return kP((()=>{null!=this.cell.dropoutMask&&(SP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(SP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}dZ.className="GRU",aL(dZ);class hZ extends sZ{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Cq(this.units,"units"),this.activation=C$(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=C$(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=LY(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=LY(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=LY(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=O$(e.kernelRegularizer),this.recurrentRegularizer=O$(e.recurrentRegularizer),this.biasRegularizer=O$(e.biasRegularizer),this.kernelConstraint=vX(e.kernelConstraint),this.recurrentConstraint=vX(e.recurrentConstraint),this.biasConstraint=vX(e.biasConstraint),this.dropout=Xq([1,Jq([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Xq([1,Jq([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=UY(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends vY{apply(t,r){const o=e.apply([n]),i=(new xY).apply([n]),a=e.apply([2*n]);return aY(aY(o,i),a)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return kP((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new oq("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let r=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=mZ({ones:()=>yU(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=mZ({ones:()=>yU(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let s,c,l,u;0<this.dropout&&this.dropout<1&&(e=HD(e,i[0]));let d=lY(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=HD(r,a[0])),d=UD(d,lY(r,this.recurrentKernel.read())),this.useBias&&(d=pY(d,this.bias.read()));const[h,p,f,m]=hV(d,4,d.rank-1);s=this.recurrentActivation.apply(h),c=this.recurrentActivation.apply(p),l=UD(HD(c,o),HD(s,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=HD(u,this.activation.apply(l));return[g,g,l]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:k$(this.activation),recurrentActivation:k$(this.recurrentActivation),useBias:this.useBias,kernelInitializer:DY(this.kernelInitializer),recurrentInitializer:DY(this.recurrentInitializer),biasInitializer:DY(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:I$(this.kernelRegularizer),recurrentRegularizer:I$(this.recurrentRegularizer),biasRegularizer:I$(this.biasRegularizer),activityRegularizer:I$(this.activityRegularizer),kernelConstraint:gX(this.kernelConstraint),recurrentConstraint:gX(this.recurrentConstraint),biasConstraint:gX(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}hZ.className="LSTMCell",aL(hZ);class pZ extends aZ{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new hZ(e),super(e)}call(e,t){return kP((()=>{null!=this.cell.dropoutMask&&(SP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(SP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}pZ.className="LSTM",aL(pZ);class fZ extends sZ{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return kP((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const o=[];let i;for(let a=0;a<this.cells.length;++a){const s=this.cells[a];n=r[a],i=0===a?[e[0]].concat(n):[i[0]].concat(n),i=s.call(i,t),o.push(i.slice(1))}n=[];for(const e of o.slice().reverse())n.push(...e);return[i[0]].concat(n)}))}build(e){let t;FY(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{Vq("RNNCell_".concat(r),(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];for(const o of t.cells)r.push(XX(o,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return GY(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,o=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],o[e]])}KY(t)}}function mZ(e){const{ones:t,rate:n,training:r=!1,count:o=1,dropoutFunc:i}=e,a=()=>null!=i?i(t(),n):fY(t(),n),s=()=>mY(a,t,r);if(!o||o<=1)return CP(s().clone());return Array(o).fill(void 0).map(s).map((e=>CP(e.clone())))}fZ.className="StackedRNNCells",aL(fZ);var gZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class yZ extends aZ{constructor(e){if(e.unroll)throw new iq("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new iq("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new qY({ndim:5})]}call(e,t){return kP((()=>{if(null!=this.cell.dropoutMask&&(SP(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(SP(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new oq("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return kP((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),o=sU([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(o):[o]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];kP((()=>{if(!this.stateful)throw new nq("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),o=[r[0],...r.slice(2)];if(null==n[0])throw new oq("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>sU(o))):this.states_=[sU(o)];else if(null==e)SP(this.states_),null!=this.keptStates&&(SP(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>sU(o))):this.states_[0]=sU(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new oq("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));t?this.keptStates.push(this.states_.slice()):SP(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=o;if(!CI(n.shape,r))throw new oq("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(r,", received shape=").concat(n.shape));this.states_[t]=n}}this.states_=this.states_.map((e=>CP(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:o,strides:i,dilationRate:a}=this.cell,s="channelsFirst"===t,c=e[s?3:2],l=e[s?4:3],u=B$(c,r[0],o,i[0],a[0]),d=B$(l,r[1],o,i[1],a[1]);return[...e.slice(0,2),...s?[n,u,d]:[u,d,n]]}}yZ.className="ConvRNN2D";class vZ extends hZ{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:o,dataFormat:i,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,Cq(this.filters,"filters"),this.kernelSize=F$(n,2,"kernelSize"),this.kernelSize.forEach((e=>Cq(e,"kernelSize"))),this.strides=F$(r||1,2,"strides"),this.strides.forEach((e=>Cq(e,"strides"))),this.padding=o||"valid",Fq(this.padding),this.dataFormat=i||"channelsLast",Lq(this.dataFormat),this.dilationRate=F$(a||1,2,"dilationRate"),this.dilationRate.forEach((e=>Cq(e,"dilationRate")))}build(e){var t;e=UY(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new oq("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const r=e[n],o=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends vY{apply(e,t){return iY([n.apply([r]),cU([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return kP((()=>{if(3!==e.length)throw new oq("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=t.training||!1,r=e[0],o=e[1],i=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=mZ({ones:()=>yU(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,s=(e,t,n)=>t&&t[n]?HD(t[n],e):e;let c=s(r,a,0),l=s(r,a,1),u=s(r,a,2),d=s(r,a,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=mZ({ones:()=>yU(o),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const h=this.recurrentDropoutMask;let p=s(o,h,0),f=s(o,h,1),m=s(o,h,2),g=s(o,h,3);const[y,v,b,x]=hV(this.kernel.read(),4,3),[w,k,S,C]=this.useBias?hV(this.bias.read(),4):[null,null,null,null];c=this.inputConv(c,y,w,this.padding),l=this.inputConv(l,v,k,this.padding),u=this.inputConv(u,b,S,this.padding),d=this.inputConv(d,x,C,this.padding);const[E,_,T,N]=hV(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,E),f=this.recurrentConv(f,_),m=this.recurrentConv(m,T),g=this.recurrentConv(g,N);const I=this.recurrentActivation.apply(UD(c,p)),A=this.recurrentActivation.apply(UD(l,f)),O=UD(HD(A,i),HD(I,this.activation.apply(UD(u,m)))),R=HD(this.recurrentActivation.apply(UD(d,g)),this.activation.apply(O));return[R,R,O]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=gZ(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const o=WB(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?pY(o,n,this.dataFormat):o}recurrentConv(e,t){return WB(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}vZ.className="ConvLSTM2DCell",aL(vZ);class bZ extends yZ{constructor(e){const t=new vZ(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}bZ.className="ConvLSTM2D",aL(bZ);class xZ extends ZY{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return mY((()=>fY(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}xZ.className="Dropout",aL(xZ);class wZ extends xZ{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}wZ.className="SpatialDropout1D",aL(wZ);class kZ extends ZY{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,Cq(this.units,"units"),this.activation=C$(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=LY(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=LY(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=vX(e.kernelConstraint),this.biasConstraint=vX(e.biasConstraint),this.kernelRegularizer=O$(e.kernelRegularizer),this.biasRegularizer=O$(e.biasRegularizer),this.activityRegularizer=O$(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=UY(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=UY(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e),r=_q(this.activation.getClassName());let o;return null!=r?o=lY(n,this.kernel.read(),r,this.bias?this.bias.read():null):(o=lY(n,this.kernel.read()),null!=this.bias&&(o=pY(o,this.bias.read())),null!=this.activation&&(o=this.activation.apply(o))),o}))}getConfig(){const e={units:this.units,activation:k$(this.activation),useBias:this.useBias,kernelInitializer:DY(this.kernelInitializer),biasInitializer:DY(this.biasInitializer),kernelRegularizer:I$(this.kernelRegularizer),biasRegularizer:I$(this.biasRegularizer),activityRegularizer:I$(this.activityRegularizer),kernelConstraint:gX(this.kernelConstraint),biasConstraint:gX(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}kZ.className="Dense",aL(kZ);class SZ extends ZY{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=UY(e);for(const t of e.slice(1))if(null==t)throw new oq('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],Yq(e,1)]}call(e,t){return kP((()=>{this.invokeCallHook(e,t);let n=zY(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=JL(n,e)}return function(e){if(e.rank<=1)throw new oq("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));const t=[e.shape[0],Yq(e.shape,1)];return xB(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}SZ.className="Flatten",aL(SZ);class CZ extends ZY{constructor(e){super(e),this.supportsMasking=!0,this.activation=C$(e.activation)}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e);return this.activation.apply(n)}))}getConfig(){const e={activation:k$(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}CZ.className="Activation",aL(CZ);class EZ extends ZY{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return kP((()=>function(e,t){return kP((()=>{if(2!==e.shape.length)throw new oq("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(e.shape.length," tensor."));return sY(tY(e,1),[1,t,1])}))}(e=zY(e),this.n)))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}EZ.className="RepeatVector",aL(EZ);class _Z extends ZY{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let o=1,i=null;for(let s=0;s<r.length;++s){const e=r[s];if(this.isUnknown(e)){if(null!==i)throw new oq("Can only specifiy one unknown dimension.");i=s}else o*=e}const a=Yq(e);if(null!==i){if(0===o||a%o!==0)throw new oq(n);r[i]=a/o}else if(a!==o)throw new oq(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e),r=n.shape,o=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return xB(n,o)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}_Z.className="Reshape",aL(_Z);class TZ extends ZY{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const t=$q(1,e.dims.length+1);if(!CI(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new qY({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=UY(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return JL(zY(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}TZ.className="Permute",aL(TZ);class NZ extends ZY{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=zY(e);return $F(gU(n,this.maskValue),-1)}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e),r=$F(gU(n,this.maskValue),-1,!0);return HD(n,FD(r,n.dtype))}))}}NZ.className="Masking",aL(NZ);class IZ extends ZY{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(hq(e.inputLength))}this.inputDim=e.inputDim,Cq(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Cq(this.outputDim,"outputDim"),this.embeddingsInitializer=LY(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=O$(e.embeddingsRegularizer),this.activityRegularizer=O$(e.activityRegularizer),this.embeddingsConstraint=vX(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return kP((()=>this.maskZero?(e=zY(e),gU(e,qD(e))):null))}computeOutputShape(e){if(e=UY(e),null==this.inputLength)return[...e,this.outputDim];const t=hq(this.inputLength);if(t.length!==e.length-1)throw new oq('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let n=0;for(let r=0;r<t.length;++r){const o=t[r],i=e[r+1];if(null!=o&&null!=i&&o!==i)throw new oq('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==o&&(t[n]=i),n++}}return[e[0],...t,this.outputDim]}call(e,t){return kP((()=>{this.invokeCallHook(e,t);let n=zY(e);"int32"!==n.dtype&&(n=eY(n,"int32"));const r=uY(this.embeddings.read(),xB(n,[n.size]));return xB(r,UY(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:DY(this.embeddingsInitializer),embeddingsRegularizer:I$(this.embeddingsRegularizer),activityRegularizer:I$(this.activityRegularizer),embeddingsConstraint:gX(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}IZ.className="Embedding",aL(IZ);class AZ extends ZY{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new iq}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const o=e[e.length-t.length+r],i=t[r];if(null==o||null==i||o<0||i<0)n.push(null);else if(1===o)n.push(i);else if(1===i)n.push(o);else{if(o!==i)throw new oq("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(o)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[UY(e)]),e.length<2)throw new oq("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let t=[];for(const o of e)null!=o&&null!==o[0]&&t.push(o[0]);if(t=xq(t),t.length>1)throw new oq("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let n=null==e[0]?null:e[0].slice(1);for(let o=1;o<e.length;++o){const t=null==e[o]?null:e[o].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===xq(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return kP((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=Jq(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=tY(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const i of e){const e=i.rank;if(null==e){const e=i.shape,r=e[0],o=e.slice(1).concat([r]);let a=xB(i,[r].concat(Yq(e.slice(1))));a=JL(a,[1,0]),a=xB(a,o),t.push(a),n=!0}else if(e>1){const r=$q(1,e).concat([0]);t.push(JL(i,r)),n=!0}else t.push(i)}let r=this.mergeFunction(t);const o=r.rank;if(n)if(null==o){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=xB(JL(xB(r,[-1,t]),[1,0]),n)}else if(o>1){const e=[o-1].concat($q(0,o-1));r=JL(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=xq(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return kP((()=>{if(null==t)return null;if(!Array.isArray(t))throw new oq("`mask` should be an Array");if(!Array.isArray(e))throw new oq("`inputs` should be an Array");if(t.length!==e.length)throw new oq("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((e=>null==e)))return null;t=t.map((e=>null==e?e:Nz(e,0)));let n=t[0];for(let e=1;e<t.length-1;++e)n=Jz(n,t[e]);return n}))}}class OZ extends AZ{constructor(e){super(e)}mergeFunction(e){return kP((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=UD(t,e[n]);return t}))}}OZ.className="Add",aL(OZ);class RZ extends AZ{constructor(e){super(e)}mergeFunction(e){return kP((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=HD(t,e[n]);return t}))}}RZ.className="Multiply",aL(RZ);class MZ extends AZ{constructor(e){super(e)}mergeFunction(e){return kP((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=UD(t,e[n]);return HD(1/e.length,t)}))}}MZ.className="Average",aL(MZ);class jZ extends AZ{constructor(e){super(e)}mergeFunction(e){return kP((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=bL(t,e[n]);return t}))}}jZ.className="Maximum",aL(jZ);class PZ extends AZ{constructor(e){super(e)}mergeFunction(e){return kP((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=uU(t,e[n]);return t}))}}PZ.className="Minimum",aL(PZ);class DZ extends AZ{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new oq("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let o=!1;for(const e of n)if(CI(e,t)){o=!0;break}o||n.push(t)}if(n.length>1)throw new oq("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return kP((()=>iY(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new oq("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const o of t.slice(1)){if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new oq("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new oq("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new oq("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return kP((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let i=0;i<e.length;++i)null==t[i]?r.push(FD(yU(e[i]),"bool")):t[i].rank<e[i].rank?r.push(Nz(t[i],-1)):r.push(t[i]);const o=SB(r,this.axis);return JF(o,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function LZ(e,t){for(;e<0;)e+=t;return e}DZ.className="Concatenate",aL(DZ);class FZ extends AZ{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){vI(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new iq("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new oq("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}mergeFunction(e){if(2!==e.length)throw new oq("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>LZ(t,e[n].shape.length))):[LZ(this.axes,n.shape.length),LZ(this.axes,r.shape.length)],this.normalize&&(n=JX(n,t[0]),r=JX(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new iq("batchDot is not implemented for tensors of 4D or higher rank yet");if(vI(e.shape.length>=2,(()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length))),vI(e.shape.length>=2,(()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length))),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new iq("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,o=t.shape.length;null==n&&(n=[r-1,o-2]);const i=n;return kP((()=>{let n,a;if(r>o){n=r-o;const e=[];for(let t=0;t<n;++t)e.push(1);t=xB(t,t.shape.concat(e))}else if(o>r){n=o-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=xB(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)a=i[0]===i[1]?Sz(HD(e,t),i[0]):Sz(HD(JL(e,[1,0]),t),i[1]);else{const n=i[0]!==e.shape.length-1,r=i[1]===t.shape.length-1;a=GL(e,t,n,r)}if(n>0){let e;e=r>o?r+o-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);a=mV(a,t)}return 1===a.shape.length&&(a=Nz(a,1)),a}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[LZ(this.axes,e.length),LZ(this.axes,t.length)],n}computeOutputShape(e){vI(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new iq("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const o=t.concat(n);return 1===o.length&&o.push(1),o}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}FZ.className="Dot",aL(FZ);class BZ extends ZY{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e);return mY((()=>UD(cY(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}BZ.className="GaussianNoise",aL(BZ);class zZ extends ZY{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return kP((()=>{this.invokeCallHook(e,t);const n=zY(e);if(this.rate>0&&this.rate<1){return mY((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return HD(n,cY(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}zZ.className="GaussianDropout",aL(zZ);class UZ extends ZY{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||zY(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return kP((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=zY(e),r=-1.7580993408473766;let o=Pz(BU(n),this.rate);o=eY(o,"float32");const i=((1-this.rate)*(1+this.rate*r**2))**-.5,a=-i*r*this.rate,s=UD(HD(t,o),HD(UD(o,-1),r));return UD(HD(s,i),a)};return mY(r,(()=>zY(e)),t.training||!1)}return e}))}}function VZ(e,t,n,r,o){let i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=AB(e,t,n,r,o,a);else if(3===e.rank)i=OB(e,t,n,r,o,a);else{if(4!==e.rank)throw new iq("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");i=RB(e,t,n,r,o,a)}return i}function WZ(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return CI(r.slice().sort(),$q(0,e.rank-1))?function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return kP((()=>{const i=pU(e,r),a=i.mean,s=i.variance;return[VZ(e,a,s,n,t,o),a,s]}))}(e,t,n,r,o):function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return kP((()=>{const i=pU(e,r),a=i.mean,s=i.variance,c=[];for(const t of $q(0,e.rank))-1!==r.indexOf(t)?c.push(1):c.push(e.shape[t]);const l=xB(a,c),u=xB(s,c),d=null==t?null:xB(t,c),h=null==n?null:xB(n,c);return[VZ(e,l,u,h,d,o),a,s]}))}(e,t,n,r,o)}UZ.className="AlphaDropout",aL(UZ);class HZ extends ZY{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=LY(e.betaInitializer||"zeros"),this.gammaInitializer=LY(e.gammaInitializer||"ones"),this.movingMeanInitializer=LY(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=LY(e.movingVarianceInitializer||"ones"),this.betaConstraint=vX(e.betaConstraint),this.gammaConstraint=vX(e.gammaConstraint),this.betaRegularizer=O$(e.betaRegularizer),this.gammaRegularizer=O$(e.gammaRegularizer)}build(e){e=UY(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new oq("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new qY({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return kP((()=>{const n=null!=t.training&&t.training,r=zY(e),o=r.shape,i=o.length,a=$q(0,i),s=this.axis>=0?this.axis:this.axis+i;a.splice(s,1);const c=cq(1,i);c[s]=o[s];const l=a.slice();l.sort();const u=!CI(l,$q(0,i).slice(0,i-1));if(!n)return(()=>{if(u){const e=xB(this.movingMean.read(),c),t=xB(this.movingVariance.read(),c),n=this.center?xB(this.beta.read(),c):null,o=this.scale?xB(this.gamma.read(),c):null;return VZ(r,e,t,n,o,this.epsilon)}return VZ(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[d,h,p]=WZ(r,this.gamma.read(),this.beta.read(),a,this.epsilon),f=(e,t,n)=>{kP((()=>{const r=1-n,o=e.read(),i=HD(pL(o,t),r);e.write(pL(o,i))}))};return(()=>{f(this.movingMean,h,this.momentum),f(this.movingVariance,p,this.momentum)})(),d}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:DY(this.betaInitializer),gammaInitializer:DY(this.gammaInitializer),movingMeanInitializer:DY(this.movingMeanInitializer),movingVarianceInitializer:DY(this.movingVarianceInitializer),betaRegularizer:I$(this.betaRegularizer),gammaRegularizer:I$(this.gammaRegularizer),betaConstraint:gX(this.betaConstraint),gammaConstraint:gX(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}HZ.className="BatchNormalization",aL(HZ);class GZ extends ZY{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else{if(!Array.isArray(this.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));for(const e of this.axis)if(!Number.isInteger(e))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=LY(e.betaInitializer||"zeros"),this.gammaInitializer=LY(e.gammaInitializer||"ones"),this.betaRegularizer=O$(e.betaRegularizer),this.gammaRegularizer=O$(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=UY(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=t);for(const o of this.axis)if(o<0||o>=t)throw new Error("Invalid axis: ".concat(o));if(this.axis.length!==xq(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const n=this.axis.map((t=>e[t])),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=zY(e),r=n.shape,o=r.length;return kP((()=>{let{mean:e,variance:t}=pU(n,this.axis,!0);const i=cq(1,o);for(const n of this.axis)i[n]=r[n];const a=e=>null!=e&&e.shape.length!==o?xB(e,i):e;let s=this.scale?a(this.gamma.read()):null,c=this.center?a(this.beta.read()):null;const l=[],u=[];for(let n=0;n<o;++n)-1!==this.axis.indexOf(n)?(l.push(r[n]),u.push(1)):(l.push(1),u.push(r[n]));return e=Az(e,l),t=Az(t,l),null!=s&&(s=Az(s,u)),null!=c&&(c=Az(c,u)),VZ(n,e,t,c,s,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:DY(this.betaInitializer),gammaInitializer:DY(this.gammaInitializer),betaRegularizer:I$(this.betaRegularizer),gammaRegularizer:I$(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}GZ.className="LayerNormalization",aL(GZ);class KZ extends ZY{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new oq("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new oq("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(t=e.padding[0],2!==e.padding[1].length)throw new oq("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new qY({ndim:4})]}computeOutputShape(e){let t,n;return e=UY(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return kP((()=>function(e,t,n){return kP((()=>{if(4!==e.rank)throw new oq("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(e.rank,"-D tensor."));if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new oq("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new oq("Unknown data format: ".concat(n,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],bU(e,r)}))}(zY(e),this.padding,this.dataFormat)))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function qZ(e,t,n,r,o,i){return kP((()=>{let a;Lq(o),Bq(i),Fq(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==o&&(o="channelsLast"),null==i&&(i="max"),e=U$(e,o);const s="same"===r?"same":"valid";return a="max"===i?rU(e,t,n,s):wB(e,t,n,s),"channelsFirst"===o&&(a=JL(a,[0,3,1,2])),a}))}function YZ(e,t,n,r,o,i){return kP((()=>{let a;Lq(o),Bq(i),Fq(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==o&&(o="channelsLast"),null==i&&(i="max"),e=V$(e,o);const s="same"===r?"same":"valid";return a="max"===i?oU(e,t,n,s):kB(e,t,n,s),"channelsFirst"===o&&(a=JL(a,[0,4,1,2,3])),a}))}KZ.className="ZeroPadding2D",aL(KZ);class XZ extends ZY{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new oq("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));this.poolSize=e.poolSize}if(Cq(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new oq("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));this.strides=e.strides}Cq(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Fq(this.padding),this.inputSpec=[new qY({ndim:3})]}computeOutputShape(e){const t=B$((e=UY(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return kP((()=>{this.invokeCallHook(e,t),e=tY(zY(e),2);const n=this.poolingFunction(zY(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return mV(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class JZ extends XZ{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Lq(o),Fq(r),qZ(e,t,n,r,o,"max")}}JZ.className="MaxPooling1D",aL(JZ);class $Z extends XZ{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Lq(o),Fq(r),qZ(e,t,n,r,o,"avg")}}$Z.className="AveragePooling1D",aL($Z);class ZZ extends ZY{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new oq("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];Cq(this.poolSize,"poolSize"),Cq(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Lq(this.dataFormat),Fq(this.padding),this.inputSpec=[new qY({ndim:4})]}computeOutputShape(e){e=UY(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=B$(t,this.poolSize[0],this.padding,this.strides[0]),n=B$(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return kP((()=>(this.invokeCallHook(e,t),this.poolingFunction(zY(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class QZ extends ZZ{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Lq(o),Fq(r),qZ(e,t,n,r,o,"max")}}QZ.className="MaxPooling2D",aL(QZ);class eQ extends ZZ{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Lq(o),Fq(r),qZ(e,t,n,r,o,"avg")}}eQ.className="AveragePooling2D",aL(eQ);class tQ extends ZY{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new oq("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Cq(this.poolSize,"poolSize"),Cq(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Lq(this.dataFormat),Fq(this.padding),this.inputSpec=[new qY({ndim:5})]}computeOutputShape(e){e=UY(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=B$(t,this.poolSize[0],this.padding,this.strides[0]),n=B$(n,this.poolSize[1],this.padding,this.strides[1]),r=B$(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return kP((()=>(this.invokeCallHook(e,t),this.poolingFunction(zY(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class nQ extends tQ{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Lq(o),Fq(r),YZ(e,t,n,r,o,"max")}}nQ.className="MaxPooling3D",aL(nQ);class rQ extends tQ{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Lq(o),Fq(r),YZ(e,t,n,r,o,"avg")}}rQ.className="AveragePooling3D",aL(rQ);class oQ extends ZY{constructor(e){super(e),this.inputSpec=[new qY({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new iq}}class iQ extends oQ{constructor(e){super(e||{})}call(e,t){return kP((()=>{const t=zY(e);return aU(t,1)}))}}iQ.className="GlobalAveragePooling1D",aL(iQ);class aQ extends oQ{constructor(e){super(e||{})}call(e,t){return kP((()=>{const t=zY(e);return wz(t,1)}))}}aQ.className="GlobalMaxPooling1D",aL(aQ);class sQ extends ZY{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Lq(this.dataFormat),this.inputSpec=[new qY({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new iq}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class cQ extends sQ{call(e,t){return kP((()=>{const t=zY(e);return"channelsLast"===this.dataFormat?aU(t,[1,2]):aU(t,[2,3])}))}}cQ.className="GlobalAveragePooling2D",aL(cQ);class lQ extends sQ{call(e,t){return kP((()=>{const t=zY(e);return"channelsLast"===this.dataFormat?wz(t,[1,2]):wz(t,[2,3])}))}}lQ.className="GlobalMaxPooling2D",aL(lQ);class uQ extends ZY{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=XX(t.layer,n);delete t.layer;const o={layer:r};return Object.assign(o,t),new e(o)}}class dQ extends uQ{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=UY(e)).length<3)throw new oq("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=UY(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return kP((()=>iZ(((e,n)=>[zY(this.layer.call(e,t)),[]]),e=zY(e),[],!1,null,null,!1,!0)[1]))}}dQ.className="TimeDistributed",aL(dQ);class hQ extends uQ{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=XX(n),t.goBackwards=!0!==t.goBackwards;const r={};if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=XX(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function(e){kq(Pq,"BidirectionalMergeMode",e)}(this.mergeMode),e.weights)throw new iq("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,o=this.forwardLayer.computeOutputShape(e);return Array.isArray(o)&&Array.isArray(o[0])||(o=[o]),this.returnState?(r=o.slice(1),t=o[0]):t=o[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):dq(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const o=oZ(e,n,r,this.numConstants);if(e=o.inputs,n=o.initialState,r=o.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const i=[],a=[];if(null!=n){const e=n.length;if(e%2>0)throw new oq("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,i.push(...n);const r=n.map((e=>new qY({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),a.push(...r)}if(null!=r)throw new iq("Support for constants in Bidirectional layers is not implemented yet.");const s=i[0]instanceof YY;for(const c of i)if(c instanceof YY!==s)throw new oq("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(s){const n=[e].concat(i),r=this.inputSpec.concat(a),o=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=o,s}return super.apply(e,t)}call(e,t){return kP((()=>{const n=t.initialState;let r,o,i,a;if(null==n)r=this.forwardLayer.call(e,t),o=this.backwardLayer.call(e,t);else{const i=n.slice(0,n.length/2),a=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:i})),o=this.backwardLayer.call(e,Object.assign(t,{initialState:a}))}return this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(o.slice(1))),r=r[0],o=o[0]),this.returnSequences&&(o=GU(o,1)),"concat"===this.mergeMode?a=iY([r,o]):"sum"===this.mergeMode?a=UD(r,o):"ave"===this.mergeMode?a=HD(.5,UD(r,o)):"mul"===this.mergeMode?a=HD(r,o):null==this.mergeMode&&(a=[r,o]),this.returnState?null==this.mergeMode?a.concat(i):[a].concat(i):a}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Vq(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),Vq(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=XX(t.layer);if(delete t.layer,null!=t.numConstants)throw new iq("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}hQ.className="Bidirectional",aL(hQ);class pQ extends ZY{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return kP((()=>("float32"!==(e=zY(e)).dtype&&(e=eY(e,"float32")),UD(HD(e,this.scale),this.offset))))}}pQ.className="Rescaling",aL(pQ);const{resizeBilinear:fQ,cropAndResize:mQ}=QW;class gQ extends ZY{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,o,i,a,s){return kP((()=>{let c,l=!1;const u=[t/i,n/a,(r+t)/i,(o+n)/a],d=[];3===e.rank?(l=!0,c=gV([e])):c=e;for(let e=0;e<c.shape[0];e++)d.push(u);const h=dP(d,[d.length,4]),p=UU(0,d.length,1,"int32"),f=mQ(c,h,p,[r,o],"nearest");return eY(l?zY(AV(f)):f,s)}))}upsize(e,t,n,r){return kP((()=>eY(fQ(e,[t,n]),r)))}call(e,t){return kP((()=>{const t=zY(e),n=t.dtype,r=t.shape,o=r[r.length-3],i=r[r.length-2];let a=0;o!==this.height&&(a=Math.floor((o-this.height)/2));let s=0;return i!==this.width&&(s=Math.floor((i-this.width)/2),0===s&&(s=1)),a>=0&&s>=0?this.centerCrop(t,a,s,this.height,this.width,o,i,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=UY(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}gQ.className="CenterCrop",aL(gQ);class yQ extends ZY{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=UY(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return kP((()=>{let n;if("int32"!==(e=zY(e)).dtype&&(e=eY(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new oq("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(t.countWeights));n=zY(t.countWeights)}const r=wz(e),o=kz(e),i=jz(this.numTokens,r).bufferSync().get(0),a=Pz(o,0).bufferSync().get(0);if(!i||!a)throw new oq("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return function(e,t,n,r){let o=zY(e);if("int32"!==o.dtype&&(o=eY(o,"int32")),"int"===t)return o;const i=o.shape;if(0===o.rank&&(o=Nz(o,-1)),"oneHot"===t&&1!==o.shape[o.shape.length-1]&&(o=Nz(o,-1)),o.rank>2)throw new oq("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(t," and input shape ").concat(i)+" which would result in output rank ".concat(o.rank,"."));const a=["multiHot","oneHot"].includes(t),s=o;let c;if(c=ez(s,"undefined"!==typeof r&&"count"===t?r:[],n,a),"tfIdf"!==t)return c;if(r)return HD(c,r);throw new oq("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}yQ.className="CategoryEncoding",aL(yQ);const vQ=new Set(["bilinear","nearest"]);class bQ extends ZY{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!vQ.has(e.interpolation))throw new oq("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=UY(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return kP((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return QW.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return QW.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...vQ]," are supported"))}))}}bQ.className="Resizing",aL(bQ);class xQ{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}xQ.className="RandomSeed";class wQ extends ZY{constructor(e){super(e),this.randomGenerator=new xQ(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}wQ.className="BaseRandomLayer";const kQ=new Set(["bilinear","nearest"]);class SQ extends wQ{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new oq("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new oq("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new oq("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(n){if(!kQ.has(n))throw new oq("Invalid interpolation parameter: ".concat(n," is not implemented"));this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=UY(e))[2];return[this.imgHeight,-1,t]}call(e,t){return kP((()=>{const t=zY(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=BU([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const o=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return QW.resizeBilinear(e,o);case"nearest":return QW.resizeNearestNeighbor(e,o);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...kQ]," are supported"))}}))}}function CQ(e){return new eX(e)}function EQ(e){return new P$(e)}function _Q(e){return new R$(e)}function TQ(e){return new M$(e)}function NQ(e){return new j$(e)}function IQ(e){return new L$(e)}function AQ(e){return new D$(e)}function OQ(e){return new eZ(e)}function RQ(e){return new Y$(e)}function MQ(e){return new J$(e)}function jQ(e){return new X$(e)}function PQ(e){return new $$(e)}function DQ(e){return new Q$(e)}function LQ(e){return new tZ(e)}function FQ(e){return new nZ(e)}function BQ(e){return new rZ(e)}function zQ(e){return new CZ(e)}function UQ(e){return new kZ(e)}function VQ(e){return new xZ(e)}function WQ(e){return new wZ(e)}function HQ(e){return new SZ(e)}function GQ(e){return new EZ(e)}function KQ(e){return new _Z(e)}function qQ(e){return new TZ(e)}function YQ(e){return new IZ(e)}function XQ(e){return new OZ(e)}function JQ(e){return new MZ(e)}function $Q(e){return new DZ(e)}function ZQ(e){return new jZ(e)}function QQ(e){return new PZ(e)}function e0(e){return new RZ(e)}function t0(e){return new FZ(e)}function n0(e){return new HZ(e)}function r0(e){return new GZ(e)}function o0(e){return new KZ(e)}function i0(e){return new $Z(e)}function a0(e){return i0(e)}function s0(e){return i0(e)}function c0(e){return new eQ(e)}function l0(e){return c0(e)}function u0(e){return c0(e)}function d0(e){return new rQ(e)}function h0(e){return d0(e)}function p0(e){return d0(e)}function f0(e){return new iQ(e)}function m0(e){return new cQ(e)}function g0(e){return new aQ(e)}function y0(e){return new lQ(e)}function v0(e){return new JZ(e)}function b0(e){return new QZ(e)}function x0(e){return new nQ(e)}function w0(e){return new dZ(e)}function k0(e){return new uZ(e)}function S0(e){return new pZ(e)}function C0(e){return new hZ(e)}function E0(e){return new lZ(e)}function _0(e){return new cZ(e)}function T0(e){return new bZ(e)}function N0(e){return new vZ(e)}function I0(e){return new aZ(e)}function A0(e){return new fZ(e)}function O0(e){return new hQ(e)}function R0(e){return new dQ(e)}SQ.className="RandomWidth",aL(SQ);const M0=g0,j0=y0,P0=v0,D0=b0;function L0(e){return new BZ(e)}function F0(e){return new zZ(e)}function B0(e){return new UZ(e)}function z0(e){return new NZ(e)}function U0(e){return new pQ(e)}function V0(e){return new gQ(e)}function W0(e){return new bQ(e)}function H0(e){return new yQ(e)}function G0(e){return new SQ(e)}function K0(e,t){return cJ(e,t)}function q0(e,t){return pJ(e,t)}function Y0(e,t){return fJ(e,t)}function X0(e,t){return lJ(e,t)}function J0(e,t){return mJ(e,t)}function $0(e,t){return dJ(e,t)}function Z0(e,t){return hJ(e,t)}function Q0(e,t){return iJ(e,t)}function e1(e,t){return ZX(e,t)}function t1(e,t){return QX(e,t)}function n1(e,t){return QX(e,t)}function r1(e,t){return QX(e,t)}function o1(e,t){return $X(e,t)}function i1(e,t){return $X(e,t)}function a1(e,t){return $X(e,t)}function s1(e,t){return function(e,t){return kP((()=>{const n=e.sub(t).square().sum(),r=e.sub(e.mean()).square().sum();return tL(1).sub(n.div(r))}))}(e,t)}function c1(e){return new T$(e)}function l1(e){return E$(t=e),new T$({l1:null!=t?t.l1:null,l2:0});var t}function u1(e){return E$(t=e),new T$({l2:null!=t?t.l2:null,l1:0});var t}class d1 extends UX{constructor(){super(...arguments),this.model=null}setModel(e){if(!(e instanceof JJ))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}function h1(e,t){return e<t}function p1(e,t){return e>t}class f1 extends d1{constructor(e){if(super(),null==e&&(e={}),e.restoreBestWeights)throw new iq("restoreBestWeights = True is not implemented in EarlyStopping yet.");this.monitor=e.monitor||"val_loss",this.minDelta=Math.abs(e.minDelta||0),this.patience=e.patience||0,this.verbose=e.verbose||0,this.mode=e.mode||"auto",this.baseline=e.baseline,-1===["auto","min","max"].indexOf(this.mode)&&(console.warn("EarlyStopping mode '".concat(this.mode,"' is invalid. ")+"Falling back to mode 'auto'."),this.mode="auto"),"min"===this.mode?this.monitorFunc=h1:"max"===this.mode||-1!==this.monitor.indexOf("acc")?this.monitorFunc=p1:this.monitorFunc=h1,this.monitorFunc===h1&&(this.minDelta*=-1)}async onTrainBegin(e){this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===h1?1/0:-1/0}async onEpochEnd(e,t){await FX(t);const n=this.getMonitorValue(t);null!=n&&(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}async onTrainEnd(e){this.stoppedEpoch>0&&this.verbose&&console.log("Epoch ".concat(this.stoppedEpoch,": early stopping."))}getMonitorValue(e){null==e&&(e={});const t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping ".concat(this.monitor," is not available. ")+"Available metrics are: ".concat(Object.keys(e))),t}}const m1={earlyStopping:function(e){return new f1(e)}};var g1,y1;sA().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(g1||(g1={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(y1||(y1={}));const v1={};function b1(e,t){const n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};v1[e]=n}function x1(e){return v1[e]}function w1(e){delete v1[e]}function k1(e,t,n,r,o){const i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){const e=i.inputIndexStart,a=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?e+1:i.inputIndexEnd,s=e<0?t.inputNames.length+e:e;if("tensor"===i.type)return S1(t.inputNames[s],n,r,o);if("tensors"===i.type){const i=t.inputs.slice(e,a),s=t.inputNames.slice(e,a).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=i[t])||void 0===n?void 0:n.op)}));return s.map((e=>S1(e,n,r,o)))}const c=S1(t.inputNames[s],n,r,o),l=c.dataSync();return"number"===i.type?l[0]:XI(c.shape,l)}const a=t.attrParams[e];return a&&a.value}function S1(e,t,n,r){const[o,i]=T1(e,n);if(null!=r){const e=r.getHashTableHandleByName(o);if(null!=e)return e}const a=n.currentContextIds.find((e=>!!t[_1(o,e)]));return void 0!==a?t[_1(o,a)][i]:void 0}function C1(e,t,n){return t[_1(e,n.currentContextId)]}function E1(e,t){const[n,r,o]=T1(e,t);return[_1(n,t&&t.currentContextId),r,o]}function _1(e,t){return t?"".concat(e,"-").concat(t):e}function T1(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let o;if(1===r.length)o=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;o=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,o),o}function N1(e,t,n){let r=k1("pad",e,t,n);if("explicit"===r){r=k1("explicitPaddings",e,t,n);const o=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)o[e][0]=r[2*e],o[e][1]=r[2*e+1];return o}return r}function I1(e){return e.kept?e:BD(e)}const A1=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],O1=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],R1=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],M1=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],j1=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],P1=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],D1=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],L1=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],F1=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],B1=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],z1=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],U1=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],V1=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],W1=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],H1=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],G1=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],K1=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],q1=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Y1=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class X1{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[E,_,T,N,I,A,O,R,M,j,P,D,L,F,B,z,U,V,W].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],o=[],i=[],a=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?o.push(e[t.name]):null!=t.input&&0!==t.input.length||i.push(e[t.name]),e)),{});let s=[];const c=[];let l={},u={};null!=t&&(l=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const d=Object.keys(a);d.forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=E1(e),i=a[r];if(null!=i.outputs){const e=i.outputs.indexOf(o);if(-1!==e){const o="".concat(r,":").concat(e);t.inputNames[n]=o}}t.inputs.push(i),i.children.push(t)}))})),0===Object.keys(u).length?d.forEach((e=>{const t=a[e];0===t.children.length&&c.push(t)})):Object.keys(u).forEach((e=>{const[t]=E1(e),n=a[t];null!=n&&(n.signatureKey=u[e],c.push(n))})),Object.keys(l).length>0?Object.keys(l).forEach((e=>{const[t]=E1(e),n=a[t];n&&(n.signatureKey=l[e],s.push(n))})):s=r;let h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:a,inputs:s,outputs:c,weights:o,placeholders:r,signature:t,functions:h};return i.length>0&&(p.initNodes=i),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=x1(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let o;switch(n.type){case"string":o=$1(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=$1(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":o=s2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=s2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":o=Q1(e.attr,n.tfName,n.defaultValue||0),void 0===o&&n.tfDeprecatedName&&(o=Q1(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":o=a2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=a2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":o=Z1(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Z1(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":o=l2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=l2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":o=i2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=i2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":o=c2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=c2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":o=n2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=n2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":o=r2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=r2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":o=t2(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=t2(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:o,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const o=[],i=[];e.signature.inputArg.forEach((e=>{const[t]=E1(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:e2(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,o.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[o,,i]=E1(e),a=r[o];if(null!=a.outputs){const e=a.outputs.indexOf(i);if(-1!==e){const r="".concat(o,":").concat(e);t.inputNames[n]=r}}t.inputs.push(a),a.children.push(t)}))}));const a=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=E1(a[e.name]),o=r[t];null!=o&&(o.defaultOutput=n,i.push(o))}));const s=this.mapArgsToSignature(e);return{nodes:r,inputs:o,outputs:i,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function J1(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=sA().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function $1(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e[t];return null!=o?J1(o.s,r):n}function Z1(e,t,n){const r=e[t];return r?r.b:n}function Q1(e,t,n){const r=e[t]||{},o=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof o?o:parseInt(o,10)}function e2(e){switch("string"===typeof e&&(e=g1[e]),e){case g1.DT_FLOAT:case g1.DT_HALF:return"float32";case g1.DT_INT32:case g1.DT_INT64:case g1.DT_INT8:case g1.DT_UINT8:return"int32";case g1.DT_BOOL:return"bool";case g1.DT_DOUBLE:return"float32";case g1.DT_STRING:return"string";case g1.DT_COMPLEX64:case g1.DT_COMPLEX128:return"complex64";default:return null}}function t2(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function n2(e,t,n){const r=e[t];return r&&r.type?e2(r.type):n}function r2(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>e2(e))):n}function o2(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function i2(e,t,n){const r=e[t];return r&&r.shape?o2(r.shape):n}function a2(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function s2(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e[t];return o&&o.list&&o.list.s?o.list.s.map((e=>J1(e,r))):n}function c2(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>o2(e))):n}function l2(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class u2{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return S1(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return S1(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Q1(this.node.rawAttrs,e,t);if(null!=n.s)return $1(this.node.rawAttrs,e,t);if(null!=n.b)return Z1(this.node.rawAttrs,e,t);if(null!=n.shape)return i2(this.node.rawAttrs,e,t);if(null!=n.type)return n2(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return a2(this.node.rawAttrs,e,t);if(null!=n.list.s)return s2(this.node.rawAttrs,e,t);if(null!=n.list.shape)return c2(this.node.rawAttrs,e,t);if(null!=n.list.b)return l2(this.node.rawAttrs,e,t);if(null!=n.list.type)return r2(this.node.rawAttrs,e,t)}return t}}function d2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){vI(e.length===t.length,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")));for(let r=0;r<e.length;r++){const o=e[r],i=t[r];vI(o<0||i<0||o===i,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}}}function h2(e){return"number"!==typeof e&&!e.some((e=>e<0))}function p2(e,t,n){let r=f2(e,n);const o=!h2(r);if(o&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(o&&t.forEach((e=>{r=f2(e.shape,r)})),!h2(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function f2(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let r=0;r<e.length;++r){const o=e[r],i=t[r];if(o>=0&&i>=0&&o!==i)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=o>=0?o:i}return n}class m2{constructor(e,t,n,r,o,i,a){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=tL(0),CP(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),d2(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,CP(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return dP([],[0].concat(this.elementShape));const n=this.readMany(e);return d2(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),gV(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return dP([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return d2(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),SB(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,AV(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const o=0===n?0:t.size/n,i=[];kP((()=>{t=xB(t,[1,n,o]);for(let n=0;n<e.length;++n){const a=[0,0===n?0:r[n-1],0],s=[1,e[n],o];i[n]=xB(EB(t,a,s),this.elementShape)}return i}));const a=[];for(let s=0;s<e.length;s++)a[s]=s;this.writeMany(a,i)}}class g2{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));d2(t,e.shape,"TensorList shape mismatch: "),CP(e)})),this.idTensor=tL(0),this.maxNumElements=r,CP(this.idTensor)}copy(){return new g2([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));d2(e,this.elementShape,"TensorList shape mismatch: ");const r=p2(this.elementShape,this.tensors,e);return kP((()=>{const e=this.tensors.map((e=>xB(e,r)));return gV(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=p2(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,d2(r.shape,e,"TensorList shape mismatch: "),xB(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(d2(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");CP(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new g2([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));d2(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=p2(this.elementShape,this.tensors,t);return xB(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));d2(this.elementShape,t.shape,"TensorList shape mismatch: "),CP(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));d2(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=p2(this.elementShape,this.tensors,n);return 0===e.length?dP([],[0].concat(r)):kP((()=>{const t=e.map((e=>xB(this.tensors[e],r)));return gV(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));d2(this.elementShape,t,"TensorList shape mismatch: ");const n=p2(this.elementShape,this.tensors,t);return 0===this.size()?dP([],[0].concat(n)):kP((()=>{const e=this.tensors.map((e=>xB(e,n)));return SB(e,0)}))}}const y2=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=k1("thenBranch",e,t,n),o=k1("elseBranch",e,t,n),i=k1("cond",e,t,n),a=k1("args",e,t,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[o].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=k1("body",e,t,n),o=k1("cond",e,t,n),i=k1("args",e,t,n),a=await n.functionMap[o].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),s=i.map((e=>e.id));let c=await a[0].data();a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let l=i;for(;c[0];){const e=l;l=await n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);const t=l.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const i=await n.functionMap[o].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);c=await i[0].data(),i.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return l}case"LoopCond":return[I1(k1("pred",e,t,n))];case"Switch":{const r=k1("pred",e,t,n);let o=k1("data",e,t,n);return o.kept||(o=I1(o)),(await r.data())[0]?[void 0,o]:[o,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==S1(e,t,n)));if(r){return[I1(S1(r,t,n))]}return}case"Enter":{const r=k1("frameName",e,t,n),o=k1("tensor",e,t,n);return n.enterFrame(r),[I1(o)]}case"Exit":{const r=k1("tensor",e,t,n);return n.exitFrame(),[I1(r)]}case"NextIteration":{const r=k1("tensor",e,t,n);return n.nextIteration(),[I1(r)]}case"TensorArrayV3":{const r=k1("size",e,t,n),o=k1("dtype",e,t,n),i=k1("elementShape",e,t,n),a=k1("dynamicSize",e,t,n),s=k1("clearAfterRead",e,t,n),c=k1("identicalElementShapes",e,t,n),l=k1("name",e,t,n),u=new m2(l,o,r,i,c,a,s);return n.addTensorArray(u),[u.idTensor,tL(1)]}case"TensorArrayWriteV3":{const r=k1("tensorArrayId",e,t,n),o=k1("index",e,t,n),i=k1("tensor",e,t,n),a=n.getTensorArray(r.id);return a.write(o,i),[a.idTensor]}case"TensorArrayReadV3":{const r=k1("tensorArrayId",e,t,n),o=k1("index",e,t,n);return[n.getTensorArray(r.id).read(o)]}case"TensorArrayGatherV3":{const r=k1("tensorArrayId",e,t,n),o=k1("indices",e,t,n),i=k1("dtype",e,t,n);return[n.getTensorArray(r.id).gather(o,i)]}case"TensorArrayScatterV3":{const r=k1("tensorArrayId",e,t,n),o=k1("indices",e,t,n),i=k1("tensor",e,t,n),a=n.getTensorArray(r.id);return a.scatter(o,i),[a.idTensor]}case"TensorArrayConcatV3":{const r=k1("tensorArrayId",e,t,n),o=n.getTensorArray(r.id),i=k1("dtype",e,t,n);return[o.concat(i)]}case"TensorArraySplitV3":{const r=k1("tensorArrayId",e,t,n),o=k1("tensor",e,t,n),i=k1("lengths",e,t,n),a=n.getTensorArray(r.id);return a.split(i,o),[a.idTensor]}case"TensorArraySizeV3":{const r=k1("tensorArrayId",e,t,n);return[tL(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=k1("tensorArrayId",e,t,n),o=n.getTensorArray(r.id);return o.clearAndClose(),[o.idTensor]}case"TensorListSetItem":{const r=k1("tensorListId",e,t,n),o=k1("index",e,t,n),i=k1("tensor",e,t,n),a=n.getTensorList(r.id);return a.setItem(o,i),[a.idTensor]}case"TensorListGetItem":{const r=k1("tensorListId",e,t,n),o=k1("index",e,t,n),i=k1("elementShape",e,t,n),a=k1("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(o,i,a)]}case"TensorListScatterV2":case"TensorListScatter":{const r=k1("indices",e,t,n),o=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const o=Math.max(...t);if(null!=r&&-1!==r&&o>=r)throw new Error("Max index must be < array size (".concat(o,"  vs. ").concat(r,")"));const i=new g2([],n,e.dtype,r),a=AV(e,0);return t.forEach(((e,t)=>{i.setItem(e,a[t])})),i}(k1("tensor",e,t,n),r,k1("elementShape",e,t,n),k1("numElements",e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=k1("elementShape",e,t,n),o=k1("elementDType",e,t,n);let i;i="TensorListReserve"===e.op?"numElements":"maxNumElements";const a=k1(i,e,t,n),s=function(e,t,n,r){return new g2([],e,t,r)}(r,o,0,"TensorListReserve"===e.op?-1:a);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const r=k1("tensorListId",e,t,n),o=k1("indices",e,t,n),i=k1("elementShape",e,t,n),a=k1("elementDType",e,t,n);return[n.getTensorList(r.id).gather(o,a,i)]}case"TensorListStack":{const r=k1("tensorListId",e,t,n),o=k1("elementShape",e,t,n),i=k1("elementDType",e,t,n),a=k1("numElements",e,t,n);return[n.getTensorList(r.id).stack(o,i,a)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));d2(e.shape.slice(1),t,"TensorList shape mismatch: ");const o=AV(e);return new g2(o,t,r)}(k1("tensor",e,t,n),k1("elementShape",e,t,n),k1("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=k1("tensorListId",e,t,n),o=n.getTensorList(r.id),i=k1("dtype",e,t,n),a=k1("elementShape",e,t,n);return[o.concat(i,a)]}case"TensorListPushBack":{const r=k1("tensorListId",e,t,n),o=k1("tensor",e,t,n),i=n.getTensorList(r.id);return i.pushBack(o),[i.idTensor]}case"TensorListPopBack":{const r=k1("tensorListId",e,t,n),o=k1("elementShape",e,t,n),i=k1("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(o,i)]}case"TensorListSplit":{const r=k1("tensor",e,t,n),o=k1("elementShape",e,t,n),i=function(e,t,n){let r=0;const o=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));const i=f2(e.shape.slice(1),n),a=0===r?0:e.size/r,s=kP((()=>{const n=[];e=xB(e,[1,r,a]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:o[r-1],0],c=[1,t[r],a];n[r]=xB(EB(e,s,c),i)}return e.dispose(),n})),c=new g2([],n,e.dtype,t.length);for(let l=0;l<s.length;l++)c.setItem(l,s[l]);return c}(r,k1("lengths",e,t,n),o);return n.addTensorList(i),[i.idTensor]}case"TensorListLength":{const r=k1("tensorListId",e,t,n);return[tL(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=k1("tensorListId",e,t,n),o=k1("size",e,t,n),i=n.getTensorList(r.id).resize(o);return n.addTensorList(i),[i.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function v2(e,t,n){const[r,o]=k1("fusedOps",e,t,n),i="biasadd"===r,a=!i,s="prelu"===o,c="fusedbatchnorm"===r,l=k1("numArgs",e,t,n);if(i){if(s&&2!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&i&&1!==l)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=k1("strides",e,t,n),d=N1(e,t,n),h=k1("dataFormat",e,t,n).toUpperCase(),p=k1("dilations",e,t,n);let[f,m]=k1("args",e,t,n);a&&(m=f,f=void 0);return{stride:u,pad:d,dataFormat:h,dilations:p,biasArg:f,preluArg:m,activationFunc:o,leakyreluAlpha:k1("leakyreluAlpha",e,t,n)}}function b2(e,t,n){return{boxes:k1("boxes",e,t,n),scores:k1("scores",e,t,n),maxOutputSize:k1("maxOutputSize",e,t,n),iouThreshold:k1("iouThreshold",e,t,n),scoreThreshold:k1("scoreThreshold",e,t,n),softNmsSigma:k1("softNmsSigma",e,t,n)}}class x2{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=tL(0),this.tensorMap=new Map,CP(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return tL(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),kP((()=>{const e=AV(t),r=n.length,o=e.length;vI(r===o,(()=>"The number of elements doesn't match, keys has "+"".concat(r," elements, the values has ").concat(o," ")+"elements."));for(let t=0;t<r;t++){const r=n[t],o=e[t];CP(o),this.tensorMap.set(r,o)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return kP((()=>{const e=[];for(let r=0;r<n.length;r++){const o=n[r],i=this.findWithDefault(o,t);e.push(i)}return gV(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function w2(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kP;const i=((e,t,n)=>{switch(e.category){case"arithmetic":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(k1("a",e,t,n),k1("b",e,t,n))];case"AddN":return[r.addN(k1("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(k1("a",e,t,n),k1("b",e,t,n))];case"Mul":return[r.mul(k1("a",e,t,n),k1("b",e,t,n))];case"RealDiv":case"Div":return[r.div(k1("a",e,t,n),k1("b",e,t,n))];case"DivNoNan":return[r.divNoNan(k1("a",e,t,n),k1("b",e,t,n))];case"FloorDiv":return[r.floorDiv(k1("a",e,t,n),k1("b",e,t,n))];case"Sub":return[r.sub(k1("a",e,t,n),k1("b",e,t,n))];case"Minimum":return[r.minimum(k1("a",e,t,n),k1("b",e,t,n))];case"Maximum":return[r.maximum(k1("a",e,t,n),k1("b",e,t,n))];case"Pow":return[r.pow(k1("a",e,t,n),k1("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(k1("a",e,t,n),k1("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"basic_math":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(k1("x",e,t,n))];case"Acos":return[r.acos(k1("x",e,t,n))];case"Acosh":return[r.acosh(k1("x",e,t,n))];case"Asin":return[r.asin(k1("x",e,t,n))];case"Asinh":return[r.asinh(k1("x",e,t,n))];case"Atan":return[r.atan(k1("x",e,t,n))];case"Atan2":return[r.atan2(k1("x",e,t,n),k1("y",e,t,n))];case"Atanh":return[r.atanh(k1("x",e,t,n))];case"Ceil":return[r.ceil(k1("x",e,t,n))];case"Complex":return[r.complex(k1("real",e,t,n),k1("imag",e,t,n))];case"Cos":return[r.cos(k1("x",e,t,n))];case"Cosh":return[r.cosh(k1("x",e,t,n))];case"Elu":return[r.elu(k1("x",e,t,n))];case"Erf":return[r.erf(k1("x",e,t,n))];case"Exp":return[r.exp(k1("x",e,t,n))];case"Expm1":return[r.expm1(k1("x",e,t,n))];case"Floor":return[r.floor(k1("x",e,t,n))];case"Log":return[r.log(k1("x",e,t,n))];case"Log1p":return[r.log1p(k1("x",e,t,n))];case"Imag":return[r.imag(k1("x",e,t,n))];case"Neg":return[r.neg(k1("x",e,t,n))];case"Reciprocal":return[r.reciprocal(k1("x",e,t,n))];case"Real":return[r.real(k1("x",e,t,n))];case"Relu":return[r.relu(k1("x",e,t,n))];case"Round":return[r.round(k1("x",e,t,n))];case"Selu":return[r.selu(k1("x",e,t,n))];case"Sigmoid":return[r.sigmoid(k1("x",e,t,n))];case"Sin":return[r.sin(k1("x",e,t,n))];case"Sign":return[r.sign(k1("x",e,t,n))];case"Sinh":return[r.sinh(k1("x",e,t,n))];case"Softplus":return[r.softplus(k1("x",e,t,n))];case"Sqrt":return[r.sqrt(k1("x",e,t,n))];case"Square":return[r.square(k1("x",e,t,n))];case"Tanh":return[r.tanh(k1("x",e,t,n))];case"Tan":return[r.tan(k1("x",e,t,n))];case"ClipByValue":return[r.clipByValue(k1("x",e,t,n),k1("clipValueMin",e,t,n),k1("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(k1("x",e,t,n))];case"Rsqrt":return[r.rsqrt(S1(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(k1("x",e,t,n),k1("alpha",e,t,n))];case"Prelu":return[r.prelu(k1("x",e,t,n),k1("alpha",e,t,n))];case"IsNan":return[r.isNaN(S1(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(S1(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(S1(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"control":return y2(e,t,n);case"convolution":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Conv1D":{const o=k1("stride",e,t,n),i=k1("pad",e,t,n),a=k1("dataFormat",e,t,n).toUpperCase(),s=k1("dilation",e,t,n);return[r.conv1d(k1("x",e,t,n),k1("filter",e,t,n),o,i,a,s)]}case"Conv2D":{const o=k1("strides",e,t,n),i=N1(e,t,n),a=k1("dataFormat",e,t,n).toUpperCase(),s=k1("dilations",e,t,n);return[r.conv2d(k1("x",e,t,n),k1("filter",e,t,n),[o[1],o[2]],i,a,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:o,pad:i,dataFormat:a,dilations:s,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=v2(e,t,n);return[r.fused.conv2d({x:k1("x",e,t,n),filter:k1("filter",e,t,n),strides:[o[1],o[2]],pad:i,dataFormat:a,dilations:[s[1],s[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:o,pad:i,dataFormat:a,dilations:s,biasArg:c,preluArg:l,activationFunc:u,leakyreluAlpha:d}=v2(e,t,n);return[r.fused.depthwiseConv2d({x:k1("x",e,t,n),filter:k1("filter",e,t,n),strides:[o[1],o[2]],pad:i,dataFormat:a,dilations:[s[1],s[2]],bias:c,activation:u,preluActivationWeights:l,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const o=k1("outputShape",e,t,n),i=k1("strides",e,t,n),a=N1(e,t,n);return[r.conv2dTranspose(k1("x",e,t,n),k1("filter",e,t,n),o,[i[1],i[2]],a)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const o=k1("strides",e,t,n),i=N1(e,t,n),a=k1("dilations",e,t,n),s=k1("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(k1("input",e,t,n),k1("filter",e,t,n),[o[1],o[2]],i,s,[a[1],a[2]])]}case"Conv3D":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("dataFormat",e,t,n).toUpperCase(),s=k1("dilations",e,t,n);return[r.conv3d(k1("x",e,t,n),k1("filter",e,t,n),[o[1],o[2],o[3]],i,a,[s[1],s[2],s[3]])]}case"AvgPool":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("kernelSize",e,t,n);return[r.avgPool(k1("x",e,t,n),[a[1],a[2]],[o[1],o[2]],i)]}case"MaxPool":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("kernelSize",e,t,n);return[r.maxPool(k1("x",e,t,n),[a[1],a[2]],[o[1],o[2]],i)]}case"MaxPoolWithArgmax":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("kernelSize",e,t,n),s=k1("includeBatchInIndex",e,t,n),{result:c,indexes:l}=r.maxPoolWithArgmax(k1("x",e,t,n),[a[1],a[2]],[o[1],o[2]],i,s);return[c,l]}case"AvgPool3D":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("kernelSize",e,t,n);return[r.avgPool3d(k1("x",e,t,n),[a[1],a[2],a[3]],[o[1],o[2],o[3]],i)]}case"MaxPool3D":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("kernelSize",e,t,n);return[r.maxPool3d(k1("x",e,t,n),[a[1],a[2],a[3]],[o[1],o[2],o[3]],i)]}case"Dilation2D":{const o=k1("strides",e,t,n),i=k1("pad",e,t,n),a=k1("dilations",e,t,n),s=o[1],c=o[2],l=a[1],u=a[2];return[r.dilation2d(k1("x",e,t,n),k1("filter",e,t,n),[s,c],i,[l,u],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"creation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Fill":{const o=k1("shape",e,t,n),i=k1("dtype",e,t,n),a=k1("value",e,t,n);return[r.fill(o,a,i)]}case"LinSpace":{const o=k1("start",e,t,n),i=k1("stop",e,t,n),a=k1("num",e,t,n);return[r.linspace(o,i,a)]}case"Multinomial":{const o=k1("logits",e,t,n),i=k1("numSamples",e,t,n),a=k1("seed",e,t,n);return[r.multinomial(o,i,a)]}case"OneHot":{const o=k1("indices",e,t,n),i=k1("depth",e,t,n),a=k1("onValue",e,t,n),s=k1("offValue",e,t,n),c=k1("dtype",e,t,n);return[r.oneHot(o,i,a,s,c)]}case"Ones":return[r.ones(k1("shape",e,t,n),k1("dtype",e,t,n))];case"OnesLike":return[r.onesLike(k1("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(k1("shape",e,t,n),k1("dtype",e,t,n),k1("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(k1("shape",e,t,n),k1("minval",e,t,n),k1("maxval",e,t,n),k1("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(k1("shape",e,t,n),k1("minval",e,t,n),k1("maxval",e,t,n),k1("seed",e,t,n))];case"Range":{const o=k1("start",e,t,n),i=k1("stop",e,t,n),a=k1("step",e,t,n);return[r.range(o,i,a,k1("dtype",e,t,n))]}case"TruncatedNormal":{const o=k1("shape",e,t,n),i=k1("mean",e,t,n),a=k1("stdDev",e,t,n),s=k1("seed",e,t,n);return[r.truncatedNormal(o,i,a,k1("dtype",e,t,n),s)]}case"Zeros":return[r.zeros(k1("shape",e,t,n),k1("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(k1("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:H;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:s,scoreThreshold:c,softNmsSigma:l}=b2(e,t,n),u=await o.image.nonMaxSuppressionWithScoreAsync(r,i,a,s,c,l);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:s,scoreThreshold:c}=b2(e,t,n),l=k1("padToMaxOutputSize",e,t,n),u=await o.image.nonMaxSuppressionPaddedAsync(r,i,a,s,c,l);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:i,maxOutputSize:a,iouThreshold:s,scoreThreshold:c}=b2(e,t,n);return[await o.image.nonMaxSuppressionAsync(r,i,a,s,c)]}case"Where":{const r=o.cast(k1("condition",e,t,n),"bool"),i=[await o.whereAsync(r)];return r.dispose(),i}case"ListDiff":return o.setdiff1dAsync(k1("x",e,t,n),k1("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"LowerBound":{const o=k1("sortedSequence",e,t,n),i=k1("values",e,t,n);return[r.lowerBound(o,i)]}case"TopKV2":{const o=k1("x",e,t,n),i=k1("k",e,t,n),a=k1("sorted",e,t,n),s=r.topk(o,i,a);return[s.values,s.indices]}case"UpperBound":{const o=k1("sortedSequence",e,t,n),i=k1("values",e,t,n);return[r.upperBound(o,i)]}case"Unique":{const o=k1("x",e,t,n),i=r.unique(o);return[i.values,i.indices]}case"UniqueV2":{const o=k1("x",e,t,n),i=k1("axis",e,t,n),a=r.unique(o,i);return[a.values,a.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"image":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"ResizeBilinear":{const o=k1("images",e,t,n),i=k1("size",e,t,n),a=k1("alignCorners",e,t,n),s=k1("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(o,[i[0],i[1]],a,s)]}case"ResizeNearestNeighbor":{const o=k1("images",e,t,n),i=k1("size",e,t,n),a=k1("alignCorners",e,t,n),s=k1("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(o,[i[0],i[1]],a,s)]}case"CropAndResize":{const o=k1("image",e,t,n),i=k1("boxes",e,t,n),a=k1("boxInd",e,t,n),s=k1("cropSize",e,t,n),c=k1("method",e,t,n),l=k1("extrapolationValue",e,t,n);return[r.image.cropAndResize(o,i,a,s,c,l)]}case"ImageProjectiveTransformV3":{const o=k1("images",e,t,n),i=k1("transforms",e,t,n),a=k1("outputShape",e,t,n),s=k1("fillValue",e,t,n),c=k1("interpolation",e,t,n),l=k1("fillMode",e,t,n);return[r.image.transform(o,i,c.toLowerCase(),l.toLowerCase(),s,a)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"graph":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const o=k1("default",e,t,n);return[S1(e.name,t,n)||o];case"Placeholder":return[S1(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[I1(k1("x",e,t,n))];case"IdentityN":return k1("x",e,t,n).map((e=>I1(e)));case"Shape":return[r.tensor1d(k1("x",e,t,n).shape,"int32")];case"ShapeN":return k1("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(k1("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(k1("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const i=k1("x",e,t,n),a=k1("data",e,t,n),s=k1("message",e,t,n),c=k1("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<a.length;e++)console.log(Array.prototype.slice.call(a[e].dataSync()).slice(0,c));return[i];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"logical":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Equal":return[r.equal(k1("a",e,t,n),k1("b",e,t,n))];case"NotEqual":return[r.notEqual(k1("a",e,t,n),k1("b",e,t,n))];case"Greater":return[r.greater(k1("a",e,t,n),k1("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(k1("a",e,t,n),k1("b",e,t,n))];case"Less":return[r.less(k1("a",e,t,n),k1("b",e,t,n))];case"LessEqual":return[r.lessEqual(k1("a",e,t,n),k1("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(k1("a",e,t,n),k1("b",e,t,n))];case"LogicalNot":return[r.logicalNot(k1("a",e,t,n))];case"LogicalOr":return[r.logicalOr(k1("a",e,t,n),k1("b",e,t,n))];case"Select":case"SelectV2":return[r.where(k1("condition",e,t,n),k1("a",e,t,n),k1("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(k1("a",e,t,n),k1("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"matrices":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(k1("a",e,t,n),k1("b",e,t,n),k1("transposeA",e,t,n),k1("transposeB",e,t,n))];case"Einsum":return[r.einsum(k1("equation",e,t,n),...k1("tensors",e,t,n))];case"Transpose":return[r.transpose(k1("x",e,t,n),k1("perm",e,t,n))];case"_FusedMatMul":const[o,i]=k1("fusedOps",e,t,n),a="biasadd"===o,s="prelu"===i,c=k1("numArgs",e,t,n),l=k1("leakyreluAlpha",e,t,n);if(a){if(s&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=k1("args",e,t,n);return[r.fused.matMul({a:k1("a",e,t,n),b:k1("b",e,t,n),transposeA:k1("transposeA",e,t,n),transposeB:k1("transposeB",e,t,n),bias:u,activation:i,preluActivationWeights:d,leakyreluAlpha:l})];case"MatrixBandPart":return[r.linalg.bandPart(k1("a",e,t,n),k1("numLower",e,t,n),k1("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"normalization":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(k1("x",e,t,n),k1("axis",e,t,n),k1("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(k1("x",e,t,n),k1("mean",e,t,n),k1("variance",e,t,n),k1("offset",e,t,n),k1("scale",e,t,n),k1("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(k1("x",e,t,n),k1("radius",e,t,n),k1("bias",e,t,n),k1("alpha",e,t,n),k1("beta",e,t,n))];case"Softmax":return[r.softmax(k1("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(k1("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"ragged":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"RaggedGather":{const{outputNestedSplits:o,outputDenseValues:i}=r.raggedGather(k1("paramsNestedSplits",e,t,n),k1("paramsDenseValues",e,t,n),k1("indices",e,t,n),k1("outputRaggedRank",e,t,n));return o.concat(i)}case"RaggedRange":{const{rtNestedSplits:o,rtDenseValues:i}=r.raggedRange(k1("starts",e,t,n),k1("limits",e,t,n),k1("splits",e,t,n));return[o,i]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(k1("shape",e,t,n),k1("values",e,t,n),k1("defaultValue",e,t,n),k1("rowPartitionTensors",e,t,n),k1("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"reduction":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Max":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.max(k1("x",e,t,n),o,i)]}case"Mean":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.mean(k1("x",e,t,n),o,i)]}case"Min":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.min(k1("x",e,t,n),o,i)]}case"Sum":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.sum(k1("x",e,t,n),o,i)]}case"All":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.all(k1("x",e,t,n),o,i)]}case"Any":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.any(k1("x",e,t,n),o,i)]}case"ArgMax":{const o=k1("axis",e,t,n);return[r.argMax(k1("x",e,t,n),o)]}case"ArgMin":{const o=k1("axis",e,t,n);return[r.argMin(k1("x",e,t,n),o)]}case"Prod":{const o=k1("axis",e,t,n),i=k1("keepDims",e,t,n);return[r.prod(k1("x",e,t,n),o,i)]}case"Cumprod":{const o=k1("axis",e,t,n),i=k1("exclusive",e,t,n),a=k1("reverse",e,t,n);return[r.cumprod(k1("x",e,t,n),o,i,a)]}case"Cumsum":{const o=k1("axis",e,t,n),i=k1("exclusive",e,t,n),a=k1("reverse",e,t,n);return[r.cumsum(k1("x",e,t,n),o,i,a)]}case"Bincount":const o=k1("x",e,t,n),i=k1("weights",e,t,n),a=k1("size",e,t,n);return[r.bincount(o,i,a)];case"DenseBincount":{const o=k1("x",e,t,n),i=k1("weights",e,t,n),a=k1("size",e,t,n),s=k1("binaryOutput",e,t,n);return[r.denseBincount(o,i,a,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"slice_join":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"ConcatV2":case"Concat":{const o=k1("n",e,t,n),i=k1("axis",e,t,n);let a=k1("tensors",e,t,n);return a=a.slice(0,o),[r.concat(a,i)]}case"Gather":{const o=k1("x",e,t,n),i=k1("indices",e,t,n);return[r.gather(o,r.cast(i,"int32"),0)]}case"GatherV2":{const o=k1("axis",e,t,n),i=k1("batchDims",e,t,n),a=k1("x",e,t,n),s=k1("indices",e,t,n);return[r.gather(a,r.cast(s,"int32"),o,i)]}case"Reverse":{const o=k1("dims",e,t,n),i=[];for(let e=0;e<o.length;e++)o[e]&&i.push(e);const a=k1("x",e,t,n);return[r.reverse(a,i)]}case"ReverseV2":{const o=k1("axis",e,t,n),i=k1("x",e,t,n);return[r.reverse(i,o)]}case"Slice":{const o=k1("begin",e,t,n),i=k1("size",e,t,n);return[r.slice(k1("x",e,t,n),o,i)]}case"StridedSlice":{const o=k1("begin",e,t,n),i=k1("end",e,t,n),a=k1("strides",e,t,n),s=k1("beginMask",e,t,n),c=k1("endMask",e,t,n),l=k1("ellipsisMask",e,t,n),u=k1("newAxisMask",e,t,n),d=k1("shrinkAxisMask",e,t,n),h=k1("x",e,t,n);return[r.stridedSlice(h,o,i,a,s,c,l,u,d)]}case"Pack":return kP((()=>{const o=k1("axis",e,t,n),i=k1("tensors",e,t,n),a=i[0].shape,s=r.squeeze(i[0]).shape,c=i.map((e=>{const t=CI(e.shape,a);if(!t&&!CI(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,a)}));return[r.stack(c,o)]}));case"Unpack":{const o=k1("axis",e,t,n),i=k1("tensor",e,t,n);return r.unstack(i,o)}case"Tile":{const o=k1("reps",e,t,n);return[r.tile(k1("x",e,t,n),o)]}case"Split":case"SplitV":{const o=k1("axis",e,t,n),i=k1("numOrSizeSplits",e,t,n),a=k1("x",e,t,n);return r.split(a,i,o)}case"ScatterNd":{const o=k1("indices",e,t,n),i=k1("values",e,t,n),a=k1("shape",e,t,n);return[r.scatterND(o,i,a)]}case"GatherNd":{const o=k1("x",e,t,n),i=k1("indices",e,t,n);return[r.gatherND(o,i)]}case"SparseToDense":{const o=k1("sparseIndices",e,t,n),i=k1("outputShape",e,t,n),a=k1("sparseValues",e,t,n),s=k1("defaultValue",e,t,n);return[r.sparseToDense(o,a,i,a.dtype===s.dtype?s:r.cast(s,a.dtype))]}case"TensorScatterUpdate":{const o=k1("indices",e,t,n),i=k1("values",e,t,n),a=k1("tensor",e,t,n);return[r.tensorScatterUpdate(a,o,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"sparse":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:o,outputValues:i,emptyRowIndicator:a,reverseIndexMap:s}=r.sparse.sparseFillEmptyRows(k1("indices",e,t,n),k1("values",e,t,n),k1("denseShape",e,t,n),k1("defaultValue",e,t,n));return[o,i,a,s]}case"SparseReshape":{const{outputIndices:o,outputShape:i}=r.sparse.sparseReshape(k1("inputIndices",e,t,n),k1("inputShape",e,t,n),k1("newShape",e,t,n));return[o,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(k1("data",e,t,n),k1("indices",e,t,n),k1("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(k1("data",e,t,n),k1("indices",e,t,n),k1("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"spectral":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"FFT":return[r.fft(k1("x",e,t,n))];case"IFFT":return[r.ifft(k1("x",e,t,n))];case"RFFT":return[r.rfft(k1("x",e,t,n))];case"IRFFT":return[r.irfft(k1("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"string":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(k1("input",e,t,n),k1("pattern",e,t,n),k1("rewrite",e,t,n),k1("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:o,nGramsSplits:i}=r.string.stringNGrams(k1("data",e,t,n),k1("dataSplits",e,t,n),k1("separator",e,t,n),k1("nGramWidths",e,t,n),k1("leftPad",e,t,n),k1("rightPad",e,t,n),k1("padWidth",e,t,n),k1("preserveShortSequences",e,t,n));return[o,i]}case"StringSplit":{const{indices:o,values:i,shape:a}=r.string.stringSplit(k1("input",e,t,n),k1("delimiter",e,t,n),k1("skipEmpty",e,t,n));return[o,i,a]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(k1("input",e,t,n),k1("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"transformation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:H;switch(e.op){case"Cast":return[r.cast(k1("x",e,t,n),k1("dtype",e,t,n))];case"ExpandDims":{const o=k1("axis",e,t,n);return[r.expandDims(k1("x",e,t,n),o)]}case"Squeeze":{const o=k1("axis",e,t,n);return[r.squeeze(k1("x",e,t,n),o)]}case"Reshape":return[r.reshape(k1("x",e,t,n),k1("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(k1("x",e,t,n),k1("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(k1("x",e,t,n),k1("padding",e,t,n),k1("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(k1("x",e,t,n),k1("padding",e,t,n),k1("constantValue",e,t,n))];case"SpaceToBatchND":{const o=k1("blockShape",e,t,n),i=k1("paddings",e,t,n);return[r.spaceToBatchND(k1("x",e,t,n),o,i)]}case"BatchToSpaceND":{const o=k1("blockShape",e,t,n),i=k1("crops",e,t,n);return[r.batchToSpaceND(k1("x",e,t,n),o,i)]}case"DepthToSpace":{const o=k1("blockSize",e,t,n),i=k1("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(k1("x",e,t,n),o,i)]}case"BroadcastTo":return[r.broadcastTo(k1("x",e,t,n),k1("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(k1("s0",e,t,n),k1("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const o=r.getHashTableHandleByName(e.name);if(null!=o)return[o];{const o=k1("keyDType",e,t,n),i=k1("valueDType",e,t,n),a=new x2(o,i);return r.addHashTable(e.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const o=k1("tableHandle",e,t,n,r),i=k1("keys",e,t,n),a=k1("values",e,t,n),s=r.getHashTableById(o.id);return[await s.import(i,a)]}case"LookupTableFind":case"LookupTableFindV2":{const o=k1("tableHandle",e,t,n,r),i=k1("keys",e,t,n),a=k1("defaultValue",e,t,n),s=r.getHashTableById(o.id);return[await s.find(i,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const o=k1("tableHandle",e,t,n,r);return[r.getHashTableById(o.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,r);case"custom":const i=x1(e.op);if(i&&i.customExecutor)return i.customExecutor(new u2(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return rA(i)?i.then((e=>[].concat(e))):[].concat(i)}class k2{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId))).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function S2(e,t,n,r){const o=new Set,i=[];let a=null,s=null;const c=new Set,l=new Set(Object.keys(e).map((e=>T1(e)[0])));r=r||[];const u=new Set(r.map((e=>T1(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(I2(e)||A2(e)||O2(e))&&null==a&&(a=e,s=a.children.map((e=>e.name)).filter((e=>o.has(e)))),o.add(e.name),null==n[e.name]&&(l.has(e.name)||u.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{c.has(e.name)||(c.add(e.name),d.push(e))})):i.push(e.name)))}return{inputs:e,outputs:t,usedNodes:o,missingInputs:i,dynamicNode:a,syncInputs:s}}function C2(e,t){const{usedNodes:n,inputs:r}=t,o=Object.keys(r).map((e=>T1(e)[0])).map((t=>e.nodes[t])),i=e.initNodes||[],a=e=>n.has("string"===typeof e?e:e.name);function s(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const c=s([...o,...e.weights,...i]).filter(a),l=s([...c,...Object.values(e.nodes)]).filter(a),u=new Map(l.map((e=>[e.name,e]))),d={};for(const m of l){d[m.name]=d[m.name]||0;for(const e of m.children)a(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const h=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),p=[...h];for(;h.length>0;){const e=h.pop(),t=u.get(e);for(const n of t.children.filter(a))0===--d[n.name]&&(p.push(n.name),h.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),o=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const i of t.children)n.has(i.name)&&!o.has(i.name)&&(o.add(i.name),r.push(i.name))}const i=e.filter((e=>o.has(e.name)));return i}(p.map((e=>u.get(e))),c);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),o=e=>r.has("string"===typeof e?e:e.name),i=new Set(e.map((e=>e.name))),a=e=>i.has("string"===typeof e?e:e.name);for(const s of e){for(const e of s.children.filter(a)){if(!n.has(e.name))throw new E2("Child ".concat(e.name," of node ").concat(s.name," is unreachable."));if(n.get(s.name)>n.get(e.name))throw new E2("Node ".concat(s.name," is scheduled to run after its child ").concat(e.name,"."))}if(!o(s))for(const e of s.inputs){if(!n.has(e.name))throw new E2("Input ".concat(e.name," of node ").concat(s.name," is unreachable."));if(n.get(e.name)>n.get(s.name))throw new E2("Node ".concat(s.name," is scheduled to run before its input ").concat(e.name,"."))}}}(f,c),f}class E2 extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}const _2=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),T2=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),N2=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function I2(e){return _2.has(e.op)}function A2(e){return T2.has(e.op)}function O2(e){return N2.has(e.op)}class R2{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new R2(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=S2(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:i}=n;if(null!=o)throw new Error("This execution contains the node '".concat(o.name,"', which has ")+"the dynamic op '".concat(o.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(i,"]"));if(r.length>0){const n=t.map((e=>e.name)),o=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(o,"]. Missing the following inputs: [").concat(r,"]"))}const a=C2(this.graph,n),s=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>I2(e)?n:t)),o=e=>{const n=r[t.get(e.name)];return null==n?-1:n},i=e.map(((e,t)=>e.children.map(o).reduce(((e,t)=>Math.max(e,t)),r[t]))),a=new Map;for(let s=0;s<e.length;++s){const t=i[s];if(t===n)continue;const r=e[s],o=e[t];a.has(o.name)||a.set(o.name,[]),a.get(o.name).push(r)}return a}(a);return{orderedNodes:a,nodeLiveUntilMap:s}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return CP(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[T1(e)[0]])),o=t.map((e=>T1(e)[0])),i=new Set(o);let a=o.map((e=>this.graph.nodes[e]));0===a.length&&(a=this._outputs);const s=this.getCompilationKey(r,a);let c=this.compiledMap.get(s);null==c&&(c=this.compile(e,a),this.compiledMap.set(s,c));try{this.keepIntermediateTensors=sA().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(x2e){this.keepIntermediateTensors=!1,console.warn(x2e.message)}const l={},u={};return kP((()=>{const n=new k2(this.weightMap,l,u,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[o,i]=T1(t,n),a=[];a[i]=e[t],r[o]=a,this.keepIntermediateTensors&&(this.clonedTensorsMap[o]=this.cloneTensorList(a))}));const o=this.getFrozenTensorIds(r),{orderedNodes:a,nodeLiveUntilMap:s}=c;for(const e of a){if(r[e.name])continue;const t=w2(e,r,n,this._resourceManager);if(rA(t))throw new Error("The execution of the op '".concat(e.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,o,i,s.get(e.name))}return null==this.parent&&n.dispose(o),t.map((e=>S1(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,o,i,a){if(!I2(t)&&!i.has(e)){for(const r of n[e])null!=r&&(a[r.id]=(a[r.id]||0)+t.children.length);for(const e of t.inputs){if(I2(e))continue;const t=C1(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||o.has(e.id))continue;const t=a[e.id];1===t?(e.dispose(),delete a[e.id]):null!=t&&a[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,o,i){function a(e){return I2(e)||o.has(e.name)}if(!I2(e)&&null!=i)for(const s of i){if(a(s))continue;const e=C1(s.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=sA().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(x2e){this.keepIntermediateTensors=!1,console.warn(x2e.message)}const i=new k2(this.weightMap,r,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const a=await this.executeWithControlFlow(e,i,t,n),s=t.map((e=>S1(e,a,i))),c=s.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id)),u=new Set([...c,...l,...this.weightIds]);return Object.values(a).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||u.has(e.id)||e.dispose()}))})),null==this.parent&&i.dispose(u),s}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const o=Object.keys(e),i=o.map((e=>this.graph.nodes[T1(e)[0]])),a=n.map((e=>T1(e)[0])),s=new Set(a);let c=a.map((e=>this.graph.nodes[e]));0===c.length&&(c=this._outputs);const{usedNodes:l,missingInputs:u,dynamicNode:d,syncInputs:h}=S2(e,c,this.weightMap,this._initNodes),p=[...i,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=T1(t),o=[];o[r]=e[t],f[n]=o}));const m={},g=this.getFrozenTensorIds(f),y={};for(;p.length>0;){const e=this.processStack(i,p,t,f,y,g,s,m,l);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=c.filter((e=>!I2(e)&&!S1(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=d&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(h,"]")),new Error("Cannot compute the outputs [".concat(v,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(u,"]. ").concat(e))}return f}processStack(e,t,n,r,o,i,a,s,c){const l=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&k1("isConstant",e.node,r,n)&&([u]=E1(e.node.name,n)),null==r[e.node.name]){const d=w2(e.node,r,n,this._resourceManager);u||([u]=E1(e.node.name,n));const h=n.currentContext;rA(d)?l.push(d.then((l=>(r[u]=l,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(l)),n.currentContext=h,this.checkTensorForDisposal(u,e.node,r,n,i,a,s),this.processChildNodes(e.node,t,n,r,o,c),l)))):(r[u]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(d)),this.checkTensorForDisposal(u,e.node,r,n,i,a,s),this.processChildNodes(e.node,t,n,r,o,c))}else this.processChildNodes(e.node,t,n,r,o,c)}return l}processChildNodes(e,t,n,r,o,i){e.children.forEach((e=>{const[a]=E1(e.name,n);!o[a]&&i.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!S1(e,r,n)))&&(o[a]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!S1(e,r,n)))&&(o[a]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=T1(t),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const e=o.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));vI(t,(()=>"The shape of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]")))}o.attrParams.dtype&&o.attrParams.dtype.value&&vI(n.dtype===o.attrParams.dtype.value,(()=>"The dtype of dict['".concat(o.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(o.attrParams.dtype.value,", but was ").concat(n.dtype)))}))}mapInputs(e){var t,n;const r={};for(const o in e){const i=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[o];null!=i?r[i.name]=e[o]:r[o]=e[o]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=T1(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=T1(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}class M2{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const j2="?tfjs-format=file",P2="model.json";class D2{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,null==t&&(this.loadOptions={}),this.resourceManager=new M2}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return rA(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await VP(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer),this.executor=new R2(X1.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=X1.Instance.transformGraph(e.modelInitializer);this.initializer=new R2(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof Tj?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof Tj)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-n," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let r=0;return this.inputNodes.reduce(((t,n)=>{var o,i,a;const s=null===(a=null===(i=null===(o=this.signature)||void 0===o?void 0:o.inputs)||void 0===i?void 0:i[n])||void 0===a?void 0:a.resourceId;return t[n]=null!=s?this.resourceIdToCapturedInput[s]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const o=t[n[r]];this.resourceIdToCapturedInput[o.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&SP(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function L2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(P2).concat(j2)}(e));const r=new D2(e,t,n);return await r.load(),r}function F2(e){if(null==e)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let t;if(e instanceof Array){const[n,r]=e;if(!n)throw new Error("modelJSON must be the first element of the array");if(!r||!(r instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in n))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in n))throw new Error("Model JSON is missing 'weightsManifest'");t=VL(XP(n,ZP(n.weightsManifest),r))}else if("load"in e)t=e;else{if(!("modelTopology"in e&&"weightSpecs"in e&&"weightData"in e))throw new Error("Unknown model format");t=VL(e)}const n=new D2(t);return n.load(),n}const B2="4.22.0";function z2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const o=t(e);if(o.recurse&&null!==o.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(o.recurse){if(G2(e)){const o=Array.isArray(e)?[]:{};r.add(e);for(const i in e){const a=z2(e[i],t,n,r);o[i]=a}return r.delete(e),e.__proto__&&(o.__proto__=e.__proto__),o}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,o.value),o.value}function U2(e){return V2(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:W2)}function V2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const o=t(e);if(o.recurse&&null!==o.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(o.recurse){if(G2(r)){const o=Array.isArray(r)?[]:{};n.add(r);for(const i in r){const r=e.map((e=>e[i])),a=V2(r,t,n);o[i]=a}return n.delete(r),o}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return o.value}function W2(e){return null===e?null:G2(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}async function H2(e,t){const n=new Map;z2(e,t,n);for(const r of Array.from(n.keys())){const e=n.get(r);if(rA(e)){const t=await e;n.set(r,t)}}return z2(e,t,n)}function G2(e){let t=!1;if(sA().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:r}=n(551);t=e instanceof r}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof Tj)&&!(e instanceof Promise)&&!t)}function K2(e){return function(e,t){return z2(e,t)}(e,q2)}function q2(e){return e instanceof Tj?{value:e.clone(),recurse:!1}:G2(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class Y2{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class X2 extends Y2{constructor(){super(X2.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function J2(e){return new e3(e)}function $2(e){return new t3(e)}function Z2(e,t){return new h3(e,t)}X2.INITIAL_CAPACITY=32;class Q2{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new c3(this,e)}filter(e){return new a3(this,e)}map(e){return new s3(this,e)}mapAsync(e){return new l3(this,e)}serialMapAsync(e){return new l3(this,e).serial()}flatmap(e){return new d3(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new i3(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W2;return this.rowMajorBatch(e,t).map((e=>U2(e,n)))}concatenate(e,t){return new h3(J2([this,e]),t)}take(e){return e<0||null==e?this:new o3(this,e)}skip(e){return e<0||null==e?this:new r3(this,e)}prefetch(e){return new m3(this,e)}shuffle(e,t){return new g3(this,e,t)}serial(){return new n3(this)}}class e3 extends Q2{constructor(e){super(),this.items=e,this.trav=0}summary(){return"Array of ".concat(this.items.length," items")}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:K2(e),done:!1}}}class t3 extends Q2{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(x2e){throw x2e.message="Error thrown while iterating through a dataset: ".concat(x2e.message),x2e}}}class n3 extends Q2{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Serial")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class r3 extends Q2{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Skip")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;SP(e.value)}return this.upstream.next()}}class o3 extends Q2{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return"".concat(this.upstream.summary()," -> Take")}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class i3 extends Q2{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class a3 extends Q2{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Filter")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;SP(e.value)}}}class s3 extends Q2{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Map")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=Wj(e.value),n=this.transform(e.value),r=Wj(n);for(const o of t)Vj(o,r)||o.dispose();return{value:n,done:!1}}}class c3 extends Q2{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> handleErrors")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(x2e){if(!this.handler(x2e))return{value:null,done:!0}}}}class l3 extends Q2{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> AsyncMap")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=Wj(e.value),n=await this.transform(e.value),r=Wj(n);for(const o of t)Vj(o,r)||o.dispose();return{value:n,done:!1}}}class u3 extends Q2{constructor(){super(),this.outputQueue=new X2,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class d3 extends u3{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Flatmap")}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=Wj(e.value),n=this.transform(e.value),r=Wj(n);this.outputQueue.pushAll(n);for(const o of t)Vj(o,r)||o.dispose();return!0}}class h3 extends Q2{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var p3;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(p3||(p3={}));class f3 extends Q2{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p3.FAIL;super(),this.iterators=e,this.mismatchMode=t,this.count=0,this.currentPromise=null}summary(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}async nextState(e){await e;let t=0,n=0;const r=await H2(this.iterators,(function(e){if(e instanceof Q2){return{value:e.next().then((e=>(t++,e.done&&n++,e.value))),recurse:!1}}return{value:null,recurse:!0}}));if(t===n)return{value:null,done:!0};if(n>0)switch(this.mismatchMode){case p3.FAIL:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case p3.SHORTEST:return{value:null,done:!0};case p3.LONGEST:}return this.count++,{value:r,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class m3 extends Q2{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new Y2(t)}summary(){return"".concat(this.upstream.summary()," -> Prefetch")}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class g3 extends m3{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=RU.alea(n||aj().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class y3{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let r;return vI(e>0,(()=>"batchSize needs to be positive, but it is\n      ".concat(e))),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),v3((async()=>(await n.iterator()).columnMajorBatch(e,t,w3)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,v3((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,v3((async()=>(await t.iterator()).filter((t=>kP((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return v3((async()=>(await t.iterator()).map((t=>kP((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return v3((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return v3((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,v3((async()=>Z2($2((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,v3((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));const r=this,o=RU.alea(t||aj().toString());return v3((async()=>{let t=o.int32();return n&&(t+=o.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,v3((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function v3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends y3{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function b3(e){return v3((async()=>J2(e)),e.length)}function x3(e){if(!G2(e))throw new Error("The argument to zip() must be an object or array.");let t;if(Array.isArray(e))for(let n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(const n in e)t=null==t?e[n].size:Math.min(t,e[n].size);return v3((async()=>{const t=await H2(e,(e=>{if(e instanceof y3)return{value:e.iterator(),recurse:!1};if(G2(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}));return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p3.FAIL;return new f3(e,t)}(t,p3.SHORTEST)}),t)}function w3(e){if(null===e)return null;const t=e[0];if(null==(n=t)||function(e){return null===e||"object"!==typeof e&&"function"!==typeof e}(n)||Array.isArray(n)||"object"===typeof n&&n instanceof Tj||uj(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof Tj?gV(e):dP(e)}(e),recurse:!1}}var n;return{value:null,recurse:!0}}y3.MAX_BUFFER_SIZE=1e4;class k3 extends y3{constructor(e){super(),this.input=e}async iterator(){const e=(await this.input.iterator()).decodeUTF8().split("\n").map((e=>(e.endsWith("\r")&&(e=e.slice(0,-1)),e)));return e}}const S3='"',C3=Symbol("out"),E3=Symbol("field"),_3=Symbol("quote"),T3=Symbol("quoteafterquote"),N3=Symbol("quoteinquote");class I3 extends y3{async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){const e=await this.maybeReadHeaderLine();if(!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&e&&vI(e.length===this.fullColumnNames.length,(()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+").")),this.fullColumnNames||(this.fullColumnNames=e);const t=this.fullColumnNames.reduce(((e,t)=>(e[t]=e[t]+1||1,e)),{}),n=Object.keys(t).filter((e=>t[e]>1));if(vI(0===n.length,(()=>"Duplicate column names found: "+n.toString())),this.columnConfigs)for(const r of Object.keys(this.columnConfigs)){if(-1===this.fullColumnNames.indexOf(r))throw new Error('The key "'+r+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(this.hasHeader){const e=await this.base.iterator(),t=await e.next();if(t.done)throw new Error("No data was found for CSV parsing.");const n=t.value;return this.parseRow(n,!1)}return null}constructor(e,t){super(),this.input=e,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new k3(e),t||(t={}),this.hasHeader=!1!==t.hasHeader,this.fullColumnNames=t.columnNames,this.columnConfigs=t.columnConfigs,this.configuredColumnsOnly=t.configuredColumnsOnly,t.delimWhitespace?(vI(null==t.delimiter,(()=>"Delimiter should not be provided when delimWhitespace is true.")),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=t.delimiter?t.delimiter:","}async iterator(){this.columnNamesValidated||await this.setColumnNames();let e=await this.base.iterator();return this.hasHeader&&(e=e.skip(1)),e.map((e=>this.makeDataElement(e)))}makeDataElement(e){const t=this.parseRow(e),n={},r={};for(let o=0;o<this.fullColumnNames.length;o++){const i=this.fullColumnNames[o],a=this.columnConfigs?this.columnConfigs[i]:null;if(!this.configuredColumnsOnly||a){const s=t[o];let c=null;if(""===s)if(a&&void 0!==a.default)c=a.default;else{if(a&&(a.required||a.isLabel))throw new Error("Required column ".concat(i," is empty in this line: ").concat(e));c=void 0}else{const e=Number(s);if(isNaN(e))c=a&&"bool"===a.dtype?this.getBoolean(s):s;else if(a&&a.dtype)switch(a.dtype){case"float32":default:c=e;break;case"int32":c=Math.floor(e);break;case"bool":c=this.getBoolean(s)}else c=e}a&&a.isLabel?r[i]=c:n[i]=c}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}getBoolean(e){return"1"===e||"true"===e.toLowerCase()?1:0}parseRow(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];let r=0;const o=e.length;let i=C3;for(let a=0;a<o;a++)switch(i){case C3:switch(e.charAt(a)){case S3:r=a+1,i=_3;break;case this.delimiter:if(r=a+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),i=C3;break;default:i=E3,r=a}break;case E3:if(e.charAt(a)===this.delimiter)n.push(e.substring(r,a)),i=C3,r=a+1;break;case _3:if(e.charAt(a)===S3)i=T3;break;case T3:switch(e.charAt(a)){case this.delimiter:n.push(e.substring(r,a-1)),i=C3,r=a+1;break;case S3:i=_3;break;default:i=N3}break;case N3:if(e.charAt(a)===S3)i=_3}if(i===T3?n.push(e.substring(r,o-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have ".concat(this.fullColumnNames.length," elements in a row, but got ").concat(n));return n}}class A3 extends Q2{constructor(e){super(),this.microphoneConfig=e,this.isClosed=!1,this.fftSize=e.fftSize||1024;const t=Math.log2(this.fftSize);if(this.fftSize<0||t<4||t>14||!Number.isInteger(t))throw new Error("Invalid fftSize: it must be a power of 2 between "+"2 to 4 and 2 to 14, but got ".concat(this.fftSize));if(this.numFrames=e.numFramesPerSpectrogram||43,this.sampleRateHz=e.sampleRateHz,this.columnTruncateLength=e.columnTruncateLength||this.fftSize,this.audioTrackConstraints=e.audioTrackConstraints,this.smoothingTimeConstant=e.smoothingTimeConstant||0,this.includeSpectrogram=!1!==e.includeSpectrogram,this.includeWaveform=!0===e.includeWaveform,!this.includeSpectrogram&&!this.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!sA().get("IS_BROWSER"))throw new Error("microphone API is only supported in browser environment.");const t=new A3(e);return await t.start(),t}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})}catch(x2e){throw new Error("Error thrown while initializing video stream: ".concat(x2e.message))}if(!this.stream)throw new Error("Could not obtain audio from microphone.");const e=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new e,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error("Mismatch in sampling rate: "+"Expected: ".concat(this.sampleRateHz,"; ")+"Actual: ".concat(this.audioContext.sampleRate))}else this.sampleRateHz=this.audioContext.sampleRate;const t=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,t.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){if(this.isClosed)return{value:null,done:!0};let e,t;const n=await this.getAudioData();if(this.includeSpectrogram){const t=this.flattenQueue(n.freqDataQueue);e=this.getTensorFromAudioDataArray(t,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){const e=this.flattenQueue(n.timeDataQueue);t=this.getTensorFromAudioDataArray(e,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:e,waveform:t},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){const e=[],t=[];let n=0;return new Promise((r=>{const o=setInterval((()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&r({freqDataQueue:e,timeDataQueue:t}),e.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),t.push(this.timeData.slice())),++n===this.numFrames&&(clearInterval(o),r({freqDataQueue:e,timeDataQueue:t}))}),this.fftSize/this.sampleRateHz*1e3)}))}stop(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw new Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(e){const t=e[0].length,n=new Float32Array(e.length*t);return e.forEach(((e,r)=>n.set(e,r*t))),n}getTensorFromAudioDataArray(e,t){const n=new Float32Array(wI(t));return n.set(e,n.length-e.length),dP(n,t)}}class O3 extends Q2{constructor(e,t){if(super(),this.webcamVideoElement=e,this.webcamConfig=t,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=xV([0],"int32"),this.webcamConfig.centerCrop){const e=1*this.webcamConfig.resizeWidth/this.webcamVideoElement.width,t=1*this.webcamConfig.resizeHeight/this.webcamVideoElement.height,n=(1-e)/2,r=(1-t)/2,o=n+e,i=t+r;this.cropBox=wV([r,n,i,o],[1,4])}else this.cropBox=wV([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!sA().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!t.resizeWidth||!t.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=t.resizeWidth,e.height=t.resizeHeight}const n=new O3(e,t);return await n.start(),n}async start(){this.webcamConfig.facingMode&&vI("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(()=>"Invalid webcam facing mode: ".concat(this.webcamConfig.facingMode,". ")+"Please provide 'user' or 'environment'"));try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(x2e){throw x2e.message="Error thrown while initializing video stream: ".concat(x2e.message),x2e}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise((e=>{this.webcamVideoElement.onloadedmetadata=()=>{e()}}))}async next(){if(this.isClosed)return{value:null,done:!0};let e;try{e=sF(this.webcamVideoElement)}catch(x2e){throw new Error("Error thrown converting video to pixels: ".concat(JSON.stringify(x2e)))}if(!this.resize)return{value:e,done:!1};try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(x2e){throw new Error("Error thrown cropping the video: ".concat(x2e.message))}finally{e.dispose()}}needToResize(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}cropAndResizeFrame(e){return kP((()=>{const t=Nz(FD(e,"float32"),0);let n;n=QW.cropAndResize(t,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear");const r=n.shape;return xB(n,r.slice(1))}))}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach((e=>e.stop()));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}}class R3{}class M3 extends Q2{split(e){return new j3(this,e)}}class j3 extends M3{constructor(e,t){super(),this.upstream=e,this.impl=new P3(e,t)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class P3 extends u3{constructor(e,t){super(),this.upstream=e,this.separator=t,this.carryover=""}summary(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}async pump(){const e=await this.upstream.next();if(e.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);const t=e.value.split(this.separator);t[0]=this.carryover+t[0];for(const n of t.slice(0,-1))this.outputQueue.push(n);return this.carryover=t[t.length-1],!0}}class D3 extends Q2{decodeUTF8(){return new L3(this)}}class L3 extends M3{constructor(e){super(),this.upstream=e,this.impl=new F3(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class F3 extends u3{constructor(e){if(super(),this.upstream=e,sA().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{const{StringDecoder:e}=n(4530);this.decoder=new e("utf8")}}summary(){return"".concat(this.upstream.summary()," -> Utf8")}async pump(){const e=await this.upstream.next();let t,n;return!e.done&&(t=e.value,n=sA().get("IS_BROWSER")?this.decoder.decode(t,{stream:!0}):this.decoder.write(Buffer.from(t.buffer)),this.outputQueue.push(n),!0)}}class B3 extends D3{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.file=e,this.options=t,vI(e instanceof Uint8Array||!!sA().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(()=>"FileChunkIterator only supports File, Blob and Uint8Array right now.")),this.offset=t.offset||0,this.chunkSize=t.chunkSize||1048576}summary(){return"FileChunks ".concat(this.file)}async next(){if(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))return{value:null,done:!0};const e=new Promise(((e,t)=>{const n=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)e(new Uint8Array(this.file.slice(this.offset,n)));else{const r=new FileReader;r.onload=n=>{let o=r.result;if(o instanceof ArrayBuffer&&(o=new Uint8Array(o)),!(o instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(o)},r.onabort=e=>t(new Error("Aborted")),r.onerror=e=>t(new Error(e.type));const o=this.file.slice(this.offset,n);r.readAsArrayBuffer(o)}this.offset=n}));return{value:await e,done:!1}}}const z3=e=>({method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity});function U3(e){return"string"===typeof e&&"file://"===e.slice(0,7)}class V3 extends R3{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.input=e,this.options=t}async iterator(){if(U3(this.input)&&sA().get("IS_NODE")){const e=n(8108);this.input=e.readFileSync(this.input.slice(7))}return new B3(this.input,this.options)}}class W3 extends R3{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.url=e,this.fileOptions=t}async iterator(){return U3(this.url)?new V3(this.url,this.fileOptions).iterator():async function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;"string"===typeof e?t=e:(t=e.url,n=z3(e));const i=await(o||sj)(t,n);if(i.ok){const e=new Uint8Array(await i.arrayBuffer());return new B3(e,r)}throw new Error(i.statusText)}(this.url,this.fileOptions)}}function H3(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new I3(new W3(e),t)}function G3(e){const t=$2(e);return v3((async()=>t))}function K3(e){return v3((async()=>{const t=await e();return $2((()=>t.next()))}))}async function q3(e,t){return O3.create(e,t)}async function Y3(e){return A3.create(e)}const X3="4.22.0";function J3(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&vI("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors in the CPU backend.")))}))}const $3=MV;class Z3 extends cI{nextDataId(){return Z3.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new sI(this,bP())}write(e,t,n){this.firstUse&&(this.firstUse=!1,sA().get("IS_NODE")&&AM("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&UI(n[0])){const o=n.map((e=>cj(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,o){this.data.set(e,{values:t,dtype:r,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return AH(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return JI(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>lj(e)));return LD(e.shape,e.dtype,n)}catch(b2e){throw new Error("Failed to decode encoded string bytes into utf-8")}return LD(e.shape,e.dtype,t)}makeOutput(e,t,n){return bP().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=aj();e();return{kernelMs:aj()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){J3([e],"where");const t=this.readSync(e.dataId);return $3(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function Q3(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}Z3.nextDataId=0;const e4={kernelName:hA,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;J3(t,"abs");let r=new Float32Array(wI(t.shape));return r=Q3(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}};function t4(e){return(t,n,r,o,i)=>{const a=vL(t,n),s=a.length,c=qI(a),l=jI(i,wI(a)),u=t.length,d=n.length,h=qI(t),p=qI(n),f=gL(t,a),m=gL(n,a);if(f.length+m.length===0)for(let g=0;g<l.length;++g)l[g]=e(r[g%r.length],o[g%o.length]);else for(let g=0;g<l.length;++g){const t=nA(g,s,c),n=t.slice(-u);f.forEach((e=>n[e]=0));const i=tA(n,u,h),a=t.slice(-d);m.forEach((e=>a[e]=0));const y=tA(a,d,p);l[g]=e(r[i],o[y])}return[l,a]}}function n4(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(o.shape,"float32",a)},s}const r4={kernelName:BA,backendName:"cpu",kernelFunc:n4};function o4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return n4({inputs:{real:o4(e,t,"float32"),imag:o4(e,t,"float32")},backend:e})}const r=ZI(wI(t),n);return e.makeTensorInfo(t,n,r)}function i4(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const a4={kernelName:NO,backendName:"cpu",kernelFunc:i4};function s4(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}const c4={kernelName:_R,backendName:"cpu",kernelFunc:s4};function l4(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=ij([0],n),[o,i]=t4(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[i,"bool",o]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(r))}function u4(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===o.dtype)return i4({inputs:{x:o},backend:n});const e=o4(n,o.shape,o.dtype),t=u4({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),r=n4({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===o.dtype){const e=s4({inputs:{input:o},backend:n}),t=u4({inputs:{x:e},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(e),t}if(!FI(o.dtype,i)){const e=i4({inputs:{x:o},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:i}}const a=n.data.get(o.dataId).values,[s,c,l]=l4(a,o.shape,o.dtype,i);return n.makeTensorInfo(s,c,l)}const d4={kernelName:DA,backendName:"cpu",kernelFunc:u4};function h4(e,t,n,r){return null==n?n=>{let{inputs:o,backend:i}=n;const{a:a,b:s}=o,c=i;J3([a,s],e);const l=c.data.get(a.dataId).values,u=c.data.get(s.dataId).values,d="string"===a.dtype?uG(l):l,h="string"===a.dtype?uG(u):u,p=r||a.dtype,[f,m]=t(a.shape,s.shape,d,h,p);return c.makeTensorInfo(m,p,f)}:e=>{let{inputs:o,backend:i}=e;const{a:a,b:s}=o,c=i;if("complex64"===a.dtype||"complex64"===s.dtype){const e=u4({inputs:{x:a},backend:c,attrs:{dtype:"complex64"}}),t=c.data.get(e.dataId),r=t.complexTensorInfos.real,o=t.complexTensorInfos.imag,i=c.data.get(r.dataId).values,l=c.data.get(o.dataId).values,u=u4({inputs:{x:s},backend:c,attrs:{dtype:"complex64"}}),d=c.data.get(u.dataId),h=d.complexTensorInfos.real,p=d.complexTensorInfos.imag,f=c.data.get(h.dataId).values,m=c.data.get(p.dataId).values,[g,y,v]=n(a.shape,s.shape,i,l,f,m),b=c.makeTensorInfo(v,"float32",g),x=c.makeTensorInfo(v,"float32",y),w=n4({inputs:{real:b,imag:x},backend:c});return c.disposeIntermediateTensorInfo(e),c.disposeIntermediateTensorInfo(u),c.disposeIntermediateTensorInfo(b),c.disposeIntermediateTensorInfo(x),w}{const e=c.data.get(a.dataId).values,n=c.data.get(s.dataId).values,o=r||a.dtype,[i,l]=t(a.shape,s.shape,e,n,o);return c.makeTensorInfo(l,o,i)}}}function p4(e){return(t,n,r,o,i,a)=>{const s=vL(t,n),c=wI(s),l=s.length,u=qI(s),d=jI("float32",c),h=jI("float32",c),p=gL(t,s),f=gL(n,s),m=AH(r,o),g=AH(i,a),y=t.length,v=qI(t),b=n.length,x=qI(n);if(p.length+f.length===0)for(let w=0;w<d.length;w++){const t=w%m.length,n=w%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[w]=r.real,h[w]=r.imag}else for(let w=0;w<d.length;w++){const t=nA(w,l,u),n=t.slice(-y);p.forEach((e=>n[e]=0));const r=tA(n,y,v),o=t.slice(-b);f.forEach((e=>o[e]=0));const i=tA(o,b,x),a=e(m[2*r],m[2*r+1],g[2*i],g[2*i+1]);d[w]=a.real,h[w]=a.imag}return[d,h,s]}}const f4=t4(((e,t)=>e+t)),m4=p4(((e,t,n,r)=>({real:e+n,imag:t+r}))),g4=h4(mA,f4,m4),y4={kernelName:mA,backendName:"cpu",kernelFunc:g4};function v4(e,t,n,r,o){const i=wI(r),a=ZI(o,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=o||(a[n]+=i>0?t[s]:1)}return a}function b4(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e.shape[0],i=e.shape[1],a=LD([o,n],t.dtype);for(let s=0;s<o;s++)for(let o=0;o<i;o++){const i=e.get(s,o);if(i<0)throw new Error("Input x must be non-negative!");i>=n||(r?a.set(1,s,i):t.size>0?a.set(a.get(s,i)+t.get(s,o),s,i):a.set(a.get(s,i)+1,s,i))}return a}const x4=t4(((e,t)=>e&t)),w4=h4(MA,x4),k4={kernelName:MA,backendName:"cpu",kernelFunc:w4};function S4(e){return(t,n,r)=>{const o=PI(n,t.length);for(let i=0;i<t.length;++i)o[i]=e(t[i],r);return o}}function C4(e,t,n){return E4(e,S4(t),n)}function E4(e,t,n){return r=>{let{inputs:o,attrs:i,backend:a}=r;const{x:s}=o;J3(s,e);const c=a,l=c.data.get(s.dataId).values;let u;if("string"===s.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=uG(l)}else u=l;const d=n||s.dtype,h=t(u,d,i);return c.makeTensorInfo(s.shape,d,h)}}const _4=S4((e=>Math.ceil(e))),T4=E4(LA,_4),N4={kernelName:LA,backendName:"cpu",kernelFunc:T4};function I4(e,t,n,r){const o=PI(n,wI(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=wI(e.shape);o.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const i="string"===n?uG(e.vals):e.vals;let a=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)o[s+t]=i[a++]}r+=e.shape[1]}))}return o}const A4=t4(((e,t)=>e===t?1:0)),O4=h4(fO,A4,null,"bool"),R4={kernelName:fO,backendName:"cpu",kernelFunc:O4},M4=S4((e=>Math.exp(e))),j4=E4(mO,M4,"float32"),P4={kernelName:mO,backendName:"cpu",kernelFunc:j4},D4=S4((e=>Math.expm1(e))),L4=E4(yO,D4),F4={kernelName:yO,backendName:"cpu",kernelFunc:L4},B4=S4((e=>Math.floor(e))),z4=E4(wO,B4),U4={kernelName:wO,backendName:"cpu",kernelFunc:z4},V4=t4(((e,t)=>Math.floor(e/t))),W4=h4(kO,V4,null,"int32"),H4={kernelName:kO,backendName:"cpu",kernelFunc:W4};function G4(e,t,n,r,o,i,a,s,c){const l=LD([r,i],n);for(let u=0;u<r;u++){const n=[];let r=0;for(let t=0;t<o;t++){const i=e[u*o+t];r+=i*a[t],n.push(i)}if(r<0||r>=c/i)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(s));for(let e=0;e<i;e++)l.values[u*i+e]=t.get(...t.indexToLoc(r*i+e))}return l}function K4(e,t,n){const r=LD(n,e.dtype);for(let o=0;o<r.size;++o){const n=r.indexToLoc(o).slice(),i=n[0],a=n[2],s=t.locToIndex([i,a]);n[2]=t.values[s];const c=e.locToIndex(n);0<=c&&c<e.values.length&&(r.values[o]=e.values[c])}return r}const q4=t4(((e,t)=>e>t?1:0)),Y4=h4(_O,q4,null,"bool"),X4={kernelName:_O,backendName:"cpu",kernelFunc:Y4},J4=t4(((e,t)=>e>=t?1:0)),$4=h4(TO,J4,null,"bool"),Z4={kernelName:TO,backendName:"cpu",kernelFunc:$4},Q4=t4(((e,t)=>e<t?1:0)),e5=h4(PO,Q4,null,"bool"),t5={kernelName:PO,backendName:"cpu",kernelFunc:e5},n5=t4(((e,t)=>e<=t?1:0)),r5=h4(DO,n5,null,"bool"),o5={kernelName:DO,backendName:"cpu",kernelFunc:r5};function i5(e,t,n){const r=(t-e)/(n-1),o=ZI(n,"float32");o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+r;return o}const a5=S4((e=>Math.log(e))),s5=E4(FO,a5),c5={kernelName:FO,backendName:"cpu",kernelFunc:s5};function l5(e,t,n,r){const o=jI(r,wI(n));for(let i=0;i<o.length;++i){const n=i*t;let r=e[n];for(let o=0;o<t;++o){const t=e[n+o];(Number.isNaN(t)||t>r)&&(r=t)}o[i]=r}return o}const u5=t4(((e,t)=>Math.max(e,t))),d5=h4(JO,u5),h5={kernelName:JO,backendName:"cpu",kernelFunc:d5},p5=t4(((e,t)=>Math.min(e,t))),f5=h4(oR,p5),m5={kernelName:oR,backendName:"cpu",kernelFunc:f5},g5=t4(((e,t)=>e*t)),y5=p4(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),v5=h4(cR,g5,y5),b5={kernelName:cR,backendName:"cpu",kernelFunc:v5};function x5(e,t,n){const r=oj(-1,n);return g5([],t,r,e,n)}const w5={kernelName:lR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;J3(r,"neg");const o=n.data.get(r.dataId).values,[i,a]=x5(o,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}},k5=t4(((e,t)=>e!==t?1:0)),S5=h4(uR,k5,null,"bool"),C5={kernelName:uR,backendName:"cpu",kernelFunc:S5};function E5(e,t,n,r,o){const i=t.length,a=wI(t),s=qI(t),c=qI(o),l=jI(n,wI(o));for(let u=0;u<a;++u){const t=nA(u,i,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];l[tA(n,i,c)]=e[u]}return l}function _5(e){const{inputs:t,attrs:n,backend:r}=e,{x:o}=t,{perm:i}=n;J3(o,"transpose");const a=o.shape.length,s=new Array(a);for(let l=0;l<s.length;l++)s[l]=o.shape[i[l]];const c=E5(r.data.get(o.dataId).values,o.shape,o.dtype,i,s);return{dataId:r.write(c,s,o.dtype),shape:s,dtype:o.dtype}}const T5={kernelName:vM,backendName:"cpu",kernelFunc:_5};function N5(e,t,n,r){const[o,i]=mz(e,r),a=Dj(t,"int32"),s=ZI(wI(o),a),c=wI(i);for(let l=0;l<s.length;++l){const e=l*c;let t=1;for(let r=0;r<c;++r)t*=n[e+r];s[l]=t}return{outVals:s,outShape:o,outDtype:a}}const I5={kernelName:wR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;J3(o,"prod");const s=o.shape.length,c=RI(i,o.shape),l=vz(c,s);let u=c,d=o;const h=[];null!=l&&(d=_5({inputs:{x:o},backend:n,attrs:{perm:l}}),h.push(d),u=xz(u.length,s));const p=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=N5(d.shape,d.dtype,p,u);let y=m;return a&&(y=gz(m,c)),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function A5(e,t,n,r){const o=[];let i=0;const a=t.length-1+n.length,s=new Array(a).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],o=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>o)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let c=1;for(let l=0;l<t.length-1;++l){c*=t[l];const e=t[l+1];for(let t=1;t<c+1;++t)s[l].push(t*e)}for(let l=0;l<e.length;++l){let r=e[l],a=e[l]+1;for(let e=0;e<n.length;++e){const o=n[e],i=e+t.length-1;if(i>=0){const e=s[i],t=e[e.length-1]-o[r];for(let n=r;n<a;++n)s[i].push(o[n+1]+t)}r=o[r],a=o[a]}a!==r&&(o.push([r,a]),i+=a-r)}return{outSplits:s,valueSlices:o,numValues:i}}function O5(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function R5(e,t,n,r,o){const i=t.slice();i[0]=o;const a=PI(n,wI(i)),s=e.length;return function(e,t,n,r,o,i){const a=O5(t,2)[1],s=O5(i,2)[1];let c=0;for(const l of n)for(let t=l[0];t<l[1];++t){for(let n=0;n<r;++n)o[c*s+n]=e[t*a+n];++c}}(e,t,r,0===s?0:s/t[0],a,i),[a,i]}function M5(e,t,n,r,o,i,a,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const o=nA(r,t.length,qI(t)).join(",");throw new Error("indices[".concat(o,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(i,a,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const c=r[0],{outSplits:l,valueSlices:u,numValues:d}=A5(i,a,e,c),h=function(e){const t=[];for(let n=0;n<e.length;++n){const r=PI("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(l),p=R5(n,r,o,u,d);return[h,p[0],p[1]]}const j5=2147483647;function P5(e,t,n,r,o,i,a){if(t.length>1)throw new Error("starts must be a scalar or vector");if(o.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,c=0===o.length,l=0===a.length,u=[];s||u.push(t[0]),c||u.push(o[0]),l||u.push(a[0]);for(let m=1;m<u.length;++m)if(u[m]!==u[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===u.length?1:u[0],h=PI("int32",d+1);h[0]=0;for(let m=0;m<d;++m){const t=s?e[0]:e[m],n=c?r[0]:r[m],o=l?i[0]:i[m];if(0===o)throw new Error("Requires delta != 0");let a;if(o>0&&n<t||o<0&&n>t)a=0;else if(a=Math.ceil(Math.abs((n-t)/o)),a>j5)throw new Error("Requires ((limit - start) / delta) <= ".concat(j5));h[m+1]=h[m]+a}const p=PI(n,h[d]);let f=0;for(let m=0;m<d;++m){const t=h[m+1]-h[m];let n=s?e[0]:e[m];const r=l?i[0]:i[m];for(let e=0;e<t;++e)p[f++]=n,n+=r}return[h,p]}var D5=lH;class L5{constructor(e,t,n,r,o,i,a,s,c,l){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=o,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=s,this.rowPartitionValuesShapes=c,this.rowPartitionTypes=dH(l),this.raggedRank=hH(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===D5.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===D5.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case D5.VALUE_ROWIDS:return L5.getMaxWidthValueRowID(t);case D5.ROW_SPLITS:return L5.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(D5[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],o=0;for(let i=1;i<t;++i){const t=e[i];t!==r&&(r=t,o=Math.max(i-n,o),n=i)}return Math.max(t-n,o)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return B5(e,n)}calculateOutputSize(e){const t=this.valuesShape;pH(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=uH(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let o=1;o<=this.raggedRank;++o)r[o]<0&&(r[o]=this.getMaxWidth(o));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),o=[];let i=0;for(let a=0;a<r;++a,i+=t)o.push(i);for(let a=r;a<e;++a)o.push(-1);return vI(o.length===e,(()=>"Final length of result must be equal to firstDimension.")),o}calculateOutputIndexRowSplit(e,t,n,r){const o=e.length,i=[];for(let a=0;a<o-1;++a){const o=e[a+1]-e[a];let s=Math.min(r,o),c=t[a];-1===c&&(s=0);for(let e=0;e<s;++e)i.push(c),c+=n;for(let e=0;e<o-s;++e)i.push(-1)}if(o>0&&i.length!==e[o-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,n,r){const o=e.length,i=[];if(0===o)return[];let a=0,s=e[0];if(s>=t.length)throw new Error("Got currentValueRowId=".concat(s,", which is not less than ").concat(t.length));let c=t[s];i.push(c);for(let l=1;l<o;++l){const o=e[l];if(o===s)c>=0&&(++a,a<r?c+=n:c=-1);else{if(a=0,s=o,o>=t.length)throw new Error("Got nextValueRowId=".concat(o," which is not less than ").concat(t.length));c=t[o]}i.push(c)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,n,r){const o=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case D5.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,t,n,r);case D5.ROW_SPLITS:if(o.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(o.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(o,t,n,r);default:throw new Error("Unsupported partition type: ".concat(D5[i]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case D5.FIRST_DIM_SIZE:return e[0];case D5.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case D5.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(D5[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let i=n.length-2;i>=0;--i)n[i]=n[i+1]*t[i+1];const r=B5(t,!1),o=PI(this.valuesDType,wI(r));if(n[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){i=this.calculateOutputIndex(e-1,i,n[e],t[e])}this.setOutput(this.raggedRank,i,o,r)}return[r,o]}setOutput(e,t,n,r){if(0===n.length)return;const o=this.values,i=n;let a=r.slice();a=a.slice(e+1);const s=wI(a),c=t.length;let l=this.defaultValue;if(l.length!==s&&1!==l.length){const e=this.defaultValueShape;kP((()=>{const t=xB(l,e),n=DB(t,a);l=n.dataSync()}))}let u=0,d=0,h=0;for(let p=0;p<=c;++p){let e=p<c?t[p]:-1;if(e!==h){if(d<h){const e=o.subarray(u*s);F5(i.subarray(d*s),e,(h-d)*s)}if(p>=c){const t=n.length;e=Math.floor(t/s)}if(e>h)if(1===this.defaultValue.length)i.subarray(h*s,e*s).fill(this.defaultValue[0]),h=e;else for(;e>h;){F5(i.slice(h*s),l,s),++h}e<0?(u=p+1,d=h):(u=p,d=h,h=d+1)}else++h}}}function F5(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function B5(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error("Dimension ".concat(r," must be >= 0"));if(r<-1)throw new Error("Dimension ".concat(r," must be >= -1"));r=-1}n.push(r)}return n}function z5(e,t,n,r,o,i,a,s,c,l){return new L5(e,t,n,r,o,i,a,s,c,l).compute()}function U5(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return ZI(0,r);const o=ZI(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+n;return o}const V5=S4((e=>1/Math.sqrt(e))),W5=E4(LR,V5),H5={kernelName:LR,backendName:"cpu",kernelFunc:W5};function G5(e,t,n,r,o,i,a,s,c,l){const u=[r/o,o],d=e.values,h=t.values;if(0===r)return LD(n,t.dtype);const p=c instanceof Sj?c:LD(u,t.dtype);"string"===typeof c||"number"===typeof c?p.values.fill(c):"boolean"===typeof c&&p.values.fill(+c);for(let f=0;f<i;f++){const e=[];let i=0;for(let t=0;t<a;t++){const n=d[f*a+t];e.push(n),i+=n*s[t]}if(i<0||i>=r/o)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<o;n++)l?p.values[i*o+n]+=h[f*o+n]:p.values[i*o+n]=0===t.rank?h[0]:h[f*o+n]}return p}const K5=S4((e=>1/(1+Math.exp(-e)))),q5=C4(qR,(e=>1/(1+Math.exp(-e)))),Y5={kernelName:qR,backendName:"cpu",kernelFunc:q5};function X5(e,t,n,r,o){const i=_F(r,t,n),a=wI(n),s=qI(r);if(i){const n=TF(t,s);return"string"===o?e.slice(n,n+a):e.subarray(n,n+a)}const c=LD(r,o,"string"===o?uG(e):e),l=LD(n,o);for(let u=0;u<l.size;++u){const e=l.indexToLoc(u),n=e.map(((e,n)=>e+t[n]));l.set(c.get(...n),...e)}return"string"===o?dG(l.values):l.values}function J5(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:a}=r;J3(o,"slice");const[s,c]=NF(o,i,a);fF(o,s,c);const l=X5(n.data.get(o.dataId).values,s,c,o.shape,o.dtype);return n.makeTensorInfo(c,o.dtype,l)}const $5={kernelName:WR,backendName:"cpu",kernelFunc:J5};function Z5(e,t,n,r,o,i,a){const s=t[0],c=i[0],l=new Array(c),u=new Array(s),d=t[1];if(0===c){if(0!==s)throw new Error(XH(s));return[PI(n,0),[0,d],PI(o,0),l,u]}let h=!0,p=0;const f=new Array(c).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(JH(g,t));if(t>=c)throw new Error($H(g,t,c));++f[t],h=h&&t>=p,p=t}let m=!0;for(let g=0;g<c;++g){const e=0===f[g];l[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&h){const t=e,n=r;for(let e=0;e<s;++e)u[e]=e;return[t,[s,d],n,l,u]}{const t=f[c-1],i=PI(n,t*d),h=PI(o,t),p=new Array(c).fill(0);for(let n=0;n<s;++n){const t=e[n*d],o=p[t],a=(0===t?0:f[t-1])+o;p[t]++;for(let r=0;r<d;++r)i[a*d+r]=e[n*d+r];h[a]=r[n],u[n]=a}for(let e=0;e<c;++e){if(0===p[e]){const t=0===e?0:f[e-1];i[t*d+0]=e;for(let e=1;e<d;++e)i[t*d+e]=0;h[t]=a}}return[i,[t,d],h,l,u]}}function Q5(e,t,n,r,o){const i=wI(r),a=t[0],s=o.length,c=[];let l=1,u=-1;for(let m=0;m<s;++m){const e=o[m];if(-1===e){if(-1!==u)throw new Error(ZH(u,m));u=m,c.push(1)}else{if(e<0)throw new Error(QH(m,e));l*=e,c.push(e)}}if(-1!==u){if(l<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(i/l);if(l*e!==i)throw new Error(tG(r,c));c[u]=e}if(wI(c)!==i)throw new Error(nG(r,c));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let e=d-2;e>=0;--e)h[e]=h[e+1]*r[e+1]}const p=[];if(s>0){p[s-1]=1;for(let e=s-2;e>=0;--e)p[e]=p[e+1]*c[e+1]}const f=PI(n,a*s);for(let m=0;m<a;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*h[n];for(let e=0;e<s;++e)f[m*s+e]=Math.trunc(t/p[e]),t%=p[e]}return[f,[a,s],c]}function e6(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const s=r.length,c=[t[0],e.length/t[0]],l=c[1],u=s>0?o[s-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=u;const h=d.reduce(((e,t)=>e*t),1),p=PI(n,h);if(0===s)return u>0&&p.fill(a),[p,d];if(u<=0)throw new Error("segment ids must be >= 0");let f=0,m=1,g=0,y=o[f];for(;;){let t=0;if(m<s){if(t=o[m],y===t){++m;continue}if(y>=t)throw new Error("segment ids are not increasing")}if(y<0||y>=u)throw new Error(iG(y,u));y>g&&p.fill(a,g*l,y*l);for(let n=f;n<m;++n){const t=r[n];if(t<0||t>=c[0])throw new Error(aG(n,r[n],c[0]));for(let n=0;n<l;n++)p[y*l+n]+=e[t*l+n]}if(i)for(let e=0;e<l;e++)p[y*l+e]/=m-f;if(f=m,++m,g=y+1,y=t,m>s)break}return g<u&&p.fill(a,g*l,u*l),[p,d]}const t6=S4((e=>Math.sqrt(e))),n6=C4(XR,(e=>Math.sqrt(e))),r6={kernelName:XR,backendName:"cpu",kernelFunc:n6},o6=t4(((e,t)=>{const n=e-t;return n*n})),i6=h4(iM,o6),a6={kernelName:iM,backendName:"cpu",kernelFunc:i6},s6=S4(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:o}=t;return e.replace(new RegExp(n,r?"g":""),o)})),c6=E4(sM,s6),l6={kernelName:sM,backendName:"cpu",kernelFunc:c6};function u6(e,t,n,r){const o=LD(e,t.dtype);for(let i=0;i<o.size;i++){const e=o.indexToLoc(i),a=new Array(e.length);for(let t=0;t<a.length;t++)a[t]=e[t]*n[t]+r[t];o.set(t.get(...a),...e)}return o}class d6{constructor(e,t,n,r,o,i){this.separator=cj(e),this.nGramWidths=t,this.leftPad=cj(n),this.rightPad=cj(r),this.padWidth=o,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,o,i){for(let a=0;a<o;++a){const s=this.getPadWidth(i),c=Math.max(0,s-a),l=Math.max(0,s-(o-(a+1))),u=i-(c+l),d=t+(c>0?0:a-s);let h=0;h+=c*this.leftPad.length;for(let t=0;t<u;++t)h+=e[d+t].length;h+=l*this.rightPad.length;h+=(c+l+u-1)*this.separator.length,n[r+a]=new Uint8Array(h);const p=n[r+a];let f=0;const m=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<c;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[d+t]),m(this.separator);if(u>0){m(e[d+u-1]);for(let e=0;e<l;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<l-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let o=1;o<r;++o){let r=t[o]>=e;if(r=r&&t[o]<=n,!r)throw new Error("Invalid split value ".concat(t[o],", must be in [").concat(e,", ").concat(n,"]"));e=t[o]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const o=r-1,i=PI("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=o;++t)i[t]=0;return[e,i]}i[0]=0;for(let s=1;s<=o;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),i[s]=i[s-1]+n}const a=new Array(i[o]);for(let s=0;s<o;++s){const n=t[s];let r=i[s];if(this.nGramWidths.forEach((o=>{const i=t[s+1]-t[s],c=this.getNumNGrams(i,o);this.createNGrams(e,n,a,r,c,o),r+=c})),this.preserveShort&&r===i[s]){const o=t[s+1]-t[s];if(0===o)continue;const i=o+2*this.padWidth,c=1;this.createNGrams(e,n,a,r,c,i)}}return[a,i]}}function h6(e,t,n,r,o,i,a,s){return new d6(n,r,o,i,a,s).compute(e,t)}function p6(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const o=t[0];let i=e.indexOf(o);for(;-1!==i;){const t=e.subarray(0,i);n&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(o)}return void(n&&0===e.length||r.push(e))}let o=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){const t=e.subarray(o,i);n&&0===t.length||r.push(t),o=i+1}}function f6(e,t,n){const r=e.length,o=[];let i=0,a=0;const s=new Array(r);for(let h=0;h<r;++h){const r=o.length;p6(e[h],t,n,o);const c=o.length-r;s[h]=c,i+=c,a=Math.max(a,c)}const c=PI("int32",2*i),l=new Array(i),u=[r,a];let d=0;for(let h=0;h<r;++h)for(let e=0;e<s[h];++e)c[2*d]=h,c[2*d+1]=e,l[d]=o[d],++d;return[c,l,u]}function m6(e,t){const n=PI("int32",e.length);for(let r=0;r<e.length;++r)n[r]=rj(e[r]).modulo(t).getLowBitsUnsigned();return n}const g6=t4(((e,t)=>e-t)),y6=p4(((e,t,n,r)=>({real:e-n,imag:t-r}))),v6=h4(hM,g6,y6),b6={kernelName:hM,backendName:"cpu",kernelFunc:v6};function x6(e,t){const n=new Array(e.rank);for(let o=0;o<n.length;o++)n[o]=e.shape[o]*t[o];const r=LD(n,e.dtype);for(let o=0;o<r.values.length;++o){const t=r.indexToLoc(o),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const i=e.locToIndex(n);r.values[o]=e.values[i]}return r}const w6=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function k6(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const o=r-n+1,i=t-n+1,a=Math.log(o),s=.5*Math.exp(2*a/3),c=.5*Math.sqrt(a*s*(o-s)/o)*Math.sign(i-o/2);k6(e,t,Math.max(n,Math.floor(t-i*s/o+c)),Math.min(r,Math.floor(t+(o-i)*s/o+c)))}const o=e[t];let i=n,a=r;for(fI(e,n,t),w6(e[r],o)>0&&fI(e,n,r);i<a;){for(fI(e,i,a),i++,a--;w6(e[i],o)<0;)i+=1;for(;w6(e[a],o)>0;)a-=1}0===w6(e[n],o)?fI(e,n,a):(a+=1,fI(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function S6(e,t,n,r,o){const i=t[t.length-1],[a,s]=[e.length/i,i],c=jI(n,a*r),l=jI("int32",a*r);for(let d=0;d<a;d++){const t=d*s,n=e.subarray(t,t+s);let i=new Array(n.length);n.forEach(((e,t)=>i[t]={value:e,index:t})),r<i.length&&(k6(i,r),i=i.slice(0,r)),o&&i.sort(w6);const a=d*r,u=c.subarray(a,a+r),h=l.subarray(a,a+r);for(let e=0;e<r;e++)u[e]=i[e].value,h[e]=i[e].index}const u=t.slice();return u[u.length-1]=r,[LD(u,n,c),LD(u,"int32",l)]}function C6(e,t,n,r){const o=RI(t,n)[0],i=[1,n[0],1];for(let f=0;f<o;f++)i[0]*=n[f];i[1]=n[o];for(let f=o+1;f<n.length;f++)i[2]*=n[f];const a=new Map,s=new Int32Array(n[o]),c=new Sj(i,r,e),l=[],u=1===i[0]&&1===i[2];for(let f=0;f<n[o];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<i[0];t++)for(let n=0;n<i[2];n++)e.push(c.get(t,f,n));t=e.join(",")}const n=a.get(t);if(null!=n)s[f]=n;else{const e=a.size;a.set(t,e),s[f]=e,l.push(f)}}const d=i.slice();d[1]=a.size;const h=new Sj(d,r);l.forEach(((e,t)=>{for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)h.set(c.get(n,e,r),n,t,r)}));const p=n.slice();return p[o]=d[1],{outputValues:h.values,outputShape:p,indices:s}}const E6="4.22.0";RP("cpu",(()=>new Z3),1);const _6=C4(dO,(e=>e>=0?e:Math.exp(e)-1)),T6={kernelName:dO,backendName:"cpu",kernelFunc:_6};function N6(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r;J3([o],"leakyRelu");const a=wI(o.shape),s=n.data.get(o.dataId).values,c=jI("float32",a);for(let l=0;l<s.length;l++)c[l]=s[l]<0?i*s[l]:s[l];return n.makeTensorInfo(o.shape,"float32",c)}const I6={kernelName:jO,backendName:"cpu",kernelFunc:N6},A6=t4(((e,t)=>e<0?t*e:e));function O6(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t;J3([r,o],"prelu");const i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,[s,c]=A6(r.shape,o.shape,i,a,"float32");return n.makeTensorInfo(c,"float32",s)}const R6={kernelName:xR,backendName:"cpu",kernelFunc:O6},M6=C4(NR,(e=>Math.max(0,e))),j6={kernelName:NR,backendName:"cpu",kernelFunc:M6},P6=C4(jR,(e=>Math.min(Math.max(0,e),6))),D6={kernelName:jR,backendName:"cpu",kernelFunc:P6};function L6(e,t,n,r,o){if("linear"===n)return i4({inputs:{x:t},backend:e});if("relu"===n)return M6({inputs:{x:t},backend:e});if("elu"===n)return _6({inputs:{x:t},backend:e});if("relu6"===n)return P6({inputs:{x:t},backend:e});if("prelu"===n)return O6({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return N6({inputs:{x:t},backend:e,attrs:{alpha:o}});if("sigmoid"===n)return q5({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function F6(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,a=wI(o.shape),s=OI(i,a),c=wI(s);vI(a===c,(()=>"The new shape (".concat(s,") has ").concat(c," elements and the old ")+"shape (".concat(o.shape,") has ").concat(a," elements. The new shape and old ")+"shape must have the same number of elements.")),n.incRef(o.dataId);const l=n.data.get(o.dataId);if(null!=l.complexTensorInfos){const e=l.complexTensorInfos.real,t=l.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:o.dataId,shape:s,dtype:o.dtype}}const B6={kernelName:IR,backendName:"cpu",kernelFunc:F6};function z6(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:a,transposeB:s}=r;J3([o,i],"matMul");const c=o.shape.length,l=i.shape.length,u=a?o.shape[c-2]:o.shape[c-1],d=s?i.shape[l-1]:i.shape[l-2],h=a?o.shape[c-1]:o.shape[c-2],p=s?i.shape[l-2]:i.shape[l-1],f=o.shape.slice(0,-2),m=i.shape.slice(0,-2),g=wI(f),y=wI(m),v=vL(o.shape.slice(0,-2),i.shape.slice(0,-2)).concat([h,p]);vI(u===d,(()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(o.shape," and ")+"".concat(i.shape," and transposeA=").concat(a)+" and transposeB=".concat(s," must match.")));const b=s?[y,p,d]:[y,d,p],x=F6({inputs:{x:o},backend:n,attrs:{shape:a?[g,u,h]:[g,h,u]}}),w=F6({inputs:{x:i},backend:n,attrs:{shape:b}}),k=a?x.shape[1]:x.shape[2],S=a?x.shape[2]:x.shape[1],C=s?w.shape[1]:w.shape[2],E=Math.max(g,y),_=n.data.get(x.dataId).values,T=n.data.get(w.dataId).values,N=qI(x.shape),I=qI(w.shape),[A,O,R]=a?[N[0],1,N[1]]:[N[0],N[1],1],[M,j,P]=s?[1,I[1],I[0]]:[I[1],1,I[0]],D=S*C,L=LD([E,S,C],x.dtype),F=L.values,B=n.blockSize;for(let z=0;z<E;z++){const e=z%g,t=z%y;for(let n=0;n<S;n+=B){const r=Math.min(n+B,S);for(let o=0;o<C;o+=B){const i=Math.min(o+B,C);for(let a=0;a<k;a+=B){const s=Math.min(a+B,k);for(let c=n;c<r;c++)for(let n=o;n<i;n++){let r=0;for(let o=a;o<s;o++){r+=_[e*A+c*O+o*R]*T[o*M+n*j+t*P]}F[z*D+(c*C+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(v,L.dtype,L.values)}const U6={kernelName:AA,backendName:"cpu",kernelFunc:z6};const V6={kernelName:TM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:a,preluActivationWeights:s}=t,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=r;let h,p,f;const m=[];h=z6({inputs:{a:o,b:i},attrs:{transposeA:c,transposeB:l},backend:n}),a&&(p=g4({inputs:{a:h,b:a},backend:n}),m.push(h),h=p),u&&(f=L6(n,h,u,s,d),m.push(h),h=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return h}},W6=C4(pA,(e=>Math.acos(e))),H6={kernelName:pA,backendName:"cpu",kernelFunc:W6},G6=C4(fA,(e=>Math.acosh(e))),K6={kernelName:fA,backendName:"cpu",kernelFunc:G6};const q6={kernelName:gA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;J3(t,"addN");const o=r.map((e=>n.data.get(e.dataId).values)),i=LD(r[0].shape,r[0].dtype),a=i.values;for(let s=0;s<r.length;s++){const e=o[s];for(let t=0;t<a.length;t++)a[t]+=e[t]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}};const Y6={kernelName:yA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;J3(o,"all");const s=RI(i,o.shape);let c=s;const l=vz(c,o.shape.length);let u=o;null!=l&&(u=_5({inputs:{x:o},backend:n,attrs:{perm:l}}),c=xz(c.length,o.shape.length)),yz("all",c,u.shape.length);const[d,h]=mz(u.shape,c),p=wI(h),f=ZI(wI(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t&&r}f[y]=t}null!=l&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(a){const e=F6({inputs:{x:g},backend:n,attrs:{shape:gz(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const X6={kernelName:vA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;J3(o,"any");const s=RI(i,o.shape);let c=s;const l=vz(c,o.shape.length);let u=o;null!=l&&(u=_5({inputs:{x:o},backend:n,attrs:{perm:l}}),c=xz(c.length,o.shape.length)),yz("any",c,u.shape.length);const[d,h]=mz(u.shape,c),p=wI(h),f=ZI(wI(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];t=t||r}f[y]=t}null!=l&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(a){const e=F6({inputs:{x:g},backend:n,attrs:{shape:gz(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const J6={kernelName:bA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;J3(o,"argMax");let a=RI(i,o.shape);const s=vz(a,o.shape.length);let c=o;const l=[];null!=s&&(c=_5({inputs:{x:o},backend:n,attrs:{perm:s}}),l.push(c),a=xz(a.length,c.shape.length)),a=[a[0]],yz("argMax",a,c.shape.length);const[u,d]=mz(c.shape,a),h=ZI(wI(u),"int32"),p=wI(d),f=n.data.get(c.dataId).values;for(let m=0;m<h.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const o=f[e+r];o>t&&(t=o,n=r)}h[m]=n}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",h)}};const $6={kernelName:xA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;J3(o,"argMin");let a=RI(i,o.shape);const s=vz(a,o.shape.length);let c=o;const l=[];null!=s&&(c=_5({inputs:{x:o},backend:n,attrs:{perm:s}}),l.push(c),a=xz(a.length,c.shape.length)),a=[a[0]],yz("argMin",a,c.shape.length);const[u,d]=mz(c.shape,a),h=ZI(wI(u),"int32"),p=wI(d),f=n.data.get(c.dataId).values;for(let m=0;m<h.length;++m){const e=m*p;let t=f[e],n=0;for(let r=0;r<p;++r){const o=f[e+r];o<t&&(t=o,n=r)}h[m]=n}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",h)}},Z6=C4(wA,(e=>Math.asin(e))),Q6={kernelName:wA,backendName:"cpu",kernelFunc:Z6},e8=C4(kA,(e=>Math.asinh(e))),t8={kernelName:kA,backendName:"cpu",kernelFunc:e8},n8=C4(SA,(e=>Math.atan(e))),r8={kernelName:SA,backendName:"cpu",kernelFunc:n8},o8=t4(((e,t)=>Math.atan2(e,t))),i8=h4(EA,o8),a8={kernelName:EA,backendName:"cpu",kernelFunc:i8},s8=C4(CA,(e=>Math.atanh(e))),c8={kernelName:CA,backendName:"cpu",kernelFunc:s8};function l8(e,t,n,r,o,i){const a=o.strideHeight,s=o.strideWidth,c=o.dilationHeight,l=o.dilationWidth,u=o.effectiveFilterHeight,d=o.effectiveFilterWidth,h=o.padInfo.top,p=o.padInfo.left,f="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=LD(o.outShape,n),g=m.values,y=o.outShape[1]*o.outShape[2]*o.outShape[3],v=o.outShape[2]*o.outShape[3],b=o.outShape[3];for(let x=0;x<o.batchSize;++x){const t=x*y,n=x*r[0];for(let m=0;m<o.inChannels;++m)for(let y=0;y<o.outHeight;++y){const x=y*a-h,w=Math.max(0,x),k=Math.min(o.inHeight,u+x),S=t+y*v;for(let t=0;t<o.outWidth;++t){const a=t*s-p,u=Math.max(0,a),h=Math.min(o.inWidth,d+a);let y=f,v=0,x=0;for(let t=w;t<k;t+=c){const o=n+t*r[1];for(let t=u;t<h;t+=l){const n=e[o+t*r[2]+m];"max"===i&&n>y?y=n:"avg"===i&&(v+=n,x++)}if(isNaN(y))break}g[S+t*b+m]="avg"===i?v/x:y}}}return m}function u8(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=LD(r.outShape,"int32"),s=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterHeight,h=r.effectiveFilterWidth,p=r.padInfo.top,f=r.padInfo.left,m=LD(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*s-p;let y=n;for(;y<0;)y+=l;const v=Math.min(r.inHeight,d+n);for(let s=0;s<r.outWidth;++s){const d=s*c-f;let p=d;for(;p<0;)p+=u;const b=Math.min(r.inWidth,h+d);let x=Number.NEGATIVE_INFINITY,w=-1;for(let t=y;t<v;t+=l){const a=t-n;for(let n=p;n<b;n+=u){const s=n-d,c=m.get(g,t,n,e);c>x&&(x=c,w=o?i?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:a*h+s)}}a.set(w,g,t,s,e)}}return a}function d8(e,t,n,r,o,i){const a=o.strideDepth,s=o.strideHeight,c=o.strideWidth,l=o.dilationDepth,u=o.dilationHeight,d=o.dilationWidth,h=o.effectiveFilterDepth,p=o.effectiveFilterHeight,f=o.effectiveFilterWidth,m=o.padInfo.front,g=o.padInfo.top,y=o.padInfo.left,v="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=LD(o.outShape,n),x=b.values,w=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],k=o.outShape[2]*o.outShape[3]*o.outShape[4],S=o.outShape[3]*o.outShape[4],C=o.outShape[4];for(let E=0;E<o.batchSize;++E){const t=E*w,n=E*r[0];for(let b=0;b<o.inChannels;++b)for(let w=0;w<o.outDepth;++w){const E=w*a-m;let _=E;for(;_<0;)_+=l;const T=Math.min(o.inDepth,h+E),N=t+w*k;for(let t=0;t<o.outHeight;++t){const a=t*s-g;let h=a;for(;h<0;)h+=u;const m=Math.min(o.inHeight,p+a),w=N+t*S;for(let t=0;t<o.outWidth;++t){const a=t*c-y;let s=a;for(;s<0;)s+=d;const p=Math.min(o.inWidth,f+a),g=w+t*C;let k=v,S=0,E=0;for(let t=_;t<T;t+=l){const o=n+t*r[1];for(let t=h;t<m;t+=u){const n=o+t*r[2];for(let t=s;t<p;t+=d){const o=e[n+t*r[3]+b];if("max"===i&&o>k?k=o:"avg"===i&&(S+=o,E++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}x[g+b]="avg"===i?S/Math.max(E,1):k}}}}return b}const h8={kernelName:_A,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;J3(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:c}=r;vI(gB(a,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(1,"'")));const l=aB(o.shape,i,a,1,s,c);let u;if(1===l.filterWidth&&1===l.filterHeight&&CI(l.inShape,l.outShape))u=i4({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=qI(o.shape),r=l8(e,o.shape,o.dtype,t,l,"avg");u=n.makeTensorInfo(l.outShape,o.dtype,r.values)}return u}};const p8={kernelName:NA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:c,dataFormat:l}=r;J3(o,"avgPool3d");const u=sB(o.shape,i,a,1,s,c,l),d=d8(n.data.get(o.dataId).values,o.shape,o.dtype,qI(o.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const f8={kernelName:IA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,{filterSize:a,strides:s,pad:c,dimRoundingMode:l}=r;J3([o,i],"avgPool3DGrad");const u=sB(i.shape,a,s,1,c,l),d=u.strideDepth,h=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,y=u.dilationDepth,v=u.dilationHeight,b=u.dilationWidth,x=u.effectiveFilterDepth,w=u.effectiveFilterHeight,k=u.effectiveFilterWidth,S=x-1-u.padInfo.front,C=k-1-u.padInfo.left,E=w-1-u.padInfo.top,_=LD(i.shape,"float32"),T=1/(f*m*g),N=n.bufferSync(o);for(let I=0;I<u.batchSize;++I)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const o=t-S,i=n-E,a=r-C;let s=0;for(let t=0;t<x;t+=y){const n=(o+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<w;t+=v){const r=(i+t)/h;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let t=0;t<k;t+=b){const o=(a+t)/p;if(o<0||o>=u.outWidth||Math.floor(o)!==o)continue;s+=N.get(I,n,r,o,e)}}}_.set(s*T,I,t,n,r,e)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}};const m8={kernelName:TA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i;J3([o,i],"avgPoolGrad");const{filterSize:s,strides:c,pad:l}=r,u=aB(a.shape,s,c,1,l),d=u.strideHeight,h=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,y=u.effectiveFilterHeight,v=u.effectiveFilterWidth,b=v-1-u.padInfo.left,x=y-1-u.padInfo.top,w=LD(a.shape,"float32"),k=1/(p*f),S=n.data.get(o.dataId).values,C=LD(o.shape,"float32",S);for(let E=0;E<u.batchSize;++E)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const r=t-x,o=n-b;let i=0;for(let t=0;t<y;t+=m){const n=(r+t)/d;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<v;t+=g){const r=(o+t)/h;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;i+=C.get(E,n,r,e)}}w.set(i*k,E,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const g8={kernelName:SO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,scale:i,offset:a,mean:s,variance:c}=t;vI(s.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),vI(null==a||s.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),vI(null==i||s.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),J3([o,s,c,i,a],"batchNorm");let{varianceEpsilon:l}=r;null==l&&(l=.001);const u=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,h=n.data.get(c.dataId).values,p=i?n.data.get(i.dataId).values:new Float32Array([1]),f=a?n.data.get(a.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,y=p.length,v=h.length,b=d.length;let x=0,w=0,k=0,S=0;for(let C=0;C<u.length;++C)m[C]=f[x++]+(u[C]-d[w++])*p[k++]/Math.sqrt(h[S++]+l),x>=g&&(x=0),w>=b&&(w=0),k>=y&&(k=0),S>=v&&(S=0);return n.makeTensorInfo(o.shape,o.dtype,m)}};const y8={kernelName:OA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:a}=r;J3([o],"batchToSpaceND");const s=i.reduce(((e,t)=>e*t)),c=yH(o.shape,i,s),l=vH(c.length,i.length),u=bH(o.shape,i,s),d=xH(a,i.length),h=wH(u,a,i.length),p=F6({inputs:{x:o},backend:n,attrs:{shape:c}}),f=_5({inputs:{x:p},backend:n,attrs:{perm:l}}),m=F6({inputs:{x:f},backend:n,attrs:{shape:u}}),g=J5({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};const v8={kernelName:RA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a}=r,s=v4(n.data.get(o.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,s)}};const b8={kernelName:PA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,s=vL(Array.from(i),Array.from(a));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},x8=C4(FA,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),w8={kernelName:FA,backendName:"cpu",kernelFunc:x8},k8={kernelName:zA,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(wI(t.shape)),o=n.data.get(t.dataId),i=o.complexTensorInfos.real,a=o.complexTensorInfos.imag,s=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values;for(let l=0;l<s.length;l++){const e=s[l],t=c[l];r[l]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function S8(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}const C8={kernelName:AO,backendName:"cpu",kernelFunc:S8};function E8(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=RI(o,t[0].shape)[0];sH(t.map((e=>e.shape)),i);let a=cH(t.map((e=>e.shape)),i);if(0===wI(a))return n.makeTensorInfo(a,t[0].dtype,[]);const s=t.filter((e=>wI(e.shape)>0));if(1===s.length)return i4({inputs:{x:s[0]},backend:n});if("complex64"===s[0].dtype){const e=s.map((e=>s4({inputs:{input:e},backend:n}))),t=s.map((e=>S8({inputs:{input:e},backend:n}))),r=E8({inputs:e,backend:n,attrs:{axis:i}}),o=E8({inputs:t,backend:n,attrs:{axis:i}}),a=n4({inputs:{real:r,imag:o},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),a}const c=s.map((e=>{const t=wI(e.shape.slice(i));return F6({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),l=c.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));a=cH(c.map((e=>e.shape)),1);const u=1===c[0].shape[0],d=I4(l,a,t[0].dtype,u),h=cH(s.map((e=>e.shape)),i),p=n.makeTensorInfo(h,t[0].dtype,d);return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const _8={kernelName:UA,backendName:"cpu",kernelFunc:E8};function T8(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:c,dilations:l,dimRoundingMode:u}=r;J3([o,i],"conv2d");const d=vB(c),h=cB(o.shape,i.shape,a,l,s,u,!1,d),p=h.filterHeight,f=h.filterWidth,m=h.dilationHeight,g=h.dilationWidth,y=h.padInfo.left,v=h.padInfo.top,b="channelsLast"===h.dataFormat,x=new Sj(h.outShape,o.dtype),w=qI(o.shape),k=qI(i.shape),S=w[0],C=b?w[1]:w[2],E=b?w[2]:1,_=b?1:w[1],T=x.strides[0],N=b?x.strides[1]:x.strides[2],I=b?x.strides[2]:1,A=b?1:x.strides[1],O=n.data.get(o.dataId).values,R=n.data.get(i.dataId).values,M=x.values;for(let j=0;j<h.batchSize;++j){const e=j*S,t=j*T;for(let n=0;n<h.outHeight;++n){const r=t+n*N,o=n*h.strideHeight-v;for(let t=0;t<p;++t){const n=o+t*m;if(n<0||n>=h.inHeight)continue;const i=t*k[0],a=e+n*C;for(let e=0;e<h.outWidth;++e){const t=r+e*I,n=e*h.strideWidth-y;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=h.inWidth)continue;const o=a+r*E;let s=i+e*k[1];for(let e=0;e<h.inChannels;++e){const n=O[o+e*_];for(let e=0;e<h.outChannels;++e)M[t+e*A]+=n*R[s+e];s+=h.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,M)}const N8={kernelName:VA,backendName:"cpu",kernelFunc:T8};const I8={kernelName:WA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,dataFormat:c,dimRoundingMode:l,filterShape:u}=r;J3([o,i],"conv2dBackpropFilter");const d=vB(c),h=cB(o.shape,u,a,1,s,l,!1,d),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=h,y="channelsLast"===h.dataFormat,v=new Sj(h.filterShape,"float32"),b=h.padInfo.left,x=h.padInfo.top,w=n.data.get(o.dataId).values,k=n.data.get(i.dataId).values,S=new Sj(o.shape,o.dtype,w),C=new Sj(i.shape,i.dtype,k);for(let E=0;E<m;++E){const e=Math.max(0,Math.ceil((x-E)/p)),t=Math.min(h.outHeight,(h.inHeight+x-E)/p);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((b-n)/f)),o=Math.min(h.outWidth,(h.inWidth+b-n)/f);for(let i=0;i<h.inChannels;++i)for(let a=0;a<h.outChannels;++a){let s=0;for(let c=0;c<h.batchSize;++c)for(let l=e;l<t;++l){const e=E+l*p-x;for(let t=r;t<o;++t){const r=n+t*f-b;s+=y?S.get(c,e,r,i)*C.get(c,l,t,a):S.get(c,i,e,r)*C.get(c,a,l,t)}}v.set(s,E,n,i,a)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const A8={kernelName:HA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:a,strides:s,pad:c,dataFormat:l,dimRoundingMode:u}=r;J3([o,i],"conv2dBackpropInput");const d=qI(i.shape),h=qI(o.shape);let p=vB(l);const f=cB(a,i.shape,s,1,c,u,!1,p),m=new Sj(f.inShape,"float32"),g=m.values,y=n.data.get(o.dataId).values,v=n.data.get(i.dataId).values,[b,x,w]=d,{batchSize:k,filterHeight:S,filterWidth:C,inChannels:E,inHeight:_,inWidth:T,outChannels:N,outHeight:I,outWidth:A,strideHeight:O,strideWidth:R}=f;p=f.dataFormat;const M=S-1-f.padInfo.top,j=C-1-f.padInfo.left,P="channelsLast"===p,D=m.strides[0],L=P?m.strides[1]:m.strides[2],F=P?m.strides[2]:1,B=P?1:m.strides[1],z=h[0],U=P?h[1]:h[2],V=P?h[2]:1,W=P?1:h[1];for(let H=0;H<k;++H)for(let e=0;e<E;++e)for(let t=0;t<_;++t){const n=t-M,r=Math.max(0,Math.ceil(n/O)),o=Math.min(I,(S+n)/O);for(let i=0;i<T;++i){const a=i-j,s=Math.max(0,Math.ceil(a/R)),c=Math.min(A,(C+a)/R);let l=0;for(let t=r;t<o;++t){const r=t*O-n;for(let n=s;n<c;++n){const o=z*H+U*t+V*n,i=b*(S-1-r)+x*(C-1-(n*R-a))+w*e;for(let e=0;e<N;++e){l+=y[o+W*e]*v[i+e]}}}g[D*H+L*t+F*i+B*e]=l}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const O8={kernelName:GA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:c}=r;J3([o,i],"conv3d");const l=lB(o.shape,i.shape,a,c,s),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=l,y=g.front,v=g.left,b=g.top,x=new Sj(l.outShape,o.dtype),w=n.data.get(o.dataId).values,k=n.data.get(i.dataId).values,S=x.values,C=qI(o.shape),E=qI(i.shape);for(let _=0;_<l.batchSize;++_){const e=_*C[0],t=_*x.strides[0];for(let n=0;n<l.outDepth;++n){const r=t+n*x.strides[1],o=n*l.strideDepth-y;for(let t=0;t<u;++t){const n=o+t*p;if(n<0||n>=l.inDepth)continue;const i=t*E[0],a=e+n*C[1];for(let e=0;e<l.outHeight;++e){const t=r+e*x.strides[2],n=e*l.strideHeight-b;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=l.inHeight)continue;const o=i+e*E[1],s=a+r*C[2];for(let e=0;e<l.outWidth;++e){const n=t+e*l.outChannels,r=e*l.strideWidth-v;for(let e=0;e<h;++e){const t=r+e*m;if(t<0||t>=l.inWidth)continue;const i=o+e*E[2],a=s+t*l.inChannels;let c=i;for(let e=0;e<l.inChannels;++e){const t=w[a+e];for(let e=0;e<l.outChannels;++e)S[n+e]+=t*k[c+e];c+=l.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const R8={kernelName:KA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,filterShape:c}=r;J3([o,i],"conv3dBackpropFilterV2");const l=qI(o.shape),u=qI(i.shape),d=lB(o.shape,c,a,1,s),h=d.strideDepth,p=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,v=new Sj(d.filterShape,"float32"),b=v.values,[x,w,k,S]=v.strides,C=n.data.get(i.dataId).values,[E,_,T,N]=u,I=n.data.get(o.dataId).values,[A,O,R,M]=l,j=d.padInfo.front,P=d.padInfo.left,D=d.padInfo.top;for(let L=0;L<m;++L){const e=Math.max(0,Math.ceil((j-L)/h)),t=Math.min(d.outDepth,(d.inDepth+j-L)/h),n=L*x;for(let r=0;r<g;++r){const o=Math.max(0,Math.ceil((D-r)/p)),i=Math.min(d.outHeight,(d.inHeight+D-r)/p),a=r*w+n;for(let n=0;n<y;++n){const s=Math.max(0,Math.ceil((P-n)/f)),c=Math.min(d.outWidth,(d.inWidth+P-n)/f),l=n*k+a;for(let a=0;a<d.inChannels;++a){const u=a*S+l;for(let l=0;l<d.outChannels;++l){let m=0;for(let u=0;u<d.batchSize;++u){const d=u*A,g=u*E;for(let u=e;u<t;++u){const e=(L+u*h-j)*O+d,t=u*_+g;for(let u=o;u<i;++u){const o=(r+u*p-D)*R+e,i=u*T+t;for(let e=s;e<c;++e){const t=e*N+i;m+=I[(n+e*f-P)*M+o+a]*C[t+l]}}}}b[u+l]=m}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const M8={kernelName:qA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:a,strides:s,inputShape:c}=r;J3([o],"conv3dBackpropInputV2");const l=qI(o.shape),u=qI(i.shape),d=lB(c,i.shape,s,1,a),h=new Sj(d.inShape,"float32"),p=h.values,[f,m,g,y]=h.strides,v=n.data.get(o.dataId).values,[b,x,w,k]=l,S=n.data.get(i.dataId).values,[C,E,_,T]=u,{batchSize:N,filterDepth:I,filterHeight:A,filterWidth:O,inChannels:R,inDepth:M,inHeight:j,inWidth:P,outChannels:D,outDepth:L,outHeight:F,outWidth:B,strideDepth:z,strideHeight:U,strideWidth:V}=d,W=I-1-d.padInfo.front,H=A-1-d.padInfo.top,G=O-1-d.padInfo.left;for(let K=0;K<N;++K)for(let e=0;e<R;++e)for(let t=0;t<M;++t){const n=t-W,r=Math.max(0,Math.ceil(n/z)),o=Math.min(L,(I+n)/z);for(let i=0;i<j;++i){const a=i-H,s=Math.max(0,Math.ceil(a/U)),c=Math.min(F,(A+a)/U);for(let l=0;l<P;++l){const u=l-G,d=Math.max(0,Math.ceil(u/V)),h=Math.min(B,(O+u)/V);let N=0;for(let t=r;t<o;++t){const r=t*z-n;for(let n=s;n<c;++n){const o=n*U-a;for(let i=d;i<h;++i){const a=b*K+x*t+w*n+k*i,s=C*(I-1-r)+E*(A-1-o)+_*(O-1-(i*V-u))+T*e;for(let e=0;e<D;++e){N+=v[a+e]*S[s+e]}}}}p[f*K+m*t+g*i+y*l+e]=N}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},j8=C4(YA,(e=>Math.cos(e))),P8={kernelName:YA,backendName:"cpu",kernelFunc:j8},D8=C4(XA,(e=>Math.cosh(e))),L8={kernelName:XA,backendName:"cpu",kernelFunc:D8};const F8={kernelName:ZA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:a}=t,{cropSize:s,method:c,extrapolationValue:l}=r,[u,d,h,p]=o.shape,f=i.shape[0],[m,g]=s,y=LD([f,m,g,p],"float32"),v=n.data.get(i.dataId).values,b=n.data.get(a.dataId).values,x=n.data.get(o.dataId).values,w=qI(o.shape),k=qI(y.shape);for(let S=0;S<f;S++){const e=4*S,t=v[e],n=v[e+1],r=v[e+2],o=v[e+3],i=b[S];if(i>=u)continue;const a=m>1?(r-t)*(d-1)/(m-1):0,s=g>1?(o-n)*(h-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(d-1)+u*a:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<p;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=l}else if("bilinear"===c){const t=Math.floor(e),r=Math.ceil(e),a=e-t;for(let e=0;e<g;e++){const c=g>1?n*(h-1)+e*s:.5*(n+o)*(h-1);if(c<0||c>h-1){for(let t=0;t<p;t++){const n=t+e*k[2]+u*k[1]+S*k[0];y.values[n]=l}continue}const d=Math.floor(c),f=Math.ceil(c),m=c-d;for(let n=0;n<p;n++){let o=n+d*w[2]+t*w[1]+i*w[0];const s=x[o];o=n+f*w[2]+t*w[1]+i*w[0];const c=x[o];o=n+d*w[2]+r*w[1]+i*w[0];const l=x[o];o=n+f*w[2]+r*w[1]+i*w[0];const h=s+(c-s)*m,p=l+(x[o]-l)*m;o=n+e*k[2]+u*k[1]+S*k[0],y.values[o]=h+(p-h)*a}}}else for(let t=0;t<g;++t){const r=g>1?n*(h-1)+t*s:.5*(n+o)*(h-1);if(r<0||r>h-1){for(let e=0;e<p;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=l}continue}const a=Math.round(r),c=Math.round(e);for(let e=0;e<p;e++){const n=e+a*w[2]+c*w[1]+i*w[0],r=e+t*k[2]+u*k[1]+S*k[0];y.values[r]=x[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const B8={kernelName:JA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;J3(o,"cumprod");const c=vz([i],o.shape.length);let l=o;null!=c&&(l=_5({inputs:{x:o},backend:n,attrs:{perm:c}}));const u=xz(1,o.shape.length)[0];if(u!==l.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(u));const d=Dj(l.dtype,"int32"),h=$I(wI(l.shape),d),p=n.data.get(l.dataId).values,f=l.shape[l.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<p.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)h[t]=a?1:p[t];else{const n=m(y,e-1);h[t]=a?p[n]*h[n]:p[t]*h[n]}}const g=n.makeTensorInfo(l.shape,d,h);if(null!=c){const e=_5({inputs:{x:g},backend:n,attrs:{perm:bz(c)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(l),e}return g}};const z8={kernelName:$A,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;J3(o,"cumsum");const c=vz([i],o.shape.length);let l=o;null!=c&&(l=_5({inputs:{x:o},backend:n,attrs:{perm:c}}));const u=xz(1,o.shape.length)[0];if(u!==l.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(l.shape.length-1," but got axis=").concat(u));const d=Dj(l.dtype,"int32"),h=ZI(wI(l.shape),d),p=n.data.get(l.dataId).values,f=l.shape[l.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<p.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)h[t]=a?0:p[t];else{const n=m(y,e-1);h[t]=a?p[n]+h[n]:p[t]+h[n]}}const g=n.makeTensorInfo(l.shape,d,h);if(null!=c){const e=_5({inputs:{x:g},backend:n,attrs:{perm:bz(c)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(l),e}return g}};const U8={kernelName:QA,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a,binaryOutput:s}=r;if(1===o.shape.length){const e=v4(n.data.get(o.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,e)}if(2===o.shape.length){const e=b4(n.bufferSync(o),n.bufferSync(i),a,s);return n.makeTensorInfo(e.shape,i.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(o.shape.length,"."))}};const V8={kernelName:eO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:a}=r;vI("NHWC"===a,(()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(a)));const s=o.shape[0],c=o.shape[1],l=o.shape[2],u=o.shape[3],d=c*i,h=l*i,p=u/(i*i),f=n.data.get(o.dataId).values,m=new Float32Array(s*d*h*p);let g=0;for(let y=0;y<s;++y)for(let e=0;e<d;++e){const t=Math.floor(e/i),n=e%i;for(let e=0;e<h;++e){const r=Math.floor(e/i),o=(n*i+e%i)*p;for(let e=0;e<p;++e){const n=e+o+u*(r+l*(t+c*y));m[g++]=f[n]}}}return n.makeTensorInfo([s,d,h,p],o.dtype,m)}};function W8(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:c,dimRoundingMode:l}=r;J3([o,i],"depthwiseConv2DNative");const u=qI(o.shape),d=qI(i.shape);let h=c;null==h&&(h=[1,1]),vI(gB(a,h),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(a," and dilations '").concat(h,"'")));const p=cB(o.shape,i.shape,a,h,s,l,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:v}=p,b=v.left,x=v.top,w=p.outChannels/p.inChannels,k=new Sj(p.outShape,o.dtype),S=n.data.get(o.dataId).values,C=n.data.get(i.dataId).values,E=k.values;for(let _=0;_<p.batchSize;++_){const e=_*u[0],t=_*k.strides[0];for(let n=0;n<p.outHeight;++n){const r=t+n*k.strides[1],o=n*p.strideHeight-x;for(let t=0;t<f;++t){const n=o+t*g;if(n<0||n>=p.inHeight)continue;const i=t*d[0],a=e+n*u[1];for(let e=0;e<p.outWidth;++e){const t=r+e*k.strides[2],n=e*p.strideWidth-b;for(let e=0;e<m;++e){const r=n+e*y;if(r<0||r>=p.inWidth)continue;const o=i+e*d[1],s=a+r*p.inChannels;let c=t,l=o;for(let e=0;e<p.inChannels;++e){const t=S[s+e];for(let e=0;e<w;++e)E[c+e]+=t*C[l+e];c+=w,l+=w}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const H8={kernelName:tO,backendName:"cpu",kernelFunc:W8};const G8={kernelName:nO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,dilations:s,pad:c,dimRoundingMode:l,filterShape:u}=r;J3([o,i],"depthwiseConv2dNativeBackpropFilter");const d=cB(o.shape,u,a,s,c,l,!0),{strideHeight:h,strideWidth:p,filterHeight:f,filterWidth:m}=d,g=new Sj(d.filterShape,"float32"),y=d.padInfo.left,v=d.padInfo.top,b=d.outChannels/d.inChannels,x=n.data.get(o.dataId).values,w=new Sj(o.shape,o.dtype,x),k=n.data.get(i.dataId).values,S=new Sj(i.shape,i.dtype,k);for(let C=0;C<f;++C){const e=Math.max(0,Math.ceil((v-C)/h)),t=Math.min(d.outHeight,(d.inHeight+v-C)/h);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((y-n)/p)),o=Math.min(d.outWidth,(d.inWidth+y-n)/p);for(let i=0;i<d.outChannels;++i){const a=Math.trunc(i/b),s=i%b;let c=0;for(let l=0;l<d.batchSize;++l)for(let s=e;s<t;++s){const e=C+s*h-v;for(let t=r;t<o;++t){const r=n+t*p-y;c+=w.get(l,e,r,a)*S.get(l,s,t,i)}}g.set(c,C,n,a,s)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const K8={kernelName:rO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,dilations:s,pad:c,dimRoundingMode:l,inputShape:u}=r;J3([o,i],"depthwiseConv2DNativeBackpropInput");const d=qI(o.shape),h=qI(i.shape),p=cB(u,i.shape,a,s,c,l,!0),f=new Sj(p.inShape,"float32"),m=f.values,[g,y,v]=f.strides,b=n.data.get(o.dataId).values,[x,w,k]=d,S=n.data.get(i.dataId).values,[C,E,_]=h,{batchSize:T,filterHeight:N,filterWidth:I,inChannels:A,inHeight:O,inWidth:R,outChannels:M,outHeight:j,outWidth:P,strideHeight:D,strideWidth:L}=p,F=N-1-p.padInfo.top,B=I-1-p.padInfo.left,z=M/A;for(let U=0;U<T;++U)for(let e=0;e<A;++e)for(let t=0;t<O;++t){const n=t-F,r=Math.max(0,Math.ceil(n/D)),o=Math.min(j,(N+n)/D);for(let i=0;i<R;++i){const a=i-B,s=Math.max(0,Math.ceil(a/L)),c=Math.min(P,(I+a)/L);let l=0;for(let t=r;t<o;++t){const r=t*D-n;for(let n=s;n<c;++n){const o=x*U+w*t+k*n,i=C*(N-1-r)+E*(I-1-(n*L-a))+_*e;for(let t=0;t<z;++t){l+=b[o+(e*z+t)]*S[i+t]}}}m[g*U+y*t+v*i+e]=l}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const q8={kernelName:oO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=wI(r.shape),i=n.data.get(r.dataId).values,a=LD([o,o],r.dtype),s=a.values;for(let l=0;l<i.length;l++)s[l*o+l]=i[l];const c=[...r.shape,...r.shape];return n.makeTensorInfo(c,a.dtype,a.values)}},Y8={kernelName:iO,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,filter:i}=t,{strides:a,pad:s,dilations:c}=r,l=n,u=l.data.get(o.dataId).values,d=o.shape.length,h=l.data.get(i.dataId).values,p=i.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:y,outHeight:v,outWidth:b,padInfo:x,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:C,dilationHeight:E,dilationWidth:_,outShape:T}=iB(o.shape,i.shape,a,s,"NHWC",c),N=wI(T),I=T.length,A=PI(o.dtype,N);for(let O=0;O<f;++O)for(let e=0;e<v;++e){const t=e*w-x.top;for(let n=0;n<b;++n){const r=n*k-x.left;for(let a=0;a<y;++a){let s=Number.MIN_SAFE_INTEGER;for(let e=0;e<S;++e){const n=t+e*E;if(n>=0&&n<m)for(let t=0;t<C;++t){const c=r+t*_;if(c>=0&&c<g){const r=tA([O,n,c,a],d,qI(o.shape)),l=tA([e,t,a],p,qI(i.shape)),f=u[r]+h[l];f>s&&(s=f)}}}A[tA([O,e,n,a],I,qI(T))]=s}}}return{dataId:l.write(ij(A,o.dtype),T,o.dtype),shape:T,dtype:o.dtype}}},X8={kernelName:sO,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,filter:i,dy:a}=t,{strides:s,pad:c,dilations:l}=r,u=n,d=XI(o.shape,u.data.get(o.dataId).values),h=XI(i.shape,u.data.get(i.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:C,dilationWidth:E,outShape:_}=iB(o.shape,i.shape,s,c,"NHWC",l);vI(a.rank===_.length,(()=>"Error in ".concat(sO,", dy ")+"must have the same rank as output ".concat(_.length,", but got ")+"".concat(a.rank)));const T=XI(_,u.data.get(a.dataId).values),N=QI(i.shape,i.dtype);for(let I=0;I<p;++I)for(let e=0;e<y;++e){const t=e*x-b.top;for(let n=0;n<v;++n){const r=n*w-b.left;for(let o=0;o<g;++o){let i=Number.MIN_SAFE_INTEGER,a=0,s=0;for(let e=0;e<k;++e){const n=t+e*C;if(n>=0&&n<f)for(let t=0;t<S;++t){const c=r+t*E;if(c>=0&&c<m){const r=d[I][n][c][o]+h[e][t][o];r>i&&(i=r,a=e,s=t)}}}N[a][s][o]+=T[I][e][n][o]}}}return{dataId:u.write(ij(N,o.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},J8={kernelName:aO,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,filter:i,dy:a}=t,{strides:s,pad:c,dilations:l}=r,u=n,d=XI(o.shape,u.data.get(o.dataId).values),h=XI(i.shape,u.data.get(i.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:C,dilationWidth:E,outShape:_}=iB(o.shape,i.shape,s,c,"NHWC",l);vI(a.rank===_.length,(()=>"Error in ".concat(aO,", dy ")+"must have the same rank as output ".concat(_.length,", but got ")+"".concat(a.rank)));const T=XI(_,u.data.get(a.dataId).values),N=QI(o.shape,o.dtype);for(let I=0;I<p;++I)for(let e=0;e<y;++e){const t=e*x-b.top;for(let n=0;n<v;++n){const r=n*w-b.left;for(let o=0;o<g;++o){let i=Number.MIN_SAFE_INTEGER,a=t<0?0:t,s=r<0?0:r;for(let e=0;e<k;++e){const n=t+e*C;if(n>=0&&n<f)for(let t=0;t<S;++t){const c=r+t*E;if(c>=0&&c<m){const r=d[I][n][c][o]+h[e][t][o];r>i&&(i=r,a=n,s=c)}}}N[I][a][s][o]+=T[I][e][n][o]}}}return{dataId:u.write(ij(N,o.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};const $8={kernelName:cO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o}=t,{canvas:i,options:a}=r,{contextOptions:s,imageOptions:c}=a||{},l=(null===c||void 0===c?void 0:c.alpha)||1,u=(null===s||void 0===s?void 0:s.contextType)||"2d";if("2d"!==u)throw new Error("Context type ".concat(s.contextType," is not supported by the CPU backend."));const d=i.getContext(u,(null===s||void 0===s?void 0:s.contextAttributes)||{});if(null==d)throw new Error("Could not get the context with ".concat(u," type."));const[h,p]=o.shape.slice(0,2),f=2===o.shape.length?1:o.shape[2],m=n.data.get(o.dataId).values,g="float32"===o.dtype?255:1,y=new Uint8ClampedArray(p*h*4);for(let b=0;b<h*p;++b){const e=[0,0,0,255*l];for(let n=0;n<f;n++){const t=m[b*f+n];if("float32"===o.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===o.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*b;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}i.width=p,i.height=h;const v=new ImageData(y,p,h);return d.putImageData(v,0,0),o}};function Z8(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;let s;J3(o,"sum"),s="bool"===o.dtype?u4({inputs:{x:o},backend:n,attrs:{dtype:"int32"}}):i4({inputs:{x:o},backend:n});const c=s.shape.length,l=RI(i,s.shape),u=vz(l,c);let d=l,h=s;null!=u&&(h=_5({inputs:{x:s},backend:n,attrs:{perm:u}}),d=xz(d.length,c)),yz("sum",d,h.shape.length);const[p,f]=mz(h.shape,d);let m=o4(n,p,Dj(h.dtype,"int32"));const g=wI(f),y=n.data.get(m.dataId).values,v=n.data.get(h.dataId).values;for(let b=0;b<y.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=v[e+n];y[b]=t}if(a){const e=m;m=F6({inputs:{x:m},backend:n,attrs:{shape:gz(m.shape,l)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=u&&n.disposeIntermediateTensorInfo(h),m}const Q8={kernelName:JR,backendName:"cpu",kernelFunc:Z8};const e9={kernelName:uO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:a,summedDims:s,idDims:c}=VH(o,i.length);HH(a.length,c,i);const{path:l,steps:u}=GH(s,c),d=u.length;let h=null,p=a.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=WH(p,c[e]);let o;KH(t)?o=i[e]:(o=_5({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(o));const a=o.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);CI(o.shape,a)||(o=F6({inputs:{x:o},backend:n,attrs:{shape:a}}),f.push(o)),null===h?h=o:(h=v5({inputs:{a:o,b:h},backend:n}),f.push(h))}m<d-1&&(l[m]>=0&&(h=Z8({inputs:{x:h},backend:n,attrs:{axis:l[m]-(a.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}};const t9={kernelName:hO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:o}=t;J3([r,o],"eluGrad");const i=new Float32Array(wI(o.shape)),a=n.data.get(o.dataId).values,s=n.data.get(r.dataId).values;for(let c=0;c<a.length;++c){const e=a[c];i[c]=e>=0?s[c]:s[c]*(e+1)}return n.makeTensorInfo(o.shape,"float32",i)}},n9=CH,r9=EH,o9=_H,i9=TH,a9=NH,s9=IH,c9=C4(pO,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+n9*n);return t*(1-((((s9*r+a9)*r+i9)*r+o9)*r+r9)*r*Math.exp(-n*n))})),l9={kernelName:pO,backendName:"cpu",kernelFunc:c9};function u9(e){const{inputs:t,backend:n,attrs:r}=e,{input:o}=t,{dim:i}=r,a=o.shape.length,s=o.shape.slice();let c=i;return i<0&&(vI(-(a+1)<=i,(()=>"Axis must be in the interval [".concat(-(a+1),", ").concat(a,"]"))),c=a+i+1),s.splice(c,0,1),F6({inputs:{x:o},backend:n,attrs:{shape:s}})}const d9={kernelName:gO,backendName:"cpu",kernelFunc:u9},h9=t4(((e,t)=>e/t)),p9=h4(lO,h9),f9={kernelName:lO,backendName:"cpu",kernelFunc:p9};function m9(e,t,n){const r=e.shape,o=r[0],i=r[1],a=n.data.get(e.dataId),s=a.complexTensorInfos.real,c=a.complexTensorInfos.imag,l=[o,i],u=wI(l),d=jI("float32",u),h=jI("float32",u);for(let g=0;g<o;g++){const e=J5({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,i]}}),r=J5({inputs:{x:c},backend:n,attrs:{begin:[g,0],size:[1,i]}}),o=n4({inputs:{real:e,imag:r},backend:n}),{real:a,imag:l}=g9(o,t,n),u=AH(a,l);for(let t=0;t<i;t++){const e=jH(u,t);d[g*i+t]=e.real,h[g*i+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o)}const p=n.makeTensorInfo(l,"float32",d),f=n.makeTensorInfo(l,"float32",h),m=n4({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function g9(e,t,n){const r=wI(e.shape),o=n.data.get(e.dataId),i=n.data.get(o.complexTensorInfos.real.dataId).values,a=n.data.get(o.complexTensorInfos.imag.dataId).values;if(function(e){return 0===(e&e-1)}(r)){const o=y9(i,a,r,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",o.real),t=n.makeTensorInfo(s,"float32",o.imag),i=n.makeTensorInfo([],"float32",oj(r,"float32")),a=i4({inputs:{x:i},backend:n}),c=f9.kernelFunc({inputs:{a:e,b:i},backend:n}),l=f9.kernelFunc({inputs:{a:t,b:a},backend:n}),u=n.data.get(c.dataId).values,d=n.data.get(l.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(l),{real:u,imag:d}}return o}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let o=0;o<t;o++){let i=0,a=0;for(let r=0;r<t;r++){const s=LH(o*r,t,n),c=jH(e,r);i+=c.real*s.real-c.imag*s.imag,a+=c.real*s.imag+c.imag*s.real}n&&(i/=t,a/=t),PH(r,i,a,o)}return r}(AH(i,a),r,t);return OH(e)}}function y9(e,t,n,r,o){if(1===n)return{real:e,imag:t};const i=AH(e,t),a=n/2,s=RH(i),c=s.real,l=s.imag,u=[c.length],d=o.makeTensorInfo(u,"float32",c),h=o.makeTensorInfo(u,"float32",l),p=n4({inputs:{real:d,imag:h},backend:o}),f=MH(i),m=f.real,g=f.imag,y=[m.length],v=o.makeTensorInfo(y,"float32",m),b=o.makeTensorInfo(y,"float32",g),x=n4({inputs:{real:v,imag:b},backend:o}),w=y9(c,l,a,r,o),k=w.real,S=w.imag,C=[k.length],E=o.makeTensorInfo(C,"float32",k),_=o.makeTensorInfo(C,"float32",S),T=n4({inputs:{real:E,imag:_},backend:o}),N=y9(m,g,a,r,o),I=N.real,A=N.imag,O=[I.length],R=o.makeTensorInfo(O,"float32",I),M=o.makeTensorInfo(O,"float32",A),j=n4({inputs:{real:R,imag:M},backend:o}),P=DH(n,r),D=[P.real.length],L=o.makeTensorInfo(D,"float32",P.real),F=o.makeTensorInfo(D,"float32",P.imag),B=n4({inputs:{real:L,imag:F},backend:o}),z=v5({inputs:{a:B,b:j},backend:o}),U=g4({inputs:{a:T,b:z},backend:o}),V=v6({inputs:{a:T,b:z},backend:o}),W=s4({inputs:{input:U},backend:o}),H=s4({inputs:{input:V},backend:o}),G=S8({inputs:{input:U},backend:o}),K=S8({inputs:{input:V},backend:o}),q=E8({inputs:[W,H],backend:o,attrs:{axis:0}}),Y=E8({inputs:[G,K],backend:o,attrs:{axis:0}}),X=o.data.get(q.dataId).values,J=o.data.get(Y.dataId).values;return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(p),o.disposeIntermediateTensorInfo(v),o.disposeIntermediateTensorInfo(b),o.disposeIntermediateTensorInfo(x),o.disposeIntermediateTensorInfo(E),o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(T),o.disposeIntermediateTensorInfo(R),o.disposeIntermediateTensorInfo(M),o.disposeIntermediateTensorInfo(j),o.disposeIntermediateTensorInfo(L),o.disposeIntermediateTensorInfo(F),o.disposeIntermediateTensorInfo(B),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(U),o.disposeIntermediateTensorInfo(V),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(G),o.disposeIntermediateTensorInfo(H),o.disposeIntermediateTensorInfo(K),o.disposeIntermediateTensorInfo(q),o.disposeIntermediateTensorInfo(Y),{real:X,imag:J}}const v9={kernelName:vO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,o=wI(r.shape),i=r.shape[r.shape.length-1],a=F6({inputs:{x:r},backend:n,attrs:{shape:[o/i,i]}}),s=m9(a,!1,n),c=F6({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),c}};function b9(e){const{backend:t,attrs:n}=e,{shape:r,value:o,dtype:i}=n,a=i||HI(o),s=PI(a,wI(r));return function(e,t){e.fill(t)}(s,o),t.makeTensorInfo(r,a,s)}const x9={kernelName:bO,backendName:"cpu",kernelFunc:b9};const w9={kernelName:xO,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,i=r,a=jI(o.dtype,wI(o.shape)),[s,c,l,u]=o.shape,d=i.data.get(o.dataId).values;for(let h=0;h<s;h++){const e=h*l*c*u;for(let t=0;t<c;t++){const n=t*(l*u);for(let t=0;t<l;t++){const r=t*u;for(let o=0;o<u;o++){const i=Math.round(l-t-1),s=e+n+r+o;let c=d[s];if(i>=0&&i<l){c=d[e+n+i*u+o]}a[s]=c}}}}return{dataId:i.write(a,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};const k9={kernelName:NM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=r;let m=T8({inputs:{x:o,filter:i},backend:n,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h}});if(a){const e=m;if("NCHW"===u&&1===a.shape.length&&1!==a.shape[0]){const e=F6({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=g4({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=g4({inputs:{a:m,b:a},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===u&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){const e=F6({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=L6(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=L6(n,m,p,s,f);n.disposeIntermediateTensorInfo(e)}return m}};const S9={kernelName:IM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=r;let m=W8({inputs:{x:o,filter:i},backend:n,attrs:{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h}});if(a){const e=m;m=g4({inputs:{a:m,b:a},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=L6(n,m,p,s,f),n.disposeIntermediateTensorInfo(e)}return m}};const C9={kernelName:EO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=wI(r.shape),a=o.shape,s=a[a.length-1],[c,l,u,d]=cF(r,o);if(0===l)return n.makeTensorInfo(c,r.dtype,[]);const h=G4(n.data.get(o.dataId).values,n.bufferSync(r),r.dtype,l,s,u,d,r.shape,i);return n.makeTensorInfo(c,r.dtype,h.values)}};const E9={kernelName:CO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:a,batchDims:s}=r;J3([o,i],"gatherV2");const c=RI(a,o.shape)[0],l=n.data.get(i.dataId).values,u=o.shape[c];for(let b=0;b<l.length;++b){const e=l[b];vI(e<=u-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(u-1,"]")))}let d=s;null==s&&(d=0);const h=wI(i.shape),p=lG(o,i,c,d),f=F6({inputs:{x:o},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=F6({inputs:{x:i},backend:n,attrs:{shape:[p.batchSize,h/p.batchSize]}}),g=[p.batchSize,p.outerSize,h/p.batchSize,p.sliceSize],y=n.bufferSync(m),v=K4(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,v.dtype,v.values)}};const _9={kernelName:IO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,o=wI(r.shape),i=r.shape[r.shape.length-1],a=F6({inputs:{x:r},backend:n,attrs:{shape:[o/i,i]}}),s=m9(a,!0,n),c=F6({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),c}},T9=C4(OO,(e=>Number.isFinite(e)?1:0),"bool"),N9={kernelName:OO,backendName:"cpu",kernelFunc:T9},I9=C4(RO,(e=>Math.abs(e)===1/0?1:0),"bool"),A9={kernelName:RO,backendName:"cpu",kernelFunc:I9},O9=C4(MO,(e=>Number.isNaN(e)?1:0),"bool"),R9={kernelName:MO,backendName:"cpu",kernelFunc:O9};const M9={kernelName:LO,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,a=i5(r,o,i);return t.makeTensorInfo([a.length],"float32",a)}},j9=C4(BO,(e=>Math.log1p(e))),P9={kernelName:BO,backendName:"cpu",kernelFunc:j9},D9=t4(((e,t)=>e&&t)),L9=h4(zO,D9,null,"bool"),F9={kernelName:zO,backendName:"cpu",kernelFunc:L9},B9=C4(UO,(e=>e?0:1),"bool"),z9={kernelName:UO,backendName:"cpu",kernelFunc:B9},U9=t4(((e,t)=>e||t)),V9=h4(VO,U9,null,"bool"),W9={kernelName:VO,backendName:"cpu",kernelFunc:V9};const H9={kernelName:KO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:a,alpha:s,beta:c}=r;J3(o,"LRN");const l=o.shape[3],u=l-1,d=n.data.get(o.dataId).values,h=wI(o.shape),p=new Float32Array(h);function f(e){const t=e%l;let n=e-t+Math.max(0,t-i);const r=e-t+Math.min(t+i,u);let o=0;for(;n<=r;n++){const e=d[n];o+=e*e}return o}for(let m=0;m<h;m++){const e=f(m),t=d[m]*Math.pow(a+s*e,-c);p[m]=t}return n.makeTensorInfo(o.shape,o.dtype,p)}};const G9={kernelName:qO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:a}=t,{depthRadius:s,bias:c,alpha:l,beta:u}=r;J3(a,"LRNGrad");const d=wI(a.shape),h=a.shape[3],p=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(d),y=d;for(let v=0;v<y;v++){const e=v%h,t=v-e+Math.max(0,e-s),n=v-e+Math.min(h,e+s+1);let r=0;for(let o=t;o<n;o++)r+=Math.pow(f[o],2);r=l*r+c;for(let o=t;o<n;o++){let e=-2*l*u*f[o]*m[v]/r;v===o&&(e+=Math.pow(r,-u)),e*=p[v],g[o]+=e}}return n.makeTensorInfo(a.shape,o.dtype,g)}};function K9(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:a}=r,s=n;let c=o.shape;const l=c.length,u=RI(i,c);let d=u;const h=vz(d,l);let p=s.data.get(o.dataId).values;if(null!=h){const e=new Array(l);for(let t=0;t<e.length;t++)e[t]=c[h[t]];p=E5(p,c,o.dtype,h,e),d=xz(d.length,l),c=e}J3(o,"max"),yz("max",d,l);const[f,m]=mz(c,d),g=l5(p,wI(m),f,o.dtype),y=s.write(g,f,o.dtype);let v=f;if(a){v=gz(f,u)}return{dataId:y,shape:v,dtype:o.dtype}}const q9={kernelName:XO,backendName:"cpu",kernelFunc:K9};const Y9={kernelName:$O,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;J3(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:c}=r;vI(gB(a,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(1,"'")));const l=aB(o.shape,i,a,1,s,c);let u;if(1===l.filterWidth&&1===l.filterHeight&&CI(l.inShape,l.outShape))u=i4({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=qI(o.shape),r=l8(e,o.shape,o.dtype,t,l,"max");u=n.makeTensorInfo(l.outShape,o.dtype,r.values)}return u}};const X9={kernelName:QO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:c,dataFormat:l}=r;J3(o,"maxPool3d");const u=sB(o.shape,i,a,1,s,c,l),d=d8(n.data.get(o.dataId).values,o.shape,o.dtype,qI(o.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const J9={kernelName:eR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,{filterSize:a,strides:s,pad:c,dimRoundingMode:l}=r;J3([o,i],"maxPool3DGrad");const u=sB(i.shape,a,s,1,c,l),d=function(e,t){const n=LD(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,c=t.dilationWidth,l=t.effectiveFilterDepth,u=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const v=y*r-h;let b=v;for(;b<0;)b+=a;const x=Math.min(t.inDepth,l+v);for(let r=0;r<t.outHeight;++r){const l=r*o-p;let h=l;for(;h<0;)h+=s;const w=Math.min(t.inHeight,u+l);for(let o=0;o<t.outWidth;++o){const p=o*i-f;let k=p;for(;k<0;)k+=c;const S=Math.min(t.inWidth,d+p);let C=Number.NEGATIVE_INFINITY,E=-1;for(let t=b;t<x;t+=a){const n=t-v;for(let r=h;r<w;r+=s){const o=r-l;for(let i=k;i<S;i+=c){const a=i-p,s=e.get(m,t,r,i,g);s>=C&&(C=s,E=n*u*d+o*u+a)}}}n.set(E,m,y,r,o,g)}}}return n}(n.bufferSync(i),u),h=u.strideDepth,p=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,y=u.dilationWidth,v=u.effectiveFilterDepth,b=u.effectiveFilterHeight,x=u.effectiveFilterWidth,w=v-1-u.padInfo.front,k=x-1-u.padInfo.left,S=b-1-u.padInfo.top,C=LD(i.shape,"float32"),E=n.bufferSync(o);for(let _=0;_<u.batchSize;++_)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let r=0;r<u.inWidth;++r){const o=t-w,i=n-S,a=r-k;let s=0;for(let t=0;t<v;t+=m){const n=(o+t)/h;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let r=0;r<b;r+=g){const o=(i+r)/p;if(!(o<0||o>=u.outHeight||Math.floor(o)!==o))for(let i=0;i<x;i+=y){const c=(a+i)/f;if(c<0||c>=u.outWidth||Math.floor(c)!==c)continue;const l=v*b*x-1-d.get(_,n,o,c,e)===t*b*x+r*x+i?1:0;if(0===l)continue;s+=E.get(_,n,o,c,e)*l}}}C.set(s,_,t,n,r,e)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const $9={kernelName:ZO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:a}=t,s=i;J3([i,a],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=r,h=aB(s.shape,c,l,1,u,d),p=n.data.get(s.dataId).values,f=LD(h.outShape,s.dtype,u8(p,s.shape,s.dtype,h).values),m=h.strideHeight,g=h.strideWidth,y=h.dilationHeight,v=h.dilationWidth,b=h.effectiveFilterHeight,x=h.effectiveFilterWidth,w=x-1-h.padInfo.left,k=b-1-h.padInfo.top,S=LD(s.shape,"float32"),C=n.data.get(o.dataId).values,E=LD(o.shape,"float32",C);for(let _=0;_<h.batchSize;++_)for(let e=0;e<h.inChannels;++e)for(let t=0;t<h.inHeight;++t)for(let n=0;n<h.inWidth;++n){const r=t-k,o=n-w;let i=0;for(let t=0;t<b;t+=y){const n=(r+t)/m;if(!(n<0||n>=h.outHeight||Math.floor(n)!==n))for(let r=0;r<x;r+=v){const a=(o+r)/g;if(a<0||a>=h.outWidth||Math.floor(a)!==a)continue;const s=b*x-1-f.get(_,n,a,e)===t*x+r?1:0;if(0===s)continue;i+=E.get(_,n,a,e)*s}}S.set(i,_,t,n,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const Z9={kernelName:tR,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{filterSize:i,strides:a,pad:s,includeBatchInIndex:c}=n,l=r;J3(o,"MaxPoolWithArgmax");const u=l.data.get(o.dataId).values,d=aB(o.shape,i,a,[1,1],s),[h,p]=function(e,t,n,r,o){const i=l8(e,0,n,qI(t),o,"max"),a=u8(e,t,n,o,!0,r);return[i.values,a.values]}(u,o.shape,o.dtype,c,d),f=l.write(h,d.outShape,o.dtype),m=l.write(p,d.outShape,o.dtype);return[{dataId:f,shape:d.outShape,dtype:o.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const Q9={kernelName:nR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=RI(i,o.shape),c=wI(mz(o.shape,s)[1]),l=[],u=n.makeTensorInfo([],"float32",new Float32Array([c]));l.push(u);const d=u4({inputs:{x:o},backend:n,attrs:{dtype:"float32"}});l.push(d);const h=p9({inputs:{a:d,b:u},backend:n});l.push(h);const p=Z8({inputs:{x:h},backend:n,attrs:{axis:i,keepDims:a}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const e7={kernelName:rR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;J3(o,"min");const s=RI(i,o.shape);let c=s;const l=vz(c,o.shape.length);let u=o;null!=l&&(u=_5({inputs:{x:o},backend:n,attrs:{perm:l}}),c=xz(c.length,o.shape.length)),yz("min",c,u.shape.length);const[d,h]=mz(u.shape,c),p=wI(h),f=ZI(wI(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[y]=t}null!=l&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(a){const e=F6({inputs:{x:g},backend:n,attrs:{shape:gz(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const t7={kernelName:iR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,mode:a}=r;J3(o,"mirrorPad");const s=i.map(((e,t)=>e[0]+o.shape[t]+e[1])),c=i.map((e=>e[0])),l=i.map(((e,t)=>e[0]+o.shape[t])),u="reflect"===a?0:1,d=n.data.get(o.dataId).values,h=o.shape.length,p=qI(o.shape),f=wI(s),m=s.length,g=qI(s),y=jI(o.dtype,f);for(let v=0;v<f;v++){let e=nA(v,m,g);for(let n=0;n<m;n++)e[n]<c[n]?e[n]=2*c[n]-e[n]-u:e[n]>=l[n]&&(e[n]=2*(l[n]-1)-e[n]+u);e=e.map(((e,t)=>e-c[t]));const t=tA(e,h,p);y[v]=d[t]}return{dataId:n.write(y,s,o.dtype),shape:s,dtype:o.dtype}}},n7=t4(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),r7=h4(aR,n7),o7={kernelName:aR,backendName:"cpu",kernelFunc:r7};function i7(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,a=o.shape.length;let s=i;if(-1===s&&(s=a-1),s!==a-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(a," and dim was ").concat(s));const c=RI([s],o.shape),l=K9({inputs:{x:o},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),u=gz(l.shape,c),d=F6({inputs:{x:l},backend:n,attrs:{shape:u}}),h=v6({inputs:{a:o,b:d},backend:n}),p=j4({inputs:{x:h},backend:n}),f=Z8({inputs:{x:p},backend:n,attrs:{axis:c,keepDims:!1}}),m=F6({inputs:{x:f},backend:n,attrs:{shape:u}}),g=p9({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const a7={kernelName:QR,backendName:"cpu",kernelFunc:i7};const s7={kernelName:sR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:a,normalized:s}=r;J3(o,"multinomial");const c=s?o:i7({inputs:{logits:o},backend:n,attrs:{dim:-1}}),l=c.shape[0],u=c.shape[1],d=n.data.get(c.dataId).values,h=[l,i],p=ZI(wI(h),"int32");for(let f=0;f<l;++f){const e=f*u,t=new Float32Array(u-1);t[0]=d[e];for(let o=1;o<t.length;++o)t[o]=t[o-1]+d[e+o];const n=RU.alea(a.toString()),r=f*i;for(let o=0;o<i;++o){const e=n();p[r+o]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){p[r+o]=n;break}}}return s||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",p)}},c7=pW;const l7={kernelName:dR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:c}=r;J3(o,"NonMaxSuppression");const l=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,{selectedIndices:d}=c7(l,u,a,s,c);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},u7=fW;const d7={kernelName:hR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:c,padToMaxOutputSize:l}=r;J3(o,"NonMaxSuppressionPadded");const u=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,{selectedIndices:h,validOutputs:p}=u7(u,d,a,s,c,l);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},h7=mW;const p7={kernelName:pR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:c,softNmsSigma:l}=r;J3(o,"NonMaxSuppressionWithScore");const u=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,h=a,p=s,f=c,m=l,{selectedIndices:g,selectedScores:y}=h7(u,d,h,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};const f7={kernelName:mR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:i,depth:a,onValue:s,offValue:c}=r;J3(o,"oneHot");const l=wI(o.shape),u=new Float32Array(l*a);u.fill(c);const d=n.data.get(o.dataId).values;for(let h=0;h<l;++h)d[h]>=0&&d[h]<a&&(u[h*a+d[h]]=s);return n.makeTensorInfo([...o.shape,a],i,u)}};function m7(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=s4({inputs:{input:r},backend:n}),t=m7({inputs:{x:e},backend:n}),o=S8({inputs:{input:r},backend:n}),i=m7({inputs:{x:o},backend:n}),a=n4({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),a}return b9({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const g7={kernelName:SM,backendName:"cpu",kernelFunc:m7};const y7={kernelName:fR,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===o.dtype){const t=s4({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),i=S8({inputs:{input:o},backend:r}),a=m7({inputs:{x:i},backend:r}),s=n4({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}return b9({backend:r,attrs:{shape:o.shape,value:1,dtype:o.dtype}})}};function v7(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return u9({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{bI(i,e.shape,"All tensors passed to stack must have matching shapes"),vI(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],c=E8({inputs:t.map((e=>{const t=u9({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const b7={kernelName:gR,backendName:"cpu",kernelFunc:v7};const x7={kernelName:yR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:a}=r;J3(o,"pad");const s=i.map(((e,t)=>e[0]+o.shape[t]+e[1])),c=i.map((e=>e[0])),l=n.data.get(o.dataId).values,u=wI(o.shape),d=o.shape.length,h=qI(o.shape),p=wI(s),f=s.length,m=qI(s),g=jI(o.dtype,p);0!==a&&g.fill(a);for(let y=0;y<u;y++){g[tA(nA(y,d,h).map(((e,t)=>e+c[t])),f,m)]=l[y]}return{dataId:n.write(g,s,o.dtype),shape:s,dtype:o.dtype}}},w7=t4(((e,t)=>Math.pow(e,t))),k7=h4(bR,w7),S7={kernelName:bR,backendName:"cpu",kernelFunc:k7};const C7={kernelName:kR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:s}=r,c=o.map((e=>n.data.get(e.dataId).values)),l=o.map((e=>e.shape)),u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,[h,p,f]=M5(c,l,u,i.shape,i.dtype,d,a.shape),m=h.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,p);return m.concat([g])}};const E7={kernelName:SR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:i}=t,a=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,[l,u]=P5(a,r.shape,r.dtype,s,o.shape,c,i.shape);return[n.makeTensorInfo([l.length],"int32",l),n.makeTensorInfo([u.length],r.dtype,u)]}};const _7={kernelName:CR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=t,{rowPartitionTypes:c}=r,l=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,h=s.map((e=>n.data.get(e.dataId).values)),p=s.map((e=>e.shape)),[f,m]=z5(l,o.shape,u,i.shape,i.dtype,d,a.shape,h,p,c);return n.makeTensorInfo(f,i.dtype,m)}};const T7={kernelName:ER,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,dtype:i,step:a}=n,s=U5(r,o,a,i);return t.makeTensorInfo([s.length],i,s)}},N7=C4(TR,(e=>1/e)),I7={kernelName:TR,backendName:"cpu",kernelFunc:N7};const A7={kernelName:RR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r;J3(o,"resizeBilinear");const c=qI(o.shape),[l,u]=s,[d,h,p,f]=o.shape,m=n.data.get(o.dataId).values,g=new Float32Array(wI([d,l,u,f])),y=[i&&l>1?h-1:h,i&&u>1?p-1:p],v=[i&&l>1?l-1:l,i&&u>1?u-1:u];let b=0;const x=y[0]/v[0],w=y[1]/v[1];for(let k=0;k<d;k++)for(let e=0;e<l;e++){let t;t=a?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),r=t-n,o=Math.min(h-1,Math.ceil(t)),i=k*c[0]+n*c[1],s=k*c[0]+o*c[1];for(let e=0;e<u;e++){let t;t=a?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),o=t-n,l=Math.min(p-1,Math.ceil(t)),u=i+n*c[2],d=s+n*c[2],h=i+l*c[2],y=s+l*c[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[d+e],i=t+(m[h+e]-t)*o,a=i+(n+(m[y+e]-n)*o-i)*r;g[b++]=a}}}return n.makeTensorInfo([d,l,u,f],"float32",g)}};const O7={kernelName:MR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r;J3([i,o],"resizeBilinearGrad");const s=qI(o.shape),[c,l,u,d]=o.shape,[,h,p]=i.shape,f=new Float32Array(c*l*u*d),m=[a&&h>1?l-1:l,a&&p>1?u-1:u],g=[a&&h>1?h-1:h,a&&p>1?p-1:p],y=m[0]/g[0],v=m[1]/g[1],b=n.data.get(i.dataId).values;let x=0;for(let w=0;w<c;w++){const e=w*s[0];for(let t=0;t<h;t++){const n=t*y,r=Math.floor(n),o=Math.min(Math.ceil(n),l-1),i=e+r*s[1],a=e+o*s[1],c=n-r,h=1-c;for(let e=0;e<p;e++){const t=e*v,n=Math.floor(t),r=Math.min(Math.ceil(t),u-1),o=t-n,l=1-o,p=i+n*s[2],m=i+r*s[2],g=a+n*s[2],y=a+r*s[2],w=h*l,k=h*o,S=c*l,C=c*o;for(let e=0;e<d;e++){const t=b[x++];f[p+e]+=t*w,f[m+e]+=t*k,f[g+e]+=t*S,f[y+e]+=t*C}}}}return n.makeTensorInfo([c,u,l,d],"float32",f)}};const R7={kernelName:AR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r;J3(o,"resizeNearestNeighbor");const c=qI(o.shape),[l,u]=s,[d,h,p,f]=o.shape,m=n.data.get(o.dataId).values,g=new Float32Array(d*l*u*f),y=[i&&l>1?h-1:h,i&&u>1?p-1:p],v=[i&&l>1?l-1:l,i&&u>1?u-1:u],b=y[0]/v[0],x=y[1]/v[1];let w=0;for(let k=0;k<d;k++){const e=k*c[0];for(let t=0;t<l;t++){const n=a?b*(t+.5):b*t;let r=Math.min(h-1,i?Math.round(n):Math.floor(n));a&&(r=Math.max(0,r));const o=e+r*c[1];for(let e=0;e<u;e++){const t=a?x*(e+.5):x*e;let n=Math.min(p-1,i?Math.round(t):Math.floor(t));a&&(n=Math.max(0,n));const r=o+n*c[2];for(let e=0;e<f;e++){const t=m[r+e];g[w++]=t}}}}return n.makeTensorInfo([d,l,u,f],o.dtype,g)}};const M7={kernelName:OR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r;J3([i,o],"resizeNearestNeighborGrad");const s=qI(o.shape),c=qI(i.shape),[l,u,d,h]=o.shape,[,p,f]=i.shape,m=new Float32Array(l*u*d*h),g=n.data.get(i.dataId).values,y=[a&&p>1?u-1:u,a&&f>1?d-1:d],v=[a&&p>1?p-1:p,a&&f>1?f-1:f],b=y[0]/v[0],x=y[1]/v[1],w=1/b,k=1/x,S=2*Math.ceil(w)+2,C=2*Math.ceil(k)+2;for(let E=0;E<l;E++){const e=E*s[0];for(let t=0;t<u;t++){const n=e+t*s[1],r=Math.floor(t*w),o=Math.floor(r-S/2);for(let i=0;i<d;i++){const r=n+i*s[2],l=Math.floor(i*k),y=Math.floor(l-C/2);for(let n=0;n<h;n++){let s=0;for(let r=0;r<S;r++){const l=r+o;if(l<0||l>=p)continue;const h=e+l*c[1],m=l*b;if(t===Math.min(u-1,a?Math.round(m):Math.floor(m)))for(let e=0;e<C;e++){const t=e+y;if(t<0||t>=f)continue;const r=h+t*c[2],o=t*x;i===Math.min(d-1,a?Math.round(o):Math.floor(o))&&(s+=g[r+n])}}m[r+n]=s}}}}return n.makeTensorInfo(o.shape,o.dtype,m)}};const j7={kernelName:PR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r;J3(o,"reverse");const a=o.shape.length,s=RI(i,o.shape);if(0===a)return i4({inputs:{x:o},backend:n});const c=new Sj(o.shape,o.dtype),l=n.bufferSync(o);for(let u=0;u<c.size;u++){const e=c.indexToLoc(u),t=e.slice();s.forEach((e=>t[e]=o.shape[e]-1-t[e])),c.set(l.get(...t),...e)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}},P7={kernelName:_M,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,{radians:i,fillValue:a,center:s}=n,c=r,l=jI(o.dtype,wI(o.shape)),[u,d,h,p]=o.shape,[f,m]=gH(s,d,h),g=Math.sin(i),y=Math.cos(i),v=c.data.get(o.dataId).values;for(let b=0;b<u;b++){const e=b*h*d*p;for(let t=0;t<d;t++){const n=t*(h*p);for(let r=0;r<h;r++){const o=r*p;for(let i=0;i<p;i++){const s=[u,t,r,i],c=s[2],b=s[1];let x=(c-f)*y-(b-m)*g,w=(c-f)*g+(b-m)*y;x=Math.round(x+f),w=Math.round(w+m);let k=a;if("number"!==typeof a&&(k=3===i?255:a[i]),x>=0&&x<h&&w>=0&&w<d){k=v[e+w*(h*p)+x*p+i]}l[e+n+o+i]=k}}}}return{dataId:c.write(l,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},D7=C4(DR,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),L7={kernelName:DR,backendName:"cpu",kernelFunc:D7};const F7={kernelName:FR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:a}=r,{sliceRank:s,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=dF(0,o,a),h=G5(n.bufferSync(o),n.bufferSync(i),a,d,l,c,s,u,0,!0);return n.makeTensorInfo(a,h.dtype,h.values)}};function B7(e,t){let n=0,r=e.length,o=0;for(;n<r;)o=Math.floor((n+r)/2),e[o]<t?n=o+1:r=o;return r}function z7(e,t){let n=0,r=e.length,o=0;for(;n<r;)o=Math.floor((n+r)/2),e[o]<=t?n=o+1:r=o;return r}const U7={kernelName:zR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:i}=t,{side:a}=r,s=function(e,t,n,r,o,i){const a=PI("int32",n*o);for(let s=0;s<n;++s){const n=e.slice(s*r,(s+1)*r),c=s*o;for(let e=0;e<o;++e)a[c+e]="left"===i?B7(n,t[e+c]):z7(n,t[e+c])}return a}(n.data.get(o.dataId).values,n.data.get(i.dataId).values,o.shape[0],o.shape[1],i.shape[1],a);return n.makeTensorInfo(i.shape,"int32",s)}};const V7={kernelName:UR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t;J3([r,o,i],"select");const a=r.shape.length,s=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values,u=Dj(o.dtype,i.dtype),d=ZI(wI(o.shape),u);let h=0;const p=0===a||a>1||1===o.shape.length?1:wI(o.shape.slice(1));for(let f=0;f<s.length;f++)for(let e=0;e<p;e++)1===s[f]?d[h++]=c[f]:d[h++]=l[f];return n.makeTensorInfo(o.shape,u,d)}},W7=kH,H7=SH,G7=C4(VR,(e=>e>=0?H7*e:W7*(Math.exp(e)-1))),K7={kernelName:VR,backendName:"cpu",kernelFunc:G7},q7=C4(KR,(e=>e<0?-1:e>0?1:0)),Y7={kernelName:KR,backendName:"cpu",kernelFunc:q7},X7=C4(HR,(e=>Math.sin(e))),J7={kernelName:HR,backendName:"cpu",kernelFunc:X7},$7=C4(GR,(e=>Math.sinh(e))),Z7={kernelName:GR,backendName:"cpu",kernelFunc:$7},Q7=Math.log(1.1920928955078125e-7)+2,eee=C4(YR,(e=>{const t=e>-Q7,n=e<Q7,r=Math.exp(e);let o;return o=n?r:t?e:Math.log(1+r),o})),tee={kernelName:YR,backendName:"cpu",kernelFunc:eee};const nee={kernelName:$R,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:a}=r;J3([o],"spaceToBatchND");const s=wI(i),c=[[0,0]];c.push(...a);for(let g=1+i.length;g<o.shape.length;++g)c.push([0,0]);const l=x7.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:c,constantValue:0}}),u=yH(l.shape,i,s,!1),d=vH(u.length,i.length,!1),h=bH(l.shape,i,s,!1),p=F6({inputs:{x:l},backend:n,attrs:{shape:u}}),f=_5({inputs:{x:p},backend:n,attrs:{perm:d}}),m=F6({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};const ree={kernelName:eM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==o.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(o.shape));if(0!==a.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(a.shape));const s=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values,u=n.data.get(a.dataId).values[0],[d,h,p,f,m]=Z5(s,r.shape,r.dtype,c,o.dtype,l,u);return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([h[0]],o.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const oee={kernelName:tM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==o.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(o.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));const a=Array.from(n.data.get(o.dataId).values),s=n.data.get(r.dataId).values,c=Array.from(n.data.get(i.dataId).values),[l,u,d]=Q5(s,r.shape,r.dtype,a,c);return[n.makeTensorInfo(u,r.dtype,l),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}};const iee={kernelName:nM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(o.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(i.shape));if(o.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,[l,u]=e6(a,r.shape,r.dtype,s,c,!0);return n.makeTensorInfo(u,r.dtype,l)}};const aee={kernelName:rM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(o.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(i.shape));if(o.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,[l,u]=e6(a,r.shape,r.dtype,s,c);return n.makeTensorInfo(u,r.dtype,l)}};const see={kernelName:oM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:a}=t,{outputShape:s}=r,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:h}=dF(0,o,s),p=!1,f=n.bufferSync(o);let m;switch(i.dtype){case"bool":m=G5(f,n.bufferSync(i),s,h,u,l,c,d,Boolean(n.data.get(a.dataId).values[0]),p);break;case"float32":m=G5(f,n.bufferSync(i),s,h,u,l,c,d,n.data.get(a.dataId).values[0],p);break;case"int32":m=G5(f,n.bufferSync(i),s,h,u,l,c,d,n.data.get(a.dataId).values[0],p);break;case"string":m=G5(f,n.bufferSync(i),s,h,u,l,c,d,lj(n.data.get(a.dataId).values[0]),p);break;default:throw new Error("Unsupported type ".concat(i.dtype))}return n.makeTensorInfo(s,m.dtype,m.values)}};const cee={kernelName:ZR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:a}=r,s=RI(a,o.shape)[0],c=YH(o,i,s),l=new Array(o.shape.length).fill(0),u=o.shape.slice();return c.map((e=>{const t=[...u];t[s]=e;const r=J5({inputs:{x:o},backend:n,attrs:{begin:l,size:t}});return l[s]+=e,r}))}},lee={kernelName:aM,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,o=n;J3(r,"square");const i=o.data.get(r.dataId).values,a=new Float32Array(i.length);for(let s=0;s<i.length;++s){const e=i[s];a[s]=e*e}return{dataId:o.write(a,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},uee=C4(CM,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),dee={kernelName:CM,backendName:"cpu",kernelFunc:uee};const hee={kernelName:cM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:a,strides:s,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=r;J3(o,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=IF(o.shape,i,a,s,c,l,u,d,h);let w;if(m)w=F6({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||y){vI(o.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(o.shape.length)));const e=gF(v,b,x),t=J5({inputs:{x:o},backend:n,attrs:{begin:v,size:e}});w=F6({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=u6(p,n.bufferSync(o),x,v);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};const pee={kernelName:lM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:c,preserveShortSequences:l}=r,{data:u,dataSplits:d}=t,h=n.data.get(u.dataId).values,p=n.data.get(d.dataId).values,[f,m]=h6(h,p,o,i,a,s,c,l);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const fee={kernelName:uM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));const s=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values[0],[l,u,d]=f6(s,c,o),h=u.length;return[n.makeTensorInfo([h,2],"int32",l),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const mee={kernelName:dM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=m6(n.data.get(i.dataId).values,o);return n.makeTensorInfo(i.shape,"int32",a)}},gee=C4(pM,(e=>Math.tan(e))),yee={kernelName:pM,backendName:"cpu",kernelFunc:gee},vee=C4(fM,(e=>Math.tanh(e)));const bee={kernelName:BR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:o,updates:i}=t,{sliceRank:a,numUpdates:s,sliceSize:c,strides:l,outputSize:u}=dF(0,o,r.shape),d=n.bufferSync(o),h=n.bufferSync(i),p=n.bufferSync(r),f=G5(d,h,r.shape,u,c,s,a,l,p,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};const xee={kernelName:mM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;J3(o,"tile");const a=x6(n.bufferSync(o),i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}};const wee={kernelName:gM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:a}=r;J3(o,"topk");const s=n.data.get(o.dataId).values,[c,l]=S6(s,o.shape,o.dtype,i,a);return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(l.shape,l.dtype,l.values)]}};const kee={kernelName:yM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:o,transforms:i}=t,{interpolation:a,fillMode:s,fillValue:c,outputShape:l}=n,[u,d,h,p]=o.shape,[f,m]=null!=l?l:[d,h],g=[u,f,m,p],y=qI(o.shape),v=y[0],b=y[1],x=y[2],w=qI(g),k=w[0],S=w[1],C=w[2],E=jI(o.dtype,wI(g));E.fill(c);const _=r.data.get(o.dataId).values,T=r.data.get(i.dataId).values;for(let N=0;N<u;++N){const e=1===i.shape[0]?T:T.subarray(8*N,8*N+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<p;++r){let o;const i=e[6]*n+e[7]*t+1;if(0===i)continue;const l=(e[0]*n+e[1]*t+e[2])/i,u=(e[3]*n+e[4]*t+e[5])/i,p=See(l,h,s),f=See(u,d,s);switch(a){case"nearest":o=Eee(_,d,h,v,b,x,N,f,p,r,c);break;case"bilinear":o=_ee(_,d,h,v,b,x,N,f,p,r,c);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(a))}E[N*k+t*S+n*C+r]=o}return r.makeTensorInfo(g,o.dtype,E)}return{dataId:r.write(E,g,o.dtype),shape:o.shape,dtype:o.dtype}}};function See(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return hI(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return hI(0,n,t-1)}(e,t);case"nearest":return function(e,t){return hI(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function Cee(e,t,n,r,o,i,a,s,c,l,u){return 0<=s&&s<t&&0<=c&&c<n?e[a*r+s*o+c*i+l]:u}function Eee(e,t,n,r,o,i,a,s,c,l,u){return Cee(e,t,n,r,o,i,a,Math.round(s),Math.round(c),l,u)}function _ee(e,t,n,r,o,i,a,s,c,l,u){const d=Math.floor(s),h=Math.floor(c),p=d+1,f=h+1;return(p-s)*((f-c)*Cee(e,t,n,r,o,i,a,d,h,l,u)+(c-h)*Cee(e,t,n,r,o,i,a,d,f,l,u))+(s-d)*((f-c)*Cee(e,t,n,r,o,i,a,p,h,l,u)+(c-h)*Cee(e,t,n,r,o,i,a,p,f,l,u))}const Tee={kernelName:bM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;J3(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:s,outputShape:c,indices:l}=C6(a,o,i.shape,i.dtype);return[r.makeTensorInfo(c,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}};const Nee={kernelName:xM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o.shape.length,s=o.shape[i],c=new Array(a-1);let l=0;for(let p=0;p<a;p++)p!==i&&(c[l++]=o.shape[p]);const u=new Array(a).fill(0),d=o.shape.slice();d[i]=1;const h=new Array(s);for(let p=0;p<h.length;p++){u[i]=p;const e=J5({inputs:{x:o},backend:n,attrs:{begin:u,size:d}});h[p]=F6({inputs:{x:e},backend:n,attrs:{shape:c}}),n.disposeIntermediateTensorInfo(e)}return h}};const Iee={kernelName:wM,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:a}=r;J3(o,"unsortedSegmentSum");const s=[],c=[],l=o.shape.length-i.shape.length;let u=i;for(let h=0;h<l;++h){const e=u9({inputs:{input:u},backend:n,attrs:{dim:h+1}});u=e,c.push(e)}for(let h=0;h<a;++h){const e=oj(h,"int32"),t=n.makeTensorInfo([],"int32",e),r=O4({inputs:{a:t,b:u},backend:n}),i=u4({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),a=v5({inputs:{a:i,b:o},backend:n}),l=Z8({inputs:{x:a},backend:n,attrs:{axis:0,keepDims:!1}});s.push(l),c.push(t),c.push(r),c.push(i),c.push(a),c.push(l)}const d=v7({inputs:s,backend:n,attrs:{axis:0}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},Aee=[V6,e4,H6,K6,y4,q6,Y6,X6,J6,$6,Q6,t8,r8,a8,c8,h8,p8,f8,m8,U6,g8,y8,v8,k4,b8,d4,N4,w8,r4,k8,_8,N8,I8,A8,O8,R8,M8,P8,L8,F8,B8,z8,U8,V8,H8,G8,K8,q8,Y8,X8,J8,$8,e9,T6,t9,R4,l9,P4,d9,F4,v9,x9,w9,U4,H4,k9,S9,C9,E9,X4,Z4,a4,_9,C8,N9,A9,R9,I6,t5,o5,M9,c5,P9,F9,z9,W9,H9,G9,q9,h5,Y9,X9,J9,$9,Z9,Q9,e7,m5,t7,o7,s7,b5,w5,l7,d7,p7,C5,f7,y7,b7,x7,S7,R6,I5,C7,E7,_7,T7,c4,f9,I7,j6,D6,B6,A7,O7,R7,M7,j7,P7,L7,H5,F7,U7,V7,K7,Y5,Y7,J7,Z7,$5,a7,tee,nee,ree,oee,iee,aee,see,cee,r6,lee,a6,l6,dee,hee,pee,fee,mee,b6,Q8,yee,{kernelName:fM,backendName:"cpu",kernelFunc:vee},bee,xee,wee,kee,T5,Tee,Nee,Iee,g7];for(const n of Aee)LM(n);const Oee={},Ree={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Mee(e,t){Oee[e]=t}function jee(e,t){if(!(e in Oee)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(sA().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete Oee[e]}),!1),sA().getBool("SOFTWARE_WEBGL_ENABLED")&&(Ree.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",Ree)||n.getContext("experimental-webgl",Ree);return n.getContext("webgl2",Ree)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;Oee[e]=n}const n=Oee[e];return null==n||n.isContextLost()?(delete Oee[e],jee(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),Oee[e])}var Pee,Dee,Lee;function Fee(e,t){return[t,e]}function Bee(e){const t=wI(e);return TI(Math.ceil(t/4))}function zee(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Uee(e,t){const n=e;let r,o,i,a,s,c,l,u,d,h;return 2===sA().getNumber("WEBGL_VERSION")?(r=n.R32F,o=n.R16F,i=n.RGBA16F,a=n.RGBA32F,s=n.RED,l=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,c=n.RGBA8):(r=e.RGBA,o=e.RGBA,i=e.RGBA,a=n.RGBA,s=e.RGBA,l=4,u=4,d=null!=t?t.HALF_FLOAT_OES:null,h=e.FLOAT,c=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:c,downloadUnpackNumChannels:l,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}function Vee(e,t){const n=t();return sA().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+Kee(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(Pee||(Pee={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Dee||(Dee={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Lee||(Lee={}));const Wee=5.96e-8,Hee=65504;function Gee(e){return!!(sA().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||Wee<Math.abs(e)&&Math.abs(e)<Hee)}function Kee(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}function qee(e,t){return vte(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}function Yee(e,t){const n=vte(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(Vee(e,(()=>e.shaderSource(n,t))),Vee(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Xee(e,t){const n=vte(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(Vee(e,(()=>e.shaderSource(n,t))),Vee(e,(()=>e.compileShader(n))),sA().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw $ee(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const Jee=/ERROR: [0-9]+:([0-9]+):/g;function $ee(e,t){const n=Jee.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);const r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map(((e,t)=>II((t+1).toString(),i)+e));let s=0;for(let d=0;d<a.length;d++)s=Math.max(a[d].length,s);const c=a.slice(0,r-1),l=a.slice(r-1,r),u=a.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(II(l[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function Zee(e){return vte(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}function Qee(e,t){if(Vee(e,(()=>e.linkProgram(t))),!sA().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function ete(e,t){if(Vee(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function tte(e,t){const n=vte(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Vee(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),Vee(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}function nte(e,t){const n=vte(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Vee(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),Vee(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}function rte(){return 2===sA().getNumber("WEBGL_VERSION")?1:4}function ote(e){return vte(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}function ite(e,t){const n=sA().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const n="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+n+" is invalid.")}if(e>n||t>n){const r="[".concat(e,"x").concat(t,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+o+".")}}function ate(e){return vte(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}function ste(e,t,n,r,o,i,a){const s=e.getAttribLocation(t,n);return-1!==s&&(Vee(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),Vee(e,(()=>e.vertexAttribPointer(s,o,e.FLOAT,!1,i,a))),Vee(e,(()=>e.enableVertexAttribArray(s))),!0)}function cte(e,t,n){bte(e,n),Vee(e,(()=>e.activeTexture(e.TEXTURE0+n))),Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}function lte(e,t){bte(e,t),Vee(e,(()=>e.activeTexture(e.TEXTURE0+t))),Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function ute(e,t,n){return vte(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}function dte(e,t,n){return e.getUniformLocation(t,n)}function hte(e,t,n,r){Vee(e,(()=>cte(e,t,r))),Vee(e,(()=>e.uniform1i(n,r)))}function pte(e){Vee(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),Vee(e,(()=>e.viewport(0,0,e.canvas.width,e.canvas.height))),Vee(e,(()=>e.scissor(0,0,e.canvas.width,e.canvas.height)))}function fte(e,t,n){Vee(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),Vee(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function mte(e,t){Vee(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),Vee(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function gte(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+yte(e,t))}function yte(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}function vte(e,t,n){const r=Vee(e,(()=>t()));if(null==r)throw new Error(n);return r}function bte(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){const e="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(e,"."))}}function xte(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return wI(e.slice(0,e.length-t))}function wte(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function kte(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[xte(e),...wte(e)]),t}function Ste(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=sA().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=sA().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&sA().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?pI(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=MI(e);e=t.newShape}let o=wI(e),i=null;e.length<=1&&o<=n?i=[1,o]:2===e.length&&e[0]<=n&&e[1]<=n?i=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const a=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||a)if(t){const t=xte(e);let n=2,r=2;e.length&&([n,r]=wte(e)),o=t*(n/2)*(r/2),i=TI(o).map((e=>2*e))}else i=TI(o);return i}function Cte(e){return e%2===0}function Ete(e,t){if(CI(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(Cte(n)&&Cte(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Cte(e[0])&&Cte(t[0])}let _te,Tte;function Nte(e){if(null==_te){const t=jee(e);_te=t.getParameter(t.MAX_TEXTURE_SIZE)}return _te}function Ite(){_te=null}function Ate(){Tte=null}function Ote(e){if(null==Tte){const t=jee(e);Tte=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Tte)}function Rte(e){if(0===e)return 0;let t;const n=jee(e);return t=Mte(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Mte(n,"EXT_disjoint_timer_query")?1:0,t}function Mte(e,t){return null!=e.getExtension(t)}function jte(e){try{if(null!=jee(e))return!0}catch(x2e){return console.log("Error when getting WebGL context: ",x2e),!1}return!1}function Pte(e){if(0===e)return!1;const t=jee(e);if(1===e){if(!Mte(t,"OES_texture_float"))return!1}else if(!Mte(t,"EXT_color_buffer_float"))return!1;return Lte(t)}function Dte(e){if(0===e)return!1;const t=jee(e);if(1!==e){if(Mte(t,"EXT_color_buffer_float"))return Lte(t);const e="EXT_color_buffer_half_float";if(Mte(t,e)){const n=t.getExtension(e);return function(e,t){const n=Uee(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const o=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,o,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),s}(t,n)}return!1}if(!Mte(t,"OES_texture_float"))return!1;if(!Mte(t,"WEBGL_color_buffer_float"))return!1;return Lte(t)}function Lte(e){const t=Uee(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Fte(e){if(2!==e)return!1;return null!=jee(e).fenceSync}function Bte(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&vI("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."))}))}const zte=sA();function Ute(){let e,t,n,r,o,i,a,s,c,l;return 2===sA().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s=sA().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:c,defineRound:l}}function Vte(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=qI(t);return r.map(((t,o)=>{const i="int ".concat(e[o]," = ").concat(n," / ").concat(t),a=o===r.length-1?"int ".concat(e[o+1]," = ").concat(n," - ").concat(e[o]," * ").concat(t):"index -= ".concat(e[o]," * ").concat(t);return"".concat(i,"; ").concat(a,";")})).join("")}function Wte(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=qI(t);return r.map(((t,o)=>{const i="int ".concat(e[o]," = ").concat(n," / outShapeStrides[").concat(o,"]"),a=o===r.length-1?"int ".concat(e[o+1]," = ").concat(n," - ").concat(e[o]," * outShapeStrides[").concat(o,"]"):"index -= ".concat(e[o]," * outShapeStrides[").concat(o,"]");return"".concat(i,"; ").concat(a,";")})).join("")}function Hte(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=function(e,t){const n=e.length,r=e.map((e=>"".concat(t,"[").concat(e,"]"))),o=new Array(n-1);o[n-2]=r[n-1];for(let i=n-3;i>=0;--i)o[i]="(".concat(o[i+1]," * ").concat(r[i+1],")");return o}(e.map(((e,t)=>t)),t);return r.map(((t,o)=>{const i="int ".concat(e[o]," = ").concat(n," / ").concat(r[o]),a=o===r.length-1?"int ".concat(e[o+1]," = ").concat(n," - ").concat(e[o]," * ").concat(r[o]):"index -= ".concat(e[o]," * ").concat(r[o]);return"".concat(i,"; ").concat(a,";")})).join("")}function Gte(e){const t=qI(e).map((e=>e.toString()));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}zte.registerFlag("HAS_WEBGL",(()=>zte.getNumber("WEBGL_VERSION")>0)),zte.registerFlag("WEBGL_VERSION",(()=>jte(2)?2:jte(1)?1:0)),zte.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),zte.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===zte.get("WEBGL_VERSION"))),zte.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),zte.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),zte.registerFlag("WEBGL_PACK",(()=>zte.getBool("HAS_WEBGL"))),zte.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_CLIP",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_REDUCE",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_LAZILY_UNPACK",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_CONV_IM2COL",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>zte.getBool("WEBGL_PACK"))),zte.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>Nte(zte.getNumber("WEBGL_VERSION")))),zte.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>Ote(zte.getNumber("WEBGL_VERSION")))),zte.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=zte.getNumber("WEBGL_VERSION");return 0===e?0:Rte(e)})),zte.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>zte.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Qj())),zte.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>Pte(zte.getNumber("WEBGL_VERSION")))),zte.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!zte.getBool("WEBGL_FORCE_F16_TEXTURES")&&zte.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),zte.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>Dte(zte.getNumber("WEBGL_VERSION")))),zte.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>Fte(zte.getNumber("WEBGL_VERSION")))),zte.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>zte.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),zte.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),zte.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>Qj()?1:-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),zte.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),zte.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),zte.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),zte.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),zte.registerFlag("WEBGL_EXP_CONV",(()=>!1)),zte.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>zte.getBool("IS_TEST"))),zte.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),zte.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),zte.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),zte.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const Kte="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:qte}=y;function Yte(e,t,n){const r=[];if(e.forEach((e=>{const t=wI(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){const{uniformShape:t}=one(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));const o=r.join("\n"),i=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o="";o+=n?Jte(e,r):Xte(e,r);const i=e.shapeInfo.logicalShape,a=t.logicalShape;i.length<=a.length&&(o+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,s=qte(e.shapeInfo.logicalShape,t.logicalShape),c=rne(a),l=a-i;let u;const d=["x","y","z","w","u","v"];u=0===i?"":a<2&&s.length>=1?"coords = 0;":s.map((e=>"coords.".concat(d[e+l]," = 0;"))).join("\n");let h="";h=a<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(d[t+l]))).join(", ");let p="return outputValue;";const f=1===wI(e.shapeInfo.logicalShape),m=wI(t.logicalShape),g=1===m;if(1!==i||f||g){if(f&&!g)p=1===a?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=i-2,t=i-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?p="return vec4(outputValue.x);":s.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(o,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(r,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===c&&null==e.shapeInfo.flatOffset&&CI(a,i))return"\n      float ".concat(o,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const l=rne(c),u=qte(e.shapeInfo.logicalShape,t.logicalShape),d=c-s;let h;const p=["x","y","z","w","u","v"];h=0===s?"":c<2&&u.length>=1?"coords = 0;":u.map((e=>"coords.".concat(p[e+d]," = 0;"))).join("\n");let f="";f=c<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(p[t+d]))).join(", ");return"\n    float ".concat(o,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(h,"\n      return get").concat(r,"(").concat(f,");\n    }\n  ")}(e,t));return o}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),a=t.texShape,s=Ute(),c=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(s);let l,u,d=function(e){const t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat($te,"\n    ").concat(Zte,"\n    ").concat(Qte,"\n  ");return t}(s);t.isPacked?(l=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(CI(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");const o=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(o,");\n      int c = imod(index, ").concat(o,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[2]/2),i=o*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(o,");\n      int c = imod(index, ").concat(o,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[e.length-1]/2),i=o*Math.ceil(e[e.length-2]/2);let a=i,s="",c="b, r, c";for(let l=2;l<e.length-1;l++)a*=e[e.length-l-1],s="\n      int b".concat(l," = index / ").concat(a,";\n      index -= b").concat(l," * ").concat(a,";\n    ")+s,c="b".concat(l,", ")+c;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(i,";\n      index -= b * ").concat(i,";\n\n      int r = 2 * (index / ").concat(o,");\n      int c = imod(index, ").concat(o,") * 2;\n\n      return ivec").concat(e.length,"(").concat(c,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,a,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(s)):(l=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(CI(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){const t=Wte(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(t,"\n    return ivec3(r, c, d);\n  }\n")}const r=Vte(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){const t=Wte(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(t,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const r=Vte(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){const n=Vte(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){const n=Vte(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,a,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(s)),n.packedInputs&&(d+=ene);return[d,c,u,o,l,i,n.userCode].join("\n")}function Xte(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");const[o,i]=e.shapeInfo.texShape;if(1===o&&1===i)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const a=tne(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[s,c]=e.shapeInfo.texShape;return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(s,", ").concat(c,", ").concat(a,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(nne(e),"\n      }\n    ");const o=e.shapeInfo.texShape,i=o[0],a=o[1];if(1===a&&1===i)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const s=tne(n);if(1===a)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(i,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===i)return t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(a,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(a,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&CI(n,i)){if(t)return"\n      float ".concat(o,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");const e=i[0],n=i[1];return"\n    float ".concat(o,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,".0, ").concat(e,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}const{newShape:a,keptDims:s}=MI(n),c=a;if(c.length<n.length){const n=ine(e,c),r=["row","col"];return"\n      ".concat(Xte(n,t),"\n      float ").concat(o,"(int row, int col) {\n        return ").concat(o,"(").concat(ane(r,s),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(o,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(nne(e),"\n      }\n    ");const l=i[0],u=i[1],d=tne(r);if(1===u)return t?"\n      float ".concat(o,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(o,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(l,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(1===l)return t?"\n      float ".concat(o,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(o,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");if(t)return"\n      float ".concat(o,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");return"\n  float ".concat(o,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(l,", ").concat(u,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:s,keptDims:c}=MI(n),l=s;if(l.length<n.length){const n=ine(e,l),r=["row","col","depth"];return"\n        ".concat(Xte(n,t),"\n        float ").concat(o,"(int row, int col, int depth) {\n          return ").concat(o,"(").concat(ane(r,c),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(o,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(i,", ").concat(a,", 1)));\n        ").concat(nne(e),"\n      }\n    ");const u=e.shapeInfo.texShape,d=u[0],h=u[1],p=e.shapeInfo.flatOffset;if(h===i&&null==p)return t?"\n      float ".concat(o,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(o,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(a,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(d,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(h===a&&null==p)return t?"\n      float ".concat(o,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(o,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(d,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");const f=tne(r);if(t)return"\n    float ".concat(o,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    ");return"\n      float ".concat(o,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(i," + col * ").concat(a," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(h,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,s=n[1]*a,{newShape:c,keptDims:l}=MI(n);if(c.length<n.length){const n=ine(e,c),r=["row","col","depth","depth2"];return"\n      ".concat(Xte(n,t),"\n      float ").concat(o,"(int row, int col, int depth, int depth2) {\n        return ").concat(o,"(").concat(ane(r,l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(a,", ").concat(i,", 1)));\n        ").concat(nne(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1],f="int stride2 = ".concat(r,"Shape[3];"),m="int stride1 = ".concat(r,"Shape[2] * stride2;"),g="int stride0 = ".concat(r,"Shape[1] * stride1;");if(p===s&&null==u)return t?"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(a,", ").concat(i,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(p===i&&null==u)return t?"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(o,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");const y=tne(r);if(t)return"\n    float ".concat(o,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(g,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(y,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");return"\n    float ".concat(o,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(a," +\n          depth * ").concat(i," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index + ").concat(y,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,{newShape:c,keptDims:l}=MI(t);if(c.length<t.length){const t=ine(e,c),n=["row","col","depth","depth2","depth3"];return"\n      ".concat(Xte(t),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(ane(n,l),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(a,", ").concat(i,", ").concat(o,")) +\n          depth3;\n        ").concat(nne(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===s&&null==u)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(a,", ").concat(i,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(p===o&&null==u)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=tne(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(a," + depth * ").concat(i," +\n          depth2 * ").concat(o," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:i}=MI(t);if(o.length<t.length){const t=ine(e,o),n=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(Xte(t),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(ane(n,i),");\n      }\n    ")}const a=t[5],s=t[4]*a,c=t[3]*s,l=t[2]*c,u=t[1]*l;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(l,", ").concat(c,", ").concat(s,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(a,", 1)));\n        ").concat(nne(e),"\n      }\n    ");const d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,p=h[0],f=h[1];if(f===u&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(l,", ").concat(c,", ").concat(s,", ").concat(a,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===a&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=tne(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(l," + depth * ").concat(c," +\n          depth2 * ").concat(s," + depth3 * ").concat(a," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function Jte(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Ute();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=Ute();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ");const a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(a[0],", ").concat(a[1],", index);\n      return ").concat(i.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=i[0],s=i[1],c=Ute();if(null!=i&&CI(n,i))return t?"\n      vec4 ".concat(o,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(o,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(a,".0);\n\n        return ").concat(c.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(o,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ");const l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(o,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(l[0],", ").concat(l[1],", row, col);\n      return ").concat(c.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){const r=[1,2],i=ine(e,n.slice(1)),a=["b","row","col"];return"\n        ".concat(Jte(i,t),"\n        vec4 ").concat(o,"(int b, int row, int col) {\n          return ").concat(o,"(").concat(ane(a,r),");\n        }\n      ")}const s=Ute();if(t)return"\n    vec4 ".concat(o,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(s.texture2D,"(").concat(r,", uv);\n    }\n  ");const c=a[0],l=a[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(o,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(c,", ").concat(l,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(s.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=Ute();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");const i=e.shapeInfo.logicalShape,a=i.length,s=e.shapeInfo.texShape,c=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=c[0],u=c[1],d=Math.ceil(i[a-1]/2);let h=d*Math.ceil(i[a-2]/2),p="int b, int row, int col",f="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<a-1;m++)p="int b".concat(m,", ")+p,h*=i[a-m-1],f="b".concat(m," * ").concat(h," + ")+f;return"\n    vec4 ".concat(r,"(").concat(p,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(l,");\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}const $te="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Zte="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Qte="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ene="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function tne(e){return"offset".concat(e)}function nne(e){const t=e.name,n=wI(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function rne(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function one(e,t,n){const{newShape:r,keptDims:o}=MI(t),i=t.length,a=e&&3===i&&1===t[0],s=a?t.slice(1):r,c=!e&&i>1&&!CI(t,n)&&r.length<i||a;return{useSqueezeShape:c,uniformShape:c?s:t,keptDims:o}}function ine(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function ane(e,t){return t.map((t=>e[t])).join(", ")}function sne(e,t,n){const r=[],o=[];let i,a,s,c=null,l=null;l=e.getUniformLocation(n,"NAN",!1),1===sA().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of t.variableNames){const o={name:d,uniform:e.getUniformLocation(n,d,u),offset:e.getUniformLocation(n,"offset".concat(d),u)};t.enableShapeUniforms&&(o.shape=e.getUniformLocation(n,"".concat(d,"Shape"),u),o.texShape=e.getUniformLocation(n,"".concat(d,"TexShape"),u)),r.push(o)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",u),s=e.getUniformLocation(n,"outShapeStrides",u),a=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const d of t.customUniforms)o.push(e.getUniformLocation(n,d.name,u));return{variablesLocations:r,customUniformLocations:o,infLoc:c,nanLoc:l,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:a}}function cne(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(((e,n)=>{const r=e.logicalShape,o=t[n],i=o.shape;if(!CI(r,i))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(i," must match"));if(e.isUniform&&o.isUniform)return;const a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!CI(a,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(a," and ").concat(s," must match"))}))}function lne(e){return sA().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class une{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Pee.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=Ute();this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Wte(["r","c","d"],e):Vte(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class dne{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Pee.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=Ute();this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?Wte(["r","c","d"],e):Vte(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class hne{constructor(e){this.variableNames=["A"],this.outTexUsage=Dee.DOWNLOAD;const t=Ute();this.outputShape=e,this.userCode="\n      ".concat(Kte,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}class pne{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Dee.DOWNLOAD;const t=Ute();this.outputShape=e,this.userCode="\n      ".concat(Kte,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}const fne={R:0,G:1,B:2,A:3};class mne{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Ute();this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length);let o="result";t&&(o="floor(result * 255. + 0.5)");let i="";for(let a=0;a<n.length;a++){const e=n[a];i+="\n          if(offset == ".concat(a,") {\n            result = values[").concat(fne[e],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Gte(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(n.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(n.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(r.texture2D,"(A, uv);\n          ").concat(i,"\n        }\n        ").concat(r.output," = vec4(").concat(o,", 0., 0., 0.);\n      }\n    ")}}class gne{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Ute();this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length);let r="",o="result";t&&(o="floor(result * 255. + 0.5)");for(let i=0;i<=1;i++)for(let t=0;t<=1;t++){const o=2*i+t;r+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(t," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(t,";\n          if (localCoords[1] + ").concat(i," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(i,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(n.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(o,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(o,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(o,"] = values[2];\n            } else {\n              result[").concat(o,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Gte(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(r,"\n\n          ").concat(n.output," = ").concat(o,";\n        }\n    ")}}function yne(e){const t=Ute();return Yee(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function vne(e){return tte(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function bne(e){return nte(e,new Uint16Array([0,1,2,2,1,3]))}function xne(e,t,n,r,o,i){ite(t,n);const a=ote(e),s=e.TEXTURE_2D;return Vee(e,(()=>e.bindTexture(s,a))),Vee(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),Vee(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),Vee(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),Vee(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===sA().getNumber("WEBGL_VERSION")?Vee(e,(()=>e.texImage2D(s,0,r,t,n,0,o,i,null))):Vee(e,(()=>e.texStorage2D(s,1,r,t,n))),Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:a,texShape:[n,t]}}function wne(e){return e.internalFormatFloat}function kne(e,t,n,r){const[o,i]=Fee(t,n);return xne(e,o,i,wne(r),r.textureFormatFloat,e.FLOAT)}function Sne(e){return e.internalFormatHalfFloat}function Cne(e,t,n,r){const[o,i]=Fee(t,n);return xne(e,o,i,Sne(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function Ene(e){return e.downloadTextureFormat}function _ne(e,t,n,r){const[o,i]=Fee(t,n);return xne(e,o,i,Ene(r),e.RGBA,e.UNSIGNED_BYTE)}function Tne(e){return e.internalFormatPackedFloat}function Nne(e,t,n,r){const[o,i]=zee(t,n);return xne(e,o,i,Tne(r),e.RGBA,e.FLOAT)}function Ine(e){return e.internalFormatPackedHalfFloat}function Ane(e,t,n,r){const[o,i]=zee(t,n);return xne(e,o,i,Ine(r),e.RGBA,r.textureTypeHalfFloat)}function One(e,t,n){Vee(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n)));return ste(e,t,"clipSpacePos",n,3,20,0)&&ste(e,t,"uv",n,2,20,12)}function Rne(e,t,n,r,o,i){let a,s,c;Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),o instanceof Uint8Array?(a=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,c=e.RGBA):(a=new Float32Array(n*r*4),s=e.FLOAT,c=i.internalFormatPackedFloat),a.set(o),2===sA().getNumber("WEBGL_VERSION")?Vee(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,a))):Vee(e,(()=>e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,s,a))),Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function Mne(e,t,n){Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===sA().getNumber("WEBGL_VERSION")?Vee(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):Vee(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===sA().getNumber("WEBGL_VERSION")?Vee(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):Vee(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),Vee(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}function jne(e,t,n,r){const o=e.createBuffer();Vee(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,o)));const i=16*t*n;return Vee(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ))),Vee(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),Vee(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),o}function Pne(e,t,n){const r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function Dne(e,t,n,r){const[o,i]=Fee(t,n),a=new Uint8Array(t*n*4);return Vee(e,(()=>e.readPixels(0,0,o,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,a))),new Float32Array(a.buffer)}function Lne(e,t,n,r,o,i,a,s){const c=e,l=new Float32Array(function(e,t){const[n,r]=zee(e,t);return n*r*4}(i,a));return c.bindBuffer(c.PIXEL_PACK_BUFFER,t),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,l),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),l}function Fne(e,t,n){const r=new Float32Array(t*n*4);return Vee(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}class Bne{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=sA().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,Mee(t,e)):this.gl=jee(t),e=this.gl,2===sA().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>Vee(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>Vee(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>Vee(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>Vee(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Vee(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>Vee(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>Vee(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>Vee(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===sA().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=qee(this.gl,e),Mte(this.gl,t))this.textureHalfFloatExtension=qee(this.gl,t);else if(sA().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Mte(this.gl,r))this.colorBufferHalfFloatExtension=qee(this.gl,r);else if(sA().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Mte(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Mte(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=vne(this.gl),this.indexBuffer=bne(this.gl),this.framebuffer=ate(this.gl),this.textureConfig=Uee(this.gl,this.textureHalfFloatExtension)}get debug(){return sA().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Vee(e,(()=>e.finish())),Vee(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),Vee(e,(()=>e.deleteFramebuffer(this.framebuffer))),Vee(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),Vee(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),Vee(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),kne(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),Cne(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),_ne(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),Mne(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),Rne(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),Ane(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),Nne(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(mte(this.gl,this.framebuffer),this.outputTexture=null),Vee(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>Dne(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,o,i){return Lne(this.gl,e,0,0,0,o,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return Pne(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=jne(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(sA().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(o,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=o}else sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>Fne(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=yne(t));const n=Zee(t);Vee(t,(()=>t.attachShader(n,this.vertexShader))),Vee(t,(()=>t.attachShader(n,e))),Qee(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&ete(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;Vee(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),One(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(Vee(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&ete(this.gl,this.program),Vee(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?ute(this.gl,e,t):dte(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Vee(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),hte(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,o]=zee(t,n);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&ete(this.gl,this.program),gte(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Vee(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Vee(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=qee(this.gl,2===sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await AI((()=>this.disposed||this.isQueryAvailable(e,sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in sA().platform&&(n=sA().platform.setTimeoutCustom.bind(sA().platform)),AI((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),fte(this.gl,e,this.framebuffer),this.debug&&gte(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(fte(this.gl,this.outputTexture,this.framebuffer),this.debug&&gte(this.gl)):mte(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;fte(r,e,this.framebuffer),this.debug&&gte(r),this.outputTexture=e,Vee(r,(()=>r.viewport(0,0,t,n))),Vee(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),Vee(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:zne,bincountImpl:Une,bincountReduceImpl:Vne,bitwiseAndImpl:Wne,castImpl:Hne,ceilImpl:Gne,concatImpl:Kne,equalImpl:qne,expImpl:Yne,expm1Impl:Xne,floorImpl:Jne,gatherNdImpl:$ne,gatherV2Impl:Zne,greaterImpl:Qne,greaterEqualImpl:ere,lessImpl:tre,lessEqualImpl:nre,linSpaceImpl:rre,logImpl:ore,maxImpl:ire,maximumImpl:are,minimumImpl:sre,multiplyImpl:cre,negImpl:lre,notEqualImpl:ure,prodImpl:dre,raggedGatherImpl:hre,raggedRangeImpl:pre,raggedTensorToTensorImpl:fre,rangeImpl:mre,rsqrtImpl:gre,scatterImpl:yre,sigmoidImpl:vre,simpleAbsImpl:bre,sliceImpl:xre,sparseFillEmptyRowsImpl:wre,sparseReshapeImpl:kre,sparseSegmentReductionImpl:Sre,sqrtImpl:Cre,staticRegexReplaceImpl:Ere,stridedSliceImpl:_re,stringNGramsImpl:Tre,stringSplitImpl:Nre,stringToHashBucketFastImpl:Ire,subImpl:Are,tileImpl:Ore,topKImpl:Rre,transposeImpl:Mre,uniqueImpl:jre}=K;function Pre(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>"".concat(e,".").concat(t)))}function Dre(e,t){return 1===t?[e]:Pre(e,t)}class Lre{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=lne(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Dre("rc",this.rank),t=rne(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),o=this.getOutput(e);this.userCode="\n        void main() {\n          ".concat(t," rc = getOutputCoords();\n\n          if(").concat(n,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(r,"\n\n            setOutput(vec4(").concat(o,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let o="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1");for(let t=2;t<this.rank;t++)o="".concat(e[e.length-1-t],",")+o;t.push(o)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let t="";for(let n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){const e=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(e," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}class Fre{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length);let n="";for(let r=0;r<4;r++){let e="thisRC = rc;";r%2===1&&(e+="thisRC.z += 1;"),r>1&&(e+="thisRC.y += 1;"),n+="\n        ".concat(e,"\n        ").concat(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(r,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(r>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){const n=t?Hte(["r","c","d"],"inputShape"):Vte(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(t,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Gte(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(n,"\n\n        setOutput(result);\n      }\n    ")}}class Bre{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=Ure(t,n),o=Vre(e,r,n);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const i=zre(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[o].pop();return this.usedTextures[o].push(e),e}let a;return r===Lee.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Lee.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Lee.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Lee.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Lee.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const o=Ure(n,r),i=Vre(t,o,r);i in this.freeTextures||(this.freeTextures[i]=[]);const a=zre(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=sA().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const c=this.usedTextures[i],l=c&&c.indexOf(e);if(null==l||l<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c[l]=c[c.length-1],c.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function zre(e,t,n,r,o){const i=function(e,t){switch(e){case Lee.PACKED_2X2_FLOAT32:return Tne(t);case Lee.PACKED_2X2_FLOAT16:return Ine(t);case Lee.UNPACKED_FLOAT32:return wne(t);case Lee.UNPACKED_FLOAT16:return Sne(t);case Lee.PACKED_4X1_UNSIGNED_BYTE:return Ene(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);let a;if(o){const[t,n]=zee(e[0],e[1]);a=t*n}else{const[t,n]=Fee(e[0],e[1]);a=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,i);return a*s}function Ure(e,t){if(e===Dee.UPLOAD)return Lee.PACKED_2X2_FLOAT32;if(e===Dee.RENDER||null==e)return function(e){return sA().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Lee.PACKED_2X2_FLOAT32:Lee.UNPACKED_FLOAT32:e?Lee.PACKED_2X2_FLOAT16:Lee.UNPACKED_FLOAT16}(t);if(e===Dee.DOWNLOAD||e===Dee.PIXELS)return Lee.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function Vre(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}class Wre{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const Hre="if (isnan(x)) return x;",Gre="return x;",Kre="return abs(x);";const qre="return (x >= 0.0) ? x : (exp(x) - 1.0);",Yre=Hre+"\n  return (x < 0.0) ? 0.0 : x;\n",Xre=Hre+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",Jre="return x;",$re="return 1.0 / (1.0 + exp(-1.0 * x));",Zre="return x;",Qre="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",eoe="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",toe="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",noe="return 1.0 / (1.0 + exp(-1.0 * x));";class roe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}class ooe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length);const t=e.length,n=Dre("rc",t),r=rne(t),o=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":"vec2(".concat(i.join(","),")");this.userCode="\n      void main() {\n        ".concat(r," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(o,");\n\n        setOutput(getChannel(packedInput, ").concat(a,"));\n      }\n    ")}}const ioe=MV,aoe={};const soe=sA().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class coe extends cI{nextDataId(){return coe.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!sA().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Bne)t=e;else{const n=jee(sA().getNumber("WEBGL_VERSION"),e);t=new Bne(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=jee(sA().getNumber("WEBGL_VERSION"));t=new Bne(e),this.binaryCache=((n=sA().getNumber("WEBGL_VERSION"))in aoe||(aoe[n]={}),aoe[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Bre(this.gpgpu),this.numMBBeforeWarning=null==sA().global.screen?1024:sA().global.screen.height*sA().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new sI(this,bP())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,o,i){const a=this.makeTensorInfo(t,n),s=this.texData.get(a.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,o]},s.texShape=[r,o];const c=kte(t),l=new mne(c,!1,i),u=this.runWebGLProgram(l,[a],n,[[r,o]]);return u.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(a),u.dataId}write(e,t,n){if((sA().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||sA().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:Dee.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,o){if(sA().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:Dee.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:o,slice:i,shape:a,isPacked:s}=t;if(null!=i){let t;t=s?new roe(a,Jre):new Wre(a,Jre);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:r}],r),o=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const c=null!=this.activeTimers;let l,u;if(c&&(l=aj()),"complex64"===r){u=AH(this.readSync(o.real.dataId),this.readSync(o.imag.dataId))}else u=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=aj()-l),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:o,dtype:i,complexTensorInfos:a,isPacked:s}=t;if(null!=o){let t;t=s?new roe(r,Jre):new Wre(r,Jre);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:i}],i),o=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if(sA().getBool("DEBUG")&&!sA().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===sA().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c,l,u=null;if("complex64"!==i&&sA().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const t=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...Bee(r))}if(this.pendingRead.set(e,[]),"complex64"!==i&&await this.gpgpu.createAndWaitForFence(),"complex64"===i){const e=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]);l=AH(e[0],e[1])}else if(null==u)l=this.getValuesFromTexture(e);else{const e=wI(r);l=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=c&&this.disposeIntermediateTensorInfo(c),null!=u){const e=this.gpgpu.gl;Vee(e,(()=>e.deleteBuffer(u)))}const d=this.convertAndCacheOnCPU(e,l),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&bP().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:o,slice:i,dtype:a,isPacked:s,texture:c}=n;if("complex64"===a)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){let n;n=s?new roe(o,Jre):new Wre(o,Jre);const r=this.runWebGLProgram(n,[{dataId:e,shape:o,dtype:a}],a),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const l=this.decode(e,t.customTexShape),u=bP().makeTensorFromTensorInfo(l),d=this.texData.get(l.dataId);return Object.assign({tensorRef:u},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>lj(e)));return LD(e.shape,e.dtype,n)}catch(b2e){throw new Error("Failed to decode encoded string bytes into utf-8")}return LD(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!Gee(n)){if(sA().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),o=wI(t);if(sA().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...Bee(t)).subarray(0,o);return this.disposeIntermediateTensorInfo(n),i}const i=sA().getBool("WEBGL_PACK")&&!0===r,a=i?kte(t):t,s=i?new pne(a):new hne(a),c=this.runWebGLProgram(s,[{shape:a,dtype:n,dataId:e}],"float32"),l=this.texData.get(c.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(l.texture.texture,l.texShape[0],l.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(c),u}timerAvailable(){return sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=dj(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),i=dj(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);a.kernelMs=mI(e),a.getExtraProfileInfo=()=>e.map(((e,t)=>({name:i[t],ms:e}))).map((e=>"".concat(e.name,": ").concat(e.ms))).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:aj(),endMs:null}}endTimer(e){return sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=aj(),e)}async getQueryTime(e){if(sA().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:o,isPacked:i,slice:a}=this.texData.get(e),s=a&&a.origDataId||e,c=this.dataRefCount.get(s);c>1?this.dataRefCount.set(s,c-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,o,i)));const l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:soe;return sA().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&wI(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){AM("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return ioe(e.shape,t)}packedUnaryOp(e,t,n){const r=new roe(e.shape,t),o=this.compileAndRun(r,[e],n);return bP().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=bre(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(sA().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Kre,e.dtype);const t=new Wre(e.shape,Kre),n=this.compileAndRun(t,[e]);return bP().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&UI(n[0])){const o=n.map((e=>cj(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return bP().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new ooe(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Lre(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[xte(e.shape),...wte(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[xte(t),...wte(t)],i=new Fre(o,n),a=[n],s=this.runWebGLProgram(i,[r],e.dtype,a,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:o,dtype:i}=n;if(null!=t){vI(wI(o)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const a=kte(o);let s;s=r?new dne(a):new une(a);const c=[null!=t?t:Bee(a)];return{dtype:i,shape:o,dataId:this.runWebGLProgram(s,[{shape:a,dtype:i,dataId:e}],i,c,!0,t).dataId}}runWebGLProgram(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0;const a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===Pee.DENSE){const t=null!=i?i:Bee(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===wI(a.shape))return s.values=jI(a.dtype,0),a;const c=[],l=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&wI(t.shape)<=sA().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),c.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!Ete(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),c.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);const u={shape:a.shape,texData:s,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const o=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const i=t.texData.texShape,{useSqueezeShape:a,uniformShape:s,keptDims:c}=one(e.packedInputs,t.shape,i);let l="",u="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];l="".concat(e[0]>1,"_").concat(e[1]>1)}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=qI(s);d="".concat(e[0]===i[1],"_").concat(e[e.length-1]===i[1])}}else u="".concat(s[0]>1,"_").concat(s[1]>1);const h=t.shape.length,p=2===s.length&&CI(t.shape,i),f=1===wI(t.shape),m=gL(t.shape,n.shape),g=!e.packedInputs&&h===n.shape.length&&CI(i,n.texData.texShape),y=e.packedInputs||s.length>2?"":"".concat(i[0]>1,"_").concat(i[1]>1);r+="".concat(h,"_").concat(g,"_").concat(a?c:"","_").concat(s.length,"_").concat(f,"_").concat(m,"_").concat(p,"_").concat(l,"_").concat(u,"_").concat(d,"_").concat(y,"_").concat(o)}else{const e=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(e,"_").concat(o)}}));const o=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+o+"".concat(sA().getNumber("WEBGL_VERSION")),i}(e,l,u),h=this.getAndSaveBinary(d,(()=>function(e,t,n,r){const o=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=o.map((e=>e.shapeInfo)),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Yte(o,a,t),c=Xee(e.gl,s),l=e.createProgram(c);return sA().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(l),Object.assign({program:t,fragmentShader:c,source:s,webGLProgram:l,inShapeInfos:i,outShapeInfo:a},sne(e,t,l)))}(this.gpgpu,e,l,u))),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),sA().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,o){t.program.enableShapeUniforms||(cne(t.inShapeInfos,n),cne([t.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):e.setOutputMatrixTexture(i.texture,a[0],a[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===sA().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let c=0;c<n.length;++c){const r=n[c],{uniform:o,offset:i,shape:a,texShape:s}=t.variablesLocations[c];if(a){const{uniformShape:n}=one(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(a,new Int32Array(n));break;case 2:e.gl.uniform2iv(a,new Int32Array(n));break;case 3:e.gl.uniform3iv(a,new Int32Array(n));break;case 4:e.gl.uniform4iv(a,new Int32Array(n))}}if(s&&e.gl.uniform2i(s,r.texData.texShape[0],r.texData.texShape[1]),null!=o)if(r.isUniform)if(wI(r.shape)<2)e.gl.uniform1f(o,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=r.texData.slice&&null!=i&&e.gl.uniform1i(i,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,o,c)}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=qI(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o)for(let c=0;c<t.program.customUniforms.length;++c){const n=t.program.customUniforms[c],r=t.customUniformLocations[c],i=o[c];if("float"===n.type)e.gl.uniform1fv(r,i);else if("vec2"===n.type)e.gl.uniform2fv(r,i);else if("vec3"===n.type)e.gl.uniform3fv(r,i);else if("vec4"===n.type)e.gl.uniform4fv(r,i);else if("int"===n.type)e.gl.uniform1iv(r,i);else if("ivec2"===n.type)e.gl.uniform2iv(r,i);else if("ivec3"===n.type)e.gl.uniform3iv(r,i);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(r,i)}}e.executeProgram()}(this.gpgpu,h,l,u,r),c.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=sA().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=aj();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!sA().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){const e=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),e}return a}compileAndRun(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,o)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!sA().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=kP((()=>{if(!sA().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=sA().getBool("DEBUG");sA().set("DEBUG",!1);const t=this.abs(tL(1e-8)).dataSync()[0];if(sA().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:o,texture:i,usage:a,isPacked:s}=t;if(null!=i)return;const c=null!=this.activeTimers;let l;c&&(l=aj());let u=t.texShape;if(null==u&&(u=Ste(n,s),t.texShape=u),null!=o){const e=kte(n);let i,a=u[1],d=u[0];const h=o instanceof Uint8Array||o instanceof Uint8ClampedArray;!s&&h||([a,d]=zee(u[0],u[1])),i=s?new gne(e,h):new mne(e,h);const p=h?[d,a]:u,f=this.makeTensorInfo(p,r),m=this.texData.get(f.dataId);m.usage=h?Dee.PIXELS:Dee.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),a,d,o);const g=[[d,a]],y=!0,v=this.runWebGLProgram(i,[f],r,g,y),b=this.texData.get(v.dataId);t.texShape=b.texShape,t.isPacked=b.isPacked,t.usage=b.usage,sA().get("ENGINE_COMPILE_ONLY")?this.disposeData(v.dataId):(t.texture=b.texture,t.values=null,this.texData.delete(v.dataId)),this.disposeIntermediateTensorInfo(f),c&&(this.uploadWaitMs+=aj()-l)}else{const e=this.acquireTexture(u,a,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(e," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*BI(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await aH(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw $ee(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:o,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:s}=sne(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=o,e.outShapeLocation=i,e.outShapeStridesLocation=a,e.outTexShapeLocation=s}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:o,width:i,channels:a}=e,s=bP().backend;if(!s.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const c=s.writeTexture(r,t,n,o,i,a);return bP().makeTensorFromDataId(c,t,n,s)}}coe.nextDataId=0;const loe="4.22.0";function uoe(){sA().set("WEBGL_FORCE_F16_TEXTURES",!0)}eP()&&RP("webgl",(()=>new coe),2);const doe={forceHalfFloat:uoe},hoe="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class poe{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=vL(t,n),this.enableShapeUniforms=lne(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}const foe="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class moe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=vL(t,n);const o=this.outputShape.length;this.enableShapeUniforms=lne(o);let i="";if(r)if(0===o||1===wI(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const e=rne(o);if(i="\n          ".concat(e," coords = getOutputCoords();\n        "),1===o)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const e=Dre("coords",o);this.enableShapeUniforms?i+="\n            bool nextRowOutOfBounds =\n              (".concat(e[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(e[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):i+="\n            bool nextRowOutOfBounds =\n              (".concat(e[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(e[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}}function goe(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const yoe={kernelName:NO,backendName:"webgl",kernelFunc:goe};function voe(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),s=goe({inputs:{x:r},backend:n}),c=goe({inputs:{x:o},backend:n});return a.complexTensorInfos={real:s,imag:c},i}const boe={kernelName:BA,backendName:"webgl",kernelFunc:voe},xoe="return (a < 0.) ? b * a : a;",woe="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const koe={kernelName:jO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r,a=n.makeTensorInfo([],"float32",oj(i,"float32")),s=sA().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new moe(woe,o.shape,a.shape):new poe(xoe,o.shape,a.shape),c=n.runWebGLProgram(s,[o,a],"float32");return n.disposeIntermediateTensorInfo(a),c}},Soe="return (a < 0.) ? b * a : a;",Coe="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const Eoe={kernelName:xR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,i=sA().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new moe(Coe,r.shape,o.shape):new poe(Soe,r.shape,o.shape);return n.runWebGLProgram(i,[r,o],"float32")}},_oe="if (isnan(x)) return x;";function Toe(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:o}=e;return e=>{let{inputs:i,backend:a}=e;const{x:s}=i,c=a,l=o||s.dtype;if(c.shouldExecuteOnCPU([s])&&null!=r){const e=c.texData.get(s.dataId),t=r(e.values,l);return c.makeTensorInfo(s.shape,l,t)}let u;return u=sA().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new roe(s.shape,n):new Wre(s.shape,t),c.runWebGLProgram(u,[s],l)}}function Noe(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:o=!1,cpuKernelImpl:i,dtype:a}=e;return e=>{let{inputs:s,backend:c}=e;const{a:l,b:u}=s,d=c;if(o&&"complex64"===l.dtype){const e=d.texData.get(l.dataId),n=d.texData.get(u.dataId),[r,o]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,o={dataId:n.dataId,dtype:n.dtype,shape:l.shape},i={dataId:r.dataId,dtype:r.dtype,shape:u.shape},a=new poe(t,l.shape,u.shape);return d.runWebGLProgram(a,[o,i],Dj(n.dtype,r.dtype))})),i=voe({inputs:{real:r,imag:o},backend:d});return d.disposeIntermediateTensorInfo(r),d.disposeIntermediateTensorInfo(o),i}const h=a||Dj(l.dtype,u.dtype);if(("string"===l.dtype||"string"===u.dtype||d.shouldExecuteOnCPU([l,u]))&&null!=i){const e=d.texData.get(l.dataId).values,t=d.texData.get(u.dataId).values,n="string"===l.dtype?uG(e):e,r="string"===l.dtype?uG(t):t,[o,a]=i(l.shape,u.shape,n,r,h),s=d.makeTensorInfo(a,h);return d.texData.get(s.dataId).values=o,s}let p;return p=sA().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new moe(n,l.shape,u.shape,r):new poe(t,l.shape,u.shape),d.runWebGLProgram(p,[l,u],h)}}function Ioe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Zre:Gre;if("relu"===e)return t?eoe:Yre;if("elu"===e)return t?Qre:qre;if("relu6"===e)return t?toe:Xre;if("prelu"===e)return t?Coe:Soe;if("leakyrelu"===e)return t?woe:xoe;if("sigmoid"===e)return t?noe:$re;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}class Aoe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=lne(this.outputShape.length);const l=r?e[1]:e[2],u=Math.ceil(l/2),d=r?"i * 2, rc.y":"rc.y, i * 2",h=o?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";a&&(m=s?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(a,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(a,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(a,"\n        }"),g="result = activation(result);");const y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let v="rc.x",b="rc.x";e[0]<t[0]?v="imod(rc.x, ".concat(e[0],")"):t[0]<e[0]&&(b="imod(rc.x, ".concat(t[0],")")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(u,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(v,";\n        int batchB = ").concat(b,";\n        for (int i = 0; i < ").concat(u,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(f[0],");\n          result += (").concat(p[1]," * ").concat(f[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}const Ooe={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class Roe{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=vL(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}const Moe="return a * b;";function joe(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,i=Dj(r.dtype,o.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),i=new Roe(Ooe.REAL,r.shape,o.shape),a=new Roe(Ooe.IMAG,r.shape,o.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:o.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:o.shape}],c=n.runWebGLProgram(i,s,"float32"),l=n.runWebGLProgram(a,s,"float32"),u=voe({inputs:{real:c,imag:l},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(l),u}if(n.shouldExecuteOnCPU([r,o])){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),[a,s]=cre(r.shape,o.shape,e.values,t.values,i),c=n.makeTensorInfo(s,i);return n.texData.get(c.dataId).values=a,c}let a;return a=sA().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new moe(Moe,r.shape,o.shape):new poe(Moe,r.shape,o.shape),n.runWebGLProgram(a,[r,o],i)}const Poe={kernelName:cR,backendName:"webgl",kernelFunc:joe};function Doe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,a=n,s=wI(o.shape),c=OI(i,s),l=wI(c);vI(s===l,(()=>"The new shape (".concat(c,") has ").concat(l," elements and the old ")+"shape (".concat(o.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."));const u=a.texData.get(o.dataId);return!u.isPacked||Ete(o.shape,c)||null!==u.texture&&Ete(u.shape,c)?(a.incRef(o.dataId),{dataId:o.dataId,shape:c,dtype:o.dtype}):function(e,t,n){const r=[xte(e.shape),...wte(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},i=[xte(t),...wte(t)],a=new Fre(i,r),s=[r],c=n.runWebGLProgram(a,[o],e.dtype,s,!0);return{dataId:c.dataId,shape:t,dtype:c.dtype}}(o,c,a)}const Loe={kernelName:IR,backendName:"webgl",kernelFunc:Doe};class Foe{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:i}=e;this.outputShape=[r,i];const a=4*Math.floor(n/4),s=n%4;let c="sumValue += dot(values, ones);";if(null!=t){const e=1/t;c="sumValue += dot(values * ".concat(EI(e)?e.toPrecision(2):e,", ones);")}let l="";o%n>0&&(l="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(l,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(a,";\n        if (").concat(1===s,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(2===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(3===s,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}class Boe{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:i}=e;this.outputShape=[r,i];let a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");let c="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?c="sumValue":"prod"===t?c="prodValue":"all"===t?c="allValue":"any"===t&&(c="anyValue");const l=4*Math.floor(n/4),u=n%4;let d="\n      if (".concat("sum"===t,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===t,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(s,"(values, minMaxValue);\n        if (").concat("min"===t," || ").concat("max"===t,") {\n          minMaxValue = ").concat(s,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===t?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");let p="";o%n>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(a,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        vec4 minMaxValue = vec4(").concat(a,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}}function zoe(e,t,n,r){const o=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=mH(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let i=e;for(let a=0;a<o.length;a++){const{inSize:s,windowSize:c,outSize:l}=o[a];let u,d;u="mean"===n?0===a?new Foe({windowSize:c,inSize:s,batchSize:e.shape[0],outSize:l},s):new Foe({windowSize:c,inSize:s,batchSize:e.shape[0],outSize:l}):new Boe({windowSize:c,inSize:s,batchSize:e.shape[0],outSize:l},n),d=i,i=r.runWebGLProgram(u,[i],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return i}class Uoe{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[t[i]];this.outputShape=n,this.rank=n.length;const r=rne(this.rank),o=function(e){const t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      ".concat(r," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")}}class Voe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let l=0;l<n.length;l++)n[l]=e[t[l]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const r=rne(this.rank),o=Pre("rc",this.rank),i=new Array(this.rank);for(let l=0;l<t.length;l++)i[t[l]]=o[l];const a="vec2(".concat(i.slice(-2).join(),")"),s="++".concat(o[this.rank-1]," < ").concat(n[this.rank-1]),c="getChannel(getA(".concat(i.join(),"), ").concat(a,")");this.userCode="\n    void main() {\n      ".concat(r," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(c,";\n      if(").concat(s,") {\n        result[1] = ").concat(c,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(n[this.rank-2],") {\n        result[2] = ").concat(c,";\n        if(").concat(s,") {\n          result[3] = ").concat(c,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}function Woe(e,t,n){const r=sA().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Voe(e.shape,t):new Uoe(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Hoe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;return function(e,t,n,r){const o=t,i=e.shape.length,a=RI(o,e.shape);let s=a;const c=vz(s,i),l=null!=c;let u=e;l&&(u=Woe(e,c,r),s=xz(s.length,i)),yz("sum",s,i);const[d,h]=mz(u.shape,s);let p=d;n&&(p=gz(d,a));const f=wI(h),m=Doe({inputs:{x:u},attrs:{shape:[wI(e.shape)/f,f]},backend:r}),g=zoe(m,Lj(e.dtype),"sum",r),y=Doe({inputs:{x:g},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),l&&r.disposeIntermediateTensorInfo(u),y}(o,i,a,n)}const Goe={kernelName:JR,backendName:"webgl",kernelFunc:Hoe};function Koe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:i}=r,a=n,s=o.shape.length,c=new Array(s);for(let u=0;u<c.length;u++)c[u]=o.shape[i[u]];let l;if(a.shouldExecuteOnCPU([o])){const e=a.texData.get(o.dataId).values,t=Mre(e,o.shape,o.dtype,i,c);l=a.makeTensorInfo(c,o.dtype);a.texData.get(l.dataId).values=t}else l=Woe(o,i,a);return l}const qoe={kernelName:vM,backendName:"webgl",kernelFunc:Koe},Yoe=1e3;function Xoe(e){let{a:t,b:n,transposeA:r,transposeB:o,backend:i,bias:a=null,preluActivationWeights:s=null,leakyreluAlpha:c=0,activation:l=null}=e;const u=t.shape.length,d=n.shape.length,h=r?t.shape[u-2]:t.shape[u-1],p=o?n.shape[d-1]:n.shape[d-2],f=r?t.shape[u-1]:t.shape[u-2],m=o?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),v=wI(g),b=wI(y),x=vL(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);vI(h===p,(()=>"Error in matMul: inner shapes (".concat(h,") and (")+"".concat(p,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(o," must match.")));const w=r?[v,h,f]:[v,f,h],k=o?[b,m,p]:[b,p,m],S=Doe({inputs:{x:t},backend:i,attrs:{shape:w}}),C=Doe({inputs:{x:n},backend:i,attrs:{shape:k}}),E=[S,C],_=Math.max(v,b),T=r?S.shape[1]:S.shape[2],N=null!=a,I=null!=s,A="leakyrelu"===l,O=null!=l?Ioe(l,!0):null;let R;if((1===f||1===m)&&T>Yoe&&!1===(N||I||A||null!=O)){let e=S,t=C;r&&(e=Koe({inputs:{x:S},backend:i,attrs:{perm:[0,2,1]}}),E.push(e)),o&&(t=Koe({inputs:{x:C},backend:i,attrs:{perm:[0,2,1]}}),E.push(t));const n=1===m;let a=e;1!==m&&(a=Doe({inputs:{x:e},backend:i,attrs:{shape:[_,T,1]}}),E.push(a));const s=1===m?2:1;let c=t;n&&(c=Doe({inputs:{x:t},backend:i,attrs:{shape:[_,1,T]}}),E.push(c));const l=joe({inputs:{a:a,b:c},backend:i});R=Hoe({inputs:{x:l},backend:i,attrs:{axis:s,keepDims:!0}}),E.push(l)}else{const e=Dj(t.dtype,n.dtype),l=new Aoe(w,k,[_,f,m],r,o,N,O,I,A),u=[S,C];if(null!=a&&u.push(a),I&&u.push(s),A){const e=i.makeTensorInfo([],"float32",oj(c,"float32"));u.push(e),E.push(e)}R=i.runWebGLProgram(l,u,e)}const M=Doe({inputs:{x:R},backend:i,attrs:{shape:x}});E.push(R);for(const j of E)i.disposeIntermediateTensorInfo(j);return M}const Joe={kernelName:TM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:a,preluActivationWeights:s}=t,{transposeA:c,transposeB:l,activation:u,leakyreluAlpha:d}=r;return Xoe({a:o,b:i,transposeA:c,transposeB:l,backend:n,bias:a,preluActivationWeights:s,leakyreluAlpha:d,activation:u})}},$oe="return abs(x);";const Zoe={kernelName:hA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=bre(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let o;return o=sA().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new roe(r.shape,$oe):new Wre(r.shape,$oe),n.runWebGLProgram(o,[r],r.dtype)}},Qoe=Toe({opSnippet:Hre+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),eie={kernelName:pA,backendName:"webgl",kernelFunc:Qoe},tie=Toe({opSnippet:Hre+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),nie={kernelName:fA,backendName:"webgl",kernelFunc:tie},rie="return a + b;",oie=Noe({opSnippet:rie,packedOpSnippet:rie,supportsComplex:!0,cpuKernelImpl:zne}),iie={kernelName:mA,backendName:"webgl",kernelFunc:oie};class aie{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));const r=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        float result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}class sie{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));const r=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        vec4 result = ").concat(r,";\n        setOutput(result);\n      }\n    ")}}const cie={kernelName:gA,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,o=n;if(1===o.length)return goe({inputs:{x:o[0]},backend:r});if(o.length>sA().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(o.length/2),n=e({inputs:o.slice(0,t),backend:r}),i=e({inputs:o.slice(t),backend:r});return e({inputs:[n,i],backend:r})}const i=o.map((e=>e.dtype)).reduce(((e,t)=>Dj(e,t))),a=o.map((e=>e.shape)),s=sA().getBool("WEBGL_PACK")?new sie(o[0].shape,a):new aie(o[0].shape,a);return r.runWebGLProgram(s,o,i)}};const lie={kernelName:yA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,c=RI(i,o.shape);let l=c;const u=vz(l,s);let d=o;null!=u&&(d=Koe({inputs:{x:o},backend:n,attrs:{perm:u}}),l=xz(l.length,s)),yz("all",l,s);const[h,p]=mz(d.shape,l),f=Doe({inputs:{x:d},backend:n,attrs:{shape:[-1,wI(p)]}}),m=zoe(f,f.dtype,"all",n);let g;if(a){g=Doe({inputs:{x:m},backend:n,attrs:{shape:gz(h,c)}})}else g=Doe({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};const uie={kernelName:vA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,c=RI(i,o.shape);let l=c;const u=vz(l,s);let d=o;null!=u&&(d=Koe({inputs:{x:o},backend:n,attrs:{perm:u}}),l=xz(l.length,s)),yz("any",l,s);const[h,p]=mz(d.shape,l),f=Doe({inputs:{x:d},backend:n,attrs:{shape:[-1,wI(p)]}}),m=zoe(f,f.dtype,"any",n);let g;if(a){g=Doe({inputs:{x:m},backend:n,attrs:{shape:gz(h,c)}})}else g=Doe({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};class die{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];const a="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(r,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          int inIdx = ").concat(s,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(a," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}class hie{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,vI(e.length>2,(()=>"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")));const o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const a=this.outputShape,s=a.length,c=rne(s),l=Dre("coords",s);let u,d;if(1===i){d=s+1;const e=rne(d);u="\n        ".concat(e," sourceLocR = ").concat(e,"(").concat(l.join(),", 0);\n        ++").concat(l[s-1],";\n        ").concat(e," sourceLocG = ").concat(e,"(").concat(l.join(),", 0);\n        ++").concat(l[s-2],";\n        ").concat(e," sourceLocA = ").concat(e,"(").concat(l.join(),", 0);\n        --").concat(l[s-1],";\n        ").concat(e," sourceLocB = ").concat(e,"(").concat(l.join(),", 0);\n        --").concat(l[s-2],";")}else d=s,u="\n        ".concat(c," sourceLocR = coords;\n        ++").concat(l[s-1],";\n        ").concat(c," sourceLocG = coords;\n        ++").concat(l[s-2],";\n        ").concat(c," sourceLocA = coords;\n        --").concat(l[s-1],";\n        ").concat(c," sourceLocB = coords;\n        --").concat(l[s-2],";");const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],f=h.map((e=>"int "+e)),m=Dre("sourceLocR",d-1).concat("inIdx.r"),g=Dre("sourceLocG",d-1).concat("inIdx.g"),y=Dre("sourceLocB",d-1).concat("inIdx.b"),v=Dre("sourceLocA",d-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",x=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(m.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(v.join(),")));"),w="vec4(\n            getAChannel(".concat(m.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(v.join(),") : 0.)"),k=r?"":"\n      float getBestIndicesAChannel(".concat(f.join(),") {\n        return getChannel(getBestIndicesA(").concat(h.join(),"),\n                                          vec2(").concat(h.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(f.join(),") {\n        return getChannel(getA(").concat(h.join(),"),\n                               vec2(").concat(h.slice(-2).join(),"));\n      }\n      ").concat(k,"\n      void main() {\n        ").concat(c," coords = getOutputCoords();\n        bool hasNextCol = ").concat(l[s-1]," < ").concat(a[s-1]-1,";\n        bool hasNextRow = ").concat(l[s-2]," < ").concat(a[s-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(p,", sourceLocG").concat(p,",\n          sourceLocB").concat(p,", sourceLocA").concat(p,") * ").concat(t,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(w,";\n\n        for (int i = 0; i < ").concat(t,"; i++) {\n          inIdx = srcIdx;\n          ").concat(x,"\n          vec4 candidate = ").concat(w,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(b,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}function pie(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.shape[0],i=t.shape[1];null!=r&&(o=r.shape[0],i=r.shape[1]);const a=mH(i),s={windowSize:a,inSize:i,batchSize:o,outSize:Math.ceil(i/a)},c=new die(s,n,null==r),l=[t];null!=r&&l.push(r);const u=e.runWebGLProgram(c,l,"int32");if(1===u.shape[1])return u;const d=pie(e,t,n,u);return e.disposeIntermediateTensorInfo(u),d}function fie(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=null!=r?r.shape:t.shape,i=mH(o[o.length-1]),a=new hie(o,i,n,null==r),s=null==r?[t]:[t,r],c=e.runWebGLProgram(a,s,"int32");if(c.shape.length===t.shape.length){const r=fie(e,t,n,c);return e.disposeIntermediateTensorInfo(c),r}return c}function mie(e,t,n,r){const o=[n];if(yz("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,t.shape.length),!sA().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],i=e.texData.get(t.dataId);let a=t;null!==i&&i.isPacked&&(a=e.unpackTensor(t),n.push(a));const[s,c]=mz(a.shape,o),l=wI(c),u=Doe({inputs:{x:a},backend:e,attrs:{shape:[-1,l]}});n.push(u);const d=pie(e,u,r);n.push(d);const h=Doe({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),h}return fie(e,t,r)}const gie={kernelName:bA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=RI(i,o.shape);const s=vz(a,o.shape.length);let c=o;const l=[];null!=s&&(c=Koe({inputs:{x:o},backend:n,attrs:{perm:s}}),l.push(c),a=xz(a.length,c.shape.length)),yz("argMax",[a[0]],c.shape.length);const u=mie(n,c,a[0],"max");return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const yie={kernelName:xA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=RI(i,o.shape);const s=vz(a,o.shape.length);let c=o;const l=[];null!=s&&(c=Koe({inputs:{x:o},backend:n,attrs:{perm:s}}),l.push(c),a=xz(a.length,c.shape.length)),yz("argMin",[a[0]],c.shape.length);const u=mie(n,c,a[0],"min");return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},vie=Toe({opSnippet:Hre+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),bie={kernelName:wA,backendName:"webgl",kernelFunc:vie},xie=Toe({opSnippet:Hre+"return log(x + sqrt(x * x + 1.0));"}),wie={kernelName:kA,backendName:"webgl",kernelFunc:xie},kie=Toe({opSnippet:Hre+"\n  return atan(x);\n"}),Sie={kernelName:SA,backendName:"webgl",kernelFunc:kie},Cie=Noe({opSnippet:hoe+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+foe+"\n  return result;\n"}),Eie={kernelName:EA,backendName:"webgl",kernelFunc:Cie},_ie=Toe({opSnippet:Hre+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),Tie={kernelName:CA,backendName:"webgl",kernelFunc:_ie};class Nie{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideHeight,s=e.strideWidth,c=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec2 strides = ivec2(".concat(a,", ").concat(s,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(u,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(t," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(r?o?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let v="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(v="avgValue / max(count, 1.0)");const b=4*Math.floor(i/4),x=i%4,w="\n      if (".concat(f,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(a,", ").concat(s,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(b,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(w,"\n          }\n\n          int xC = xCCorner + ").concat(b,";\n          if (").concat(1===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(2===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(w,"\n          } else if (").concat(3===x,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(w,"\n          }\n        }\n        setOutput(").concat(v,");\n      }\n    ")}}class Iie{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideDepth,s=e.strideHeight,c=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const v="avg"===t;let b="0.0";if(v||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(a,", ").concat(s,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(u,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(f,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(t," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(r?o?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(p," * ").concat(f," +\n                      wR * ").concat(f," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let x="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(x="avgValue / max(count, 1.0)");const w=4*Math.floor(i/4),k=i%4,S="\n      if (".concat(v,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(a,", ").concat(s,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(u,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(w,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(S,"\n            }\n\n            int xC = xCCorner + ").concat(w,";\n            if (").concat(1===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(2===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(3===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(S,"\n            }\n          }\n        }\n        setOutput(").concat(x,");\n      }\n    ")}}const Aie={kernelName:_A,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Bte(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:c}=r;vI(gB(a,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(1,"'")));const l=aB(o.shape,i,a,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&CI(l.inShape,l.outShape))return goe({inputs:{x:o},backend:n});const u=new Nie(l,"avg",!1);return n.runWebGLProgram(u,[o],"float32")}};const Oie={kernelName:NA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:c,dataFormat:l}=r,u=sB(o.shape,i,a,[1,1,1],s,c,l),d=new Iie(u,"avg",!1);return n.runWebGLProgram(d,[o],"float32")}};class Rie{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,c=e.effectiveFilterWidth,l=s-1-e.padInfo.top,u=c-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(u,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(s,";\n            wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(a,") {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Mie{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,c=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=d-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(f,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n            wD += ").concat(s,") {\n          float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const jie={kernelName:IA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:c,pad:l,dimRoundingMode:u}=r,d=sB(a.shape,s,c,[1,1,1],l,u),h=new Mie(d);return n.runWebGLProgram(h,[o],a.dtype)}};const Pie={kernelName:TA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i;Bte([o,i],"avgPoolGrad");const{filterSize:s,strides:c,pad:l}=r,u=aB(a.shape,s,c,1,l),d=new Rie(u);return n.runWebGLProgram(d,[o],a.dtype)}};const Die={kernelName:AA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:a,transposeB:s}=r;return Xoe({a:o,b:i,transposeA:a,transposeB:s,backend:n})}};class Lie{constructor(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],vL(e,t),vL(e,n);let a="0.0";null!=r&&(vL(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="1.0";null!=o&&(vL(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(a,";\n        float scale = ").concat(s,";\n        float inv = scale * inversesqrt(variance + float(").concat(i,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}class Fie{constructor(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],vL(e,t),vL(e,n);let a="vec4(0.0)";null!=r&&(vL(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=o&&(vL(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(a,";\n        vec4 scale = ").concat(s,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(i,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}const Bie={kernelName:SO,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,mean:i,variance:a,offset:s,scale:c}=t;vI(i.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),vI(null==s||i.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),vI(null==c||i.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=r;null==l&&(l=.001);const u=[o,i,a];let d=null;null!=s&&(d=s.shape,u.push(s));let h=null;null!=c&&(h=c.shape,u.push(c));const p=sA().getBool("WEBGL_PACK_NORMALIZATION")?new Fie(o.shape,i.shape,a.shape,d,h,l):new Lie(o.shape,i.shape,a.shape,d,h,l);return n.runWebGLProgram(p,u,u[0].dtype)}};class zie{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=rne(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return Uie.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank);let r;const o=e.map(((e,t)=>"sourceLoc.".concat(Uie[t]," = start[").concat(t,"] + coords.").concat(Uie[t],";")));r="\n        ".concat(t," sourceLoc;\n        ").concat(t," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(n,"));\n      }\n    ")}}const Uie=["x","y","z","w","u","v"];class Vie{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=rne(this.rank),n=Dre("coords",this.rank),r=Dre("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2(".concat(r.slice(-2).join(),")"),i="getChannel(getSource(".concat(r.join(),"), ").concat(o,")"),a="\n      result.x = ".concat(i,";\n      if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(r[this.rank-1],";\n        result.y = ").concat(i,";\n        --").concat(r[this.rank-1],";\n      }\n    "),s=1===this.rank?"":"\n      --".concat(n[this.rank-1],";\n      if (++").concat(n[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(r[this.rank-2],";\n        result.z = ").concat(i,";\n        if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(r[this.rank-1],";\n          result.w = ").concat(i,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(t,"(").concat(e.map(((e,t)=>"start[".concat(t,"]"))).join(),");"):e.map(((e,t)=>"".concat(r[t]," = ").concat(n[t]," + start[").concat(t,"];"))).join("\n");this.userCode="\n      void main() {\n        ".concat(t," coords = getOutputCoords();\n        ").concat(t," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(a,"\n        ").concat(s,"\n        setOutput(result);\n      }\n    ")}}function Wie(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:a}=r,[s,c]=NF(o,i,a);if(fF(o,s,c),0===wI(c))return n.makeTensorInfo(c,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=n.texData.get(o.dataId),t=xre(e.values,s,c,o.shape,o.dtype);return n.makeTensorInfo(c,o.dtype,t)}const{isPacked:l}=n.texData.get(o.dataId),u=_F(o.shape,s,c);if(l||!u){const e=sA().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Vie(c):new zie(c),t=[s];return n.runWebGLProgram(e,[o],o.dtype,t)}return n.uploadToGPU(o.dataId),function(e,t,n,r){const o=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),a=r.texData.get(i.dataId);Object.assign(a,o),a.refCount=1,a.shape=n,a.dtype=e.dtype;let s=TF(t,qI(e.shape));o.slice&&(s+=o.slice.flatOffset),a.slice={flatOffset:s,origDataId:o.slice&&o.slice.origDataId||e.dataId};const c=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,c+1),i}(o,s,c,n)}const Hie={kernelName:WR,backendName:"webgl",kernelFunc:Wie},Gie={kernelName:OA,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:a}=r;vI(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),c=yH(o.shape,i,s),l=vH(c.length,i.length),u=bH(o.shape,i,s),d=xH(a,i.length),h=wH(u,a,i.length),p=[],f=Doe({inputs:{x:o},backend:n,attrs:{shape:c}}),m=Koe({inputs:{x:f},backend:n,attrs:{perm:l}}),g=Doe({inputs:{x:m},backend:n,attrs:{shape:u}}),y=Wie({inputs:{x:g},backend:n,attrs:{begin:d,size:h}});return p.push(f),p.push(m),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const Kie={kernelName:RA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a}=r,s=n.readSync(o.dataId),c=n.readSync(i.dataId),l=Une(s,c,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,l)}};const qie={kernelName:MA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,i=sA().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=sA().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,o])||1===a){const e=n.texData.get(r.dataId).values,t=n.texData.get(o.dataId).values,[i,a]=Wne(r.shape,o.shape,e,t,r.dtype),s=n.makeTensorInfo(a,r.dtype);return n.texData.get(s.dataId).values=i,s}let s;return s=i?new moe("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,o.shape,!1):new poe("\n  return float(int(a.r) & int(b.r));\n",r.shape,o.shape),n.runWebGLProgram(s,[r,o],r.dtype)}};const Yie={kernelName:PA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.readSync(r.dataId),a=n.readSync(o.dataId),s=vL(Array.from(i),Array.from(a));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},Xie=Noe({opSnippet:"return float(a != b);",cpuKernelImpl:ure,dtype:"bool"}),Jie={kernelName:uR,backendName:"webgl",kernelFunc:Xie};function $ie(e){const{inputs:t,backend:n}=e,{input:r}=t;return goe({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const Zie={kernelName:_R,backendName:"webgl",kernelFunc:$ie},Qie="return float(int(x));";const eae={kernelName:DA,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:o}=t,{x:i}=n,{dtype:a}=o;if("complex64"===a){if("complex64"===i.dtype)return goe({inputs:{x:i},backend:r});const t=sU(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),o=voe({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),o}if("complex64"===i.dtype){const t=$ie({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:a}});return r.disposeIntermediateTensorInfo(t),n}if(!FI(i.dtype,a)){const e=goe({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:a}}if(r.shouldExecuteOnCPU([i])){const e=r.texData.get(i.dataId).values,[t,n,o]=Hne(e,i.shape,i.dtype,a);return r.makeTensorInfo(t,n,o)}if("int32"===a)return function(e,t){const n=new Wre(e.shape,Qie),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===a){const e=r.makeTensorInfo([],"bool",jI("bool",1)),t=Xie({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error("Error in Cast: failed to cast ".concat(i.dtype," to ").concat(a))}},tae="return ceil(x);",nae=Toe({opSnippet:tae,packedOpSnippet:tae,cpuKernelImpl:Gne}),rae={kernelName:LA,backendName:"webgl",kernelFunc:nae};class oae{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class iae{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const aae={kernelName:FA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:i,clipValueMax:a}=r;let s;s=sA().getBool("WEBGL_PACK_CLIP")?new iae(o.shape):new oae(o.shape);const c=[[i],[a]];return n.runWebGLProgram(s,[o],o.dtype,c)}};class sae{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function cae(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const lae={kernelName:zA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=n.texData.get(r.dataId),i=new sae(r.shape),a=[cae(r,o.complexTensorInfos.real),cae(r,o.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}};class uae{constructor(e){this.outputShape=[],this.outputShape=cH(e,1),this.variableNames=e.map(((e,t)=>"T".concat(t)));const t=new Array(e.length-1);t[0]=e[0][1];for(let i=1;i<t.length;i++)t[i]=t[i-1]+e[i][1];const n=["if (yC < ".concat(t[0],") setOutput(getT0(yR, yC));")];for(let i=1;i<t.length;i++){const e=t[i-1];n.push("else if (yC < ".concat(t[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(e,"));"))}const r=t.length,o=t[t.length-1];n.push("else setOutput(getT".concat(r,"(yR, yC-").concat(o,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(n.join("\n        "),"\n      }\n    ")}}class dae{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=cH(e,t);const n=this.outputShape,r=n.length,o=rne(r),i=Dre("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>"T".concat(t)));const s=new Array(e.length-1);s[0]=e[0][t];for(let f=1;f<s.length;f++)s[f]=s[f-1]+e[f][t];const c=a[t],l=a.slice(-2),u=a.join();let d="if (".concat(c," < ").concat(s[0],") {\n        return getChannel(\n            getT0(").concat(u,"), vec2(").concat(l.join(),"));\n        }");for(let f=1;f<s.length;f++){const e=s[f-1];d+="\n        if (".concat(c," < ").concat(s[f],"  && ").concat(c," >= ").concat(s[f-1],") {\n          return getChannel(\n            getT").concat(f,"(").concat(hae(a,c,e),"),\n            vec2(").concat(hae(l,c,e),"));\n        }")}const h=s.length,p=s[s.length-1];d+="\n        return getChannel(\n          getT".concat(h,"(").concat(hae(a,c,p),"),\n          vec2(").concat(hae(l,c,p),"));"),this.userCode="\n      float getValue(".concat(a.map((e=>"int "+e)),") {\n        ").concat(d,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(i,"), 0., 0., 0.);\n\n        ").concat(i[r-1]," = ").concat(i[r-1]," + 1;\n        if (").concat(i[r-1]," < ").concat(n[r-1],") {\n          result.g = getValue(").concat(i,");\n        }\n\n        ").concat(i[r-2]," = ").concat(i[r-2]," + 1;\n        if (").concat(i[r-2]," < ").concat(n[r-2],") {\n          result.a = getValue(").concat(i,");\n        }\n\n        ").concat(i[r-1]," = ").concat(i[r-1]," - 1;\n        if (").concat(i[r-2]," < ").concat(n[r-2]," &&\n            ").concat(i[r-1]," < ").concat(n[r-1],") {\n          result.b = getValue(").concat(i,");\n        }\n        setOutput(result);\n      }\n    ")}}function hae(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?"".concat(e," - ").concat(n):e)).join()}function pae(e){const{inputs:t,backend:n}=e,{input:r}=t;return goe({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const fae={kernelName:AO,backendName:"webgl",kernelFunc:pae};function mae(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>$ie({inputs:{input:e},backend:n}))),o=e.map((e=>pae({inputs:{input:e},backend:n}))),i=mae(r,t,n),a=mae(o,t,n),s=voe({inputs:{real:i,imag:a},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),o.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),s}let o=n.shouldExecuteOnCPU(e);if("string"===r&&(o=!0),o){const o=e.map((e=>{const r=wI(e.shape.slice(t));return Doe({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),i=o.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),a=cH(o.map((e=>e.shape)),1),s=1===o[0].shape[0],c=Kne(i,a,r,s),l=cH(e.map((e=>e.shape)),t),u=n.makeTensorInfo(l,r,c);return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const i=e.filter((e=>wI(e.shape)>0)),a=sA().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(1===i.length){const t=a?new Wre(e[0].shape,Jre):new roe(e[0].shape,Jre);return n.runWebGLProgram(t,e,r)}const s=sA().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>s){const e=[];for(let o=0;o<i.length;o+=s){const r=i.slice(o,o+s);e.push(mae(r,t,n))}const r=mae(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(a){const e=new dae(i.map((e=>e.shape)),t);return n.runWebGLProgram(e,i,r)}const{tensors2D:c,outShape:l}=function(e,t,n){const r=cH(e.map((e=>e.shape)),t),o=e.map((e=>Doe({inputs:{x:e},attrs:{shape:[-1,wI(e.shape.slice(t))]},backend:n})));return{tensors2D:o,outShape:r}}(i,t,n),u=new uae(c.map((e=>e.shape))),d=n.runWebGLProgram(u,c,r);c.forEach((e=>n.disposeIntermediateTensorInfo(e)));const h=Doe({inputs:{x:d},attrs:{shape:l},backend:n});return n.disposeIntermediateTensorInfo(d),h}function gae(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=RI(o,t[0].shape)[0];sH(t.map((e=>e.shape)),i);const a=cH(t.map((e=>e.shape)),i);if(0===wI(a))return n.makeTensorInfo(a,t[0].dtype,[]);const s=t.filter((e=>wI(e.shape)>0));return 1===s.length?goe({inputs:{x:s[0]},backend:n}):mae(s,i,n)}const yae={kernelName:UA,backendName:"webgl",kernelFunc:gae};class vae{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,a=e.padInfo.left,s=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,v=m?3:1;let b="",x="";n&&(b=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(b,"\n\n      const ivec2 strides = ivec2(").concat(s,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(i,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(v,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===f,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(2===f,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===f,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(w,"\n        ").concat(x,"\n        setOutput(result);\n      }\n    ")}}class bae{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,c=e.dilationHeight,l=e.dilationWidth,u=e.filterDepth,d=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(o,", ").concat(i,", ").concat(a,");\n      const ivec3 pads = ivec3(").concat(t,", ").concat(n,", ").concat(r,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(u,"; wF++) {\n          int xF = xFCorner + wF * ").concat(s,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===f,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(2===f,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===f,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class xae{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=lne(this.outputShape.length);const i=e.padInfo.left,a=e.strideWidth,s=e.dilationWidth,c=e.filterHeight,l=e.filterWidth,u=l;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<l;m++)d+="\n           vec4 xTexelC".concat(2*m,";\n           int xTexelC").concat(2*m,"Ready;\n           vec4 xTexelC").concat(2*m+1,";\n           int xTexelC").concat(2*m+1,"Ready;\n           vec4 xC").concat(m,";");d+="\n     for (int r = 0; r < ".concat(c,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let m=0;m<l;m++)d+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(d+="\n           xC = xCCorner + ".concat(t*s,";\n           "),1===a){if(t<l&&(i%2===1?(d+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n               "),d+=1===s&&t>0?"\n                 xC".concat(t," = vec4(xTexelC").concat(t-2,".zw, xTexelC").concat(t,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(t," = vec4(previous.zw, xTexelC").concat(t,".xy);\n                   } else {\n                     xC").concat(t," = vec4(0.0, 0.0, xTexelC").concat(t,".xy);\n                   }\n                   ")):d+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xC").concat(t," = xTexelC").concat(t,";\n                 "),t+1<l)){const e=i%2===0?pI(s):s;s%2===0&&i%2===1||s%2!==0&&i%2!==1?(d+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(e,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                     xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(t+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(t+1,"Ready = 1;\n                   }\n                   "),d+=s>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(t+1," = vec4(previous.zw, xTexelC").concat(t+1,".xy);\n                     } else {\n                      xC").concat(t+1," = vec4(0.0, 0.0, xTexelC").concat(t+1,".xy);\n                     }\n                     "):"\n                     xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".xy);\n                     ")):d+=1===e?"\n                     xC".concat(t+1," = xTexelC").concat(t,";\n                     "):"\n                     xCOffset = xC + ".concat(e,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                       xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(t+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(t+1,"Ready = 1;\n                     }\n\n                     xC").concat(t+1," = xTexelC").concat(t+1,";\n                     ")}}else t<l&&(i%2===1?(d+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n               "),t+1<l&&(d+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(t+1," = vec4(xTexelC").concat(t+1,".xy, final.xy);\n                 "))):(d+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(\n                   xTexelC").concat(t,".xy, xTexelC").concat(t+1,".xy);\n               "),t+1<l&&(d+="\n                   xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n                 "))));t<l&&(d+="\n             wTexel = getW(r, ".concat(t,", d1, d2);\n             dotProd += xC").concat(t,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(t,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),t+1<l&&(d+="\n               wTexel = getW(r, ".concat(t+1,", d1, d2);\n               dotProd += xC").concat(t+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(t+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let h="",p="";n&&(h=r?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(n,"\n         }"):o?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(n,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(n,"\n         }"),p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(h,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(d,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(f,"\n         ").concat(p,"\n         setOutput(result);\n       }\n     ")}}class wae{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=lne(this.outputShape.length);const{dataFormat:n}=t,r=Ute(),o="channelsLast"===n,i=o?1:2,a=o?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let c="";for(let l=0;l<=1;l++)for(let e=0;e<=1;e++)c+="\n          blockIndex = rc.z + ".concat(e,";\n          pos = rc.y + ").concat(l,";\n\n          ").concat(s,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(i,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(a,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(o,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+e,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+e,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(r.output," = result;\n      }\n    ")}}function kae(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function Sae(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:c=null}=e;const l=t.shape,u=o.texData.get(t.dataId),d=r.inChannels,h=l[0]*l[1]*l[2],p=r.outChannels,f="channelsLast"===r.dataFormat,m=!1;let g;const y=[];if(null!=a){const e=kae(a.shape,f);null!=e&&(a=Doe({inputs:{x:a},backend:o,attrs:{shape:e}}),y.push(a))}if(null!=i){const e=kae(i.shape,f);null!=e&&(i=Doe({inputs:{x:i},backend:o,attrs:{shape:e}}),y.push(i))}if(!((1===h||1===p)&&d>Yoe)&&u.isPacked&&f&&null!=u.texture&&l[2]%2!==0&&CI(u.shape.slice(-3),l.slice(-3))){const e=l[0]*l[1]*(l[2]+1),d={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},h=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,vI(Ete(u.shape,d.shape),(()=>"packed reshape ".concat(u.shape," to ").concat(d.shape," isn't free")));const p=Doe({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}});y.push(p);const f=Xoe({a:d,b:p,backend:o,transposeA:false,transposeB:m,bias:i,activation:c,preluActivationWeights:a,leakyreluAlpha:s}),v=o.texData.get(f.dataId);vI(v.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=h,v.shape=r.outShape,g=goe({inputs:{x:f},backend:o}),g.shape=r.outShape,y.push(f)}else{const e=r.outHeight*r.outWidth,l=Doe({inputs:{x:t},backend:o,attrs:{shape:f?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),u=Doe({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}}),d=Xoe({a:f?l:u,b:f?u:l,transposeA:!f,transposeB:m,backend:o,bias:i,activation:c,preluActivationWeights:a,leakyreluAlpha:s});g=Doe({inputs:{x:d},backend:o,attrs:{shape:r.outShape}}),y.push(l),y.push(u),y.push(d)}for(const v of y)o.disposeIntermediateTensorInfo(v);return g}function Cae(e){let{x:t,filter:n,convInfo:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:c=null}=e;const{filterWidth:l,filterHeight:u,inChannels:d,outWidth:h,outHeight:p,dataFormat:f}=r,m="channelsLast"===f,g=l*u*d,y=p*h,v=[r.batchSize,g,y],b=[];if(null!=a){const e=kae(a.shape,m);null!=e&&(a=Doe({inputs:{x:a},backend:o,attrs:{shape:e}}),b.push(a))}if(null!=i){const e=kae(i.shape,m);null!=e&&(i=Doe({inputs:{x:i},backend:o,attrs:{shape:e}}),b.push(i))}const x=Doe({inputs:{x:n},backend:o,attrs:{shape:[1,g,wI(n.shape)/g]}});b.push(x);const w=new wae(v,r),k=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],S=o.runWebGLProgram(w,[t],"float32",k),C=Doe({inputs:{x:S},backend:o,attrs:{shape:v}});b.push(S),b.push(C);const E=null!=i,_=null!=a,T="leakyrelu"===c,N=c?Ioe(c,!0):null,I=new Aoe(m?C.shape:x.shape,m?x.shape:C.shape,m?[r.batchSize,y,r.outChannels]:[r.batchSize,r.outChannels,y],!0,!1,E,N,_,T),A=m?[C,x]:[x,C];if(i&&A.push(i),_&&A.push(a),T){const e=o.makeTensorInfo([],"float32",oj(s,"float32"));A.push(e),b.push(e)}const O=o.runWebGLProgram(I,A,"float32"),R=Doe({inputs:{x:O},backend:o,attrs:{shape:r.outShape}});b.push(O);for(const M of b)o.disposeIntermediateTensorInfo(M);return R}const Eae={kernelName:VA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:c,dilations:l,dimRoundingMode:u}=r,d=vB(c),h=cB(o.shape,i.shape,a,l,s,u,!1,d);let p;if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(h.strideWidth<=2&&"channelsLast"===d&&sA().getBool("WEBGL_EXP_CONV")){const e=new xae(h),t=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];p=n.runWebGLProgram(e,[o,i],"float32",t)}else if(sA().getBool("WEBGL_CONV_IM2COL"))p=Cae({x:o,filter:i,convInfo:h,backend:n});else{const e=new vae(h);p=n.runWebGLProgram(e,[o,i],"float32")}else p=Sae({x:o,filter:i,convInfo:h,backend:n});const f=Doe({inputs:{x:p},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class _ae{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(i?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Tae{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,c=i?1:2,l=i?2:3,u=i?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(u,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(i,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Nae{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(t," - ").concat(o,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(n," - ").concat(i,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(r," - ").concat(a,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Iae{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,c=n-1-e.padInfo.top,l=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(s,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(t,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(t," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(n,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(n," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(r,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(r," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const Aae={kernelName:WA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,dataFormat:c,dimRoundingMode:l,filterShape:u}=r,d=vB(c),h=cB(o.shape,u,a,1,s,l,!1,d),p=new _ae(h);return n.runWebGLProgram(p,[o,i],"float32")}};class Oae{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=lne(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,o=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(r,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}const Rae={kernelName:HA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:a,strides:s,pad:c,dataFormat:l,dimRoundingMode:u}=r,d=vB(l),h=cB(a,i.shape,s,1,c,u,!1,d);if(sA().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[h.strideHeight,h.strideWidth]],t=new Oae(h);return n.runWebGLProgram(t,[o,i],"float32",e)}{const e=new Tae(h);return n.runWebGLProgram(e,[o,i],"float32")}}};const Mae={kernelName:GA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:c}=r,l=lB(o.shape,i.shape,a,c,s),u=new bae(l);return n.runWebGLProgram(u,[o,i],"float32")}};const jae={kernelName:KA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,filterShape:c}=r,l=lB(o.shape,c,a,1,s),u=new Nae(l);return n.runWebGLProgram(u,[o,i],"float32")}};const Pae={kernelName:qA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:a,strides:s,inputShape:c}=r,l=lB(c,i.shape,s,1,a),u=new Iae(l);return n.runWebGLProgram(u,[o,i],"float32")}},Dae=Toe({opSnippet:_oe+"\n  return cos(x);\n",packedOpSnippet:"\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(foe,"\n  return result;\n")}),Lae={kernelName:YA,backendName:"webgl",kernelFunc:Dae},Fae=Toe({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),Bae={kernelName:XA,backendName:"webgl",kernelFunc:Fae};class zae{constructor(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,a,s,c]=e,[l]=t,[u,d]=n;this.outputShape=[l,u,d,c];const h="bilinear"===r?1:0,[p,f]=["".concat(a-1,".0"),"".concat(s-1,".0")],[m,g,y]=u>1?["".concat((a-1)/(u-1)),"(y2-y1) * height_ratio","y1*".concat(p," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(p)],[v,b,x]=d>1?["".concat((s-1)/(d-1)),"(x2-x1) * width_ratio","x1*".concat(f," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(f)];this.userCode="\n      const float height_ratio = float(".concat(m,");\n      const float width_ratio = float(").concat(v,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(i,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(b,";\n\n        float in_y = ").concat(y,";\n        if( in_y < 0.0 || in_y > ").concat(p," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(x,";\n        if( in_x < 0.0 || in_x > ").concat(f," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(h," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}const Uae={kernelName:ZA,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:a}=t,{cropSize:s,method:c,extrapolationValue:l}=r,u=new zae(o.shape,i.shape,s,c,l);return n.runWebGLProgram(u,[o,i,a],"float32")}};var Vae;!function(e){e.Prod="*",e.Sum="+"}(Vae||(Vae={}));class Wae{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,i=this.op===Vae.Prod?"1.0":"0.0",a=n?i:"getX(".concat(Hae(o,"coords",this.op),")"),s=this.outputShape[this.outputShape.length-1];let c="",l="";n?(c=r?"end != ".concat(s-1):"end != 0",l=r?"end + 1":"end - 1"):(c=r?"end + pow2 < ".concat(s):"end >= pow2",l=r?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(rne(o)," coords = getOutputCoords();\n        int end = ").concat(Gae(o,"coords",this.op),";\n        float val = ").concat(a,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(Gae(o,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(Hae(o,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function Hae(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function Gae(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function Kae(e,t,n,r,o,i){const a=t.shape.length,s=vz([r],a);let c=t;null!=s&&(c=Koe({inputs:{x:t},backend:n,attrs:{perm:s}}));const l=xz(1,a)[0];if(l!==a-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));const u=c.shape[l];let d=goe({inputs:{x:c},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const t=new Wae(e,c.shape,!1,i),r=[[h]],o=d;d=n.runWebGLProgram(t,[d],d.dtype,r),n.disposeIntermediateTensorInfo(o)}if(o){const t=new Wae(e,c.shape,o,i),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=s){const e=Koe({inputs:{x:d},backend:n,attrs:{perm:bz(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(c),e}return d}const qae={kernelName:JA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return Kae(Vae.Prod,o,n,i,a,s)}};const Yae={kernelName:$A,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return Kae(Vae.Sum,o,n,i,a,s)}};const Xae={kernelName:QA,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a,binaryOutput:s}=r;if(1===o.shape.length){const e=n.readSync(o.dataId),t=n.readSync(i.dataId),r=Une(e,t,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,r)}if(2===o.shape.length){const e=n.bufferSync(o),t=n.bufferSync(i),r=Vne(e,t,a,s);return n.makeTensorInfo(r.shape,i.dtype,r.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(o.shape.length,"."))}};class Jae{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(t,";\n      int offset_h = imod(h, ").concat(t,");\n      int in_w = w / ").concat(t,";\n      int offset_w = imod(w, ").concat(t,");\n      int offset_d = (offset_h * ").concat(t," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const $ae={kernelName:eO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:a}=r,s=o.shape[0],c=("NHWC"===a?o.shape[1]:o.shape[2])*i,l=("NHWC"===a?o.shape[2]:o.shape[3])*i,u=("NHWC"===a?o.shape[3]:o.shape[1])/(i*i),d=new Jae("NHWC"===a?[s,c,l,u]:[s,u,c,l],i,a);return n.runWebGLProgram(d,[o],o.dtype)}};class Zae{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=lne(this.outputShape.length);const i=e.filterHeight,a=e.filterWidth,s=e.outChannels/e.inChannels;let c="",l="";n&&(c=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),l="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(s,";\n        int q = d2 - d1 * ").concat(s,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(i,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(a,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(u,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")}}class Qae{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=lne(this.outputShape.length);const i=e.outChannels/e.inChannels,a=e.padInfo.left,s=e.strideWidth,c=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,d=u;let h="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)h+="\n          vec4 xTexelC".concat(2*g,";\n          int xTexelC").concat(2*g,"Ready;\n          vec4 xTexelC").concat(2*g+1,";\n          int xTexelC").concat(2*g+1,"Ready;\n          vec4 xC").concat(g,";");h+="\n    for (int r = 0; r < ".concat(l,"; r++) {\n      ");for(let g=0;g<u;g++)h+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");h+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(h+="\n          xC = xCCorner + ".concat(e*c,";\n          "),1===s){if(e<u&&(a%2===1?(h+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n              "),h+=1===c&&e>0?"\n                xC".concat(e," = vec4(xTexelC").concat(e-2,".zw, xTexelC").concat(e,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(e," = vec4(previous.zw, xTexelC").concat(e,".xy);\n                  } else {\n                    xC").concat(e," = vec4(0.0, 0.0, xTexelC").concat(e,".xy);\n                  }\n                  ")):h+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xC").concat(e," = xTexelC").concat(e,";\n                "),e+1<u)){const t=a%2===0?pI(c):c;c%2===0&&a%2===1||c%2!==0&&a%2!==1?(h+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(t,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                    xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(e+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(e+1,"Ready = 1;\n                  }\n                  "),h+=c>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(e+1," = vec4(previous.zw, xTexelC").concat(e+1,".xy);\n                    } else {\n                     xC").concat(e+1," = vec4(0.0, 0.0, xTexelC").concat(e+1,".xy);\n                    }\n                    "):"\n                    xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".xy);\n                    ")):h+=1===t?"\n                    xC".concat(e+1," = xTexelC").concat(e,";\n                    "):"\n                    xCOffset = xC + ".concat(t,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                      xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(e+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(e+1,"Ready = 1;\n                    }\n\n                    xC").concat(e+1," = xTexelC").concat(e+1,";\n                    ")}}else e<u&&(a%2===1?(h+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n              "),e+1<u&&(h+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(e+1," = vec4(xTexelC").concat(e+1,".xy, final.xy);\n                "))):(h+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(\n                  xTexelC").concat(e,".xy, xTexelC").concat(e+1,".xy);\n              "),e+1<u&&(h+="\n                  xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n                "))));e<u&&(h+="\n            wTexel = getW(r, ".concat(e,", d1, q);\n            dotProd += xC").concat(e," * vec4(wTexel.xz, wTexel.xz);\n          "),e+1<u&&(h+="\n              wTexel = getW(r, ".concat(e+1,", d1, q);\n              dotProd += xC").concat(e+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}h+="\n    }\n  ",h+="\n      }\n    ";let p="",f="";n&&(p=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):o?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(n,"\n        }"),f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(p,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(i,";\n        int q = d2 - d1 * ").concat(i,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(h,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(m,"\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}const ese={kernelName:tO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:c,dimRoundingMode:l}=r;let u=c;null==u&&(u=[1,1]),vI(gB(a,u),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(a," and dilations '").concat(u,"'")));const d=cB(o.shape,i.shape,a,u,s,l,!0);let h;h=sA().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new Qae(d):new Zae(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[o,i],"float32",p)}};class tse{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(i," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(r,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class nse{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(i,", ").concat(a,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(s,"; dm++) {\n              int d2 = d1 * ").concat(s," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const rse={kernelName:nO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,dilations:s,pad:c,dimRoundingMode:l,filterShape:u}=r,d=cB(o.shape,u,a,s,c,l,!0),h=new tse(d);return n.runWebGLProgram(h,[o,i],"float32")}};const ose={kernelName:rO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,dilations:s,pad:c,dimRoundingMode:l,inputShape:u}=r,d=cB(u,i.shape,a,s,c,l,!0),h=new nse(d);return n.runWebGLProgram(h,[o,i],"float32")}};class ise{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const ase={kernelName:oO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],i=wI(r.shape),a=Doe({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new ise(i),c=n.runWebGLProgram(s,[a],a.dtype),l=Doe({inputs:{x:c},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(c),l}};class sse{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:o,strideWidth:i,filterHeight:a,filterWidth:s,dilationHeight:c,dilationWidth:l}=e,{top:u,left:d}=r;this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n      const ivec2 pads = ivec2(").concat(u,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(a,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(t,") {\n            for (int w = 0; w < ").concat(s,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(n,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}const cse={kernelName:iO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:c}=r,l=iB(o.shape,i.shape,a,s,"NHWC",c);let u;const d=new sse(l);u=n.runWebGLProgram(d,[o,i],"float32");const h=Doe({inputs:{x:u},backend:n,attrs:{shape:l.outShape}});return n.disposeIntermediateTensorInfo(u),h}};const lse={kernelName:uO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:a,summedDims:s,idDims:c}=VH(o,i.length);HH(a.length,c,i);const{path:l,steps:u}=GH(s,c),d=u.length;let h=null,p=a.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:r}=WH(p,c[e]);let o;KH(t)?o=i[e]:(o=Koe({inputs:{x:i[e]},backend:n,attrs:{perm:t}}),f.push(o));const a=o.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);CI(o.shape,a)||(o=Doe({inputs:{x:o},backend:n,attrs:{shape:a}}),f.push(o)),null===h?h=o:(h=joe({inputs:{a:o,b:h},backend:n}),f.push(h))}m<d-1&&(l[m]>=0&&(h=Hoe({inputs:{x:h},backend:n,attrs:{axis:l[m]-(a.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}},use=Toe({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),dse={kernelName:dO,backendName:"webgl",kernelFunc:use},hse={kernelName:hO,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:o}=t,i=sA().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new moe("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,o.shape):new poe("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,o.shape);return n.runWebGLProgram(i,[r,o],r.dtype)}},pse=Noe({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:qne}),fse={kernelName:fO,backendName:"webgl",kernelFunc:pse},mse=Toe({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(CH,";\n  float a1 = ").concat(EH,";\n  float a2 = ").concat(_H,";\n  float a3 = ").concat(TH,";\n  float a4 = ").concat(NH,";\n  float a5 = ").concat(IH,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),gse={kernelName:pO,backendName:"webgl",kernelFunc:mse},yse=Toe({opSnippet:_oe+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Yne,dtype:"float32"}),vse={kernelName:mO,backendName:"webgl",kernelFunc:yse};function bse(e){const{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:i}=t,a=i.shape.length,s=i.shape.slice();let c=o;return o<0&&(vI(-(a+1)<=o,(()=>"Axis must be in the interval [".concat(-(a+1),", ").concat(a,"]"))),c=a+o+1),s.splice(c,0,1),Doe({inputs:{x:i},backend:r,attrs:{shape:s}})}const xse={kernelName:gO,backendName:"webgl",kernelFunc:bse},wse="return exp(x) - 1.0;",kse=Toe({opSnippet:wse,packedOpSnippet:wse,cpuKernelImpl:Xne}),Sse={kernelName:yO,backendName:"webgl",kernelFunc:kse};class Cse{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const o=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),i=n?"".concat(r,".0"):"1.0";let a;if("real"===e)a="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));a="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(o,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(a,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(r,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(r,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(i,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}function Ese(e,t,n){const r=n.texData.get(e.dataId),o=wI(e.shape),i=e.shape[e.shape.length-1],a=Doe({inputs:{x:e},backend:n,attrs:{shape:[o/i,i]}}),s=a.shape,c=new Cse("real",s,t),l=new Cse("imag",s,t),u=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(c,u,"float32"),h=n.runWebGLProgram(l,u,"float32"),p=voe({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const f=Doe({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(p),f}const _se={kernelName:vO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return Ese(r,!1,n)}};class Tse{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function Nse(e){const{backend:t,attrs:n}=e,{shape:r,value:o}=n;let{dtype:i}=n;if(i=i||HI(o),"string"===i){const e=PI(i,wI(r));return e.fill(o),t.makeTensorInfo(r,i,e)}{const e=new Tse(r,o),n=[[o]];return t.runWebGLProgram(e,[],i,n)}}const Ise={kernelName:bO,backendName:"webgl",kernelFunc:Nse};class Ase{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(t," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(t,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const Ose={kernelName:xO,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,o=n,i=new Ase(r.shape);return o.runWebGLProgram(i,[r],r.dtype)}},Rse="return floor(x);",Mse=Toe({opSnippet:Rse,packedOpSnippet:Rse,cpuKernelImpl:Jne}),jse={kernelName:wO,backendName:"webgl",kernelFunc:Mse},Pse=Noe({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),Dse={kernelName:kO,backendName:"webgl",kernelFunc:Pse};class Lse{constructor(e){this.variableNames=["A"];const t=Ute(),[n,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(r,".0, ").concat(n,".0);\n\n        vec4 values = ").concat(t.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}class Fse{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=Ute(),[n,r]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(r,".0, ").concat(n,".0);\n            vec4 values = ").concat(t.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}const Bse={kernelName:EM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:o}=t;const{numChannels:i}=r,a="undefined"!==typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&o instanceof HTMLImageElement,[c,l]=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],u=[l,c],d=[l,c,i];if(s||a){const e=sA().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=zse&&e===Use||(Use=e,zse=document.createElement("canvas").getContext("2d",{willReadFrequently:Use})),zse.canvas.width=c,zse.canvas.height=l,zse.drawImage(o,0,0,c,l),o=zse.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=Dee.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),o);const p=sA().getBool("WEBGL_PACK")?new Fse(d):new Lse(d),f=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),f}};let zse,Use=sA().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const Vse={kernelName:NM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:c,pad:l,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=r,m=vB(u),g=cB(o.shape,i.shape,c,d,l,h,!1,m);let y;const v=[],b=null!=a,x=null!=s,w="leakyrelu"===p,k=()=>{const e=[o,i],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=Doe({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return v.push(t),t}return e};if(b&&e.push(t(a,u)),x&&e.push(t(s,u)),w){const t=n.makeTensorInfo([],"float32",oj(f,"float32"));e.push(t),v.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&sA().getBool("WEBGL_EXP_CONV")){const e=p?Ioe(p,!0):null,t=new xae(g,b,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],o=k();y=n.runWebGLProgram(t,o,"float32",r)}else if(sA().getBool("WEBGL_CONV_IM2COL"))y=Cae({x:o,filter:i,convInfo:g,backend:n,bias:a,activation:p,preluActivationWeights:s,leakyreluAlpha:f});else{const e=p?Ioe(p,!1):null,t=new vae(g,b,e,x,w),r=k();y=n.runWebGLProgram(t,r,"float32")}else y=Sae({x:o,filter:i,convInfo:g,backend:n,bias:a,activation:p,preluActivationWeights:s,leakyreluAlpha:f});const S=Doe({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return v.push(y),v.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};const Wse={kernelName:IM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:c,pad:l,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=r,f=[];let m=u;null==m&&(m=[1,1]),vI(gB(c,m),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(c," and dilations '").concat(m,"'")));const g=cB(o.shape,i.shape,c,m,l,d,!0),y=sA().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,v=h?Ioe(h,y):null,b=[o,i],x=null!=a,w=null!=s,k="leakyrelu"===h;if(x&&b.push(a),w&&b.push(s),k){const e=n.makeTensorInfo([],"float32",oj(p,"float32"));b.push(e),f.push(e)}let S;S=y?new Qae(g,x,v,w,k):new Zae(g,x,v,w,k);const C=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=n.runWebGLProgram(S,b,"float32",C);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),E}};class Hse{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const o=rne(n.length);let i="\n    int index;";for(let a=0;a<this.sliceDim;a++)i+="\n          index = round(getIndices(coords[0], ".concat(a,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[a],";\n          flattenIndex += index * ").concat(this.strides[a],";");this.userCode="\n         void main() {\n          ".concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(i,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}const Gse={kernelName:EO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=o.shape,a=i[i.length-1],s=wI(r.shape),[c,l,u,d]=cF(r,o),h=Doe({inputs:{x:o},backend:n,attrs:{shape:[l,a]}}),p=Doe({inputs:{x:r},backend:n,attrs:{shape:[wI(r.shape)/u,u]}});if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.readSync(o.dataId),t=n.bufferSync(r),i=$ne(e,t,r.dtype,l,a,u,d,r.shape,s);return n.makeTensorInfo(c,r.dtype,i.values)}const f=new Hse(a,d,[l,u],r.shape),m=n.runWebGLProgram(f,[p,h],p.dtype),g=Doe({inputs:{x:m},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class Kse{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=rne(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push("".concat(t[r]));return n.join()}(e);this.userCode="\n      void main() {\n        ".concat(n," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(r,"));\n      }\n    ")}}function qse(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:a,batchDims:s}=r,c=RI(a,o.shape)[0];if(sA().get("DEBUG")){const e=n.readSync(i.dataId),t=o.shape[c];for(let n=0;n<e.length;++n){const r=e[n];vI(r<=t-1&&r>=0,(()=>"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")))}}const l=lG(o,i,c,s),u=wI(i.shape),d=[],h=Doe({inputs:{x:o},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),p=Doe({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,u/l.batchSize]}});d.push(h),d.push(p);const f=[l.batchSize,l.outerSize,u/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([o,i])||"string"===o.dtype){const e=n.bufferSync(p),t=n.bufferSync(h),r=Zne(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(l.outputShape,r.dtype,r.values)}const m=new Kse(h.shape,f),g=n.runWebGLProgram(m,[h,p],h.dtype);d.push(g);const y=Doe({inputs:{x:g},backend:n,attrs:{shape:l.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const Yse={kernelName:CO,backendName:"webgl",kernelFunc:qse},Xse=Noe({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Qne,dtype:"bool"}),Jse={kernelName:_O,backendName:"webgl",kernelFunc:Xse},$se=Noe({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:ere}),Zse={kernelName:TO,backendName:"webgl",kernelFunc:$se};const Qse={kernelName:IO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return Ese(r,!0,n)}},ece=Toe({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),tce={kernelName:OO,backendName:"webgl",kernelFunc:ece},nce=Toe({opSnippet:"return float(isinf(x));",dtype:"bool"}),rce={kernelName:RO,backendName:"webgl",kernelFunc:nce},oce=Toe({opSnippet:"return float(isnan(x));",dtype:"bool"}),ice={kernelName:MO,backendName:"webgl",kernelFunc:oce},ace=Noe({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:tre,dtype:"bool"}),sce={kernelName:PO,backendName:"webgl",kernelFunc:ace},cce=Noe({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:nre,dtype:"bool"}),lce={kernelName:DO,backendName:"webgl",kernelFunc:cce};const uce={kernelName:LO,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,a=rre(r,o,i);return t.makeTensorInfo([a.length],"float32",a)}},dce=Toe({opSnippet:_oe+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:ore}),hce={kernelName:FO,backendName:"webgl",kernelFunc:dce},pce=Toe({opSnippet:_oe+"\n  return log(1.0 + x);\n"}),fce={kernelName:BO,backendName:"webgl",kernelFunc:pce},mce=Noe({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),gce={kernelName:zO,backendName:"webgl",kernelFunc:mce},yce=Toe({opSnippet:"return float(!(x >= 1.0));"}),vce={kernelName:UO,backendName:"webgl",kernelFunc:yce},bce=Noe({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),xce={kernelName:VO,backendName:"webgl",kernelFunc:bce};class wce{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];const i=t,a=e[3]-1;let s;this.outputShape=e;const c="float(".concat(n,") + float(").concat(r,") * sum");s=.5===o?"inversesqrt(".concat(c,")"):1===o?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(i,"; j <= ").concat(i,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(a,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(s,";\n        setOutput(val);\n      }\n    ")}}class kce{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=t,a=e[3]-1;let s;this.outputShape=e;const c="float(".concat(n,") + float(").concat(r,") * sum");s=.5===o?"inversesqrt(".concat(c,")"):1===o?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(i,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(i,"; j <= ").concat(i,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(a,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(s,";\n        setOutput(result);\n      }\n    ")}}const Sce={kernelName:KO,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:a,alpha:s,beta:c}=r,l=sA().getBool("WEBGL_PACK_NORMALIZATION")?new kce(o.shape,i,a,s,c):new wce(o.shape,i,a,s,c);return n.runWebGLProgram(l,[o],o.dtype)}};class Cce{constructor(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(t,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(t," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(r,") * norm + float(").concat(n,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(r,")\n                * float(").concat(o,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(o,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}const Ece={kernelName:qO,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:a}=t,{depthRadius:s,bias:c,alpha:l,beta:u}=r,d=new Cce(o.shape,s,c,l,u);return n.runWebGLProgram(d,[o,i,a],o.dtype)}};function _ce(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:a}=r,s=o.shape.length,c=RI(i,o.shape);let l=c;const u=vz(l,s),d=null!=u,h=n.shouldExecuteOnCPU([o]);let p=o;if(d){if(h){const e=n.texData.get(p.dataId).values,t=new Array(s);for(let n=0;n<t.length;n++)t[n]=o.shape[u[n]];const r=Mre(e,o.shape,o.dtype,u,t);p=n.makeTensorInfo(t,o.dtype);n.texData.get(p.dataId).values=r}else p=Woe(o,u,n);l=xz(l.length,s)}yz("max",l,s);const[f,m]=mz(p.shape,l);let g,y=f;if(a&&(y=gz(f,c)),h){const e=n.texData.get(p.dataId).values,t=ire(e,wI(m),y,o.dtype);g=n.makeTensorInfo(y,o.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const o=wI(t),i=Doe({inputs:{x:e},attrs:{shape:[wI(e.shape)/o,o]},backend:r}),a=zoe(i,e.dtype,"max",r),s=Doe({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}(p,m,y,n);return d&&n.disposeIntermediateTensorInfo(p),g}const Tce={kernelName:XO,backendName:"webgl",kernelFunc:_ce},Nce=Noe({opSnippet:hoe+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+foe+"\n  return result;\n",cpuKernelImpl:are}),Ice={kernelName:JO,backendName:"webgl",kernelFunc:Nce};const Ace={kernelName:$O,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Bte(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:c}=r;vI(gB(a,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(1,"'")));const l=aB(o.shape,i,a,1,s,c);if(1===l.filterWidth&&1===l.filterHeight&&CI(l.inShape,l.outShape))return goe({inputs:{x:o},backend:n});const u=new Nie(l,"max",!1);return n.runWebGLProgram(u,[o],o.dtype)}};const Oce={kernelName:QO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dataFormat:c,dimRoundingMode:l}=r,u=sB(o.shape,i,a,[1,1,1],s,l,c),d=new Iie(u,"max",!1);return n.runWebGLProgram(d,[o],o.dtype)}};class Rce{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,c=o*i-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(o,";\n          wR += ").concat(r,") {\n          float dyR = float(dyRCorner + wR) / ").concat(t,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(i," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class Mce{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,c=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.front,d=c-1-e.padInfo.top,h=l-1-e.padInfo.left,p=s*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(s,";\n           wD += ").concat(o,") {\n          float dyD = float(dyDCorner + wD) / ").concat(t,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(i,") {\n            float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(a,") {\n              float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const jce={kernelName:eR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:c,pad:l,dimRoundingMode:u}=r,d=sB(a.shape,s,c,[1,1,1],l,u),h=new Iie(d,"max",!0),p=n.runWebGLProgram(h,[a],a.dtype),f=new Mce(d),m=n.runWebGLProgram(f,[o,p],a.dtype);return n.disposeIntermediateTensorInfo(p),m}};const Pce={kernelName:ZO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:a}=t,s=i;Bte([i,a],"maxPoolGrad");const{filterSize:c,strides:l,pad:u,dimRoundingMode:d}=r,h=aB(s.shape,c,l,1,u,d),p=new Nie(h,"max",!0),f=n.runWebGLProgram(p,[s],s.dtype),m=new Rce(h),g=n.runWebGLProgram(m,[o,f],s.dtype);return n.disposeIntermediateTensorInfo(f),g}};const Dce={kernelName:tR,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{filterSize:i,strides:a,pad:s,includeBatchInIndex:c}=n,l=r;vI(4===o.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(o.shape.length,".")));const u=[1,1];vI(gB(a,u),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(u,"'")));const d=aB(o.shape,i,a,u,s),[h,p]=function(e,t,n,r){let o=new Nie(n,"max",!1);const i=r.runWebGLProgram(o,[e],"float32");return o=new Nie(n,"max",!0,!0,t),[i,r.runWebGLProgram(o,[e],"float32")]}(o,c,d,l);return[h,p]}};const Lce={kernelName:nR,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{keepDims:i,axis:a}=n,s=r,c=o.shape.length,l=RI(a,o.shape);let u=l;const d=vz(u,c),h=null!=d,p=s.shouldExecuteOnCPU([o]),f=[];let m=o;if(h){if(p){const e=s.texData.get(m.dataId).values,t=new Array(c);for(let r=0;r<t.length;r++)t[r]=o.shape[d[r]];const n=Mre(e,o.shape,o.dtype,d,t);m=s.makeTensorInfo(t,o.dtype);s.texData.get(m.dataId).values=n}else m=Woe(o,d,s);f.push(m),u=xz(u.length,c)}yz("sum",u,c);const[g,y]=mz(m.shape,u);let v=g;i&&(v=gz(g,l));const b=function(e,t,n,r){const o=wI(t),i=Doe({inputs:{x:e},attrs:{shape:[wI(e.shape)/o,o]},backend:r}),a=zoe(i,"float32","mean",r),s=Doe({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}(m,y,v,s);for(const x of f)s.disposeIntermediateTensorInfo(x);return b}};const Fce={kernelName:rR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,c=RI(i,o.shape);let l=c;const u=vz(l,s);let d=o;null!=u&&(d=Koe({inputs:{x:o},backend:n,attrs:{perm:u}}),l=xz(l.length,o.shape.length)),yz("min",l,s);const[h,p]=mz(d.shape,l),f=Doe({inputs:{x:d},backend:n,attrs:{shape:[-1,wI(p)]}}),m=zoe(f,f.dtype,"min",n);let g;if(a){g=Doe({inputs:{x:m},backend:n,attrs:{shape:gz(h,c)}})}else g=Doe({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}},Bce=Noe({opSnippet:hoe+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+foe+"\n  return result;\n",cpuKernelImpl:sre}),zce={kernelName:oR,backendName:"webgl",kernelFunc:Bce};class Uce{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=rne(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),c="reflect"===n?0:1;this.userCode=1!==r?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(r,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(o," coords = outC - start;\n        setOutput(getX(").concat(s,"));\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")}}class Vce{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=rne(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=Dre("rc",r),c=Dre("source",r),l="".concat(s[r-1]," < ").concat(this.outputShape[r-1]),u=1===r?"source":"vec2(".concat(c.slice(-2).join(),")"),d="reflect"===n?0:1;let h="";if(1===r){const e="\n        ".concat(o," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(o," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        ").concat(s[r-1]," += 1;\n        if(").concat(l,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        }\n      ")}else{const e="\n        ".concat(o," source = rc;\n        ").concat(o," lt = ").concat(o,"(lessThan(source, start));\n        ").concat(o," gte = ").concat(o,"(greaterThanEqual(source, end));\n        ").concat(o," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(o," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        ").concat(s[r-1]," += 1;\n        if(").concat(l,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        }\n        rc = outputLoc;\n        ").concat(s[r-2]," += 1;\n        if(").concat(s[r-2]," < ").concat(this.outputShape[r-2],") {\n          ").concat(e,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n          ").concat(s[r-1]," += 1;\n          if(").concat(l,") {\n            ").concat(e,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")}}const Wce={kernelName:iR,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o}=t,{paddings:i,mode:a}=r,s=sA().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Vce(o.shape,i,a):new Uce(o.shape,i,a);return n.runWebGLProgram(s,[o],o.dtype)}},Hce=Noe({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+foe+"\n  return result;\n"}),Gce={kernelName:aR,backendName:"webgl",kernelFunc:Hce};class Kce{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(t-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(t-1,"));\n      }\n    ")}}const qce=Noe({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Yce={kernelName:lO,backendName:"webgl",kernelFunc:qce},Xce="return a - b;",Jce=Noe({opSnippet:Xce,packedOpSnippet:Xce,supportsComplex:!0,cpuKernelImpl:Are}),$ce={kernelName:hM,backendName:"webgl",kernelFunc:Jce};function Zce(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,a=RI([i],o.shape),s=_ce({inputs:{x:o},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),c=gz(s.shape,a),l=Doe({inputs:{x:s},backend:n,attrs:{shape:c}}),u=Jce({inputs:{a:o,b:l},backend:n}),d=yse({inputs:{x:u},backend:n}),h=Hoe({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:!1}}),p=Doe({inputs:{x:h},backend:n,attrs:{shape:c}}),f=qce({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}const Qce={kernelName:QR,backendName:"webgl",kernelFunc:Zce};const ele={kernelName:sR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:a,normalized:s}=r,c=s?o:Zce({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),l=c.shape[0],u=c.shape[1],d=new Kce(l,u,i),h=[[a]],p=n.runWebGLProgram(d,[c],"int32",h);return s||n.disposeIntermediateTensorInfo(c),p}},tle=Hre+"\n  return -x;\n";const nle={kernelName:lR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,o]=lre(e.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,t)}let o;return o=sA().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new roe(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Wre(r.shape,tle),n.runWebGLProgram(o,[r],r.dtype)}},rle=pW;const ole={kernelName:dR,backendName:"webgl",kernelFunc:function(e){AM("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:c}=r,l=n.readSync(o.dataId),u=n.readSync(i.dataId),{selectedIndices:d}=rle(l,u,a,s,c);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},ile=fW;const ale={kernelName:hR,backendName:"webgl",kernelFunc:function(e){AM("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:c,padToMaxOutputSize:l}=r,u=n.readSync(o.dataId),d=n.readSync(i.dataId),{selectedIndices:h,validOutputs:p}=ile(u,d,a,s,c,l);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},sle=mW;const cle={kernelName:pR,backendName:"webgl",kernelFunc:function(e){AM("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:c,softNmsSigma:l}=r,u=n.readSync(o.dataId),d=n.readSync(i.dataId),h=a,p=s,f=c,m=l,{selectedIndices:g,selectedScores:y}=sle(u,d,h,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class lle{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(r,"), float(").concat(n,"),\n                      float(index == coords.y)));\n      }\n    ")}}const ule={kernelName:mR,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:i,depth:a,onValue:s,offValue:c}=r,l=wI(o.shape),u=new lle(l,a,s,c),d=Doe({inputs:{x:o},backend:n,attrs:{shape:[l]}}),h=n.runWebGLProgram(u,[d],i);n.disposeIntermediateTensorInfo(d);const p=Doe({inputs:{x:h},backend:n,attrs:{shape:[...o.shape,a]}});return n.disposeIntermediateTensorInfo(h),p}};function dle(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=$ie({inputs:{input:r},backend:n}),t=dle({inputs:{x:e},backend:n}),o=pae({inputs:{input:r},backend:n}),i=dle({inputs:{x:o},backend:n}),a=voe({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),a}return Nse({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const hle={kernelName:SM,backendName:"webgl",kernelFunc:dle};const ple={kernelName:fR,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===o.dtype){const t=$ie({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),i=pae({inputs:{input:o},backend:r}),a=dle({inputs:{x:i},backend:r}),s=voe({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}return Nse({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:r})}};const fle={kernelName:gR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return bse({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{bI(i,e.shape,"All tensors passed to stack must have matching shapes"),vI(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],c=gae({inputs:t.map((e=>{const t=bse({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};class mle{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=rne(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(o," coords = outC - start;\n          setOutput(getX(").concat(s,"));\n        }\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(a,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")}}class gle{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=rne(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=Dre("rc",r),c=Dre("source",r),l="".concat(s[r-1]," < ").concat(this.outputShape[r-1]),u=1===r?"source":"vec2(".concat(c.slice(-2).join(),")"),d=["".concat(o," rc = outputLoc;"),"".concat(s[r-1]," += 1;\n       if(").concat(l,") {\n      "),1===r?"":"}\n       rc = outputLoc;\n       ".concat(s[r-2]," += 1;\n       if(").concat(s[r-2]," < ").concat(this.outputShape[r-2],") {"),1===r?"":"  ".concat(s[r-1]," += 1;\n         if(").concat(l,") {")],h=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let f=0,m=1===r?2:4;f<m;f++)p+="\n        ".concat(d[f],"\n        if (").concat(h,") {\n          result[").concat(f,"] = float(value);\n        } else {\n          ").concat(o," source = rc - start;\n          result[").concat(f,"] = getChannel(getX(").concat(c.join(),"), ").concat(u,");\n        }\n      ");p+=1===r?"} ":"}}",this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(a,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}const yle=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:a}=r;if(0===wI(o.shape)){const e=i.map(((e,t)=>e[0]+o.shape[t]+e[1]));return Nse({backend:n,attrs:{shape:e,value:a,dtype:o.dtype}})}const s=sA().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gle(o.shape,i,a):new mle(o.shape,i,a),c=[[a]];return n.runWebGLProgram(s,[o],o.dtype,c)},vle={kernelName:yR,backendName:"webgl",kernelFunc:yle},ble=Noe({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+foe+"\n  return result;\n"}),xle={kernelName:bR,backendName:"webgl",kernelFunc:ble};const wle={kernelName:wR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,c=[],l=RI(i,o.shape);let u=l;const d=vz(u,s);let h,p=o;if(null!=d&&(p=Koe({inputs:{x:o},backend:n,attrs:{perm:d}}),u=xz(u.length,s),c.push(p)),yz("prod",u,s),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:r,outDtype:o}=dre(p.shape,p.dtype,e,u);h=n.makeTensorInfo(r,o,t)}else{const[e,t]=mz(p.shape,u),r=wI(t),i=Doe({inputs:{x:p},backend:n,attrs:{shape:[-1,r]}}),a=zoe(i,Lj(o.dtype),"prod",n);h=Doe({inputs:{x:a},backend:n,attrs:{shape:e}}),c.push(i),c.push(a)}if(a){c.push(h);const e=gz(h.shape,l);h=Doe({inputs:{x:h},backend:n,attrs:{shape:e}})}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const kle={kernelName:kR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:s}=r,c=o.map((e=>n.readSync(e.dataId))),l=o.map((e=>e.shape)),u=n.readSync(i.dataId),d=n.readSync(a.dataId),[h,p,f]=hre(c,l,u,i.shape,i.dtype,d,a.shape,s),m=h.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,p);return m.concat([g])}};const Sle={kernelName:SR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:i}=t,a=n.readSync(r.dataId),s=n.readSync(o.dataId),c=n.readSync(i.dataId),[l,u]=pre(a,r.shape,r.dtype,s,o.shape,c,i.shape);return[n.makeTensorInfo([l.length],"int32",l),n.makeTensorInfo([u.length],r.dtype,u)]}};const Cle={kernelName:CR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=t,{rowPartitionTypes:c}=r,l=n.readSync(o.dataId),u=n.readSync(i.dataId),d=n.readSync(a.dataId),h=s.map((e=>n.readSync(e.dataId))),p=s.map((e=>e.shape)),[f,m]=fre(l,o.shape,u,i.shape,i.dtype,d,a.shape,h,p,c);return n.makeTensorInfo(f,i.dtype,m)}},Ele=e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:i,dtype:a}=n,s=mre(r,o,i,a);return t.makeTensorInfo([s.length],a,s)},_le={kernelName:ER,backendName:"webgl",kernelFunc:Ele},Tle=Toe({opSnippet:"return 1.0 / x;"}),Nle={kernelName:TR,backendName:"webgl",kernelFunc:Tle},Ile=Toe({opSnippet:Hre+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Ale={kernelName:NR,backendName:"webgl",kernelFunc:Ile},Ole=Toe({opSnippet:Hre+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Rle={kernelName:jR,backendName:"webgl",kernelFunc:Ole};class Mle{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[i,a,s,c]=e;this.outputShape=[i,t,n,c];const l=[r&&t>1?a-1:a,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(s,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}class jle{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,s,c]=e;this.outputShape=[i,t,n,c];const l=[r&&t>1?a-1:a,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],",\n          ").concat(l[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(s,".0,\n                                     ").concat(s,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}const Ple={kernelName:RR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[c,l]=s,u=sA().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new jle(o.shape,c,l,i,a):new Mle(o.shape,c,l,i,a);return n.runWebGLProgram(u,[o],"float32")}};class Dle{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,i,a]=e,s=[n&&i>1?r-1:r,n&&a>1?o-1:o],c=[n&&i>1?i-1:i,n&&a>1?a-1:a],l=s[0]/c[0],u=s[1]/c[1],d=1/l,h=1/u,p=2*Math.ceil(d)+2,f=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(l,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(h,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(i,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(r-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const Lle={kernelName:MR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,s=new Dle(i.shape,o.shape,a);return n.runWebGLProgram(s,[i],i.dtype)}};class Fle{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[i,a,s,c]=e;this.outputShape=[i,t,n,c];const l=[r&&t>1?a-1:a,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let h;h=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(a,".0, ").concat(s,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}class Ble{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,s,c]=e;this.outputShape=[i,t,n,c];const l=[r&&t>1?a-1:a,r&&n>1?s-1:s],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let h;h=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(l[0]/u[0],",\n          ").concat(l[1]/u[1],",\n          ").concat(l[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(a,".0, ").concat(s,".0,\n                                     ").concat(s,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(c-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}const zle={kernelName:AR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[c,l]=s,u=sA().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ble(o.shape,c,l,i,a):new Fle(o.shape,c,l,i,a);return n.runWebGLProgram(u,[o],o.dtype)}};class Ule{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,i,a]=e,s=[n&&i>1?r-1:r,n&&a>1?o-1:o],c=[n&&i>1?i-1:i,n&&a>1?a-1:a],l=s[0]/c[0],u=s[1]/c[1],d=1/l,h=1/u,p=2*Math.ceil(d)+2,f=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(l,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(h,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(i,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(a,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(s[0],") *\n                (float(dyR) / float(").concat(c[0],"));\n\n            float sourceFracCol =\n                float(").concat(s[1],") *\n                  (float(dyC) / float(").concat(c[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(n," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(n," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const Vle={kernelName:OR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,s=new Ule(i.shape,o.shape,a);return n.runWebGLProgram(s,[i],i.dtype)}};class Wle{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=e,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      "));const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]"))(r))).join(","),o=rne(n);this.userCode="\n      void main() {\n        ".concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(r,"));\n      }\n    ")}}class Hle{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));this.outputShape=e;const r=Dre("rc",n),o="".concat(r[n-1]," + 1 < ").concat(this.outputShape[n-1]),i="".concat(r[n-2]," + 1 < ").concat(this.outputShape[n-2]),a=rne(n);function s(n){const r=e.map(((r,o)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - ").concat(r[n]," - 1"):"".concat(r[n])}(o,n))),o=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(o,"), vec2(").concat(i,"))")}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(o,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(a," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return s(e)}(r.slice()),";\n          if(").concat(o,"){\n            result.g = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice()),";\n          }\n          if(").concat(i,") {\n            result.b = ").concat(function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice()),";\n            if(").concat(o,") {\n              result.a = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}}const Gle={kernelName:PR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r,a=o.shape.length,s=RI(i,o.shape);if(0===a)return goe({inputs:{x:o},backend:n});const c=sA().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hle(o.shape,s):new Wle(o.shape,s);return n.runWebGLProgram(c,[o],o.dtype)}};class Kle{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let o="";o="number"===typeof t?"float outputValue = ".concat(t.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(t.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(o,"\n          if(coordX >= 0 && coordX < ").concat(r," && coordY >= 0 && coordY < ").concat(n,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const qle={kernelName:_M,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,{radians:i,fillValue:a,center:s}=n,c=r,l=new Kle(o.shape,a),[u,d]=gH(s,o.shape[1],o.shape[2]),h=[[u,d,Math.sin(i),Math.cos(i)]];return c.runWebGLProgram(l,[o],o.dtype,h)}},Yle=Toe({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Xle={kernelName:DR,backendName:"webgl",kernelFunc:Yle},Jle=Toe({opSnippet:"return inversesqrt(x);",cpuKernelImpl:gre}),$le={kernelName:LR,backendName:"webgl",kernelFunc:Jle};class Zle{constructor(e,t,n,r,o,i){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const s=rne(o.length),c=rne(i.length);let l="";1===n?l="i":2===n&&(l="i, j");const u="getIndices(".concat(l,")");let d="";1===r?d="i":2===r&&(d="i, coords[1]");const h="getUpdates(".concat(d,")");let p="";a&&(p="coords[0], coords[1]");const f="getDefaultValue(".concat(p,")"),m=t>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(o,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(t,"; j++) {\n              int index = round(").concat(u,");\n              flattenedIndex += index * ").concat(m,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(h,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(f,", sum, float(found)));\n        }\n      ")}}class Qle{constructor(e,t,n,r,o,i){let a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const s=rne(o.length),c=rne(i.length);let l="";1===n?l="i":2===n&&(l="i, j");const u="getIndices(".concat(l,")");let d="";1===r?d="i":2===r&&(d="i, coords[1]");const h="getUpdates(".concat(d,")");let p="";a&&(p="coords[0], coords[1]");const f="getDefaultValue(".concat(p,")"),m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(o,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(t,"; j+=2) {\n              ivec4 index = round(").concat(u,");\n              flattenedIndex += index.xz * ").concat(m,";\n              if (j + 1 < ").concat(t,") {\n                flattenedIndex += index.yw * ").concat(g,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(h,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(f,", sum, found));\n        }\n      ")}}const eue={kernelName:FR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:a}=r,{sliceRank:s,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=dF(0,o,a),h=[d/l,l];if(0===d)return n.makeTensorInfo(a,o.dtype);const p=Doe({inputs:{x:o},backend:n,attrs:{shape:[c,s]}}),f=Doe({inputs:{x:i},backend:n,attrs:{shape:[c,l]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=sA().getBool("WEBGL_PACK")?new Qle(c,s,p.shape.length,f.shape.length,u,h):new Zle(c,s,p.shape.length,f.shape.length,u,h);const y=n.runWebGLProgram(g,[f,p,m],f.dtype),v=Doe({inputs:{x:y},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),v}};class tue{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const o="for (int i = 0; i < ".concat(Math.ceil(Math.log2(t+1)),"; ++i) { if (left >= right) break;"),i=2===sA().getNumber("WEBGL_VERSION")?"while (left < right) {":o,a="left"===r?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(i,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(a," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}const nue={kernelName:zR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:i}=t,{side:a}=r,s=new tue(o.shape[0],o.shape[1],i.shape[1],a),c=[[o.shape[1]]];return n.runWebGLProgram(s,[o,i],"int32",c)}};class rue{constructor(e,t,n){let r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)o="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=[];for(let r=0;r<t.length;r++)a.push("".concat(n[r])),r<e&&i.push("".concat(n[r]));r=i.join(),o=a.join()}const i=rne(n);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        float cVal = getC(").concat(r,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(o,"));\n        } else {\n          setOutput(getB(").concat(o,"));\n        }\n      }\n    ")}}const oue={kernelName:UR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t,a=new rue(r.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(a,[r,o,i],Dj(o.dtype,i.dtype))}},iue=Toe({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(kH,";\n  float scale = ").concat(SH,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),aue={kernelName:VR,backendName:"webgl",kernelFunc:iue},sue=Toe({opSnippet:_oe+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:vre}),cue={kernelName:qR,backendName:"webgl",kernelFunc:sue},lue=Toe({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),uue={kernelName:KR,backendName:"webgl",kernelFunc:lue},due=Toe({opSnippet:_oe+"\n  return sin(x);\n",packedOpSnippet:"\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(foe,"\n  return result;\n")}),hue={kernelName:HR,backendName:"webgl",kernelFunc:due},pue=Toe({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),fue={kernelName:GR,backendName:"webgl",kernelFunc:pue},mue=Toe({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),gue={kernelName:YR,backendName:"webgl",kernelFunc:mue},yue={kernelName:$R,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:a}=r;vI(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),c=[[0,0]];c.push(...a);for(let y=1+i.length;y<o.shape.length;++y)c.push([0,0]);const l=[],u=yle({inputs:{x:o},backend:n,attrs:{paddings:c,constantValue:0}}),d=yH(u.shape,i,s,!1),h=vH(d.length,i.length,!1),p=bH(u.shape,i,s,!1),f=Doe({inputs:{x:u},backend:n,attrs:{shape:d}}),m=Koe({inputs:{x:f},backend:n,attrs:{perm:h}}),g=Doe({inputs:{x:m},backend:n,attrs:{shape:p}});return l.push(u),l.push(f),l.push(m),l.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const vue={kernelName:eM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(i.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==o.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(o.shape));if(0!==a.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(a.shape));const s=n.readSync(r.dataId),c=n.readSync(o.dataId),l=n.readSync(i.dataId),u=n.readSync(a.dataId)[0],[d,h,p,f,m]=wre(s,r.shape,r.dtype,c,o.dtype,l,u);return[n.makeTensorInfo(h,r.dtype,d),n.makeTensorInfo([h[0]],o.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const bue={kernelName:tM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==o.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(o.shape));if(1!==i.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(i.shape));const a=Array.from(n.readSync(o.dataId)),s=n.readSync(r.dataId),c=Array.from(n.readSync(i.dataId)),[l,u,d]=kre(s,r.shape,r.dtype,a,c);return[n.makeTensorInfo(u,r.dtype,l),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}};const xue={kernelName:nM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(o.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(i.shape));const a=n.readSync(r.dataId),s=n.readSync(o.dataId),c=n.readSync(i.dataId),[l,u]=Sre(a,r.shape,r.dtype,s,c,!0);return n.makeTensorInfo(u,r.dtype,l)}};const wue={kernelName:rM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(o.shape));if(1!==i.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(i.shape));const a=n.readSync(r.dataId),s=n.readSync(o.dataId),c=n.readSync(i.dataId),[l,u]=Sre(a,r.shape,r.dtype,s,c);return n.makeTensorInfo(u,r.dtype,l)}};const kue={kernelName:oM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:a}=t,{outputShape:s}=r,{sliceRank:c,numUpdates:l,sliceSize:u,strides:d,outputSize:h}=dF(0,o,s),p=!1;if("string"===i.dtype){const e=n.bufferSync(o),t=n.bufferSync(i),r=lj(n.readSync(a.dataId)[0]),f=yre(e,t,s,h,u,l,c,d,r,p);return n.makeTensorInfo(s,f.dtype,f.values)}const f=new Zle(l,c,o.shape.length,i.shape.length,d,[h,1],p),m=n.runWebGLProgram(f,[i,o,a],i.dtype),g=Doe({inputs:{x:m},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(m),g}};const Sue={kernelName:ZR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:a}=r,s=RI(a,o.shape)[0],c=YH(o,i,s),l=o.shape.length,u=new Array(l).fill(0),d=o.shape.slice();return c.map((e=>{const t=[...d];t[s]=e;const r=Wie({inputs:{x:o},backend:n,attrs:{begin:u,size:t}});return u[s]+=e,r}))}},Cue="return sqrt(x);",Eue=Toe({opSnippet:Cue,packedOpSnippet:Cue,cpuKernelImpl:Cre}),_ue={kernelName:XR,backendName:"webgl",kernelFunc:Eue},Tue=Toe({opSnippet:"return x * x;"}),Nue={kernelName:aM,backendName:"webgl",kernelFunc:Tue},Iue="return (a - b) * (a - b);",Aue=Noe({opSnippet:Iue,packedOpSnippet:Iue}),Oue={kernelName:iM,backendName:"webgl",kernelFunc:Aue};const Rue={kernelName:sM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");const i=uG(n.readSync(o.dataId)),a=Ere(i,"string",r);return n.makeTensorInfo(o.shape,"string",a)}};const Mue={kernelName:CM,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,i=Hre+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),a=new Wre(o.shape,i);return r.runWebGLProgram(a,[o],o.dtype)}};class jue{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,o=rne(n.length),i=rne(n.length);let a="";if(1===r)a="coords * strides + begin";else{let e=0;a=n.map(((t,r)=>(e++,1===n.length?"coords * strides[".concat(r,"] + begin[").concat(r,"]"):"coords[".concat(e-1,"] * strides[").concat(r,"] + begin[").concat(r,"]")))).join(",")}this.userCode="\n      ".concat(o," begin = ").concat(o,"(").concat(e,");\n      ").concat(o," strides = ").concat(o,"(").concat(t,");\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}}const Pue={kernelName:cM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:a,strides:s,beginMask:c,endMask:l,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=r,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=IF(o.shape,i,a,s,c,l,u,d,h);let w;if(m)w=Doe({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||y){vI(o.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(o.shape.length)));const e=gF(v,b,x),t=Wie({inputs:{x:o},backend:n,attrs:{begin:v,size:e}});w=Doe({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),t=LD(o.shape,o.dtype,e),r=_re(p,t,x,v);w=n.makeTensorInfo(f,o.dtype,r.values)}else{const e=new jue(v,x,p);w=n.runWebGLProgram(e,[o],o.dtype)}}const k=Doe({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),k}};const Due={kernelName:lM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:c,preserveShortSequences:l}=r,{data:u,dataSplits:d}=t,h=n.readSync(u.dataId),p=n.readSync(d.dataId),[f,m]=Tre(h,p,o,i,a,s,c,l);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const Lue={kernelName:uM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error("Input must be a vector, got shape: ".concat(i.shape));if(0!==a.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(a.shape));const s=n.readSync(i.dataId),c=n.readSync(a.dataId)[0],[l,u,d]=Nre(s,c,o),h=u.length;return[n.makeTensorInfo([h,2],"int32",l),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const Fue={kernelName:dM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),s=Ire(a,o);return n.makeTensorInfo(i.shape,"int32",s)}},Bue=Toe({opSnippet:"return tan(x);"}),zue={kernelName:pM,backendName:"webgl",kernelFunc:Bue},Uue=Toe({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Vue={kernelName:fM,backendName:"webgl",kernelFunc:Uue};const Wue={kernelName:BR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:o,indices:i,updates:a}=t,{}=r,{sliceRank:s,numUpdates:c,sliceSize:l,strides:u,outputSize:d}=dF(0,i,o.shape),h=[d/l,l];if(0===d)return n.makeTensorInfo(o.shape,i.dtype);const p=Doe({inputs:{x:i},backend:n,attrs:{shape:[c,s]}}),f=Doe({inputs:{x:a},backend:n,attrs:{shape:[c,l]}}),m=Doe({inputs:{x:o},backend:n,attrs:{shape:h}}),g=new Zle(c,s,p.shape.length,f.shape.length,u,h,!1,!0),y=n.runWebGLProgram(g,[f,p,m],m.dtype),v=Doe({inputs:{x:y},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}};class Hue{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let i=0;i<n.length;i++)n[i]=e[i]*t[i];this.outputShape=n,this.rank=n.length;const r=rne(this.rank),o=function(e){const t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let o=0;o<e.length;o++)r.push("imod(".concat(n[o],", ").concat(e[o],")"));return r.join()}(e);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")}}function Gue(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;if("string"===o.dtype||o.shape.length>5){const e=n.readSync(o.dataId),t="string"===o.dtype?e.map((e=>lj(e))):e,r=LD(o.shape,o.dtype,t),a=Ore(r,i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const a=new Hue(o.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const Kue={kernelName:mM,backendName:"webgl",kernelFunc:Gue};class que{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class Yue{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function Xue(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function Jue(e){let t=1;for(;t<e;)t*=2;return t}const $ue={kernelName:gM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:a}=r,s=sA().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=sA().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),l=o.shape,u=l[l.length-1];if(n.shouldExecuteOnCPU([o])||u<s||i>c){const e=n.readSync(o.dataId),[t,r]=Rre(e,l,o.dtype,i,a);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return l[l.length-1]=0,[n.makeTensorInfo(l,o.dtype,[]),n.makeTensorInfo(l,"int32",[])];if(1===u)return[o,Nse({attrs:{shape:l,dtype:"int32",value:0},backend:n})];const d=n.texData.get(o.dataId),h=null!==d&&d.isPacked,p=h?n.unpackTensor(o):o,f=wI(l)/u,m=Doe({inputs:{x:p},attrs:{shape:[f,u]},backend:n});h&&Xue(n,p);const g=Jue(i),y=Jue(u);let v=null;const b=()=>null===v?[m,m]:[m,v],x=(e,t,r)=>{const o=b(),i=new que(r),a=[[u],[null===v?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=v;v=n.runWebGLProgram(i,o,"int32",a),Xue(n,s)};for(let E=1;E<g;E*=2){const e=2*E;for(let t=E;t>=1;t/=2)x(e,t,[f,y])}for(let E=y;E>g;E/=2){const e=b(),t=new Yue([f,E/2]),r=[[u],[null===v?1:0],[g]],o=v;v=n.runWebGLProgram(t,e,"int32",r),Xue(n,o);const i=g/2,a=2*i;for(let n=i;n>=1;n/=2)x(a,n,v.shape)}let w=v;v=Wie({inputs:{x:v},backend:n,attrs:{begin:0,size:[f,i]}}),Xue(n,w);let k=qse({inputs:{x:m,indices:v},backend:n,attrs:{axis:1,batchDims:1}});Xue(n,m);const S=l.slice(0,-1);S.push(i),w=v,v=Doe({inputs:{x:v},attrs:{shape:S},backend:n}),Xue(n,w);const C=k;return k=Doe({inputs:{x:k},attrs:{shape:S},backend:n}),Xue(n,C),[k,v]}};class Zue{constructor(e,t,n,r,o,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const a="nearest"===n?1:2;let s;switch(r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(t,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(o,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(o,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(t,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(a," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}const Que={kernelName:yM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:i}=t,{interpolation:a,fillMode:s,fillValue:c,outputShape:l}=r,[u,d,h,p]=o.shape,[f,m]=null!=l?l:[d,h],g=new Zue(d,h,a,s,c,[u,f,m,p]);return n.runWebGLProgram(g,[o,i],"float32")}};const ede={kernelName:bM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;Bte(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:s,outputShape:c,indices:l}=jre(a,o,i.shape,i.dtype);return[r.makeTensorInfo(c,i.dtype,s),r.makeTensorInfo([l.length],"int32",l)]}};const tde={kernelName:xM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o,s=a.shape.length,c=o.shape[i],l=new Array(s-1);let u=0;for(let m=0;m<s;m++)m!==i&&(l[u++]=a.shape[m]);const d=[],h=new Array(s).fill(0),p=a.shape.slice();p[i]=1;const f=new Array(c);for(let m=0;m<f.length;m++){h[i]=m;const e=Wie({inputs:{x:a},backend:n,attrs:{begin:h,size:p}}),t=Doe({inputs:{x:e},backend:n,attrs:{shape:l}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class nde{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];const s=4*Math.floor(n/4),c=n%4,l="\n        sumValue += dot(values, segFilter);\n    ";let u="";o%n>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      "));let d="";o%n>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(i,")) * float(").concat(n,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(i,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}}const rde={kernelName:wM,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:a}=r,s=o.shape.length,c=[];let l=0;const u=vz([l],s);let d=o;null!=u&&(d=Koe({inputs:{x:o},backend:n,attrs:{perm:u}}),c.push(d),l=xz(1,s)[0]);const h=cG(d.shape,l,a),p=wI([d.shape[l]]),f=Doe({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});c.push(f);const m=Lj(o.dtype),g=(e,t,r,o,i)=>{const a=e.shape[0],s=e.shape[1],l=sG(s,i),u=new nde({windowSize:l,inSize:s,batchSize:a,numSegments:i},t),d=n.compileAndRun(u,[e,r],o);if(c.push(d),d.shape[1]===i)return d;const h=Ele({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),p=Gue({inputs:{x:h},backend:n,attrs:{reps:[s/l]}});c.push(h),c.push(p);return g(d,t,p,o,i)},y=Doe({inputs:{x:g(f,"unsortedSegmentSum",i,m,a)},backend:n,attrs:{shape:h}});let v=y;if(null!=u){c.push(y);const e=bz(u);v=Koe({inputs:{x:v},backend:n,attrs:{perm:e}})}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}},ode=[Joe,Zoe,eie,nie,iie,cie,lie,uie,gie,yie,bie,wie,Sie,Eie,Tie,Aie,Oie,jie,Pie,Die,Bie,Gie,Kie,qie,Yie,eae,rae,aae,boe,lae,yae,Eae,Aae,Rae,Mae,jae,Pae,Lae,Bae,Uae,qae,Yae,Xae,$ae,ese,rse,ose,ase,cse,lse,dse,hse,fse,gse,vse,xse,Sse,_se,Ise,Ose,jse,Dse,Bse,Vse,Wse,Gse,Yse,Jse,Zse,yoe,Qse,fae,tce,rce,ice,koe,sce,lce,uce,hce,fce,gce,vce,xce,Sce,Ece,Tce,Ice,Ace,Oce,jce,Pce,Dce,Lce,Fce,zce,Wce,Gce,ele,Poe,nle,ole,ale,cle,Jie,ule,ple,fle,vle,xle,Eoe,wle,kle,Sle,Cle,_le,Zie,Yce,Nle,Ale,Rle,Loe,Ple,Lle,zle,Vle,Gle,qle,Xle,$le,eue,nue,oue,aue,cue,uue,hue,fue,Hie,Qce,gue,yue,vue,bue,xue,wue,kue,Sue,_ue,Nue,Oue,Rue,Mue,Pue,Due,Lue,Fue,$ce,Goe,zue,Vue,Wue,Kue,$ue,Que,qoe,ede,tde,rde,hle];for(const n of ode)LM(n);const ide={"tfjs-core":GF,"tfjs-backend-cpu":E6,"tfjs-backend-webgl":loe,"tfjs-data":X3,"tfjs-layers":AJ,"tfjs-converter":B2,tfjs:"4.22.0"};var ade=n(6382),sde={0:"Drawing",1:"Hentai",2:"Neutral",3:"Porn",4:"Sexy"},cde=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(x2e){i(x2e)}}function s(e){try{c(r.throw(e))}catch(x2e){i(x2e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))},lde=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(x2e){s=[6,x2e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ude=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},dde={MobileNetV2:{numOfWeightBundles:1},MobileNetV2Mid:{numOfWeightBundles:2,options:{type:"graph"}},InceptionV3:{numOfWeightBundles:6,options:{size:299}}},hde="MobileNetV2",pde=224,fde=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self;throw new Error("Unable to locate global object")};function mde(e){return!!e&&e in dde}var gde=function(e){return cde(void 0,void 0,void 0,(function(){var t,r;return lde(this,(function(o){switch(o.label){case 0:return(t=fde().model)?[2,t]:"MobileNetV2"!==e?[3,2]:[4,n.e(616).then(n.bind(n,5616))];case 1:return r=o.sent().modelJson,[3,6];case 2:return"MobileNetV2Mid"!==e?[3,4]:[4,n.e(337).then(n.bind(n,6337))];case 3:return r=o.sent().modelJson,[3,6];case 4:return"InceptionV3"!==e?[3,6]:[4,n.e(205).then(n.bind(n,2205))];case 5:r=o.sent().modelJson,o.label=6;case 6:return[4,r()];case 7:return[2,o.sent().default]}}))}))},yde=function(e){return cde(void 0,void 0,void 0,(function(){var t,r,o,i,a,s,c,l,u,d;return lde(this,(function(h){switch(h.label){case 0:t=dde[e].numOfWeightBundles,r=[],o=0,h.label=1;case 1:return o<t?(i="group1-shard".concat(o+1,"of").concat(t),a=i.replace(/-/g,"_"),(s=fde()[a])?(r.push(((u={})[i]=s,u)),[3,10]):[3,2]):[3,11];case 2:return c=void 0,"MobileNetV2"!==e?[3,4]:[4,n.e(616).then(n.bind(n,5616))];case 3:return c=h.sent().weightBundles,[3,8];case 4:return"MobileNetV2Mid"!==e?[3,6]:[4,n.e(337).then(n.bind(n,6337))];case 5:return c=h.sent().weightBundles,[3,8];case 6:return"InceptionV3"!==e?[3,8]:[4,n.e(205).then(n.bind(n,2205))];case 7:c=h.sent().weightBundles,h.label=8;case 8:return[4,c[o]()];case 9:l=h.sent().default,r.push(((d={})[i]=l,d)),h.label=10;case 10:return o++,[3,1];case 11:return[2,Object.assign.apply(Object,ude([{}],r,!1))]}}))}))};function vde(e){return cde(this,void 0,void 0,(function(){return lde(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,yde(e)];case 1:return[2,t.sent()];case 2:throw t.sent(),new Error("Could not load the weight data. Make sure you are importing the correct shard files from the models directory. Ref: https://github.com/infinitered/nsfwjs?tab=readme-ov-file#browserify");case 3:return[2]}}))}))}function bde(e){return cde(this,void 0,void 0,(function(){var t,n;return lde(this,(function(r){switch(r.label){case 0:if(!mde(e))return[2,e];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,gde(e)];case 2:return t=r.sent(),[4,vde(e)];case 3:return n=r.sent(),[2,new xde(t,n)];case 4:throw r.sent(),new Error("Could not load the model. Make sure you are importing the model.min.js bundle. Ref: https://github.com/infinitered/nsfwjs?tab=readme-ov-file#browserify");case 5:return[2]}}))}))}var xde=function(){function e(e,t){this.modelJson=e,this.weightDataBase64=t}return e.prototype.arrayBufferFromBase64=function(e){for(var t=ade.hp.from(e,"base64").toString("binary"),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer},e.prototype.load=function(){return cde(this,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c,l,u,d,h,p;return lde(this,(function(f){if(e={modelTopology:this.modelJson.modelTopology,format:this.modelJson.format,generatedBy:this.modelJson.generatedBy,convertedBy:this.modelJson.convertedBy},null!=this.modelJson.weightsManifest){for(t=[],n=[],r=0,o=this.modelJson.weightsManifest;r<o.length;r++){for(i=o[r],a=0,s=i.paths;a<s.length;a++){if(c=s[a],!(l=this.weightDataBase64[c]))throw new Error("Could not find the weight data. Make sure you are importing the correct weight bundle for the model: ".concat(c,".min.js."));u=this.arrayBufferFromBase64(l),n.push(new Uint8Array(u))}t.push.apply(t,i.weights)}for(e.weightSpecs=t,d=new Uint8Array(n.reduce((function(e,t){return e+t.length}),0)),h=0,p=0;p<n.length;p++)d.set(n[p],h),h+=n[p].byteLength;e.weightData=d.buffer}return null!=this.modelJson.trainingConfig&&(e.trainingConfig=this.modelJson.trainingConfig),null!=this.modelJson.userDefinedMetadata&&(e.userDefinedMetadata=this.modelJson.userDefinedMetadata),[2,e]}))}))},e}(),wde=function(){function e(e,t){this.intermediateModels={},this.options=t,this.normalizationOffset=tL(255),this.urlOrIOHandler=e,"string"!==typeof e||e.startsWith("indexeddb://")||e.startsWith("localstorage://")||e.endsWith("model.json")?this.urlOrIOHandler=e:this.urlOrIOHandler="".concat(e,"model.json")}return e.prototype.load=function(){return cde(this,void 0,void 0,(function(){var e,t,n,r,o,i=this;return lde(this,(function(a){switch(a.label){case 0:return e=this.options,t=e.size,"graph"!==e.type?[3,2]:(n=this,[4,L2(this.urlOrIOHandler)]);case 1:return n.model=a.sent(),[3,4];case 2:return r=this,[4,QJ(this.urlOrIOHandler)];case 3:r.model=a.sent(),this.endpoints=this.model.layers.map((function(e){return e.name})),a.label=4;case 4:return[4,(o=kP((function(){return i.model.predict(sU([1,t,t,3]))}))).data()];case 5:return a.sent(),o.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;if(null!=t&&-1===this.endpoints.indexOf(t))throw new Error("Unknown endpoint ".concat(t,". Available endpoints: ").concat(this.endpoints,"."));return kP((function(){e instanceof Tj||(e=sF(e));var r=e.toFloat().div(n.normalizationOffset),o=r,i=n.options.size;if(e.shape[0]!==i||e.shape[1]!==i){o=QW.resizeBilinear(r,[i,i],!0)}var a,s=o.reshape([1,i,i,3]);if(null==t)a=n.model;else{if(n.model.hasOwnProperty("layers")&&null==n.intermediateModels[t]){var c=n.model.layers.find((function(e){return e.name===t}));n.intermediateModels[t]=t$({inputs:n.model.inputs,outputs:c.output})}a=n.intermediateModels[t]}return a.predict(s)}))},e.prototype.classify=function(e){return cde(this,arguments,void 0,(function(e,t){var n,r;return void 0===t&&(t=5),lde(this,(function(o){switch(o.label){case 0:return[4,kde(n=this.infer(e),t)];case 1:return r=o.sent(),n.dispose(),[2,r]}}))}))},e}();function kde(e,t){return cde(this,void 0,void 0,(function(){var n,r,o,i,a,s;return lde(this,(function(c){switch(c.label){case 0:return[4,e.data()];case 1:for(n=c.sent(),r=[],s=0;s<n.length;s++)r.push({value:n[s],index:s});for(r.sort((function(e,t){return t.value-e.value})),o=new Float32Array(t),i=new Int32Array(t),s=0;s<t;s++)o[s]=r[s].value,i[s]=r[s].index;for(a=[],s=0;s<i.length;s++)a.push({className:sde[i[s]],probability:o[s]});return[2,a]}}))}))}async function Sde(e){try{const t=await function(e){return cde(this,arguments,void 0,(function(e,t){var n,r,o;return void 0===t&&(t={size:pde}),lde(this,(function(i){switch(i.label){case 0:if(null==X)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");return void 0===e?(e=hde,console.info("%cBy not specifying 'modelOrUrl' parameter, you're using the default model: '".concat(e,"'. See NSFWJS docs for instructions on hosting your own model (https://github.com/infinitered/nsfwjs?tab=readme-ov-file#host-your-own-model)."),"color: lightblue")):mde(e)&&(console.info("%cYou're using the model: '".concat(e,"'. See NSFWJS docs for instructions on hosting your own model (https://github.com/infinitered/nsfwjs?tab=readme-ov-file#host-your-own-model)."),"color: lightblue"),t=null!==(o=dde[e].options)&&void 0!==o?o:t),t.size=(null===t||void 0===t?void 0:t.size)||pde,[4,bde(e)];case 1:return n=i.sent(),[4,(r=new wde(n,t)).load()];case 2:return i.sent(),[2,r]}}))}))}(),n=new Image;return n.src=URL.createObjectURL(e),new Promise(((r,o)=>{n.onload=async()=>{try{const i=[],a=await t.classify(n);a.filter((e=>"Hentai"===e.className&&e.probability>.4||"Sexy"===e.className&&e.probability>.9||"Porn"===e.className&&e.probability>.5)).forEach((e=>{i.push(e),console.log(e.className,100*e.probability)})),i.length>0&&o(new Error("Not accept NSFW Content")),r(e)}catch(i){o(i)}},n.onerror=e=>{o(new Error("Image loading failed"))}}))}catch(t){console.error("Error loading NSFW model:",t)}}const Cde=async e=>{await Sde(e);const t=Date.now(),n="".concat(t,"-").concat(e.name),r=VE(rI,"images/".concat(n));await zE(r,e);return await UE(r)},Ede=(e,t)=>sessionStorage.setItem(e,t),_de=(e,t)=>sessionStorage.setItem(e,t),Tde=e=>sessionStorage.getItem(e),Nde=e=>sessionStorage.removeItem(e),Ide=()=>{let{userAuth:e,userAuth:{access_token:t},setUserAuth:n}=(0,Z.useContext)(g2e),r=150;const o=(0,Z.useRef)(null),i=(0,Z.useRef)(null),[a,s]=(0,Z.useState)(ow),[c,l]=(0,Z.useState)(!0),[u,d]=(0,Z.useState)(r),[h,p]=(0,Z.useState)(null),f=sessionStorage.getItem("userId");let{username:m,fullname:g,profile_picture:y,email:v,bio:b,social_links:x}=a;(0,Z.useEffect)((()=>{t&&ap.get("".concat("http://localhost:3001","/profile/").concat(f)).then((e=>{let{data:t}=e;s(t),l(!1)})).catch((e=>{console.log(e)}))}),[t]);return(0,fn.jsx)(Bu,{children:c?(0,fn.jsx)(sp,{}):(0,fn.jsxs)("form",{ref:i,className:"m-3",children:[(0,fn.jsx)(wk,{}),(0,fn.jsx)("h1",{className:"topic-editProfile fs-5 ",children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"}),(0,fn.jsxs)("div",{className:"divinput",children:[(0,fn.jsxs)("div",{className:"divlabel mb-3",children:[(0,fn.jsxs)("label",{htmlFor:"uploadImg",id:"profileImgLable",className:"position-relative d-block rounded-circle overflow-hidden",style:{width:"10rem",height:"10rem",background:"#f0f0f0"},children:[(0,fn.jsx)("div",{className:"w-100 h-100 position-absolute top-0 left-0 d-flex align-items-center justify-content-center imgDiv",children:"\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"}),(0,fn.jsx)("img",{ref:o,src:y,alt:""})]}),(0,fn.jsx)("input",{type:"file",id:"uploadImg",accept:".jpeg, .png, .jpg",hidden:!0,onChange:e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&o.current&&(o.current.src=URL.createObjectURL(n),p(n))}}),(0,fn.jsx)("button",{className:"btn-light mt-3 btn-upload",style:{paddingLeft:"2.5rem",paddingRight:"2.5rem"},onClick:r=>{if(r.preventDefault(),h){let o=kk.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14...");r.target.setAttribute("disabled","true"),(async e=>{await Sde(e);const t=VE(rI,"profile-images/".concat(e.name));return await zE(t,e),await UE(t)})(h).then((i=>{i&&(ap.post("".concat("http://localhost:3001","/users/update-profile-img"),{url:i},{headers:{Authorization:"Bearer ".concat(t)}}).then((t=>{let{data:i}=t,a=Ln(Ln({},e),{},{profile_picture:i.profile_picture});console.log("Updated userAuth:",a),Ede("user",JSON.stringify(a)),n(a),p(null),kk.dismiss(o),r.currentTarget&&r.currentTarget.removeAttribute("disabled"),kk.success("\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e41\u0e25\u0e49\u0e27\ud83d\udc4d")})).catch((e=>{var t;let{response:n}=e;kk.dismiss(o),r.currentTarget&&r.currentTarget.removeAttribute("disabled"),kk.error((null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.error)||"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01 URL")})),console.log("Uploaded Image URL:",i))})).catch((e=>{console.error("Firebase upload failed:",e),kk.dismiss(o),r.currentTarget&&r.currentTarget.removeAttribute("disabled"),kk.error("\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e23\u0e39\u0e1b\u0e44\u0e21\u0e48\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")}))}},children:"\u0e2d\u0e31\u0e1b\u0e42\u0e2b\u0e25\u0e14"})]}),(0,fn.jsxs)("div",{className:"w-100",children:[(0,fn.jsxs)("div",{className:"Inputbox-edit",children:[(0,fn.jsx)("div",{children:(0,fn.jsx)(Ck,{type:"text",name:"username",value:m,placeholder:"username",disabled:!0,icon:"CiAt"})}),(0,fn.jsx)("div",{children:(0,fn.jsx)(Ck,{name:"email",type:"text",value:v,placeholder:"\u0e2d\u0e35\u0e40\u0e21\u0e25",disabled:!0,icon:"MdOutlineMail"})})]}),(0,fn.jsx)("p",{className:"m-0 ",style:{marginTop:"-0.75rem",color:"#494949"},children:"\u0e0a\u0e37\u0e48\u0e2d"}),(0,fn.jsx)(Ck,{name:"fullname",type:"text",value:g,placeholder:"\u0e0a\u0e37\u0e48\u0e2d",icon:"AiOutlineUser"}),(0,fn.jsx)("p",{className:"m-0 ",style:{marginTop:"-0.75rem",color:"#494949"},children:"\u0e44\u0e1a\u0e42\u0e2d"}),(0,fn.jsx)("textarea",{name:"bio",maxLength:r,defaultValue:b,className:"input-box textarea-editprofile",placeholder:"\u0e44\u0e1a\u0e42\u0e2d",onChange:e=>{d(r-e.target.value.length)},style:{margin:"0"}}),(0,fn.jsxs)("p",{className:"mt-1",style:{color:"#494949"},children:["\u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e04\u0e07\u0e40\u0e2b\u0e25\u0e37\u0e2d ",u]}),(0,fn.jsx)("p",{className:"my-4",style:{color:"#494949"},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e42\u0e0b\u0e40\u0e0a\u0e35\u0e22\u0e25\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e14\u0e49\u0e32\u0e19\u0e25\u0e48\u0e32\u0e07"}),(0,fn.jsx)("div",{className:"object-social",children:Object.keys(x).map(((e,t)=>{let n=x[e];return(0,fn.jsx)(Ck,{name:e,type:"text",value:n,placeholder:"https://",icon:"bi bi-".concat("website"!==e?e:"globe"," hover:text-black")},t)}))}),(0,fn.jsx)("button",{className:"btn-dark w-auto px-3",type:"submit",onClick:o=>{o.preventDefault();let a=new FormData(i.current),s={};a.forEach(((e,t)=>{s[t]=e}));let{fullname:c,bio:l,facebook:u,twitter:d,github:h,instagram:p,website:f,youtube:m}=s;if("string"===typeof c&&c.length<3)return kk.error("\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e49\u0e2d\u0e07\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 3 \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23");if("string"===typeof l&&l.length>r)return kk.error("\u0e44\u0e1a\u0e42\u0e2d\u0e15\u0e49\u0e2d\u0e07\u0e44\u0e21\u0e48\u0e40\u0e01\u0e34\u0e19 ".concat(r," \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23"));let g=kk.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15...");const y=o.target;y.setAttribute("disable","true"),ap.post("".concat("http://localhost:3001","/users/update-profile"),{fullname:c,bio:l,social_links:{youtube:m,facebook:u,twitter:d,github:h,instagram:p,website:f}},{headers:{Authorization:"Bearer ".concat(t)}}).then((t=>{let{data:r}=t;if(e.fullname!==r.fullname){let t=Ln(Ln({},e),{},{fullname:r.fullname});Ede("user",JSON.stringify(t)),n(t)}kk.dismiss(g),y.removeAttribute("disable"),kk.success("\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15\u0e41\u0e25\u0e49\u0e27")})).catch((e=>{let{response:t}=e;kk.dismiss(g),y.removeAttribute("disable"),kk.error(t.data.error)}))},children:"\u0e2d\u0e31\u0e1b\u0e40\u0e14\u0e15"})]})]})]})})},Ade=["as","className","type","tooltip"],Ode={type:$m().string,tooltip:$m().bool,as:$m().elementType},Rde=Z.forwardRef(((e,t)=>{let{as:n="div",className:r,type:o="valid",tooltip:i=!1}=e,a=zn(e,Ade);return(0,fn.jsx)(n,Ln(Ln({},a),{},{ref:t,className:nf()(r,"".concat(o,"-").concat(i?"tooltip":"feedback"))}))}));Rde.displayName="Feedback",Rde.propTypes=Ode;const Mde=Rde,jde=Z.createContext({}),Pde=["id","bsPrefix","className","type","isValid","isInvalid","as"],Dde=Z.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,className:o,type:i="checkbox",isValid:a=!1,isInvalid:s=!1,as:c="input"}=e,l=zn(e,Pde);const{controlId:u}=(0,Z.useContext)(jde);return r=pf(r,"form-check-input"),(0,fn.jsx)(c,Ln(Ln({},l),{},{ref:t,type:i,id:n||u,className:nf()(o,r,a&&"is-valid",s&&"is-invalid")}))}));Dde.displayName="FormCheckInput";const Lde=Dde,Fde=["bsPrefix","className","htmlFor"],Bde=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,htmlFor:o}=e,i=zn(e,Fde);const{controlId:a}=(0,Z.useContext)(jde);return n=pf(n,"form-check-label"),(0,fn.jsx)("label",Ln(Ln({},i),{},{ref:t,htmlFor:o||a,className:nf()(r,n)}))}));Bde.displayName="FormCheckLabel";const zde=Bde;const Ude=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Vde=Z.forwardRef(((e,t)=>{let{id:n,bsPrefix:r,bsSwitchPrefix:o,inline:i=!1,reverse:a=!1,disabled:s=!1,isValid:c=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:d,feedbackType:h,className:p,style:f,title:m="",type:g="checkbox",label:y,children:v,as:b="input"}=e,x=zn(e,Ude);r=pf(r,"form-check"),o=pf(o,"form-switch");const{controlId:w}=(0,Z.useContext)(jde),k=(0,Z.useMemo)((()=>({controlId:n||w})),[w,n]),S=!v&&null!=y&&!1!==y||function(e,t){return Z.Children.toArray(e).some((e=>Z.isValidElement(e)&&e.type===t))}(v,zde),C=(0,fn.jsx)(Lde,Ln(Ln({},x),{},{type:"switch"===g?"checkbox":g,ref:t,isValid:c,isInvalid:l,disabled:s,as:b}));return(0,fn.jsx)(jde.Provider,{value:k,children:(0,fn.jsx)("div",{style:f,className:nf()(p,S&&r,i&&"".concat(r,"-inline"),a&&"".concat(r,"-reverse"),"switch"===g&&o),children:v||(0,fn.jsxs)(fn.Fragment,{children:[C,S&&(0,fn.jsx)(zde,{title:m,children:y}),d&&(0,fn.jsx)(Mde,{type:h,tooltip:u,children:d})]})})})}));Vde.displayName="FormCheck";const Wde=Object.assign(Vde,{Input:Lde,Label:zde});var Hde=n(6440),Gde=n.n(Hde);const Kde=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],qde=Z.forwardRef(((e,t)=>{let{bsPrefix:n,type:r,size:o,htmlSize:i,id:a,className:s,isValid:c=!1,isInvalid:l=!1,plaintext:u,readOnly:d,as:h="input"}=e,p=zn(e,Kde);const{controlId:f}=(0,Z.useContext)(jde);return n=pf(n,"form-control"),(0,fn.jsx)(h,Ln(Ln({},p),{},{type:r,size:i,ref:t,readOnly:d,id:a||f,className:nf()(s,u?"".concat(n,"-plaintext"):n,o&&"".concat(n,"-").concat(o),"color"===r&&"".concat(n,"-color"),c&&"is-valid",l&&"is-invalid")}))}));qde.displayName="FormControl";const Yde=Object.assign(qde,{Feedback:Mde}),Xde=["className","bsPrefix","as"],Jde=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div"}=e,i=zn(e,Xde);return r=pf(r,"form-floating"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r)},i))}));Jde.displayName="FormFloating";const $de=Jde,Zde=["controlId","as"],Qde=Z.forwardRef(((e,t)=>{let{controlId:n,as:r="div"}=e,o=zn(e,Zde);const i=(0,Z.useMemo)((()=>({controlId:n})),[n]);return(0,fn.jsx)(jde.Provider,{value:i,children:(0,fn.jsx)(r,Ln(Ln({},o),{},{ref:t}))})}));Qde.displayName="FormGroup";const ehe=Qde,the=["as","bsPrefix","className"],nhe=["className"];const rhe=Z.forwardRef(((e,t)=>{const[n,{as:r="div",bsPrefix:o,spans:i}]=function(e){let{as:t,bsPrefix:n,className:r}=e,o=zn(e,the);n=pf(n,"col");const i=ff(),a=mf(),s=[],c=[];return i.forEach((e=>{const t=o[e];let r,i,l;delete o[e],"object"===typeof t&&null!=t?({span:r,offset:i,order:l}=t):r=t;const u=e!==a?"-".concat(e):"";r&&s.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=l&&c.push("order".concat(u,"-").concat(l)),null!=i&&c.push("offset".concat(u,"-").concat(i))})),[Ln(Ln({},o),{},{className:nf()(r,...s,...c)}),{as:t,bsPrefix:n,spans:s}]}(e),{className:a}=n,s=zn(n,nhe);return(0,fn.jsx)(r,Ln(Ln({},s),{},{ref:t,className:nf()(a,!i.length&&o)}))}));rhe.displayName="Col";const ohe=rhe,ihe=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],ahe=Z.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:r,column:o=!1,visuallyHidden:i=!1,className:a,htmlFor:s}=e,c=zn(e,ihe);const{controlId:l}=(0,Z.useContext)(jde);r=pf(r,"form-label");let u="col-form-label";"string"===typeof o&&(u="".concat(u," ").concat(u,"-").concat(o));const d=nf()(a,r,i&&"visually-hidden",o&&u);return s=s||l,o?(0,fn.jsx)(ohe,Ln({ref:t,as:"label",className:d,htmlFor:s},c)):(0,fn.jsx)(n,Ln({ref:t,className:d,htmlFor:s},c))}));ahe.displayName="FormLabel";const she=ahe,che=["bsPrefix","className","id"],lhe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,id:o}=e,i=zn(e,che);const{controlId:a}=(0,Z.useContext)(jde);return n=pf(n,"form-range"),(0,fn.jsx)("input",Ln(Ln({},i),{},{type:"range",ref:t,className:nf()(r,n),id:o||a}))}));lhe.displayName="FormRange";const uhe=lhe,dhe=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],hhe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,htmlSize:o,className:i,isValid:a=!1,isInvalid:s=!1,id:c}=e,l=zn(e,dhe);const{controlId:u}=(0,Z.useContext)(jde);return n=pf(n,"form-select"),(0,fn.jsx)("select",Ln(Ln({},l),{},{size:o,ref:t,className:nf()(i,n,r&&"".concat(n,"-").concat(r),a&&"is-valid",s&&"is-invalid"),id:c||u}))}));hhe.displayName="FormSelect";const phe=hhe,fhe=["bsPrefix","className","as","muted"],mhe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="small",muted:i}=e,a=zn(e,fhe);return n=pf(n,"form-text"),(0,fn.jsx)(o,Ln(Ln({},a),{},{ref:t,className:nf()(r,n,i&&"text-muted")}))}));mhe.displayName="FormText";const ghe=mhe,yhe=Z.forwardRef(((e,t)=>(0,fn.jsx)(Wde,Ln(Ln({},e),{},{ref:t,type:"switch"}))));yhe.displayName="Switch";const vhe=Object.assign(yhe,{Input:Wde.Input,Label:Wde.Label}),bhe=["bsPrefix","className","children","controlId","label"],xhe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,controlId:i,label:a}=e,s=zn(e,bhe);return n=pf(n,"form-floating"),(0,fn.jsxs)(ehe,Ln(Ln({ref:t,className:nf()(r,n),controlId:i},s),{},{children:[o,(0,fn.jsx)("label",{htmlFor:i,children:a})]}))}));xhe.displayName="FloatingLabel";const whe=xhe,khe=["className","validated","as"],She={_ref:$m().any,validated:$m().bool,as:$m().elementType},Che=Z.forwardRef(((e,t)=>{let{className:n,validated:r,as:o="form"}=e,i=zn(e,khe);return(0,fn.jsx)(o,Ln(Ln({},i),{},{ref:t,className:nf()(n,r&&"was-validated")}))}));Che.displayName="Form",Che.propTypes=She;const Ehe=Object.assign(Che,{Group:ehe,Control:Yde,Floating:$de,Check:Wde,Switch:vhe,Label:she,Text:ghe,Range:uhe,Select:phe,FloatingLabel:whe}),_he=["bsPrefix","fluid","as","className"],The=Z.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:o="div",className:i}=e,a=zn(e,_he);const s=pf(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,fn.jsx)(o,Ln(Ln({ref:t},a),{},{className:nf()(i,r?"".concat(s).concat(c):s)}))}));The.displayName="Container";const Nhe=The,Ihe=["bsPrefix","className","as"],Ahe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="div"}=e,i=zn(e,Ihe);const a=pf(n,"row"),s=ff(),c=mf(),l="".concat(a,"-cols"),u=[];return s.forEach((e=>{const t=i[e];let n;delete i[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==c?"-".concat(e):"";null!=n&&u.push("".concat(l).concat(r,"-").concat(n))})),(0,fn.jsx)(o,Ln(Ln({ref:t},i),{},{className:nf()(r,a,...u)}))}));Ahe.displayName="Row";const Ohe=Ahe,Rhe="http://localhost:3001",Mhe=()=>{const[e,t]=(0,Z.useState)(""),[n,r]=(0,Z.useState)(""),[o,i]=(0,Z.useState)(""),[a,s]=(0,Z.useState)(""),[c,l]=(0,Z.useState)(""),[u,d]=(0,Z.useState)(""),[h,p]=(0,Z.useState)(null),[f,m]=(0,Z.useState)(""),[g,y]=(0,Z.useState)(!1),v=qe(),b=e=>{p(e)};return(0,fn.jsxs)("div",{className:"regispage ",children:[(0,fn.jsx)(Nhe,{className:"mt-5",children:(0,fn.jsxs)(Ehe,{className:"Form1",onSubmit:async t=>{if(t.preventDefault(),o===f)try{const t={username:e,email:n,password:o,tel:a,firstname:c,lastname:u},r=await(async e=>{const t="".concat(Rhe,"/admin/register");console.log("Request URL:",t);try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Server returned ".concat(n.status," ").concat(n.statusText," for ").concat(t));const r=n.headers.get("content-type");return r&&r.includes("application/json")?await n.json():await n.text()}catch(n){throw console.error("Error:",n.message),n}})(t);console.log(r),b("\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!"),v("/admin/login")}catch(r){console.error("Registration failed:",r),b("\u0e04\u0e38\u0e13\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e42\u0e1b\u0e23\u0e14\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a")}else y(!0)},children:[(0,fn.jsx)("h3",{children:"\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"}),(0,fn.jsxs)(Ohe,{children:[(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",controlId:"formFirstname",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d"}),(0,fn.jsx)(Ehe.Control,{type:"text",value:c,onChange:e=>l(e.target.value)})]})}),(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",controlId:"formBasicLastname",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25"}),(0,fn.jsx)(Ehe.Control,{type:"text",value:u,onChange:e=>d(e.target.value)})]})})]}),(0,fn.jsxs)(Ohe,{children:[(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",controlId:"formBasicUsername",children:[(0,fn.jsx)(Ehe.Label,{children:"Username"}),(0,fn.jsx)(Ehe.Control,{type:"text",value:e,onChange:e=>t(e.target.value)})]})}),(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)(Ehe.Control,{type:"email",value:n,onChange:e=>r(e.target.value)})]})})]}),(0,fn.jsx)(Ohe,{children:(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"}),(0,fn.jsx)(Ehe.Control,{type:"tel",value:a,onChange:e=>s(e.target.value)})]})})}),(0,fn.jsxs)(Ohe,{children:[(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e15\u0e31\u0e49\u0e07\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsx)(Ehe.Control,{type:"password",value:o,onChange:e=>{i(e.target.value),y(!1)}})]})}),(0,fn.jsx)(ohe,{children:(0,fn.jsxs)(Ehe.Group,{className:"mb-3",controlId:"formBasicPassword2",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsx)(Ehe.Control,{type:"password",value:f,onChange:e=>{m(e.target.value),y(!1)}}),g&&(0,fn.jsx)("p",{style:{color:"red"},children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e21\u0e48\u0e15\u0e23\u0e07\u0e01\u0e31\u0e19"})]})})]}),(0,fn.jsx)(Ohe,{style:{justifyContent:"center"},children:(0,fn.jsx)("button",{id:"RGbutton",children:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19"})})]})}),h&&(0,fn.jsx)("div",{className:"alert-overlay",children:(0,fn.jsxs)("div",{className:"alertbox",children:[h.includes("\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")?(0,fn.jsx)(It,{style:{color:"#28a745",fontSize:"32px"}}):(0,fn.jsx)(zt,{style:{color:"#dc3545",fontSize:"32px"}}),(0,fn.jsx)("p",{children:h}),(0,fn.jsx)("button",{className:"btnClose",onClick:()=>{p(null)},children:"\u0e1b\u0e34\u0e14"})]})})]})};function jhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(e)}function Phe(e){return Ct({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17 21h-10c-1.654 0-3-1.346-3-3v-12c0-1.654 1.346-3 3-3h10c1.654 0 3 1.346 3 3v12c0 1.654-1.346 3-3 3zm-10-16c-.551 0-1 .449-1 1v12c0 .551.449 1 1 1h10c.551 0 1-.449 1-1v-12c0-.551-.449-1-1-1h-10zM16 11h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8c.276 0 .5.224.5.5s-.224.5-.5.5zM16 8h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8c.276 0 .5.224.5.5s-.224.5-.5.5zM16 14h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8c.276 0 .5.224.5.5s-.224.5-.5.5zM16 17h-8c-.276 0-.5-.224-.5-.5s.224-.5.5-.5h8c.276 0 .5.224.5.5s-.224.5-.5.5z"},child:[]}]}]})(e)}function Dhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.998 3V21H2.99805V3H20.998ZM12.997 6H10.997L6.59805 17H8.75205L9.95105 14H14.041L15.242 17H17.397L12.997 6ZM11.997 8.88517L13.242 12H10.75L11.997 8.88517Z"},child:[]}]})(e)}function Lhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13H11V3H3V13ZM3 21H11V15H3V21ZM13 21H21V11H13V21ZM13 3V9H21V3H13Z"},child:[]}]})(e)}function Fhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}const Bhe="http://localhost:3001",zhe=async e=>{if(!e)throw new Error("Invalid Admin ID");const t=sessionStorage.getItem("adminToken");if(!t)return console.error("No token found, redirecting to login..."),null;const n="".concat(Bhe,"/admin/").concat(e);try{const e=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!e.ok){const t=e.statusText||"Unknown Error";throw new Error("Server returned ".concat(e.status," ").concat(t," for ").concat(n))}const r=e.headers.get("content-type");if(!r||!r.includes("application/json")){return await e.text()}return await e.json()}catch(r){return console.error("Error:",r.message),r instanceof TypeError?console.error("Network error or CORS issue"):r instanceof SyntaxError&&console.error("Error parsing JSON response"),null}},Uhe=async()=>{const e=sessionStorage.getItem("userId");if(!e)return void console.error("No token found, redirecting to login...");const t=await fetch("".concat("http://localhost:3001","/views"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to fetch users");return await t.json()},Vhe=async()=>{const e=sessionStorage.getItem("userId");if(!e)return void console.error("No token found, redirecting to login...");const t=await fetch("".concat("http://localhost:3001","/admin/viewer"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to fetch users");return await t.json()},Whe=async e=>{const t=sessionStorage.getItem("userId");if(!t)return void console.error("No token found, redirecting to login...");const n=await fetch("".concat("http://localhost:3001","/admin/blogs/").concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!n.ok)throw new Error("Failed to fetch posts");return await n.json()};function Hhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M172,120a44,44,0,1,1-44-44A44.05,44.05,0,0,1,172,120Zm60,8A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88.09,88.09,0,0,0-91.47-87.93C77.43,41.89,39.87,81.12,40,128.25a87.65,87.65,0,0,0,22.24,58.16A79.71,79.71,0,0,1,84,165.1a4,4,0,0,1,4.83.32,59.83,59.83,0,0,0,78.28,0,4,4,0,0,1,4.83-.32,79.71,79.71,0,0,1,21.79,21.31A87.62,87.62,0,0,0,216,128Z"},child:[]}]})(e)}function Ghe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M64.12,147.8a4,4,0,0,1-4,4.2H16a8,8,0,0,1-7.8-6.17,8.35,8.35,0,0,1,1.62-6.93A67.79,67.79,0,0,1,37,117.51a40,40,0,1,1,66.46-35.8,3.94,3.94,0,0,1-2.27,4.18A64.08,64.08,0,0,0,64,144C64,145.28,64,146.54,64.12,147.8Zm182-8.91A67.76,67.76,0,0,0,219,117.51a40,40,0,1,0-66.46-35.8,3.94,3.94,0,0,0,2.27,4.18A64.08,64.08,0,0,1,192,144c0,1.28,0,2.54-.12,3.8a4,4,0,0,0,4,4.2H240a8,8,0,0,0,7.8-6.17A8.33,8.33,0,0,0,246.17,138.89Zm-89,43.18a48,48,0,1,0-58.37,0A72.13,72.13,0,0,0,65.07,212,8,8,0,0,0,72,224H184a8,8,0,0,0,6.93-12A72.15,72.15,0,0,0,157.19,182.07Z"},child:[]}]})(e)}function Khe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"defs",attr:{},child:[{tag:"clipPath",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M124-288l388-672 388 672H124z",clipRule:"evenodd"},child:[]}]}]},{tag:"path",attr:{d:"M508 624a112 112 0 0 0 112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 0 0-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 0 0 0 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 0 0 0 11.31L155.25 889a8 8 0 0 0 11.31 0l712.16-712.12a8 8 0 0 0 0-11.32zM332 512a176 176 0 0 1 258.88-155.28l-48.62 48.62a112.08 112.08 0 0 0-140.92 140.92l-48.62 48.62A175.09 175.09 0 0 1 332 512z"},child:[]},{tag:"path",attr:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 0 1 445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 0 0 0-51.5z"},child:[]}]})(e)}function qhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M396 512a112 112 0 1 0 224 0 112 112 0 1 0-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"},child:[]}]})(e)}function Yhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}const Xhe=n.p+"static/media/AdminIcon.be2586baed2c5e801695.png";function Jhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"},child:[]}]})(e)}function $he(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"5"},child:[]},{tag:"path",attr:{d:"M20 21a8 8 0 1 0-16 0"},child:[]}]})(e)}function Zhe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12s2.545-5 7-5c4.454 0 7 5 7 5s-2.546 5-7 5c-4.455 0-7-5-7-5z"},child:[]},{tag:"path",attr:{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"},child:[]},{tag:"path",attr:{d:"M21 17v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2"},child:[]},{tag:"path",attr:{d:"M21 7V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2"},child:[]}]})(e)}const Qhe=e=>{let{userId:t,show:n,onClose:r,onDeleteSuccess:o}=e;const[i,a]=(0,Z.useState)(""),[s,c]=(0,Z.useState)(""),[l,u]=(0,Z.useState)("");qe();return(0,fn.jsxs)(yg,{show:n,onHide:r,centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"})}),(0,fn.jsxs)(yg.Body,{children:[(0,fn.jsx)("p",{children:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e19\u0e35\u0e49?"}),(0,fn.jsxs)(Ehe,{onSubmit:e=>e.preventDefault(),children:[(0,fn.jsxs)(Ehe.Group,{controlId:"adminPassword",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25\u0e23\u0e30\u0e1a\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}),(0,fn.jsx)(Ehe.Control,{type:"password",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19",value:i,onChange:e=>a(e.target.value)})]}),s&&(0,fn.jsx)("p",{className:"text-danger",children:s}),l&&(0,fn.jsx)("p",{className:"text-success",children:l})]})]}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:r,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{variant:"danger",onClick:async()=>{try{const e=await ap.delete("".concat("http://localhost:3001","/profile/edit-profile/delete/").concat(t),{data:{adminPassword:i,adminId:sessionStorage.getItem("adminId")}});"User deleted successfully"===e.data.message?(u("\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!"),c(""),o()):c(e.data.error||"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49")}catch(e){c("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e44\u0e14\u0e49 \u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07")}},children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"})]})]})},epe=e=>{let{users:t,allUsers:n}=e;const{id:r}=Xe(),[o,i]=(0,Z.useState)(""),[a,s]=(0,Z.useState)(""),[c,l]=(0,Z.useState)(!1),[u,d]=(0,Z.useState)(!1),[h,p]=(0,Z.useState)(null),[f,m]=(0,Z.useState)([]),[g,y]=(0,Z.useState)({}),[v,b]=(0,Z.useState)(""),x=(qe(),()=>{l(!1),s(""),i(""),p(null)}),w=async()=>{try{const e=await ap.get("".concat("http://localhost:3001","/profile"));m(e.data)}catch(e){console.error("Error fetching reports:",e)}},k=f&&f.length>0?f:n,S=(0,Z.useMemo)((()=>v?k.filter((e=>e.fullname.toLowerCase().includes(v.toLowerCase())||e.email.toLowerCase().includes(v.toLowerCase()))):k),[k,v]);return(0,fn.jsxs)("div",{className:"manageUser",children:[(0,fn.jsxs)("div",{className:"main1",children:[(0,fn.jsx)("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginTop:"2rem"},children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsxs)("div",{className:"insights",children:[(0,fn.jsxs)("div",{className:"user-all",children:[(0,fn.jsx)(Ghe,{className:"svg1"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("h1",{children:n.length})]})})]}),(0,fn.jsxs)("div",{className:"view-all",children:[(0,fn.jsx)(Zhe,{className:"svg2"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e43\u0e2b\u0e21\u0e48\u0e43\u0e19 24 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07"}),(0,fn.jsx)("h1",{children:t.length})]})})]})]}),(0,fn.jsxs)("div",{className:"recent-order",style:{marginTop:"1.5rem"},children:[(0,fn.jsx)("h2",{style:{marginLeft:"2px"},children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"}),(0,fn.jsx)("div",{className:"search-user",children:(0,fn.jsx)("input",{type:"text",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49...",value:v,onChange:e=>b(e.target.value),style:{width:"96%",margin:"3px 3px",padding:"10px 15px",fontSize:"16px",border:"none",borderRadius:"10px",backgroundColor:"white"}})}),(0,fn.jsx)("div",{className:"right",children:(0,fn.jsx)("div",{className:"activity-analytics",style:{marginTop:"0.5rem",overflowY:"scroll",maxHeight:"300px"},children:(0,fn.jsxs)("table",{children:[(0,fn.jsx)("thead",{className:"pt-5",style:{margin:"20px 10px",backgroundColor:"white"},children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{style:{top:0,backgroundColor:"#fff",zIndex:1},children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{style:{top:0,backgroundColor:"#fff",zIndex:1},children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsx)("th",{style:{top:0,backgroundColor:"#fff",zIndex:1},children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)("th",{style:{top:0,backgroundColor:"#fff",zIndex:1},children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsx)("th",{style:{top:0,backgroundColor:"#fff",zIndex:1}}),(0,fn.jsx)("th",{style:{top:0,backgroundColor:"#fff",zIndex:1}})]})}),(0,fn.jsx)("tbody",{children:S.length>0?S.map((e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:new Date(e.joinedAt).toLocaleDateString()}),(0,fn.jsx)("td",{children:e.fullname}),(0,fn.jsx)("td",{children:e.email}),(0,fn.jsxs)("td",{className:"warning",children:[(0,fn.jsx)("span",{children:g[e._id]?e.password:"*****"}),(0,fn.jsx)("button",{onClick:()=>{return t=e._id,void y((e=>Ln(Ln({},e),{},{[t]:!e[t]})));var t},style:{border:"none",background:"none",cursor:"pointer"},children:g[e._id]?(0,fn.jsx)(Khe,{}):(0,fn.jsx)(qhe,{})})]}),(0,fn.jsx)("td",{className:"primary",children:(0,fn.jsx)(bf,{onClick:()=>{return p(t=e),s(t.fullname),i(t.email),void l(!0);var t},style:{backgroundColor:"#f3b15a",border:"none"},children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})}),(0,fn.jsx)("td",{children:(0,fn.jsx)(bf,{onClick:()=>(async e=>{p(e),d(!0)})(e._id),style:{backgroundColor:"#f26665",border:"none"},children:"\u0e25\u0e1a"})})]},e._id))):(0,fn.jsx)("tr",{children:(0,fn.jsx)("td",{colSpan:6,children:(0,fn.jsx)("div",{style:{margin:"20% 0",textAlign:"center"},children:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e17\u0e35\u0e48\u0e04\u0e49\u0e19\u0e2b\u0e32"})})})})]})})})]})]}),(0,fn.jsxs)(yg,{show:c,onHide:x,style:{display:"flex",alignItems:"center",justifyContent:"center"},centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"})}),(0,fn.jsx)(yg.Body,{children:(0,fn.jsxs)(Ehe,{children:[(0,fn.jsxs)(Ehe.Group,{controlId:"formFullname",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e0a\u0e37\u0e48\u0e2d"}),(0,fn.jsx)(Ehe.Control,{type:"text",value:a,onChange:e=>s(e.target.value)})]}),(0,fn.jsxs)(Ehe.Group,{controlId:"formEmail",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)(Ehe.Control,{type:"email",value:o,onChange:e=>i(e.target.value)})]})]})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:x,children:"\u0e1b\u0e34\u0e14"}),(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:async()=>{try{await(async(e,t,n)=>{const r=sessionStorage.getItem("userId");if(!r)throw new Error("No admin token found. Unauthorized request.");try{if(!(await fetch("".concat(Bhe,"/profile/edit-profile/update-info/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({fullname:t,email:n})})).ok)throw new Error("Failed to update user")}catch(o){throw console.error("Error updating user:",o),o}})(h._id,a,o),l(!1),w()}catch(e){e.message.includes("Email is already in use.")?alert("This email is already in use. Please choose another one."):console.error("Failed to update user:",e)}},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07"})]})]}),(0,fn.jsx)(Qhe,{userId:h,show:u,onClose:()=>d(!1),onDeleteSuccess:()=>{d(!1),w(),alert("User account has been deleted.")}})]})},tpe=e=>{let{showModal:t,handleClose:n,report:r,refreshReports:o}=e;qe();const i="http://localhost:3001",a=async e=>{if(r)try{await(async(e,t)=>{const n="".concat(i,"/api/report/").concat(e,"/verify");try{var r;const e=await ap.patch(n,{verified:t},{headers:{Authorization:"Bearer ".concat(null===(r=JSON.parse(sessionStorage.getItem("user")))||void 0===r?void 0:r.access_token)}});if(200!==e.status)throw new Error("Failed to verify report: ".concat(e.statusText));return e}catch(o){throw console.error("Error verifying report:",o.message),o}})(r._id,e),console.log("Report verified successfully"),!e&&r.post&&r.post._id&&(await(async(e,t)=>{var n;const r="".concat(i,"/api/report/").concat(e,"/deletePost"),o=null===(n=JSON.parse(sessionStorage.getItem("user")))||void 0===n?void 0:n.access_token;if(!o)throw new Error("Authentication token is missing");try{const n=await fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},credentials:"include",body:JSON.stringify({postId:t})});if(!n.ok)throw new Error("Server returned ".concat(n.status," ").concat(n.statusText," for report ").concat(e));return n.json()}catch(a){throw console.error("Error deleting post and verifying report:",a.message),a}})(r._id,r.post._id),console.log("Post deleted successfully")),o(),n()}catch(t){console.error("Failed to verify report:",t)}else console.error("No report found")};return(0,fn.jsxs)(yg,{show:t,onHide:n,size:"lg",children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})}),(0,fn.jsx)(yg.Body,{style:{overflowY:"auto",maxHeight:"70vh"},children:(0,fn.jsxs)("div",{className:"blogpage",children:[(0,fn.jsx)("img",{src:null===r||void 0===r?void 0:r.post.banner,alt:"banner",style:{aspectRatio:"16/9",width:"100%"}}),(0,fn.jsxs)("div",{className:"mt-2",children:[(0,fn.jsx)("h2",{className:"mt-4 fs-3",children:null===r||void 0===r?void 0:r.post.topic}),(0,fn.jsxs)("div",{className:"detail-user d-flex justify-content-between my-4",children:[(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-start",children:[(0,fn.jsx)("img",{src:null!==r&&void 0!==r&&r.post.author?null===r||void 0===r?void 0:r.post.author.profile_picture:"",alt:"",className:"rounded-circle",style:{width:"3rem",height:"3rem"}}),(0,fn.jsxs)("p",{className:"m-0",style:{textTransform:"capitalize"},children:[null!==r&&void 0!==r&&r.post.author?null===r||void 0===r?void 0:r.post.author.fullname:"",(0,fn.jsx)("br",{}),"@",(0,fn.jsx)(cn,{to:null!==r&&void 0!==r&&r.post.author?"/user/".concat(null===r||void 0===r?void 0:r.post.author._id):"/404",className:"underline",style:{color:"inherit"},children:null!==r&&void 0!==r&&r.post.author?null===r||void 0===r?void 0:r.post.author.fullname:""})]})]}),(0,fn.jsxs)("p",{className:"m-0 published-detail",children:["\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e40\u0e21\u0e37\u0e48\u0e2d:"," ",null!==r&&void 0!==r&&r.post.publishedAt?pp(null===r||void 0===r?void 0:r.post.publishedAt):"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"]})]}),(0,fn.jsx)("p",{children:null===r||void 0===r?void 0:r.post.content.map((e=>e.blocks.map((e=>(0,fn.jsx)("span",{children:e.data.text},e.id)))))})]})]})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:()=>a(!0),children:"\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e15\u0e48\u0e2d"}),(0,fn.jsx)(bf,{variant:"danger",onClick:()=>a(!1),children:"\u0e25\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01"}),(0,fn.jsx)(bf,{variant:"secondary",onClick:n,children:"\u0e1b\u0e34\u0e14"})]})]})};function npe(e){return e+.5|0}const rpe=(e,t,n)=>Math.max(Math.min(e,n),t);function ope(e){return rpe(npe(2.55*e),0,255)}function ipe(e){return rpe(npe(255*e),0,255)}function ape(e){return rpe(npe(e/2.55)/100,0,1)}function spe(e){return rpe(npe(100*e),0,100)}const cpe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lpe=[..."0123456789ABCDEF"],upe=e=>lpe[15&e],dpe=e=>lpe[(240&e)>>4]+lpe[15&e],hpe=e=>(240&e)>>4===(15&e);function ppe(e){var t=(e=>hpe(e.r)&&hpe(e.g)&&hpe(e.b)&&hpe(e.a))(e)?upe:dpe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const fpe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mpe(e,t,n){const r=t*Math.min(n,1-n),o=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(o-3,9-o,1),-1)};return[o(0),o(8),o(4)]}function gpe(e,t,n){const r=function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(o,4-o,1),0)};return[r(5),r(3),r(1)]}function ype(e,t,n){const r=mpe(e,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)r[o]*=1-t-n,r[o]+=t;return r}function vpe(e){const t=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(t,n,r),i=Math.min(t,n,r),a=(o+i)/2;let s,c,l;return o!==i&&(l=o-i,c=a>.5?l/(2-o-i):l/(o+i),s=function(e,t,n,r,o){return e===o?(t-n)/r+(t<n?6:0):t===o?(n-e)/r+2:(e-t)/r+4}(t,n,r,l,o),s=60*s+.5),[0|s,c||0,a]}function bpe(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ipe)}function xpe(e,t,n){return bpe(mpe,e,t,n)}function wpe(e){return(e%360+360)%360}function kpe(e){const t=fpe.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?ope(+t[5]):ipe(+t[5]));const o=wpe(+t[2]),i=+t[3]/100,a=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return bpe(ype,e,t,n)}(o,i,a):"hsv"===t[1]?function(e,t,n){return bpe(gpe,e,t,n)}(o,i,a):xpe(o,i,a),{r:n[0],g:n[1],b:n[2],a:r}}const Spe={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Cpe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Epe;function _pe(e){Epe||(Epe=function(){const e={},t=Object.keys(Cpe),n=Object.keys(Spe);let r,o,i,a,s;for(r=0;r<t.length;r++){for(a=s=t[r],o=0;o<n.length;o++)i=n[o],s=s.replace(i,Spe[i]);i=parseInt(Cpe[a],16),e[s]=[i>>16&255,i>>8&255,255&i]}return e}(),Epe.transparent=[0,0,0,0]);const t=Epe[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Tpe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Npe=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ipe=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ape(e,t,n){if(e){let r=vpe(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=xpe(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ope(e,t){return e?Object.assign(t||{},e):e}function Rpe(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ipe(e[3]))):(t=Ope(e,{r:0,g:0,b:0,a:1})).a=ipe(t.a),t}function Mpe(e){return"r"===e.charAt(0)?function(e){const t=Tpe.exec(e);let n,r,o,i=255;if(t){if(t[7]!==n){const e=+t[7];i=t[8]?ope(e):rpe(255*e,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?ope(n):rpe(n,0,255)),r=255&(t[4]?ope(r):rpe(r,0,255)),o=255&(t[6]?ope(o):rpe(o,0,255)),{r:n,g:r,b:o,a:i}}}(e):kpe(e)}class jpe{constructor(e){if(e instanceof jpe)return e;const t=typeof e;let n;"object"===t?n=Rpe(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*cpe[e[1]],g:255&17*cpe[e[2]],b:255&17*cpe[e[3]],a:5===n?17*cpe[e[4]]:255}:7!==n&&9!==n||(t={r:cpe[e[1]]<<4|cpe[e[2]],g:cpe[e[3]]<<4|cpe[e[4]],b:cpe[e[5]]<<4|cpe[e[6]],a:9===n?cpe[e[7]]<<4|cpe[e[8]]:255})),t}(e)||_pe(e)||Mpe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ope(this._rgb);return e&&(e.a=ape(e.a)),e}set rgb(e){this._rgb=Rpe(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(ape(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?ppe(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=vpe(e),n=t[0],r=spe(t[1]),o=spe(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(o,"%, ").concat(ape(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(o,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let o;const i=t===o?.5:t,a=2*i-1,s=n.a-r.a,c=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;o=1-c,n.r=255&c*n.r+o*r.r+.5,n.g=255&c*n.g+o*r.g+.5,n.b=255&c*n.b+o*r.b+.5,n.a=i*n.a+(1-i)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Ipe(ape(e.r)),o=Ipe(ape(e.g)),i=Ipe(ape(e.b));return{r:ipe(Npe(r+n*(Ipe(ape(t.r))-r))),g:ipe(Npe(o+n*(Ipe(ape(t.g))-o))),b:ipe(Npe(i+n*(Ipe(ape(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new jpe(this.rgb)}alpha(e){return this._rgb.a=ipe(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=npe(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ape(this._rgb,2,e),this}darken(e){return Ape(this._rgb,2,-e),this}saturate(e){return Ape(this._rgb,1,e),this}desaturate(e){return Ape(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=vpe(e);n[0]=wpe(n[0]+t),n=xpe(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Ppe(){}const Dpe=(()=>{let e=0;return()=>e++})();function Lpe(e){return null===e||"undefined"===typeof e}function Fpe(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Bpe(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function zpe(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Upe(e,t){return zpe(e)?e:t}function Vpe(e,t){return"undefined"===typeof e?t:e}const Wpe=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Hpe(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Gpe(e,t,n,r){let o,i,a;if(Fpe(e))if(i=e.length,r)for(o=i-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<i;o++)t.call(n,e[o],o);else if(Bpe(e))for(a=Object.keys(e),i=a.length,o=0;o<i;o++)t.call(n,e[a[o]],a[o])}function Kpe(e,t){let n,r,o,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(o=e[n],i=t[n],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function qpe(e){if(Fpe(e))return e.map(qpe);if(Bpe(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let o=0;for(;o<r;++o)t[n[o]]=qpe(e[n[o]]);return t}return e}function Ype(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Xpe(e,t,n,r){if(!Ype(e))return;const o=t[e],i=n[e];Bpe(o)&&Bpe(i)?Jpe(o,i,r):t[e]=qpe(i)}function Jpe(e,t,n){const r=Fpe(t)?t:[t],o=r.length;if(!Bpe(e))return e;const i=(n=n||{}).merger||Xpe;let a;for(let s=0;s<o;++s){if(a=r[s],!Bpe(a))continue;const t=Object.keys(a);for(let r=0,o=t.length;r<o;++r)i(t[r],e,a,n)}return e}function $pe(e,t){return Jpe(e,t,{merger:Zpe})}function Zpe(e,t,n){if(!Ype(e))return;const r=t[e],o=n[e];Bpe(r)&&Bpe(o)?$pe(r,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=qpe(o))}const Qpe={"":e=>e,x:e=>e.x,y:e=>e.y};function efe(e,t){const n=Qpe[t]||(Qpe[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const o of t)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function tfe(e){return e.charAt(0).toUpperCase()+e.slice(1)}const nfe=e=>"undefined"!==typeof e,rfe=e=>"function"===typeof e,ofe=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const ife=Math.PI,afe=2*ife,sfe=afe+ife,cfe=Number.POSITIVE_INFINITY,lfe=ife/180,ufe=ife/2,dfe=ife/4,hfe=2*ife/3,pfe=Math.log10,ffe=Math.sign;function mfe(e,t,n){return Math.abs(e-t)<n}function gfe(e){const t=Math.round(e);e=mfe(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(pfe(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function yfe(e){return!isNaN(parseFloat(e))&&isFinite(e)}function vfe(e,t,n){let r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function bfe(e){return e*(ife/180)}function xfe(e){return e*(180/ife)}function wfe(e){if(!zpe(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function kfe(e,t){const n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ife&&(i+=afe),{angle:i,distance:o}}function Sfe(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Cfe(e,t){return(e-t+sfe)%afe-ife}function Efe(e){return(e%afe+afe)%afe}function _fe(e,t,n,r){const o=Efe(e),i=Efe(t),a=Efe(n),s=Efe(i-o),c=Efe(a-o),l=Efe(o-i),u=Efe(o-a);return o===i||o===a||r&&i===a||s>c&&l<u}function Tfe(e,t,n){return Math.max(t,Math.min(n,e))}function Nfe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ife(e,t,n){n=n||(n=>e[n]<t);let r,o=e.length-1,i=0;for(;o-i>1;)r=i+o>>1,n(r)?i=r:o=r;return{lo:i,hi:o}}const Afe=(e,t,n,r)=>Ife(e,n,r?r=>{const o=e[r][t];return o<n||o===n&&e[r+1][t]===n}:r=>e[r][t]<n),Ofe=(e,t,n)=>Ife(e,n,(r=>e[r][t]>=n));const Rfe=["push","pop","shift","splice","unshift"];function Mfe(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(t);-1!==o&&r.splice(o,1),r.length>0||(Rfe.forEach((t=>{delete e[t]})),delete e._chartjs)}function jfe(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Pfe="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Dfe(e,t){let n=[],r=!1;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n=i,r||(r=!0,Pfe.call(window,(()=>{r=!1,e.apply(t,n)})))}}const Lfe=e=>"start"===e?"left":"end"===e?"right":"center",Ffe=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Bfe(e,t,n){const r=t.length;let o=0,i=r;if(e._sorted){const{iScale:a,_parsed:s}=e,c=a.axis,{min:l,max:u,minDefined:d,maxDefined:h}=a.getUserBounds();d&&(o=Tfe(Math.min(Afe(s,c,l).lo,n?r:Afe(t,c,a.getPixelForValue(l)).lo),0,r-1)),i=h?Tfe(Math.max(Afe(s,a.axis,u,!0).hi+1,n?0:Afe(t,c,a.getPixelForValue(u),!0).hi+1),o,r)-o:r-o}return{start:o,count:i}}function zfe(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=o,!0;const i=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,o),i}const Ufe=e=>0===e||1===e,Vfe=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*afe/n),Wfe=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*afe/n)+1,Hfe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*ufe),easeOutSine:e=>Math.sin(e*ufe),easeInOutSine:e=>-.5*(Math.cos(ife*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ufe(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ufe(e)?e:Vfe(e,.075,.3),easeOutElastic:e=>Ufe(e)?e:Wfe(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ufe(e)?e:e<.5?.5*Vfe(2*e,t,.45):.5+.5*Wfe(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Hfe.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Hfe.easeInBounce(2*e):.5*Hfe.easeOutBounce(2*e-1)+.5};function Gfe(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Kfe(e){return Gfe(e)?e:new jpe(e)}function qfe(e){return Gfe(e)?e:new jpe(e).saturate(.5).darken(.1).hexString()}const Yfe=["x","y","borderWidth","radius","tension"],Xfe=["color","borderColor","backgroundColor"];const Jfe=new Map;function $fe(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Jfe.get(n);return r||(r=new Intl.NumberFormat(e,t),Jfe.set(n,r)),r}(t,n).format(e)}const Zfe={values:e=>Fpe(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let o,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(o="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const a=pfe(Math.abs(i)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),$fe(e,r,c)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(pfe(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Zfe.numeric.call(this,e,t,n):""}};var Qfe={formatters:Zfe};const eme=Object.create(null),tme=Object.create(null);function nme(e,t){if(!t)return e;const n=t.split(".");for(let r=0,o=n.length;r<o;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function rme(e,t,n){return"string"===typeof t?Jpe(nme(e,t),n):Jpe(nme(e,""),t)}class ome{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>qfe(t.backgroundColor),this.hoverBorderColor=(e,t)=>qfe(t.borderColor),this.hoverColor=(e,t)=>qfe(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return rme(this,e,t)}get(e){return nme(this,e)}describe(e,t){return rme(tme,e,t)}override(e,t){return rme(eme,e,t)}route(e,t,n,r){const o=nme(this,e),i=nme(this,n),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[a],t=i[r];return Bpe(e)?Object.assign({},t,e):Vpe(e,t)},set(e){this[a]=e}}})}apply(e){e.forEach((e=>e(this)))}}var ime=new ome({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Xfe},numbers:{type:"number",properties:Yfe}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qfe.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ame(e,t,n,r,o){let i=t[o];return i||(i=t[o]=e.measureText(o).width,n.push(o)),i>r&&(r=i),r}function sme(e,t,n,r){let o=(r=r||{}).data=r.data||{},i=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},i=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let a=0;const s=n.length;let c,l,u,d,h;for(c=0;c<s;c++)if(d=n[c],void 0===d||null===d||Fpe(d)){if(Fpe(d))for(l=0,u=d.length;l<u;l++)h=d[l],void 0===h||null===h||Fpe(h)||(a=ame(e,o,i,a,h))}else a=ame(e,o,i,a,d);e.restore();const p=i.length/2;if(p>n.length){for(c=0;c<p;c++)delete o[i[c]];i.splice(0,p)}return a}function cme(e,t,n){const r=e.currentDevicePixelRatio,o=0!==n?Math.max(n/2,.5):0;return Math.round((t-o)*r)/r+o}function lme(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function ume(e,t,n,r){dme(e,t,n,r,null)}function dme(e,t,n,r,o){let i,a,s,c,l,u,d,h;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*lfe;if(p&&"object"===typeof p&&(i=p.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:o?e.ellipse(n,r,o/2,m,0,0,afe):e.arc(n,r,m,0,afe),e.closePath();break;case"triangle":u=o?o/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=hfe,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=hfe,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":l=.516*m,c=m-l,a=Math.cos(g+dfe)*c,d=Math.cos(g+dfe)*(o?o/2-l:c),s=Math.sin(g+dfe)*c,h=Math.sin(g+dfe)*(o?o/2-l:c),e.arc(n-d,r-s,l,g-ife,g-ufe),e.arc(n+h,r-a,l,g-ufe,g),e.arc(n+d,r+s,l,g,g+ufe),e.arc(n-h,r+a,l,g+ufe,g+ife),e.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*m,u=o?o/2:c,e.rect(n-u,r-c,2*u,2*c);break}g+=dfe;case"rectRot":d=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(o?o/2:m),e.moveTo(n-d,r-s),e.lineTo(n+h,r-a),e.lineTo(n+d,r+s),e.lineTo(n-h,r+a),e.closePath();break;case"crossRot":g+=dfe;case"cross":d=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(o?o/2:m),e.moveTo(n-d,r-s),e.lineTo(n+d,r+s),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"star":d=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(o?o/2:m),e.moveTo(n-d,r-s),e.lineTo(n+d,r+s),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a),g+=dfe,d=Math.cos(g)*(o?o/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,h=Math.sin(g)*(o?o/2:m),e.moveTo(n-d,r-s),e.lineTo(n+d,r+s),e.moveTo(n+h,r-a),e.lineTo(n-h,r+a);break;case"line":a=o?o/2:Math.cos(g)*m,s=Math.sin(g)*m,e.moveTo(n-a,r-s),e.lineTo(n+a,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(o?o/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function hme(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function pme(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function fme(e){e.restore()}function mme(e,t,n,r,o){if(!t)return e.lineTo(n.x,n.y);if("middle"===o){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===o!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function gme(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function yme(e,t,n,r,o){if(o.strikethrough||o.underline){const i=e.measureText(r),a=t-i.actualBoundingBoxLeft,s=t+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,l=n+i.actualBoundingBoxDescent,u=o.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(a,u),e.lineTo(s,u),e.stroke()}}function vme(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bme(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Fpe(t)?t:[t],s=i.strokeWidth>0&&""!==i.strokeColor;let c,l;for(e.save(),e.font=o.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Lpe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),c=0;c<a.length;++c)l=a[c],i.backdrop&&vme(e,i.backdrop),s&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Lpe(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(l,n,r,i.maxWidth)),e.fillText(l,n,r,i.maxWidth),yme(e,n,r,l,i),r+=Number(o.lineHeight);e.restore()}function xme(e,t){const{x:n,y:r,w:o,h:i,radius:a}=t;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ife,ife,!0),e.lineTo(n,r+i-a.bottomLeft),e.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ife,ufe,!0),e.lineTo(n+o-a.bottomRight,r+i),e.arc(n+o-a.bottomRight,r+i-a.bottomRight,a.bottomRight,ufe,0,!0),e.lineTo(n+o,r+a.topRight),e.arc(n+o-a.topRight,r+a.topRight,a.topRight,0,-ufe,!0),e.lineTo(n+a.topLeft,r)}const wme=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kme=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Sme(e,t){const n=(""+e).match(wme);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Cme=e=>+e||0;function Eme(e,t){const n={},r=Bpe(t),o=r?Object.keys(t):t,i=Bpe(e)?r?n=>Vpe(e[n],e[t[n]]):t=>e[t]:()=>e;for(const a of o)n[a]=Cme(i(a));return n}function _me(e){return Eme(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Tme(e){return Eme(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Nme(e){const t=_me(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ime(e,t){e=e||{},t=t||ime.font;let n=Vpe(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Vpe(e.style,t.style);r&&!(""+r).match(kme)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Vpe(e.family,t.family),lineHeight:Sme(Vpe(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Vpe(e.weight,t.weight),string:""};return o.string=function(e){return!e||Lpe(e.size)||Lpe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(o),o}function Ame(e,t,n,r){let o,i,a,s=!0;for(o=0,i=e.length;o<i;++o)if(a=e[o],void 0!==a&&(void 0!==t&&"function"===typeof a&&(a=a(t),s=!1),void 0!==n&&Fpe(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Ome(e,t){return Object.assign(Object.create(e),t)}function Rme(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const o=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Wme("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:r,override:r=>Rme([r,...e],t,o,n)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Lme(n,r,(()=>function(e,t,n,r){let o;for(const i of t)if(o=Wme(Pme(i,e),n),"undefined"!==typeof o)return Dme(e,o)?Ume(n,r,e,o):o}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Hme(e).includes(t),ownKeys:e=>Hme(e),set(e,t,n){const o=e._storage||(e._storage=r());return e[t]=o[t]=n,delete e._keys,!0}})}function Mme(e,t,n,r){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:jme(e,r),setContext:t=>Mme(e,t,n,r),override:o=>Mme(e.override(o),t,n,r)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Lme(e,t,(()=>function(e,t,n){const{_proxy:r,_context:o,_subProxy:i,_descriptors:a}=e;let s=r[t];rfe(s)&&a.isScriptable(t)&&(s=function(e,t,n,r){const{_proxy:o,_context:i,_subProxy:a,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);let c=t(i,a||r);s.delete(e),Dme(e,c)&&(c=Ume(o._scopes,o,e,c));return c}(t,s,e,n));Fpe(s)&&s.length&&(s=function(e,t,n,r){const{_proxy:o,_context:i,_subProxy:a,_descriptors:s}=n;if("undefined"!==typeof i.index&&r(e))return t[i.index%t.length];if(Bpe(t[0])){const n=t,r=o._scopes.filter((e=>e!==n));t=[];for(const c of n){const n=Ume(r,o,e,c);t.push(Mme(n,i,a&&a[e],s))}}return t}(t,s,e,a.isIndexable));Dme(t,s)&&(s=Mme(s,o,i&&i[t],a));return s}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function jme(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:n,indexable:r,isScriptable:rfe(n)?n:()=>n,isIndexable:rfe(r)?r:()=>r}}const Pme=(e,t)=>e?e+tfe(t):t,Dme=(e,t)=>Bpe(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Lme(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function Fme(e,t,n){return rfe(e)?e(t,n):e}const Bme=(e,t)=>!0===e?t:"string"===typeof e?efe(t,e):void 0;function zme(e,t,n,r,o){for(const i of t){const t=Bme(n,i);if(t){e.add(t);const i=Fme(t._fallback,n,o);if("undefined"!==typeof i&&i!==n&&i!==r)return i}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Ume(e,t,n,r){const o=t._rootScopes,i=Fme(t._fallback,n,r),a=[...e,...o],s=new Set;s.add(r);let c=Vme(s,a,n,i||n,r);return null!==c&&(("undefined"===typeof i||i===n||(c=Vme(s,a,i,c,r),null!==c))&&Rme(Array.from(s),[""],o,i,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const o=r[t];if(Fpe(o)&&Bpe(n))return n;return o||{}}(t,n,r))))}function Vme(e,t,n,r,o){for(;n;)n=zme(e,t,n,r,o);return n}function Wme(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Hme(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Gme(e,t,n,r){const{iScale:o}=e,{key:i="r"}=this._parsing,a=new Array(r);let s,c,l,u;for(s=0,c=r;s<c;++s)l=s+n,u=t[l],a[s]={r:o.parse(efe(u,i),l)};return a}const Kme=Number.EPSILON||1e-14,qme=(e,t)=>t<e.length&&!e[t].skip&&e[t],Yme=e=>"x"===e?"y":"x";function Xme(e,t,n,r){const o=e.skip?t:e,i=t,a=n.skip?t:n,s=Sfe(i,o),c=Sfe(a,i);let l=s/(s+c),u=c/(s+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const d=r*l,h=r*u;return{previous:{x:i.x-d*(a.x-o.x),y:i.y-d*(a.y-o.y)},next:{x:i.x+h*(a.x-o.x),y:i.y+h*(a.y-o.y)}}}function Jme(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Yme(t),r=e.length,o=Array(r).fill(0),i=Array(r);let a,s,c,l=qme(e,0);for(a=0;a<r;++a)if(s=c,c=l,l=qme(e,a+1),c){if(l){const e=l[t]-c[t];o[a]=0!==e?(l[n]-c[n])/e:0}i[a]=s?l?ffe(o[a-1])!==ffe(o[a])?0:(o[a-1]+o[a])/2:o[a-1]:o[a]}!function(e,t,n){const r=e.length;let o,i,a,s,c,l=qme(e,0);for(let u=0;u<r-1;++u)c=l,l=qme(e,u+1),c&&l&&(mfe(t[u],0,Kme)?n[u]=n[u+1]=0:(o=n[u]/t[u],i=n[u+1]/t[u],s=Math.pow(o,2)+Math.pow(i,2),s<=9||(a=3/Math.sqrt(s),n[u]=o*a*t[u],n[u+1]=i*a*t[u])))}(e,o,i),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Yme(n),o=e.length;let i,a,s,c=qme(e,0);for(let l=0;l<o;++l){if(a=s,s=c,c=qme(e,l+1),!s)continue;const o=s[n],u=s[r];a&&(i=(o-a[n])/3,s["cp1".concat(n)]=o-i,s["cp1".concat(r)]=u-i*t[l]),c&&(i=(c[n]-o)/3,s["cp2".concat(n)]=o+i,s["cp2".concat(r)]=u+i*t[l])}}(e,i,t)}function $me(e,t,n){return Math.max(Math.min(e,n),t)}function Zme(e,t,n,r,o){let i,a,s,c;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Jme(e,o);else{let n=r?e[e.length-1]:e[0];for(i=0,a=e.length;i<a;++i)s=e[i],c=Xme(n,s,e[Math.min(i+1,a-(r?0:1))%a],t.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,n=s}t.capBezierPoints&&function(e,t){let n,r,o,i,a,s=hme(e[0],t);for(n=0,r=e.length;n<r;++n)a=i,i=s,s=n<r-1&&hme(e[n+1],t),i&&(o=e[n],a&&(o.cp1x=$me(o.cp1x,t.left,t.right),o.cp1y=$me(o.cp1y,t.top,t.bottom)),s&&(o.cp2x=$me(o.cp2x,t.left,t.right),o.cp2y=$me(o.cp2y,t.top,t.bottom)))}(e,n)}function Qme(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ege(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function tge(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const nge=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const rge=["top","right","bottom","left"];function oge(e,t,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const i=rge[o];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const ige=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function age(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,o=nge(n),i="border-box"===o.boxSizing,a=oge(o,"padding"),s=oge(o,"border","width"),{x:c,y:l,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:o,offsetY:i}=r;let a,s,c=!1;if(ige(o,i,e.target))a=o,s=i;else{const e=t.getBoundingClientRect();a=r.clientX-e.left,s=r.clientY-e.top,c=!0}return{x:a,y:s,box:c}}(e,n),d=a.left+(u&&s.left),h=a.top+(u&&s.top);let{width:p,height:f}=t;return i&&(p-=a.width+s.width,f-=a.height+s.height),{x:Math.round((c-d)/p*n.width/r),y:Math.round((l-h)/f*n.height/r)}}const sge=e=>Math.round(10*e)/10;function cge(e,t,n,r){const o=nge(e),i=oge(o,"margin"),a=tge(o.maxWidth,e,"clientWidth")||cfe,s=tge(o.maxHeight,e,"clientHeight")||cfe,c=function(e,t,n){let r,o;if(void 0===t||void 0===n){const i=ege(e);if(i){const e=i.getBoundingClientRect(),a=nge(i),s=oge(a,"border","width"),c=oge(a,"padding");t=e.width-c.width-s.width,n=e.height-c.height-s.height,r=tge(a.maxWidth,i,"clientWidth"),o=tge(a.maxHeight,i,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||cfe,maxHeight:o||cfe}}(e,t,n);let{width:l,height:u}=c;if("content-box"===o.boxSizing){const e=oge(o,"border","width"),t=oge(o,"padding");l-=t.width+e.width,u-=t.height+e.height}l=Math.max(0,l-i.width),u=Math.max(0,r?l/r:u-i.height),l=sge(Math.min(l,a,c.maxWidth)),u=sge(Math.min(u,s,c.maxHeight)),l&&!u&&(u=sge(l/2));return(void 0!==t||void 0!==n)&&r&&c.height&&u>c.height&&(u=c.height,l=sge(Math.floor(u*r))),{width:l,height:u}}function lge(e,t,n){const r=t||1,o=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||a.height!==o||a.width!==i)&&(e.currentDevicePixelRatio=r,a.height=o,a.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const uge=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qme()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(x2e){}return e}();function dge(e,t){const n=function(e,t){return nge(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function hge(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function pge(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function fge(e,t,n,r){const o={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},a=hge(e,o,n),s=hge(o,i,n),c=hge(i,t,n),l=hge(a,s,n),u=hge(s,c,n);return hge(l,u,n)}function mge(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function gge(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function yge(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function vge(e){return"angle"===e?{between:_fe,compare:Cfe,normalize:Efe}:{between:Nfe,compare:(e,t)=>e-t,normalize:e=>e}}function bge(e){let{start:t,end:n,count:r,loop:o,style:i}=e;return{start:t%r,end:n%r,loop:o&&(n-t+1)%r===0,style:i}}function xge(e,t,n){if(!n)return[e];const{property:r,start:o,end:i}=n,a=t.length,{compare:s,between:c,normalize:l}=vge(r),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:r,start:o,end:i}=n,{between:a,normalize:s}=vge(r),c=t.length;let l,u,{start:d,end:h,loop:p}=e;if(p){for(d+=c,h+=c,l=0,u=c;l<u&&a(s(t[d%c][r]),o,i);++l)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:p,style:e.style}}(e,t,n),f=[];let m,g,y,v=!1,b=null;const x=()=>v||c(o,y,m)&&0!==s(o,y),w=()=>!v||0===s(i,m)||c(i,y,m);for(let k=u,S=u;k<=d;++k)g=t[k%a],g.skip||(m=l(g[r]),m!==y&&(v=c(m,o,i),null===b&&x()&&(b=0===s(m,o)?k:S),null!==b&&w()&&(f.push(bge({start:b,end:k,loop:h,count:a,style:p})),b=null),S=k,y=m));return null!==b&&f.push(bge({start:b,end:d,loop:h,count:a,style:p})),f}function wge(e,t){const n=[],r=e.segments;for(let o=0;o<r.length;o++){const i=xge(r[o],e.points,t);i.length&&n.push(...i)}return n}function kge(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const o=e._chart.getContext(),i=Sge(e.options),{_datasetIndex:a,options:{spanGaps:s}}=e,c=n.length,l=[];let u=i,d=t[0].start,h=d;function p(e,t,r,o){const i=s?-1:1;if(e!==t){for(e+=c;n[e%c].skip;)e-=i;for(;n[t%c].skip;)t+=i;e%c!==t%c&&(l.push({start:e%c,end:t%c,loop:r,style:o}),u=o,d=t%c)}}for(const f of t){d=s?d:f.start;let e,t=n[d%c];for(h=d+1;h<=f.end;h++){const i=n[h%c];e=Sge(r.setContext(Ome(o,{type:"segment",p0:t,p1:i,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:a}))),Cge(e,u)&&p(d,h-1,f.loop,u),t=i,u=e}d<h-1&&p(d,h-1,f.loop,u)}return l}(e,t,n,r):t}function Sge(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Cge(e,t){if(!t)return!1;const n=[],r=function(e,t){return Gfe(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class Ege{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const o=t.listeners[r],i=t.duration;o.forEach((r=>r({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(n-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=Pfe.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const o=n.items;let i,a=o.length-1,s=!1;for(;a>=0;--a)i=o[a],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(e),s=!0):(o[a]=o[o.length-1],o.pop());s&&(r.draw(),this._notify(r,n,e,"progress")),o.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=o.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _ge=new Ege;const Tge="transparent",Nge={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Kfe(e||Tge),o=r.valid&&Kfe(t||Tge);return o&&o.valid?o.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Ige{constructor(e,t,n,r){const o=t[n];r=Ame([e.to,r,o,e.from]);const i=Ame([e.from,o,r]);this._active=!0,this._fn=e.fn||Nge[e.type||typeof i],this._easing=Hfe[e.easing]||Hfe.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],o=n-this._start,i=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ame([e.to,t,r,e.from]),this._from=Ame([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,o=this._from,i=this._loop,a=this._to;let s;if(this._active=o!==a&&(i||t<n),!this._active)return this._target[r]=a,void this._notify(!0);t<0?this._target[r]=o:(s=t/n%2,s=i&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(o,a,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Age{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Bpe(e))return;const t=Object.keys(ime.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const o=e[r];if(!Bpe(o))return;const i={};for(const e of t)i[e]=o[e];(Fpe(o.properties)&&o.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,i)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const o=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let o=0;o<r.length;o++){const t=e[r[o]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),o}_createAnimations(e,t){const n=this._properties,r=[],o=e.$animations||(e.$animations={}),i=Object.keys(t),a=Date.now();let s;for(s=i.length-1;s>=0;--s){const c=i[s];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(e,t));continue}const l=t[c];let u=o[c];const d=n.get(c);if(u){if(d&&u.active()){u.update(d,l,a);continue}u.cancel()}d&&d.duration?(o[c]=u=new Ige(d,e,c,l),r.push(u)):e[c]=l}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(_ge.add(this._chart,n),!0):void 0}}function Oge(e,t){const n=e&&e.options||{},r=n.reverse,o=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:r?i:o,end:r?o:i}}function Rge(e,t){const n=[],r=e._getSortedDatasetMetas(t);let o,i;for(o=0,i=r.length;o<i;++o)n.push(r[o].index);return n}function Mge(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.keys,i="single"===r.mode;let a,s,c,l;if(null!==t){for(a=0,s=o.length;a<s;++a){if(c=+o[a],c===n){if(r.all)continue;break}l=e.values[c],zpe(l)&&(i||0===t||ffe(t)===ffe(l))&&(t+=l)}return t}}function jge(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Pge(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Dge(e,t,n,r){for(const o of t.getMatchingVisibleMetas(r).reverse()){const t=e[o.index];if(n&&t>0||!n&&t<0)return o.index}return null}function Lge(e,t){const{chart:n,_cachedMeta:r}=e,o=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:s}=r,c=i.axis,l=a.axis,u=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(i,a,r),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[c]:n,[l]:i}=e;h=(e._stacks||(e._stacks={}))[l]=Pge(o,u,n),h[s]=i,h._top=Dge(h,a,!0,r.type),h._bottom=Dge(h,a,!1,r.type);(h._visualValues||(h._visualValues={}))[s]=i}}function Fge(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Bge(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const zge=e=>"reset"===e||"none"===e,Uge=(e,t)=>t?e:Object.assign({},e);class Vge{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=jge(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bge(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,o=t.xAxisID=Vpe(n.xAxisID,Fge(e,"x")),i=t.yAxisID=Vpe(n.yAxisID,Fge(e,"y")),a=t.rAxisID=Vpe(n.rAxisID,Fge(e,"r")),s=t.indexAxis,c=t.iAxisID=r(s,o,i,a),l=t.vAxisID=r(s,i,o,a);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Mfe(this._data,this),e._stacked&&Bge(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Bpe(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let r,o,i;for(r=0,o=t.length;r<o;++r)i=t[r],n[r]={x:i,y:e[i]};return n}(t);else if(n!==t){if(n){Mfe(n,this);const e=this._cachedMeta;Bge(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Rfe.forEach((t=>{const n="_onData"+tfe(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];const a=r.apply(this,o);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...o)})),a}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=jge(t.vScale,t),t.stack!==n.stack&&(r=!0,Bge(t),t.stack=n.stack),this._resyncElements(e),(r||o!==t._stacked)&&Lge(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:o,_stacked:i}=n,a=o.axis;let s,c,l,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,l=r;else{l=Fpe(r[e])?this.parseArrayData(n,r,e,t):Bpe(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const o=()=>null===c[a]||d&&c[a]<d[a];for(s=0;s<t;++s)n._parsed[s+e]=c=l[s],u&&(o()&&(u=!1),d=c);n._sorted=u}i&&Lge(this,l)}parsePrimitiveData(e,t,n,r){const{iScale:o,vScale:i}=e,a=o.axis,s=i.axis,c=o.getLabels(),l=o===i,u=new Array(r);let d,h,p;for(d=0,h=r;d<h;++d)p=d+n,u[d]={[a]:l||o.parse(c[p],p),[s]:i.parse(t[p],p)};return u}parseArrayData(e,t,n,r){const{xScale:o,yScale:i}=e,a=new Array(r);let s,c,l,u;for(s=0,c=r;s<c;++s)l=s+n,u=t[l],a[s]={x:o.parse(u[0],l),y:i.parse(u[1],l)};return a}parseObjectData(e,t,n,r){const{xScale:o,yScale:i}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,c=new Array(r);let l,u,d,h;for(l=0,u=r;l<u;++l)d=l+n,h=t[d],c[l]={x:o.parse(efe(h,a),d),y:i.parse(efe(h,s),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,o=this._cachedMeta,i=t[e.axis];return Mge({keys:Rge(r,!0),values:t._stacks[e.axis]._visualValues},i,o.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const o=n[t.axis];let i=null===o?NaN:o;const a=r&&n._stacks[t.axis];r&&a&&(r.values=a,i=Mge(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,o=n._sorted&&e===n.iScale,i=r.length,a=this._getOtherScale(e),s=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Rge(n,!0),values:null})(t,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:o}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}(a);let d,h;function p(){h=r[d];const t=h[a.axis];return!zpe(h[e.axis])||l>t||u<t}for(d=0;d<i&&(p()||(this.updateRangeFromParsed(c,e,h,s),!o));++d);if(o)for(d=i-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,h,s);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,o,i;for(r=0,o=t.length;r<o;++r)i=t[r][e.axis],zpe(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,o;return Bpe(e)?(t=e.top,n=e.right,r=e.bottom,o=e.left):t=n=r=o=e,{top:t,right:n,bottom:r,left:o,disabled:!1===e}}(Vpe(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Oge(e,n),o=Oge(t,n);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],o=t.chartArea,i=[],a=this._drawStart||0,s=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(e,o,a,s),l=a;l<a+s;++l){const t=r[l];t.hidden||(t.active&&c?i.push(t):t.draw(e,o))}for(l=0;l<i.length;++l)i[l].draw(e,o)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];o=t.$context||(t.$context=function(e,t,n){return Ome(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function(e,t){return Ome(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,o=this._cachedDataOpts,i=e+"-"+t,a=o[i],s=this.enableOptionSharing&&nfe(n);if(a)return Uge(a,s);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),u=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),l),h=Object.keys(ime.elements[e]),p=c.resolveNamedOptions(d,h,(()=>this.getContext(n,r,t)),u);return p.$shared&&(p.$shared=s,o[i]=Object.freeze(Uge(p,s))),p}_resolveAnimations(e,t,n){const r=this.chart,o=this._cachedDataOpts,i="animation-".concat(t),a=o[i];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,o=r.datasetAnimationScopeKeys(this._type,t),i=r.getOptionScopes(this.getDataset(),o);s=r.createResolver(i,this.getContext(e,n,t))}const c=new Age(r,s&&s.animations);return s&&s._cacheable&&(o[i]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||zge(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(n),i=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,n),{sharedOptions:o,includeOptions:i}}updateElement(e,t,n,r){zge(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!zge(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[a,s,c]of this._syncList)this[a](s,c);this._syncList=[];const r=n.length,o=t.length,i=Math.min(o,r);i&&this.parse(0,i),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,o=r.data,i=e+t;let a;const s=e=>{for(e.length+=t,a=e.length-1;a>=i;a--)e[a]=e[a-t]};for(s(o),a=e;a<i;++a)o[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),n&&this.updateElements(o,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Bge(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Wge(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,o=n.length;t<o;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=jfe(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,o,i,a,s=t._length;const c=()=>{32767!==i&&-32768!==i&&(nfe(a)&&(s=Math.min(s,Math.abs(i-a)||s)),a=i)};for(r=0,o=n.length;r<o;++r)i=t.getPixelForValue(n[r]),c();for(a=void 0,r=0,o=t.ticks.length;r<o;++r)i=t.getPixelForTick(r),c();return s}function Hge(e,t,n,r){return Fpe(e)?function(e,t,n,r){const o=n.parse(e[0],r),i=n.parse(e[1],r),a=Math.min(o,i),s=Math.max(o,i);let c=a,l=s;Math.abs(a)>Math.abs(s)&&(c=s,l=a),t[n.axis]=l,t._custom={barStart:c,barEnd:l,start:o,end:i,min:a,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Gge(e,t,n,r){const o=e.iScale,i=e.vScale,a=o.getLabels(),s=o===i,c=[];let l,u,d,h;for(l=n,u=n+r;l<u;++l)h=t[l],d={},d[o.axis]=s||o.parse(a[l],l),c.push(Hge(h,d,i,l));return c}function Kge(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function qge(e,t,n,r){let o=t.borderSkipped;const i={};if(!o)return void(e.borderSkipped=i);if(!0===o)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:c,top:l,bottom:u}=function(e){let t,n,r,o,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(o="end",i="start"):(o="start",i="end"),{start:n,end:r,reverse:t,top:o,bottom:i}}(e);"middle"===o&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?o=l:(n._bottom||0)===r?o=u:(i[Yge(u,a,s,c)]=!0,o=l)),i[Yge(o,a,s,c)]=!0,e.borderSkipped=i}function Yge(e,t,n,r){var o,i,a;return r?(a=n,e=Xge(e=(o=e)===(i=t)?a:o===a?i:o,n,t)):e=Xge(e,t,n),e}function Xge(e,t,n){return"start"===e?t:"end"===e?n:e}function Jge(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}Pn(Vge,"defaults",{}),Pn(Vge,"datasetElementType",null),Pn(Vge,"dataElementType",null);class $ge extends Vge{parsePrimitiveData(e,t,n,r){return Gge(e,t,n,r)}parseArrayData(e,t,n,r){return Gge(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:o,vScale:i}=e,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,c="x"===o.axis?a:s,l="x"===i.axis?a:s,u=[];let d,h,p,f;for(d=n,h=n+r;d<h;++d)f=t[d],p={},p[o.axis]=o.parse(efe(f,c),d),u.push(Hge(efe(f,l),p,i,d));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const o=n._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,o=this.getParsed(e),i=o._custom,a=Kge(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const o="reset"===r,{index:i,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),c=a.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=o||Lpe(t[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,l),f=(t._stacks||{})[a.axis],m={horizontal:c,base:n.base,enableBorderRadius:!f||Kge(t._custom)||i===f._top||i===f._bottom,x:c?n.head:p.center,y:c?p.center:n.head,height:c?p.size:Math.abs(n.size),width:c?Math.abs(n.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=m.options||e[h].options;qge(m,g,f,i),Jge(m,g,l.ratio),this.updateElement(e[h],h,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=n.options.stacked,i=[],a=e=>{const n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(Lpe(r)||isNaN(r))return!0};for(const s of r)if((void 0===t||!a(s))&&((!1===o||-1===i.indexOf(s.stack)||void 0===o&&void 0===s.stack)&&i.push(s.stack),s.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),o=void 0!==t?r.indexOf(t):-1;return-1===o?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let o,i;for(o=0,i=t.data.length;o<i;++o)r.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=e.barThickness;return{min:a||Wge(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:o,minBarLength:i}}=this,a=o||0,s=this.getParsed(e),c=s._custom,l=Kge(c);let u,d,h=s[t.axis],p=0,f=n?this.applyStack(t,s,n):h;f!==h&&(p=f-h,f=h),l&&(h=c.barStart,f=c.barEnd-c.barStart,0!==h&&ffe(h)!==ffe(c.barEnd)&&(p=0),p+=h);const m=Lpe(o)||l?p:o;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,d=u-g,Math.abs(d)<i){d=function(e,t,n){return 0!==e?ffe(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,a)*i,h===a&&(g-=d/2);const e=t.getPixelForDecimal(0),o=t.getPixelForDecimal(1),c=Math.min(e,o),p=Math.max(e,o);g=Math.max(Math.min(g,p),c),u=g+d,n&&!l&&(s._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(a)){const e=ffe(d)*t.getLineWidthForValue(a)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,o=r.skipNull,i=Vpe(r.maxBarThickness,1/0);let a,s;if(t.grouped){const n=o?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const o=t.pixels,i=o[e];let a=e>0?o[e-1]:null,s=e<o.length-1?o[e+1]:null;const c=n.categoryPercentage;null===a&&(a=i-(null===s?t.end-t.start:s-i)),null===s&&(s=i+i-a);const l=i-(i-Math.min(a,s))/2*c;return{chunk:Math.abs(s-a)/2*c/r,ratio:n.barPercentage,start:l}}(e,t,r,n):function(e,t,n,r){const o=n.barThickness;let i,a;return Lpe(o)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,r,n),l=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=c.start+c.chunk*l+c.chunk/2,s=Math.min(i,c.chunk*c.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),s=Math.min(i,t.min*t.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let o=0;for(;o<r;++o)null!==this.getParsed(o)[t.axis]&&n[o].draw(this._ctx)}}Pn($ge,"id","bar"),Pn($ge,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Pn($ge,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Zge extends Vge{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const o=super.parsePrimitiveData(e,t,n,r);for(let i=0;i<o.length;i++)o[i]._custom=this.resolveDataElementOptions(i+n).radius;return o}parseArrayData(e,t,n,r){const o=super.parseArrayData(e,t,n,r);for(let i=0;i<o.length;i++){const e=t[n+i];o[i]._custom=Vpe(e[2],this.resolveDataElementOptions(i+n).radius)}return o}parseObjectData(e,t,n,r){const o=super.parseObjectData(e,t,n,r);for(let i=0;i<o.length;i++){const e=t[n+i];o[i]._custom=Vpe(e&&e.r&&+e.r,this.resolveDataElementOptions(i+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:o}=t,i=this.getParsed(e),a=r.getLabelForValue(i.x),s=o.getLabelForValue(i.y),c=i._custom;return{label:n[e]||"",value:"("+a+", "+s+(c?", "+c:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const o="reset"===r,{iScale:i,vScale:a}=this._cachedMeta,{sharedOptions:s,includeOptions:c}=this._getSharedOptions(t,r),l=i.axis,u=a.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!o&&this.getParsed(d),h={},p=h[l]=o?i.getPixelForDecimal(.5):i.getPixelForValue(n[l]),f=h[u]=o?a.getBasePixel():a.getPixelForValue(n[u]);h.skip=isNaN(p)||isNaN(f),c&&(h.options=s||this.resolveDataElementOptions(d,t.active?"active":r),o&&(h.options.radius=0)),this.updateElement(t,d,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return"active"!==t&&(r.radius=0),r.radius+=Vpe(n&&n._custom,o),r}}Pn(Zge,"id","bubble"),Pn(Zge,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Pn(Zge,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Qge extends Vge{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let o,i,a=e=>+n[e];if(Bpe(n[e])){const{key:e="value"}=this._parsing;a=t=>+efe(n[t],e)}for(o=e,i=e+t;o<i;++o)r._parsed[o]=a(o)}}_getRotation(){return bfe(this.options.rotation-90)}_getCircumference(){return bfe(this.options.circumference)}_getRotationExtents(){let e=afe,t=-afe;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,o=r._getRotation(),i=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+i)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,o=r.data,i=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-i)/2,0),s=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:l,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:p,offsetY:f}=function(e,t,n){let r=1,o=1,i=0,a=0;if(t<afe){const s=e,c=s+t,l=Math.cos(s),u=Math.sin(s),d=Math.cos(c),h=Math.sin(c),p=(e,t,r)=>_fe(e,s,c,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>_fe(e,s,c,!0)?-1:Math.min(t,t*n,r,r*n),m=p(0,l,d),g=p(ufe,u,h),y=f(ife,l,d),v=f(ife+ufe,u,h);r=(m-y)/2,o=(g-v)/2,i=-(m+y)/2,a=-(g+v)/2}return{ratioX:r,ratioY:o,offsetX:i,offsetY:a}}(u,l,s),m=(n.width-i)/d,g=(n.height-i)/h,y=Math.max(Math.min(m,g)/2,0),v=Wpe(this.options.radius,y),b=(v-Math.max(v*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=f*v,r.total=this.calculateTotal(),this.outerRadius=v-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/afe)}updateElements(e,t,n,r){const o="reset"===r,i=this.chart,a=i.chartArea,s=i.options.animation,c=(a.left+a.right)/2,l=(a.top+a.bottom)/2,u=o&&s.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,o);for(m=t;m<t+n;++m){const t=this._circumference(m,o),n=e[m],i={x:c+this.offsetX,y:l+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};f&&(i.options=p||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,i,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const o=e._parsed[n];null===o||isNaN(o)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?afe*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],o=$fe(t._parsed[e],n.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,o,i,a,s;if(!e)for(r=0,o=n.data.datasets.length;r<o;++r)if(n.isDatasetVisible(r)){i=n.getDatasetMeta(r),e=i.data,a=i.controller;break}if(!e)return 0;for(r=0,o=e.length;r<o;++r)s=a.resolveDataElementOptions(r),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Vpe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Pn(Qge,"id","doughnut"),Pn(Qge,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Pn(Qge,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Pn(Qge,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,o)=>{const i=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class eye extends Vge{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:o}=t,i=this.chart._animationsDisabled;let{start:a,count:s}=Bfe(t,r,i);this._drawStart=a,this._drawCount=s,zfe(t)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:c},e),this.updateElements(r,a,s,e)}updateElements(e,t,n,r){const o="reset"===r,{iScale:i,vScale:a,_stacked:s,_dataset:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(t,r),d=i.axis,h=a.axis,{spanGaps:p,segment:f}=this.options,m=yfe(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||o||"none"===r,y=t+n,v=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<v;++x){const n=e[x],p=g?n:{};if(x<t||x>=y){p.skip=!0;continue}const v=this.getParsed(x),w=Lpe(v[h]),k=p[d]=i.getPixelForValue(v[d],x),S=p[h]=o||w?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,v,s):v[h],x);p.skip=isNaN(k)||isNaN(S)||w,p.stop=x>0&&Math.abs(v[d]-b[d])>m,f&&(p.parsed=v,p.raw=c.data[x]),u&&(p.options=l||this.resolveDataElementOptions(x,n.active?"active":r)),g||this.updateElement(n,x,p,r),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const o=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,o,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Pn(eye,"id","line"),Pn(eye,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Pn(eye,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class tye extends Vge{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],o=$fe(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,t,n,r){return Gme.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(r/2,0),i=(o-Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(e,t,n,r){const o="reset"===r,i=this.chart,a=i.options.animation,s=this._cachedMeta.rScale,c=s.xCenter,l=s.yCenter,u=s.getIndexAngle(0)-.5*ife;let d,h=u;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,r,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,f=h+this._computeAngle(d,r,p),m=i.getDataVisibility(d)?s.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=f,o&&(a.animateScale&&(m=0),a.animateRotate&&(n=f=u));const g={x:c,y:l,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,t.active?"active":r)};this.updateElement(t,d,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?bfe(this.resolveDataElementOptions(e,t).angle||n):0}}Pn(tye,"id","polarArea"),Pn(tye,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Pn(tye,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,o)=>{const i=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class nye extends Qge{}Pn(nye,"id","pie"),Pn(nye,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class rye extends Vge{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return Gme.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],o=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const i={_loop:!0,_fullLoop:o.length===r.length,options:t};this.updateElement(n,void 0,i,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const o=this._cachedMeta.rScale,i="reset"===r;for(let a=t;a<t+n;a++){const t=e[a],n=this.resolveDataElementOptions(a,t.active?"active":r),s=o.getPointPositionForValue(a,this.getParsed(a).r),c=i?o.xCenter:s.x,l=i?o.yCenter:s.y,u={x:c,y:l,angle:s.angle,skip:isNaN(c)||isNaN(l),options:n};this.updateElement(t,a,u,r)}}}Pn(rye,"id","radar"),Pn(rye,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Pn(rye,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class oye extends Vge{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:o}=t,i=this.getParsed(e),a=r.getLabelForValue(i.x),s=o.getLabelForValue(i.y);return{label:n[e]||"",value:"("+a+", "+s+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:o,count:i}=Bfe(t,n,r);if(this._drawStart=o,this._drawCount=i,zfe(t)&&(o=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:i}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!i._decimated,o.points=n;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:a},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,o,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const o="reset"===r,{iScale:i,vScale:a,_stacked:s,_dataset:c}=this._cachedMeta,l=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(l),d=this.includeOptions(r,u),h=i.axis,p=a.axis,{spanGaps:f,segment:m}=this.options,g=yfe(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||"none"===r;let v=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),l=y?t:{},f=Lpe(n[p]),x=l[h]=i.getPixelForValue(n[h],b),w=l[p]=o||f?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,n,s):n[p],b);l.skip=isNaN(x)||isNaN(w)||f,l.stop=b>0&&Math.abs(n[h]-v[h])>g,m&&(l.parsed=n,l.raw=c.data[b]),d&&(l.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),y||this.updateElement(t,b,l,r),v=n}this.updateSharedOptions(u,r,l)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const o=t[0].size(this.resolveDataElementOptions(0)),i=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,o,i)/2}}Pn(oye,"id","scatter"),Pn(oye,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Pn(oye,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var iye=Object.freeze({__proto__:null,BarController:$ge,BubbleController:Zge,DoughnutController:Qge,LineController:eye,PieController:nye,PolarAreaController:tye,RadarController:rye,ScatterController:oye});function aye(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sye{static override(e){Object.assign(sye.prototype,e)}constructor(e){Pn(this,"options",void 0),this.options=e||{}}init(){}formats(){return aye()}parse(){return aye()}format(){return aye()}add(){return aye()}diff(){return aye()}startOf(){return aye()}endOf(){return aye()}}var cye=sye;function lye(e,t,n,r){const{controller:o,data:i,_sorted:a}=e,s=o._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&a&&i.length){const e=s._reversePixels?Ofe:Afe;if(!r)return e(i,t,n);if(o._sharedOptions){const r=i[0],o="function"===typeof r.getRange&&r.getRange(t);if(o){const r=e(i,t,n-o),a=e(i,t,n+o);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:i.length-1}}function uye(e,t,n,r,o){const i=e.getSortedVisibleDatasetMetas(),a=n[t];for(let s=0,c=i.length;s<c;++s){const{index:e,data:n}=i[s],{lo:c,hi:l}=lye(i[s],t,a,o);for(let t=c;t<=l;++t){const o=n[t];o.skip||r(o,e,t)}}}function dye(e,t,n,r,o){const i=[];if(!o&&!e.isPointInArea(t))return i;return uye(e,n,t,(function(n,a,s){(o||hme(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&i.push({element:n,datasetIndex:a,index:s})}),!0),i}function hye(e,t,n,r,o,i){let a=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const o=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}(n);let c=Number.POSITIVE_INFINITY;return uye(e,n,t,(function(n,l,u){const d=n.inRange(t.x,t.y,o);if(r&&!d)return;const h=n.getCenterPoint(o);if(!(!!i||e.isPointInArea(h))&&!d)return;const p=s(t,h);p<c?(a=[{element:n,datasetIndex:l,index:u}],c=p):p===c&&a.push({element:n,datasetIndex:l,index:u})})),a}function pye(e,t,n,r,o,i){return i||e.isPointInArea(t)?"r"!==n||r?hye(e,t,n,r,o,i):function(e,t,n,r){let o=[];return uye(e,n,t,(function(e,n,i){const{startAngle:a,endAngle:s}=e.getProps(["startAngle","endAngle"],r),{angle:c}=kfe(e,{x:t.x,y:t.y});_fe(c,a,s)&&o.push({element:e,datasetIndex:n,index:i})})),o}(e,t,n,o):[]}function fye(e,t,n,r,o){const i=[],a="x"===n?"inXRange":"inYRange";let s=!1;return uye(e,n,t,((e,r,c)=>{e[a](t[n],o)&&(i.push({element:e,datasetIndex:r,index:c}),s=s||e.inRange(t.x,t.y,o))})),r&&!s?[]:i}var mye={evaluateInteractionItems:uye,modes:{index(e,t,n,r){const o=age(t,e),i=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?dye(e,o,i,r,a):pye(e,o,i,!1,r,a),c=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&c.push({element:n,datasetIndex:e.index,index:t})})),c):[]},dataset(e,t,n,r){const o=age(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?dye(e,o,i,r,a):pye(e,o,i,!1,r,a);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,r)=>dye(e,age(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const o=age(t,e),i=n.axis||"xy",a=n.includeInvisible||!1;return pye(e,o,i,n.intersect,r,a)},x:(e,t,n,r)=>fye(e,age(t,e),"x",n.intersect,r),y:(e,t,n,r)=>fye(e,age(t,e),"y",n.intersect,r)}};const gye=["left","top","right","bottom"];function yye(e,t){return e.filter((e=>e.pos===t))}function vye(e,t){return e.filter((e=>-1===gye.indexOf(e.pos)&&e.box.axis===t))}function bye(e,t){return e.sort(((e,n)=>{const r=t?n:e,o=t?e:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight}))}function xye(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:o}=n;if(!e||!gye.includes(r))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=o}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;let i,a,s;for(i=0,a=e.length;i<a;++i){s=e[i];const{fullSize:a}=s.box,c=n[s.stack],l=c&&s.stackWeight/c.weight;s.horizontal?(s.width=l?l*r:a&&t.availableWidth,s.height=o):(s.width=r,s.height=l?l*o:a&&t.availableHeight)}return n}function wye(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function kye(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Sye(e,t,n,r){const{pos:o,box:i}=n,a=e.maxPadding;if(!Bpe(o)){n.size&&(e[o]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?i.height:i.width),n.size=t.size/t.count,e[o]+=n.size}i.getPadding&&kye(a,i.getPadding());const s=Math.max(0,t.outerWidth-wye(a,e,"left","right")),c=Math.max(0,t.outerHeight-wye(a,e,"top","bottom")),l=s!==e.w,u=c!==e.h;return e.w=s,e.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function Cye(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Eye(e,t,n,r){const o=[];let i,a,s,c,l,u;for(i=0,a=e.length,l=0;i<a;++i){s=e[i],c=s.box,c.update(s.width||t.w,s.height||t.h,Cye(s.horizontal,t));const{same:a,other:d}=Sye(t,n,s,r);l|=a&&o.length,u=u||d,c.fullSize||o.push(s)}return l&&Eye(o,t,n,r)||u}function _ye(e,t,n,r,o){e.top=n,e.left=t,e.right=t+r,e.bottom=n+o,e.width=r,e.height=o}function Tye(e,t,n,r){const o=n.padding;let{x:i,y:a}=t;for(const s of e){const e=s.box,c=r[s.stack]||{count:1,placed:0,weight:1},l=s.stackWeight/c.weight||1;if(s.horizontal){const r=t.w*l,i=c.size||e.height;nfe(c.start)&&(a=c.start),e.fullSize?_ye(e,o.left,a,n.outerWidth-o.right-o.left,i):_ye(e,t.left+c.placed,a,r,i),c.start=a,c.placed+=r,a=e.bottom}else{const r=t.h*l,a=c.size||e.width;nfe(c.start)&&(i=c.start),e.fullSize?_ye(e,i,o.top,a,n.outerHeight-o.bottom-o.top):_ye(e,i,t.top+c.placed,a,r),c.start=i,c.placed+=r,i=e.right}}t.x=i,t.y=a}var Nye={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const o=Nme(e.options.layout.padding),i=Math.max(t-o.width,0),a=Math.max(n-o.height,0),s=function(e){const t=function(e){const t=[];let n,r,o,i,a,s;for(n=0,r=(e||[]).length;n<r;++n)o=e[n],({position:i,options:{stack:a,stackWeight:s=1}}=o),t.push({index:n,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&i+a,stackWeight:s});return t}(e),n=bye(t.filter((e=>e.box.fullSize)),!0),r=bye(yye(t,"left"),!0),o=bye(yye(t,"right")),i=bye(yye(t,"top"),!0),a=bye(yye(t,"bottom")),s=vye(t,"x"),c=vye(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:o.concat(c).concat(a).concat(s),chartArea:yye(t,"chartArea"),vertical:r.concat(o).concat(c),horizontal:i.concat(a).concat(s)}}(e.boxes),c=s.vertical,l=s.horizontal;Gpe(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},o);kye(h,Nme(r));const p=Object.assign({maxPadding:h,w:i,h:a,x:o.left,y:o.top},o),f=xye(c.concat(l),d);Eye(s.fullSize,p,d,f),Eye(c,p,d,f),Eye(l,p,d,f)&&Eye(c,p,d,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),Tye(s.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,Tye(s.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Gpe(s.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class Iye{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Aye extends Iye{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Oye="$chartjs",Rye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mye=e=>null===e||""===e;const jye=!!uge&&{passive:!0};function Pye(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,jye)}function Dye(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Lye(e,t,n){const r=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Dye(n.addedNodes,r),t=t&&!Dye(n.removedNodes,r);t&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}function Fye(e,t,n){const r=e.canvas,o=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Dye(n.removedNodes,r),t=t&&!Dye(n.addedNodes,r);t&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}const Bye=new Map;let zye=0;function Uye(){const e=window.devicePixelRatio;e!==zye&&(zye=e,Bye.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Vye(e,t,n){const r=e.canvas,o=r&&ege(r);if(!o)return;const i=Dfe(((e,t)=>{const r=o.clientWidth;n(e,t),r<o.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||i(n,r)}));return a.observe(o),function(e,t){Bye.size||window.addEventListener("resize",Uye),Bye.set(e,t)}(e,i),a}function Wye(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Bye.delete(e),Bye.size||window.removeEventListener("resize",Uye)}(e)}function Hye(e,t,n){const r=e.canvas,o=Dfe((t=>{null!==e.ctx&&n(function(e,t){const n=Rye[e.type]||e.type,{x:r,y:o}=age(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,jye)}(r,t,o),o}class Gye extends Iye{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[Oye]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Mye(o)){const t=dge(e,"width");void 0!==t&&(e.width=t)}if(Mye(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=dge(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Oye])return!1;const n=t[Oye].initial;["height","width"].forEach((e=>{const r=n[e];Lpe(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[Oye],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:Lye,detach:Fye,resize:Vye}[t]||Hye;r[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Wye,detach:Wye,resize:Wye}[t]||Pye)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return cge(e,t,n,r)}isAttached(e){const t=ege(e);return!(!t||!t.isConnected)}}class Kye{constructor(){Pn(this,"x",void 0),Pn(this,"y",void 0),Pn(this,"active",!1),Pn(this,"options",void 0),Pn(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return yfe(this.x)&&yfe(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function qye(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),o=e._maxLength/n;return Math.floor(Math.min(r,o))}(e),o=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=i.length,s=i[0],c=i[a-1],l=[];if(a>o)return function(e,t,n,r){let o,i=0,a=n[0];for(r=Math.ceil(r),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=n[i*r])}(t,l,i,a/o),l;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),o=t.length/n;if(!r)return Math.max(o,1);const i=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let a=0,s=i.length-1;a<s;a++){const e=i[a];if(e>o)return e}return Math.max(o,1)}(i,t,o);if(a>0){let e,n;const r=a>1?Math.round((c-s)/(a-1)):null;for(Yye(t,l,u,Lpe(r)?0:s-r,s),e=0,n=a-1;e<n;e++)Yye(t,l,u,i[e],i[e+1]);return Yye(t,l,u,c,Lpe(r)?t.length:c+r),l}return Yye(t,l,u),l}function Yye(e,t,n,r,o){const i=Vpe(r,0),a=Math.min(Vpe(o,e.length),e.length);let s,c,l,u=0;for(n=Math.ceil(n),o&&(s=o-r,n=s/Math.floor(s/n)),l=i;l<0;)u++,l=Math.round(i+u*n);for(c=Math.max(i,0);c<a;c++)c===l&&(t.push(e[c]),u++,l=Math.round(i+u*n))}Pn(Kye,"defaults",{}),Pn(Kye,"defaultRoutes",void 0);const Xye=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Jye=(e,t)=>Math.min(t||e,e);function $ye(e,t){const n=[],r=e.length/t,o=e.length;let i=0;for(;i<o;i+=r)n.push(e[Math.floor(i)]);return n}function Zye(e,t,n){const r=e.ticks.length,o=Math.min(t,r-1),i=e._startPixel,a=e._endPixel,s=1e-6;let c,l=e.getPixelForTick(o);if(!(n&&(c=1===r?Math.max(l-i,a-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(o-1))/2,l+=o<t?c:-c,l<i-s||l>a+s)))return l}function Qye(e){return e.drawTicks?e.tickLength:0}function eve(e,t){if(!e.display)return 0;const n=Ime(e.font,t),r=Nme(e.padding);return(Fpe(e.text)?e.text.length:1)*n.lineHeight+r.height}function tve(e,t,n){let r=Lfe(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class nve extends Kye{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Upe(e,Number.POSITIVE_INFINITY),t=Upe(t,Number.NEGATIVE_INFINITY),n=Upe(n,Number.POSITIVE_INFINITY),r=Upe(r,Number.NEGATIVE_INFINITY),{min:Upe(e,n),max:Upe(t,r),minDefined:zpe(e),maxDefined:zpe(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:o,maxDefined:i}=this.getUserBounds();if(o&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,c=a.length;s<c;++s)t=a[s].controller.getMinMax(this,e),o||(n=Math.min(n,t.min)),i||(r=Math.max(r,t.max));return n=i&&n>r?r:n,r=o&&n>r?n:r,{min:Upe(n,Upe(r,n)),max:Upe(r,Upe(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Hpe(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:o,ticks:i}=this.options,a=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:o}=e,i=Wpe(t,(o-r)/2),a=(e,t)=>n&&0===e?0:e+t;return{min:a(r,-Math.abs(i)),max:a(o,i)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?$ye(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=qye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Hpe(this.options.afterUpdate,[this])}beforeSetDimensions(){Hpe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Hpe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Hpe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Hpe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],o.label=Hpe(t.callback,[o.value,n,e],this)}afterTickToLabelConversion(){Hpe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Hpe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Jye(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let i,a,s,c=r;if(!this._isVisible()||!t.display||r>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const l=this._getLabelSizes(),u=l.widest.width,d=l.highest.height,h=Tfe(this.chart.width-u,0,this.maxWidth);i=e.offset?this.maxWidth/n:h/(n-1),u+6>i&&(i=h/(n-(e.offset?.5:1)),a=this.maxHeight-Qye(e.grid)-t.padding-eve(e.title,this.chart.options.font),s=Math.sqrt(u*u+d*d),c=xfe(Math.min(Math.asin(Tfe((l.highest.height+6)/i,-1,1)),Math.asin(Tfe(a/s,-1,1))-Math.asin(Tfe(d/s,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Hpe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Hpe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:o}}=this,i=this._isVisible(),a=this.isHorizontal();if(i){const i=eve(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=Qye(o)+i):(e.height=this.maxHeight,e.width=Qye(o)+i),n.display&&this.ticks.length){const{first:t,last:r,widest:o,highest:i}=this._getLabelSizes(),s=2*n.padding,c=bfe(this.labelRotation),l=Math.cos(c),u=Math.sin(c);if(a){const t=n.mirror?0:u*o.width+l*i.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:l*o.width+u*i.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,r,u,l)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:o,padding:i},position:a}=this.options,s=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;s?c?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===o?d=t.width:"end"===o?u=e.width:"inner"!==o&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-a+i)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-l+i)*this.width/(this.width-l),0)}else{let n=t.height/2,r=e.height/2;"start"===o?(n=0,r=e.height):"end"===o&&(n=t.height,r=0),this.paddingTop=n+i,this.paddingBottom=r+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Hpe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Lpe(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=$ye(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:o}=this,i=[],a=[],s=Math.floor(t/Jye(t,n));let c,l,u,d,h,p,f,m,g,y,v,b=0,x=0;for(c=0;c<t;c+=s){if(d=e[c].label,h=this._resolveTickFontOptions(c),r.font=p=h.string,f=o[p]=o[p]||{data:{},gc:[]},m=h.lineHeight,g=y=0,Lpe(d)||Fpe(d)){if(Fpe(d))for(l=0,u=d.length;l<u;++l)v=d[l],Lpe(v)||Fpe(v)||(g=ame(r,f.data,f.gc,g,v),y+=m)}else g=ame(r,f.data,f.gc,g,d),y=m;i.push(g),a.push(y),b=Math.max(g,b),x=Math.max(y,x)}!function(e,t){Gpe(e,(e=>{const n=e.gc,r=n.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[n[o]];n.splice(0,r)}}))}(o,t);const w=i.indexOf(b),k=a.indexOf(x),S=e=>({width:i[e]||0,height:a[e]||0});return{first:S(0),last:S(t-1),widest:S(w),highest:S(k),widths:i,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return Tfe(e,-32768,32767)}(this._alignToPixels?cme(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Ome(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return Ome(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=bfe(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),i=e.autoSkipPadding||0,a=o?o.widest.width+i:0,s=o?o.highest.height+i:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:o,position:i,border:a}=r,s=o.offset,c=this.isHorizontal(),l=this.ticks.length+(s?1:0),u=Qye(o),d=[],h=a.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,m=function(e){return cme(n,e,p)};let g,y,v,b,x,w,k,S,C,E,_,T;if("top"===i)g=m(this.bottom),w=this.bottom-u,S=g-f,E=m(e.top)+f,T=e.bottom;else if("bottom"===i)g=m(this.top),E=e.top,T=m(e.bottom)-f,w=g+f,S=this.top+u;else if("left"===i)g=m(this.right),x=this.right-u,k=g-f,C=m(e.left)+f,_=e.right;else if("right"===i)g=m(this.left),C=e.left,_=m(e.right)-f,x=g+f,k=this.left+u;else if("x"===t){if("center"===i)g=m((e.top+e.bottom)/2+.5);else if(Bpe(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,T=e.bottom,w=g+f,S=w+u}else if("y"===t){if("center"===i)g=m((e.left+e.right)/2);else if(Bpe(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}x=g-f,k=x-u,C=e.left,_=e.right}const N=Vpe(r.ticks.maxTicksLimit,l),I=Math.max(1,Math.ceil(l/N));for(y=0;y<l;y+=I){const e=this.getContext(y),t=o.setContext(e),r=a.setContext(e),i=t.lineWidth,l=t.color,u=r.dash||[],h=r.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=Zye(this,y,s),void 0!==v&&(b=cme(n,v,i),c?x=k=C=_=b:w=S=E=T=b,d.push({tx1:x,ty1:w,tx2:k,ty2:S,x1:C,y1:E,x2:_,y2:T,width:i,color:l,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=l,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:o}=n,i=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:c,padding:l,mirror:u}=o,d=Qye(n.grid),h=d+l,p=u?-l:h,f=-bfe(this.labelRotation),m=[];let g,y,v,b,x,w,k,S,C,E,_,T,N="middle";if("top"===r)w=this.bottom-p,k=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+p,k=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);k=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);k=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(Bpe(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}k=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-h;else if(Bpe(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}k=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===s?N="top":"end"===s&&(N="bottom"));const I=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){v=a[g],b=v.label;const e=o.setContext(this.getContext(g));S=this.getPixelForTick(g)+o.labelOffset,C=this._resolveTickFontOptions(g),E=C.lineHeight,_=Fpe(b)?b.length:1;const t=_/2,n=e.color,s=e.textStrokeColor,l=e.textStrokeWidth;let d,h=k;if(i?(x=S,"inner"===k&&(h=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===c||0!==f?-_*E+E/2:"center"===c?-I.highest.height/2-t*E+E:-I.highest.height+E/2:"near"===c||0!==f?E/2:"center"===c?I.highest.height/2-t*E:I.highest.height-_*E,u&&(T*=-1),0===f||e.showLabelBackdrop||(x+=E/2*Math.sin(f))):(w=S,T=(1-_)*E/2),e.showLabelBackdrop){const t=Nme(e.backdropPadding),n=I.heights[g],r=I.widths[g];let o=T-t.top,i=0-t.left;switch(N){case"middle":o-=n/2;break;case"bottom":o-=n}switch(k){case"center":i-=r/2;break;case"right":i-=r;break;case"inner":g===y-1?i-=r:g>0&&(i-=r/2)}d={left:i,top:o,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:C,textOffset:T,options:{rotation:f,color:n,strokeColor:s,strokeWidth:l,textAlign:h,textBaseline:N,translation:[x,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-bfe(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,i=e+o,a=this._getLabelSizes().widest.width;let s,c;return"left"===t?r?(c=this.right+o,"near"===n?s="left":"center"===n?(s="center",c+=a/2):(s="right",c+=a)):(c=this.right-i,"near"===n?s="right":"center"===n?(s="center",c-=a/2):(s="left",c=this.left)):"right"===t?r?(c=this.left+o,"near"===n?s="right":"center"===n?(s="center",c-=a/2):(s="left",c-=a)):(c=this.left+i,"near"===n?s="left":"center"===n?(s="center",c+=a/2):(s="right",c=this.right)):s="right",{textAlign:s,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:o,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,o,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,i;const a=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(o=0,i=r.length;o<i;++o){const e=r[o];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),i=n.display?o.width:0;if(!i)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let c,l,u,d;this.isHorizontal()?(c=cme(e,this.left,i)-i/2,l=cme(e,this.right,a)+a/2,u=d=s):(u=cme(e,this.top,i)-i/2,d=cme(e,this.bottom,a)+a/2,c=l=s),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,u),t.lineTo(l,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&pme(t,n);const r=this.getLabelItems(e);for(const o of r){const e=o.options,n=o.font;bme(t,o.label,0,o.textOffset,n,e)}n&&fme(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const o=Ime(n.font),i=Nme(n.padding),a=n.align;let s=o.lineHeight/2;"bottom"===t||"center"===t||Bpe(t)?(s+=i.bottom,Fpe(n.text)&&(s+=o.lineHeight*(n.text.length-1))):s+=i.top;const{titleX:c,titleY:l,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:o,left:i,bottom:a,right:s,chart:c}=e,{chartArea:l,scales:u}=c;let d,h,p,f=0;const m=a-o,g=s-i;if(e.isHorizontal()){if(h=Ffe(r,i,s),Bpe(n)){const e=Object.keys(n)[0],r=n[e];p=u[e].getPixelForValue(r)+m-t}else p="center"===n?(l.bottom+l.top)/2+m-t:Xye(e,n,t);d=s-i}else{if(Bpe(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(l.left+l.right)/2-g+t:Xye(e,n,t);p=Ffe(r,a,o),f="left"===n?-ufe:ufe}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,s,t,a);bme(e,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:d,textAlign:tve(a,t,r),textBaseline:"middle",translation:[c,l]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Vpe(e.grid&&e.grid.z,-1),r=Vpe(e.border&&e.border.z,0);return this._isVisible()&&this.draw===nve.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,i;for(o=0,i=t.length;o<i;++o){const i=t[o];i[n]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return Ime(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rve{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,o=e.id,i=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,function(e,t,n){const r=Jpe(Object.create(null),[n?ime.get(n):{},ime.get(t),e.defaults]);ime.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),o=r.pop(),i=[e].concat(r).join("."),a=t[n].split("."),s=a.pop(),c=a.join(".");ime.route(i,o,c,s)}))}(t,e.defaultRoutes);e.descriptors&&ime.describe(t,e.descriptors)}(e,i,n),this.override&&ime.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in ime[r]&&(delete ime[r][n],this.override&&delete eme[n])}}class ove{constructor(){this.controllers=new rve(Vge,"datasets",!0),this.elements=new rve(Kye,"elements"),this.plugins=new rve(Object,"plugins"),this.scales=new rve(nve,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):Gpe(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=tfe(e);Hpe(n["before"+r],[],n),t[e](n),Hpe(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var ive=new ove;class ave{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(o,e,t,n);return"afterDestroy"===t&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,n,r){r=r||{};for(const o of e){const e=o.plugin;if(!1===Hpe(e[n],[t,r,o.options],e)&&r.cancelable)return!1}return!0}invalidate(){Lpe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Vpe(n.options&&n.options.plugins,{}),o=function(e){const t={},n=[],r=Object.keys(ive.plugins.items);for(let i=0;i<r.length;i++)n.push(ive.getPlugin(r[i]));const o=e.plugins||[];for(let i=0;i<o.length;i++){const e=o[i];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:o,localIds:i}=t;const a=[],s=e.getContext();for(const c of o){const t=c.id,o=sve(n[t],r);null!==o&&a.push({plugin:c,options:cve(e.config,{plugin:c,local:i[t]},o,s)})}return a}(e,o,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function sve(e,t){return t||!1!==e?!0===e?{}:e:null}function cve(e,t,n,r){let{plugin:o,local:i}=t;const a=e.pluginScopeKeys(o),s=e.getOptionScopes(n,a);return i&&o.defaults&&s.push(o.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lve(e,t){const n=ime.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function uve(e){if("x"===e||"y"===e||"r"===e)return e}function dve(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function hve(e){if(uve(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const o of n){const t=o.axis||dve(o.position)||e.length>1&&uve(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function pve(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function fve(e,t){const n=eme[e.type]||{scales:{}},r=t.scales||{},o=lve(e.type,t),i=Object.create(null);return Object.keys(r).forEach((t=>{const a=r[t];if(!Bpe(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const s=hve(t,a,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return pve(e,"x",n[0])||pve(e,"y",n[0])}return{}}(t,e),ime.scales[a.type]),c=function(e,t){return e===t?"_index_":"_value_"}(s,o),l=n.scales||{};i[t]=$pe(Object.create(null),[{axis:s},a,l[s],l[c]])})),e.data.datasets.forEach((n=>{const o=n.type||e.type,a=n.indexAxis||lve(o,t),s=(eme[o]||{}).scales||{};Object.keys(s).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),o=n[t+"AxisID"]||t;i[o]=i[o]||Object.create(null),$pe(i[o],[{axis:t},r[o],s[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];$pe(t,[ime.scales[t.type],ime.scale])})),i}function mve(e){const t=e.options||(e.options={});t.plugins=Vpe(t.plugins,{}),t.scales=fve(e,t)}function gve(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const yve=new Map,vve=new Set;function bve(e,t){let n=yve.get(e);return n||(n=t(),yve.set(e,n),vve.add(n)),n}const xve=(e,t,n)=>{const r=efe(t,n);void 0!==r&&e.add(r)};class wve{constructor(e){this._config=function(e){return(e=e||{}).data=gve(e.data),mve(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gve(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),mve(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return bve(e,(()=>[["datasets.".concat(e),""]]))}datasetAnimationScopeKeys(e,t){return bve("".concat(e,".transition.").concat(t),(()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]))}datasetElementScopeKeys(e,t){return bve("".concat(e,"-").concat(t),(()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return bve("".concat(n,"-plugin-").concat(t),(()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:o}=this,i=this._cachedScopes(e,n),a=i.get(t);if(a)return a;const s=new Set;t.forEach((t=>{e&&(s.add(e),t.forEach((t=>xve(s,e,t)))),t.forEach((e=>xve(s,r,e))),t.forEach((e=>xve(s,eme[o]||{},e))),t.forEach((e=>xve(s,ime,e))),t.forEach((e=>xve(s,tme,e)))}));const c=Array.from(s);return 0===c.length&&c.push(Object.create(null)),vve.has(t)&&i.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,eme[t]||{},ime.datasets[t]||{},{type:t},ime,tme]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const o={$shared:!0},{resolver:i,subPrefixes:a}=kve(this._resolverCache,e,r);let s=i;if(function(e,t){const{isScriptable:n,isIndexable:r}=jme(e);for(const o of t){const t=n(o),i=r(o),a=(i||t)&&e[o];if(t&&(rfe(a)||Sve(a))||i&&Fpe(a))return!0}return!1}(i,t)){o.$shared=!1;s=Mme(i,n=rfe(n)?n():n,this.createResolver(e,n,a))}for(const c of t)o[c]=s[c];return o}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:o}=kve(this._resolverCache,e,n);return Bpe(t)?Mme(o,t,void 0,r):o}}function kve(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const o=n.join();let i=r.get(o);if(!i){i={resolver:Rme(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(o,i)}return i}const Sve=e=>Bpe(e)&&Object.getOwnPropertyNames(e).some((t=>rfe(e[t])));const Cve=["top","bottom","left","right","chartArea"];function Eve(e,t){return"top"===e||"bottom"===e||-1===Cve.indexOf(e)&&"x"===t}function _ve(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Tve(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Hpe(n&&n.onComplete,[e],t)}function Nve(e){const t=e.chart,n=t.options.animation;Hpe(n&&n.onProgress,[e],t)}function Ive(e){return Qme()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ave={},Ove=e=>{const t=Ive(e);return Object.values(Ave).filter((e=>e.canvas===t)).pop()};function Rve(e,t,n){const r=Object.keys(e);for(const o of r){const r=+o;if(r>=t){const i=e[o];delete e[o],(n>0||r>t)&&(e[r+n]=i)}}}function Mve(e,t,n){return e.options.clip?e[n]:t[n]}class jve{static register(){ive.add(...arguments),Pve()}static unregister(){ive.remove(...arguments),Pve()}constructor(e,t){const n=this.config=new wve(t),r=Ive(e),o=Ove(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Qme()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Aye:Gye}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,i.aspectRatio),s=a&&a.canvas,c=s&&s.height,l=s&&s.width;this.id=Dpe(),this.ctx=a,this.canvas=s,this.width=l,this.height=c,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ave,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t?(clearTimeout(n),n=setTimeout(e,t,o)):e.apply(this,o),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],Ave[this.id]=this,a&&s?(_ge.listen(this,"complete",Tve),_ge.listen(this,"progress",Nve),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:o}=this;return Lpe(e)?t&&o?o:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ive}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lge(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return lme(this.canvas,this.ctx),this}stop(){return _ge.stop(this),this}resize(e,t){_ge.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,t,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,lge(this,a,!0)&&(this.notifyPlugins("resize",{size:i}),Hpe(n.onResize,[this,i],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Gpe(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const n=t[e],r=hve(e,n),o="r"===r,i="x"===r;return{options:n,dposition:o?"chartArea":i?"bottom":"left",dtype:o?"radialLinear":i?"category":"linear"}})))),Gpe(o,(t=>{const o=t.options,i=o.id,a=hve(i,o),s=Vpe(o.type,t.dtype);void 0!==o.position&&Eve(o.position,a)===Eve(t.dposition)||(o.position=t.dposition),r[i]=!0;let c=null;if(i in n&&n[i].type===s)c=n[i];else{c=new(ive.getScale(s))({id:i,type:s,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(o,e)})),Gpe(r,((e,t)=>{e||delete n[t]})),Gpe(n,(e=>{Nye.configure(this,e,e.options),Nye.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(_ve("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let o=this.getDatasetMeta(n);const i=r.type||this.config.type;if(o.type&&o.type!==i&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=i,o.indexAxis=r.indexAxis||lve(i,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const t=ive.getController(i),{datasetElementType:r,dataElementType:a}=ime.datasets[i];Object.assign(t,{dataElementType:ive.getElement(a),datasetElementType:r&&ive.getElement(r)}),o.controller=new t(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Gpe(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let c=0,l=this.data.datasets.length;c<l;c++){const{controller:e}=this.getDatasetMeta(c),t=!r&&-1===o.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),r||Gpe(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_ve("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Gpe(this.scales,(e=>{Nye.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);ofe(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:o}of t){Rve(e,r,"_removeElements"===n?-o:o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let o=1;o<t;o++)if(!ofe(r,n(o)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Nye.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Gpe(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,rfe(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_ge.has(this)?this.attached&&!_ge.running(this)&&_ge.start(this):(this.draw(),Tve({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,o;for(r=0,o=t.length;r<o;++r){const o=t[r];e&&!o.visible||n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,o=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Mve(n,t,"left"),right:Mve(n,t,"right"),top:Mve(r,t,"top"),bottom:Mve(r,t,"bottom")}:t}(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(r&&pme(t,{left:!1===n.left?0:o.left-n.left,right:!1===n.right?this.width:o.right+n.right,top:!1===n.top?0:o.top-n.top,bottom:!1===n.bottom?this.height:o.bottom+n.bottom}),e.controller.draw(),r&&fme(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return hme(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const o=mye.modes[t];return"function"===typeof o?o(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Ome(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",o=this.getDatasetMeta(e),i=o.controller._resolveAnimations(void 0,r);nfe(t)?(o.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(o,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_ge.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),lme(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ave[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Gpe(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},o=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",i)};i=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),n("attach",a)},t.isAttached(this.canvas)?a():i()}unbindEvents(){Gpe(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Gpe(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let o,i,a,s;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=e.length;a<s;++a){i=e[a];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!Kpe(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,o=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=o(t,e),a=n?e:o(e,t);i.length&&this.updateHoverStyle(i,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const o=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(o||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:o}=this,i=t,a=this._getActiveElements(e,r,n,i),s=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,Hpe(o.onHover,[e,a,this],this),s&&Hpe(o.onClick,[e,a,this],this));const l=!Kpe(a,r);return(l||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=c,l}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}function Pve(){return Gpe(jve.instances,(e=>e._plugins.invalidate()))}function Dve(e,t,n,r){const o=function(e){return Eme(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),i=(n-t)/2,a=Math.min(i,r*t/2),s=e=>{const t=(n-Math.min(i,e))*r/2;return Tfe(e,0,Math.min(i,t))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:Tfe(o.innerStart,0,a),innerEnd:Tfe(o.innerEnd,0,a)}}function Lve(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Fve(e,t,n,r,o,i){const{x:a,y:s,startAngle:c,pixelMargin:l,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-l,0),h=u>0?u+r+n+l:0;let p=0;const f=o-c;if(r){const e=((u>0?u-r:0)+(d>0?d-r:0))/2;p=(f-(0!==e?f*e/(e+r):f))/2}const m=(f-Math.max(.001,f*d-n/ife)/d)/2,g=c+m+p,y=o-m-p,{outerStart:v,outerEnd:b,innerStart:x,innerEnd:w}=Dve(t,h,d,y-g),k=d-v,S=d-b,C=g+v/k,E=y-b/S,_=h+x,T=h+w,N=g+x/_,I=y-w/T;if(e.beginPath(),i){const t=(C+E)/2;if(e.arc(a,s,d,C,t),e.arc(a,s,d,t,E),b>0){const t=Lve(S,E,a,s);e.arc(t.x,t.y,b,E,y+ufe)}const n=Lve(T,y,a,s);if(e.lineTo(n.x,n.y),w>0){const t=Lve(T,I,a,s);e.arc(t.x,t.y,w,y+ufe,I+Math.PI)}const r=(y-w/h+(g+x/h))/2;if(e.arc(a,s,h,y-w/h,r,!0),e.arc(a,s,h,r,g+x/h,!0),x>0){const t=Lve(_,N,a,s);e.arc(t.x,t.y,x,N+Math.PI,g-ufe)}const o=Lve(k,g,a,s);if(e.lineTo(o.x,o.y),v>0){const t=Lve(k,C,a,s);e.arc(t.x,t.y,v,g-ufe,C)}}else{e.moveTo(a,s);const t=Math.cos(C)*d+a,n=Math.sin(C)*d+s;e.lineTo(t,n);const r=Math.cos(E)*d+a,o=Math.sin(E)*d+s;e.lineTo(r,o)}e.closePath()}function Bve(e,t,n,r,o){const{fullCircles:i,startAngle:a,circumference:s,options:c}=t,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=c,p="inner"===c.borderAlign;if(!l)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=2*l,e.lineJoin=u||"round"):(e.lineWidth=l,e.lineJoin=u||"bevel");let f=t.endAngle;if(i){Fve(e,t,n,r,f,o);for(let t=0;t<i;++t)e.stroke();isNaN(s)||(f=a+(s%afe||afe))}p&&function(e,t,n){const{startAngle:r,pixelMargin:o,x:i,y:a,outerRadius:s,innerRadius:c}=t;let l=o/s;e.beginPath(),e.arc(i,a,s,r-l,n+l),c>o?(l=o/c,e.arc(i,a,c,n+l,r-l,!0)):e.arc(i,a,o,n+ufe,r-ufe),e.closePath(),e.clip()}(e,t,f),i||(Fve(e,t,n,r,f,o),e.stroke())}Pn(jve,"defaults",ime),Pn(jve,"instances",Ave),Pn(jve,"overrides",eme),Pn(jve,"registry",ive),Pn(jve,"version","4.4.2"),Pn(jve,"getChart",Ove);class zve extends Kye{constructor(e){super(),Pn(this,"circumference",void 0),Pn(this,"endAngle",void 0),Pn(this,"fullCircles",void 0),Pn(this,"innerRadius",void 0),Pn(this,"outerRadius",void 0),Pn(this,"pixelMargin",void 0),Pn(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:o,distance:i}=kfe(r,{x:e,y:t}),{startAngle:a,endAngle:s,innerRadius:c,outerRadius:l,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,h=Vpe(u,s-a)>=afe||_fe(o,a,s),p=Nfe(i,c+d,l+d);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:o,innerRadius:i,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:s,spacing:c}=this.options,l=(r+o)/2,u=(i+a+c+s)/2;return{x:t+Math.cos(l)*u,y:n+Math.sin(l)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,i=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>afe?Math.floor(n/afe):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const s=r*(1-Math.sin(Math.min(ife,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,o){const{fullCircles:i,startAngle:a,circumference:s}=t;let c=t.endAngle;if(i){Fve(e,t,n,r,c,o);for(let t=0;t<i;++t)e.fill();isNaN(s)||(c=a+(s%afe||afe))}Fve(e,t,n,r,c,o),e.fill()}(e,this,s,o,i),Bve(e,this,s,o,i),e.restore()}}function Uve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Vpe(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Vpe(n.borderDash,t.borderDash)),e.lineDashOffset=Vpe(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Vpe(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Vpe(n.borderWidth,t.borderWidth),e.strokeStyle=Vpe(n.borderColor,t.borderColor)}function Vve(e,t,n){e.lineTo(n.x,n.y)}function Wve(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:o=0,end:i=r-1}=n,{start:a,end:s}=t,c=Math.max(o,a),l=Math.min(i,s),u=o<a&&i<a||o>s&&i>s;return{count:r,start:c,loop:t.loop,ilen:l<c&&!u?r+l-c:l-c}}function Hve(e,t,n,r){const{points:o,options:i}=t,{count:a,start:s,loop:c,ilen:l}=Wve(o,n,r),u=function(e){return e.stepped?mme:e.tension||"monotone"===e.cubicInterpolationMode?gme:Vve}(i);let d,h,p,{move:f=!0,reverse:m}=r||{};for(d=0;d<=l;++d)h=o[(s+(m?l-d:d))%a],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):u(e,p,h,m,i.stepped),p=h);return c&&(h=o[(s+(m?l:0))%a],u(e,p,h,m,i.stepped)),!!c}function Gve(e,t,n,r){const o=t.points,{count:i,start:a,ilen:s}=Wve(o,n,r),{move:c=!0,reverse:l}=r||{};let u,d,h,p,f,m,g=0,y=0;const v=e=>(a+(l?s-e:e))%i,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(c&&(d=o[v(0)],e.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=o[v(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<p?p=n:n>f&&(f=n),g=(y*g+t)/++y):(b(),e.lineTo(t,n),h=r,y=0,p=f=n),m=n}b()}function Kve(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Gve:Hve}Pn(zve,"id","arc"),Pn(zve,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Pn(zve,"defaultRoutes",{backgroundColor:"backgroundColor"}),Pn(zve,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const qve="function"===typeof Path2D;function Yve(e,t,n,r){qve&&!t.options.segment?function(e,t,n,r){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,r)&&o.closePath()),Uve(e,t.options),e.stroke(o)}(e,t,n,r):function(e,t,n,r){const{segments:o,options:i}=t,a=Kve(t);for(const s of o)Uve(e,i,s.style),e.beginPath(),a(e,t,s,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class Xve extends Kye{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Zme(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,o=n.length;if(!o)return[];const i=!!e._loop,{start:a,end:s}=function(e,t,n,r){let o=0,i=t-1;if(n&&!r)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,n&&(i+=o);i>o&&e[i%t].skip;)i--;return i%=t,{start:o,end:i}}(n,o,i,r);return kge(e,!0===r?[{start:a,end:s,loop:i}]:function(e,t,n,r){const o=e.length,i=[];let a,s=t,c=e[t];for(a=t+1;a<=n;++a){const n=e[a%o];n.skip||n.stop?c.skip||(r=!1,i.push({start:t%o,end:(a-1)%o,loop:r}),t=s=n.stop?a:null):(s=a,c.skip&&(t=a)),c=n}return null!==s&&i.push({start:t%o,end:s%o,loop:r}),i}(n,a,s<a?s+o:s,!!e._fullLoop&&0===a&&s===o-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],o=this.points,i=wge(this,{property:t,start:r,end:r});if(!i.length)return;const a=[],s=function(e){return e.stepped?pge:e.tension||"monotone"===e.cubicInterpolationMode?fge:hge}(n);let c,l;for(c=0,l=i.length;c<l;++c){const{start:l,end:u}=i[c],d=o[l],h=o[u];if(d===h){a.push(d);continue}const p=s(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);p[t]=e[t],a.push(p)}return 1===a.length?a[0]:a}pathSegment(e,t,n){return Kve(this)(e,this,t,n)}path(e,t,n){const r=this.segments,o=Kve(this);let i=this._loop;t=t||0,n=n||this.points.length-t;for(const a of r)i&=o(e,this,a,{start:t,end:t+n-1});return!!i}draw(e,t,n,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),Yve(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Jve(e,t,n,r){const o=e.options,{[n]:i}=e.getProps([n],r);return Math.abs(t-i)<o.radius+o.hitRadius}Pn(Xve,"id","line"),Pn(Xve,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Pn(Xve,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Pn(Xve,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class $ve extends Kye{constructor(e){super(),Pn(this,"parsed",void 0),Pn(this,"skip",void 0),Pn(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:o,y:i}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(t-i,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Jve(this,e,"x",t)}inYRange(e,t){return Jve(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!hme(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,ume(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Zve(e,t){const{x:n,y:r,base:o,width:i,height:a}=e.getProps(["x","y","base","width","height"],t);let s,c,l,u,d;return e.horizontal?(d=a/2,s=Math.min(n,o),c=Math.max(n,o),l=r-d,u=r+d):(d=i/2,s=n-d,c=n+d,l=Math.min(r,o),u=Math.max(r,o)),{left:s,top:l,right:c,bottom:u}}function Qve(e,t,n,r){return e?0:Tfe(t,n,r)}function ebe(e){const t=Zve(e),n=t.right-t.left,r=t.bottom-t.top,o=function(e,t,n){const r=e.options.borderWidth,o=e.borderSkipped,i=_me(r);return{t:Qve(o.top,i.top,0,n),r:Qve(o.right,i.right,0,t),b:Qve(o.bottom,i.bottom,0,n),l:Qve(o.left,i.left,0,t)}}(e,n/2,r/2),i=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,i=Tme(o),a=Math.min(t,n),s=e.borderSkipped,c=r||Bpe(o);return{topLeft:Qve(!c||s.top||s.left,i.topLeft,0,a),topRight:Qve(!c||s.top||s.right,i.topRight,0,a),bottomLeft:Qve(!c||s.bottom||s.left,i.bottomLeft,0,a),bottomRight:Qve(!c||s.bottom||s.right,i.bottomRight,0,a)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+o.l,y:t.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}function tbe(e,t,n,r){const o=null===t,i=null===n,a=e&&!(o&&i)&&Zve(e,r);return a&&(o||Nfe(t,a.left,a.right))&&(i||Nfe(n,a.top,a.bottom))}function nbe(e,t){e.rect(t.x,t.y,t.w,t.h)}function rbe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,o=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-o;return{x:e.x+r,y:e.y+o,w:e.w+i,h:e.h+a,radius:e.radius}}Pn($ve,"id","point"),Pn($ve,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Pn($ve,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class obe extends Kye{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:i}=ebe(this),a=(s=i.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?xme:nbe;var s;e.save(),i.w===o.w&&i.h===o.h||(e.beginPath(),a(e,rbe(i,t,o)),e.clip(),a(e,rbe(o,-t,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,rbe(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return tbe(this,e,t,n)}inXRange(e,t){return tbe(this,e,null,t)}inYRange(e,t){return tbe(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Pn(obe,"id","bar"),Pn(obe,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Pn(obe,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ibe=Object.freeze({__proto__:null,ArcElement:zve,BarElement:obe,LineElement:Xve,PointElement:$ve});const abe=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sbe=abe.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function cbe(e){return abe[e%abe.length]}function lbe(e){return sbe[e%sbe.length]}function ube(e){let t=0;return(n,r)=>{const o=e.getDatasetMeta(r).controller;o instanceof Qge?t=function(e,t){return e.backgroundColor=e.data.map((()=>cbe(t++))),t}(n,t):o instanceof tye?t=function(e,t){return e.backgroundColor=e.data.map((()=>lbe(t++))),t}(n,t):o&&(t=function(e,t){return e.borderColor=cbe(t),e.backgroundColor=lbe(t),++t}(n,t))}}function dbe(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var hbe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:o}=e.config,{elements:i}=o;if(!n.forceOverride&&(dbe(r)||(a=o)&&(a.borderColor||a.backgroundColor)||i&&dbe(i)))return;var a;const s=ube(e);r.forEach(s)}};function pbe(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function fbe(e){e.data.datasets.forEach((e=>{pbe(e)}))}var mbe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void fbe(e);const r=e.width;e.data.datasets.forEach(((t,o)=>{const{_data:i,indexAxis:a}=t,s=e.getDatasetMeta(o),c=i||t.data;if("y"===Ame([a,e.options.indexAxis]))return;if(!s.controller.supportsDecimation)return;const l=e.scales[s.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(e.options.parsing)return;let{start:u,count:d}=function(e,t){const n=t.length;let r,o=0;const{iScale:i}=e,{min:a,max:s,minDefined:c,maxDefined:l}=i.getUserBounds();return c&&(o=Tfe(Afe(t,i.axis,a).lo,0,n-1)),r=l?Tfe(Afe(t,i.axis,s).hi+1,o,n)-o:n-o,{start:o,count:r}}(s,c);if(d<=(n.threshold||4*r))return void pbe(t);let h;switch(Lpe(i)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":h=function(e,t,n,r,o){const i=o.samples||r;if(i>=n)return e.slice(t,t+n);const a=[],s=(n-2)/(i-2);let c=0;const l=t+n-1;let u,d,h,p,f,m=t;for(a[c++]=e[m],u=0;u<i-2;u++){let r,o=0,i=0;const l=Math.floor((u+1)*s)+1+t,g=Math.min(Math.floor((u+2)*s)+1,n)+t,y=g-l;for(r=l;r<g;r++)o+=e[r].x,i+=e[r].y;o/=y,i/=y;const v=Math.floor(u*s)+1+t,b=Math.min(Math.floor((u+1)*s)+1,n)+t,{x:x,y:w}=e[m];for(h=p=-1,r=v;r<b;r++)p=.5*Math.abs((x-o)*(e[r].y-w)-(x-e[r].x)*(i-w)),p>h&&(h=p,d=e[r],f=r);a[c++]=d,m=f}return a[c++]=e[l],a}(c,u,d,r,n);break;case"min-max":h=function(e,t,n,r){let o,i,a,s,c,l,u,d,h,p,f=0,m=0;const g=[],y=t+n-1,v=e[t].x,b=e[y].x-v;for(o=t;o<t+n;++o){i=e[o],a=(i.x-v)/b*r,s=i.y;const t=0|a;if(t===c)s<h?(h=s,l=o):s>p&&(p=s,u=o),f=(m*f+i.x)/++m;else{const n=o-1;if(!Lpe(l)&&!Lpe(u)){const t=Math.min(l,u),r=Math.max(l,u);t!==d&&t!==n&&g.push(Ln(Ln({},e[t]),{},{x:f})),r!==d&&r!==n&&g.push(Ln(Ln({},e[r]),{},{x:f}))}o>0&&n!==d&&g.push(e[n]),g.push(i),c=t,m=0,h=p=s,l=u=d=o}}return g}(c,u,d,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=h}))},destroy(e){fbe(e)}};function gbe(e,t,n,r){if(r)return;let o=t[e],i=n[e];return"angle"===e&&(o=Efe(o),i=Efe(i)),{property:e,start:o,end:i}}function ybe(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function vbe(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function bbe(e,t){let n=[],r=!1;return Fpe(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},o=t.points,i=[];return t.segments.forEach((e=>{let{start:t,end:a}=e;a=ybe(t,a,o);const s=o[t],c=o[a];null!==r?(i.push({x:s.x,y:r}),i.push({x:c.x,y:r})):null!==n&&(i.push({x:n,y:s.y}),i.push({x:n,y:c.y}))})),i}(e,t),n.length?new Xve({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function xbe(e){return e&&!1!==e.fill}function wbe(e,t,n){let r=e[t].fill;const o=[t];let i;if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!zpe(r))return r;if(i=e[r],!i)return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function kbe(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=Vpe(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(Bpe(r))return!isNaN(r.value)&&r;let o=parseFloat(r);return zpe(o)&&Math.floor(o)===o?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,o,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Sbe(e,t,n){const r=[];for(let o=0;o<n.length;o++){const i=n[o],{first:a,last:s,point:c}=Cbe(i,t,"x");if(!(!c||a&&s))if(a)r.unshift(c);else if(e.push(c),!s)break}e.push(...r)}function Cbe(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const o=r[n],i=e.segments,a=e.points;let s=!1,c=!1;for(let l=0;l<i.length;l++){const e=i[l],t=a[e.start][n],r=a[e.end][n];if(Nfe(o,t,r)){s=o===t,c=o===r;break}}return{first:s,last:c,point:r}}class Ebe{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:o,radius:i}=this;return t=t||{start:0,end:afe},e.arc(r,o,i,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,o=e.angle;return{x:t+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}}function _be(e){const{chart:t,fill:n,line:r}=e;if(zpe(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,o=[],i=r.segments,a=r.points,s=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const e=r[o];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);s.push(bbe({x:null,y:t.bottom},r));for(let c=0;c<i.length;c++){const e=i[c];for(let t=e.start;t<=e.end;t++)Sbe(o,a[t],s)}return new Xve({points:o,options:{}})}(e);if("shape"===n)return!0;const o=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,o=t.getLabels().length,i=r.reverse?t.max:t.min,a=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Bpe(e)?e.value:t.getBaseValue(),r}(n,t,i),s=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,i);return new Ebe({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<o;++c)s.push(t.getPointPositionForValue(c,a));return s}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Bpe(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(zpe(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return o instanceof Ebe?o:bbe(o,r)}function Tbe(e,t,n){const r=_be(t),{line:o,scale:i,axis:a}=t,s=o.options,c=s.fill,l=s.backgroundColor,{above:u=l,below:d=l}=c||{};r&&o.points.length&&(pme(e,n),function(e,t){const{line:n,target:r,above:o,below:i,area:a,scale:s}=t,c=n._loop?"angle":t.axis;e.save(),"x"===c&&i!==o&&(Nbe(e,r,a.top),Ibe(e,{line:n,target:r,color:o,scale:s,property:c}),e.restore(),e.save(),Nbe(e,r,a.bottom));Ibe(e,{line:n,target:r,color:i,scale:s,property:c}),e.restore()}(e,{line:o,target:r,above:u,below:d,area:n,scale:i,axis:a}),fme(e))}function Nbe(e,t,n){const{segments:r,points:o}=t;let i=!0,a=!1;e.beginPath();for(const s of r){const{start:r,end:c}=s,l=o[r],u=o[ybe(r,c,o)];i?(e.moveTo(l.x,l.y),i=!1):(e.lineTo(l.x,n),e.lineTo(l.x,l.y)),a=!!t.pathSegment(e,s,{move:a}),a?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Ibe(e,t){const{line:n,target:r,property:o,color:i,scale:a}=t,s=function(e,t,n){const r=e.segments,o=e.points,i=t.points,a=[];for(const s of r){let{start:e,end:r}=s;r=ybe(e,r,o);const c=gbe(n,o[e],o[r],s.loop);if(!t.segments){a.push({source:s,target:c,start:o[e],end:o[r]});continue}const l=wge(t,c);for(const t of l){const e=gbe(n,i[t.start],i[t.end],t.loop),r=xge(s,o,e);for(const o of r)a.push({source:o,target:t,start:{[n]:vbe(c,e,"start",Math.max)},end:{[n]:vbe(c,e,"end",Math.min)}})}}return a}(n,r,o);for(const{source:c,target:l,start:u,end:d}of s){const{style:{backgroundColor:t=i}={}}=c,s=!0!==r;e.save(),e.fillStyle=t,Abe(e,a,s&&gbe(o,u,d)),e.beginPath();const h=!!n.pathSegment(e,c);let p;if(s){h?e.closePath():Obe(e,r,d,o);const t=!!r.pathSegment(e,l,{move:h,reverse:!0});p=h&&t,p||Obe(e,r,u,o)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Abe(e,t,n){const{top:r,bottom:o}=t.chart.chartArea,{property:i,start:a,end:s}=n||{};"x"===i&&(e.beginPath(),e.rect(a,r,s-a,o-r),e.clip())}function Obe(e,t,n,r){const o=t.interpolate(n,r);o&&e.lineTo(o.x,o.y)}var Rbe={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,o=[];let i,a,s,c;for(a=0;a<r;++a)i=e.getDatasetMeta(a),s=i.dataset,c=null,s&&s.options&&s instanceof Xve&&(c={visible:e.isDatasetVisible(a),index:a,fill:kbe(s,a,r),chart:e,axis:i.controller.options.indexAxis,scale:i.vScale,line:s}),i.$filler=c,o.push(c);for(a=0;a<r;++a)c=o[a],c&&!1!==c.fill&&(c.fill=wbe(o,a,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,o=e.getSortedVisibleDatasetMetas(),i=e.chartArea;for(let a=o.length-1;a>=0;--a){const t=o[a].$filler;t&&(t.line.updateControlPoints(i,t.axis),r&&t.fill&&Tbe(e.ctx,t,i))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const t=r[o].$filler;xbe(t)&&Tbe(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;xbe(r)&&"beforeDatasetDraw"===n.drawTime&&Tbe(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Mbe=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class jbe extends Kye{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Hpe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Ime(n.font),o=r.size,i=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=Mbe(n,o);let c,l;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(i,o,a,s)+10):(l=this.maxHeight,c=this._fitCols(i,r,a,s)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:o,maxWidth:i,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],c=this.lineWidths=[0],l=r+a;let u=e;o.textAlign="left",o.textBaseline="middle";let d=-1,h=-l;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+o.measureText(e.text).width;(0===p||c[c.length-1]+f+2*a>i)&&(u+=l,c[c.length-(p>0?0:1)]=0,h+=l,d++),s[p]={left:0,top:h,row:d,width:f,height:r},c[c.length-1]+=f+a})),u}_fitCols(e,t,n,r){const{ctx:o,maxHeight:i,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],c=this.columnSizes=[],l=i-e;let u=a,d=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,o){const i=function(e,t,n,r){let o=e.text;o&&"string"!==typeof o&&(o=o.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(o).width}(r,e,t,n),a=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=Pbe(t,n));return r}(o,r,t.lineHeight);return{itemWidth:i,itemHeight:a}}(n,t,o,e,r);i>0&&h+g+2*a>l&&(u+=d+a,c.push({width:d,height:h}),p+=d+a,f++,d=h=0),s[i]={left:p,top:h,col:f,width:m,height:g},d=Math.max(d,m),h+=g+a})),u+=d,c.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:o}}=this,i=mge(o,this.left,this.width);if(this.isHorizontal()){let o=0,a=Ffe(n,this.left+r,this.right-this.lineWidths[o]);for(const s of t)o!==s.row&&(o=s.row,a=Ffe(n,this.left+r,this.right-this.lineWidths[o])),s.top+=this.top+e+r,s.left=i.leftForLtr(i.x(a),s.width),a+=s.width+r}else{let o=0,a=Ffe(n,this.top+e+r,this.bottom-this.columnSizes[o].height);for(const s of t)s.col!==o&&(o=s.col,a=Ffe(n,this.top+e+r,this.bottom-this.columnSizes[o].height)),s.top=a,s.left+=this.left+r,s.left=i.leftForLtr(i.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;pme(e,this),this._draw(),fme(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:o,labels:i}=e,a=ime.color,s=mge(e.rtl,this.left,this.width),c=Ime(i.font),{padding:l}=i,u=c.size,d=u/2;let h;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=Mbe(i,u),g=this.isHorizontal(),y=this._computeTitleHeight();h=g?{x:Ffe(o,this.left+l,this.right-n[0]),y:this.top+l+y,line:0}:{x:this.left+l,y:Ffe(o,this.top+y+l,this.bottom-t[0].height),line:0},gge(this.ctx,e.textDirection);const v=m+l;this.legendItems.forEach(((b,x)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,k=s.textAlign(b.textAlign||(b.textAlign=i.textAlign)),S=p+d+w;let C=h.x,E=h.y;s.setWidth(this.width),g?x>0&&C+S+l>this.right&&(E=h.y+=v,h.line++,C=h.x=Ffe(o,this.left+l,this.right-n[h.line])):x>0&&E+v>this.bottom&&(C=h.x=C+t[h.line].width+l,h.line++,E=h.y=Ffe(o,this.top+y+l,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const o=Vpe(n.lineWidth,1);if(r.fillStyle=Vpe(n.fillStyle,a),r.lineCap=Vpe(n.lineCap,"butt"),r.lineDashOffset=Vpe(n.lineDashOffset,0),r.lineJoin=Vpe(n.lineJoin,"miter"),r.lineWidth=o,r.strokeStyle=Vpe(n.strokeStyle,a),r.setLineDash(Vpe(n.lineDash,[])),i.usePointStyle){const a={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},c=s.xPlus(e,p/2);dme(r,a,c,t+d,i.pointStyleWidth&&p)}else{const i=t+Math.max((u-f)/2,0),a=s.leftForLtr(e,p),c=Tme(n.borderRadius);r.beginPath(),Object.values(c).some((e=>0!==e))?xme(r,{x:a,y:i,w:p,h:f,radius:c}):r.rect(a,i,p,f),r.fill(),0!==o&&r.stroke()}r.restore()}(s.x(C),E,b),C=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(k,C+p+d,g?C+S:this.right,e.rtl),function(e,t,n){bme(r,n.text,e,t+m/2,c,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(C),E,b),g)h.x+=S+l;else if("string"!==typeof b.text){const e=c.lineHeight;h.y+=Pbe(b,e)+l}else h.y+=v})),yge(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Ime(t.font),r=Nme(t.padding);if(!t.display)return;const o=mge(e.rtl,this.left,this.width),i=this.ctx,a=t.position,s=n.size/2,c=r.top+s;let l,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),l=this.top+c,u=Ffe(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);l=c+Ffe(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Ffe(a,u,u+d);i.textAlign=o.textAlign(Lfe(a)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=n.string,bme(i,t.text,h,l,n)}_computeTitleHeight(){const e=this.options.title,t=Ime(e.font),n=Nme(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,o;if(Nfe(e,this.left,this.right)&&Nfe(t,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],Nfe(e,r.left,r.left+r.width)&&Nfe(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,o=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!o&&Hpe(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!o&&Hpe(t.onHover,[e,n,this],this)}else n&&Hpe(t.onClick,[e,n,this],this)}}function Pbe(e,t){return t*(e.text?e.text.length:0)}var Dbe={id:"legend",_element:jbe,start(e,t,n){const r=e.legend=new jbe({ctx:e.ctx,options:n,chart:e});Nye.configure(e,r,n),Nye.addBox(e,r)},stop(e){Nye.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Nye.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,o=n.chart;o.isDatasetVisible(r)?(o.hide(r),t.hidden=!0):(o.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:o,color:i,useBorderRadius:a,borderRadius:s}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const c=e.controller.getStyle(n?0:void 0),l=Nme(c.borderWidth);return{text:t[e.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:a&&(s||c.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Lbe extends Kye{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Fpe(n.text)?n.text.length:1;this._padding=Nme(n.padding);const o=r*Ime(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:o,options:i}=this,a=i.align;let s,c,l,u=0;return this.isHorizontal()?(c=Ffe(a,n,o),l=t+e,s=o-n):("left"===i.position?(c=n+e,l=Ffe(a,r,t),u=-.5*ife):(c=o-e,l=Ffe(a,t,r),u=.5*ife),s=r-t),{titleX:c,titleY:l,maxWidth:s,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Ime(t.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:i,maxWidth:a,rotation:s}=this._drawArgs(r);bme(e,t.text,0,0,n,{color:t.color,maxWidth:a,rotation:s,textAlign:Lfe(t.align),textBaseline:"middle",translation:[o,i]})}}var Fbe={id:"title",_element:Lbe,start(e,t,n){!function(e,t){const n=new Lbe({ctx:e.ctx,options:t,chart:e});Nye.configure(e,n,t),Nye.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Nye.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Nye.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bbe=new WeakMap;var zbe={id:"subtitle",start(e,t,n){const r=new Lbe({ctx:e.ctx,options:n,chart:e});Nye.configure(e,r,n),Nye.addBox(e,r),Bbe.set(e,r)},stop(e){Nye.removeBox(e,Bbe.get(e)),Bbe.delete(e)},beforeUpdate(e,t,n){const r=Bbe.get(e);Nye.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ube={average(e){if(!e.length)return!1;let t,n,r=new Set,o=0,i=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),o+=e.y,++i}}const a=[...r].reduce(((e,t)=>e+t))/r.size;return{x:a,y:o/i}},nearest(e,t){if(!e.length)return!1;let n,r,o,i=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Sfe(t,r.getCenterPoint());e<s&&(s=e,o=r)}}if(o){const e=o.tooltipPosition();i=e.x,a=e.y}return{x:i,y:a}}};function Vbe(e,t){return t&&(Fpe(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Wbe(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Hbe(e,t){const{element:n,datasetIndex:r,index:o}=t,i=e.getDatasetMeta(r).controller,{label:a,value:s}=i.getLabelAndValue(o);return{chart:e,label:a,parsed:i.getParsed(o),raw:e.data.datasets[r].data[o],formattedValue:s,dataset:i.getDataset(),dataIndex:o,datasetIndex:r,element:n}}function Gbe(e,t){const n=e.chart.ctx,{body:r,footer:o,title:i}=e,{boxWidth:a,boxHeight:s}=t,c=Ime(t.bodyFont),l=Ime(t.titleFont),u=Ime(t.footerFont),d=i.length,h=o.length,p=r.length,f=Nme(t.padding);let m=f.height,g=0,y=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*l.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){m+=p*(t.displayColors?Math.max(s,c.lineHeight):c.lineHeight)+(y-p)*c.lineHeight+(y-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const b=function(e){g=Math.max(g,n.measureText(e).width+v)};return n.save(),n.font=l.string,Gpe(e.title,b),n.font=c.string,Gpe(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?a+2+t.boxPadding:0,Gpe(r,(e=>{Gpe(e.before,b),Gpe(e.lines,b),Gpe(e.after,b)})),v=0,n.font=u.string,Gpe(e.footer,b),n.restore(),g+=f.width,{width:g,height:m}}function Kbe(e,t,n,r){const{x:o,width:i}=n,{width:a,chartArea:{left:s,right:c}}=e;let l="center";return"center"===r?l=o<=(s+c)/2?"left":"right":o<=i/2?l="left":o>=a-i/2&&(l="right"),function(e,t,n,r){const{x:o,width:i}=r,a=n.caretSize+n.caretPadding;return"left"===e&&o+i+a>t.width||"right"===e&&o-i-a<0||void 0}(l,e,t,n)&&(l="center"),l}function qbe(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Kbe(e,t,n,r),yAlign:r}}function Ybe(e,t,n,r){const{caretSize:o,caretPadding:i,cornerRadius:a}=e,{xAlign:s,yAlign:c}=n,l=o+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Tme(a);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s);const m=function(e,t,n){let{y:r,height:o}=e;return"top"===t?r+=n:r-="bottom"===t?o+n:o/2,r}(t,c,l);return"center"===c?"left"===s?f+=l:"right"===s&&(f-=l):"left"===s?f-=Math.max(u,h)+o:"right"===s&&(f+=Math.max(d,p)+o),{x:Tfe(f,0,r.width-t.width),y:Tfe(m,0,r.height-t.height)}}function Xbe(e,t,n){const r=Nme(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function Jbe(e){return Vbe([],Wbe(e))}function $be(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Zbe={beforeTitle:Ppe,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Ppe,beforeBody:Ppe,beforeLabel:Ppe,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Lpe(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ppe,afterBody:Ppe,beforeFooter:Ppe,footer:Ppe,afterFooter:Ppe};function Qbe(e,t,n,r){const o=e[t].call(n,r);return"undefined"===typeof o?Zbe[t].call(n,r):o}class exe extends Kye{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,o=new Age(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Ome(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=Qbe(n,"beforeTitle",this,e),o=Qbe(n,"title",this,e),i=Qbe(n,"afterTitle",this,e);let a=[];return a=Vbe(a,Wbe(r)),a=Vbe(a,Wbe(o)),a=Vbe(a,Wbe(i)),a}getBeforeBody(e,t){return Jbe(Qbe(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return Gpe(e,(e=>{const t={before:[],lines:[],after:[]},o=$be(n,e);Vbe(t.before,Wbe(Qbe(o,"beforeLabel",this,e))),Vbe(t.lines,Qbe(o,"label",this,e)),Vbe(t.after,Wbe(Qbe(o,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return Jbe(Qbe(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=Qbe(n,"beforeFooter",this,e),o=Qbe(n,"footer",this,e),i=Qbe(n,"afterFooter",this,e);let a=[];return a=Vbe(a,Wbe(r)),a=Vbe(a,Wbe(o)),a=Vbe(a,Wbe(i)),a}_createItems(e){const t=this._active,n=this.chart.data,r=[],o=[],i=[];let a,s,c=[];for(a=0,s=t.length;a<s;++a)c.push(Hbe(this.chart,t[a]));return e.filter&&(c=c.filter(((t,r,o)=>e.filter(t,r,o,n)))),e.itemSort&&(c=c.sort(((t,r)=>e.itemSort(t,r,n)))),Gpe(c,(t=>{const n=$be(e.callbacks,t);r.push(Qbe(n,"labelColor",this,t)),o.push(Qbe(n,"labelPointStyle",this,t)),i.push(Qbe(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=i,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let o,i=[];if(r.length){const e=Ube[n.position].call(this,r,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const t=this._size=Gbe(this,n),a=Object.assign({},e,t),s=qbe(this.chart,n,a),c=Ybe(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,o={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=i,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const o=this.getCaretPosition(e,n,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:o}=this,{caretSize:i,cornerRadius:a}=n,{topLeft:s,topRight:c,bottomLeft:l,bottomRight:u}=Tme(a),{x:d,y:h}=e,{width:p,height:f}=t;let m,g,y,v,b,x;return"center"===o?(b=h+f/2,"left"===r?(m=d,g=m-i,v=b+i,x=b-i):(m=d+p,g=m+i,v=b-i,x=b+i),y=m):(g="left"===r?d+Math.max(s,l)+i:"right"===r?d+p-Math.max(c,u)-i:this.caretX,"top"===o?(v=h,b=v-i,m=g-i,y=g+i):(v=h+f,b=v+i,m=g+i,y=g-i),x=v),{x1:m,x2:g,x3:y,y1:v,y2:b,y3:x}}drawTitle(e,t,n){const r=this.title,o=r.length;let i,a,s;if(o){const c=mge(n.rtl,this.x,this.width);for(e.x=Xbe(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",i=Ime(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,s=0;s<o;++s)t.fillText(r[s],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a,s+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,r,o){const i=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:c}=o,l=Ime(o.bodyFont),u=Xbe(this,"left",o),d=r.x(u),h=s<l.lineHeight?(l.lineHeight-s)/2:0,p=t.y+h;if(o.usePointStyle){const t={radius:Math.min(c,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(d,c)+c/2,l=p+s/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ume(e,t,n,l),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,ume(e,t,n,l)}else{e.lineWidth=Bpe(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=r.leftForLtr(d,c),n=r.leftForLtr(r.xPlus(d,1),c-2),a=Tme(i.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,xme(e,{x:t,y:p,w:c,h:s,radius:a}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),xme(e,{x:n,y:p+1,w:c-2,h:s-2,radius:a}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,p,c,s),e.strokeRect(t,p,c,s),e.fillStyle=i.backgroundColor,e.fillRect(n,p+1,c-2,s-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:o,bodyAlign:i,displayColors:a,boxHeight:s,boxWidth:c,boxPadding:l}=n,u=Ime(n.bodyFont);let d=u.lineHeight,h=0;const p=mge(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+o},m=p.textAlign(i);let g,y,v,b,x,w,k;for(t.textAlign=i,t.textBaseline="middle",t.font=u.string,e.x=Xbe(this,m,n),t.fillStyle=n.bodyColor,Gpe(this.beforeBody,f),h=a&&"right"!==m?"center"===i?c/2+l:c+2+l:0,b=0,w=r.length;b<w;++b){for(g=r[b],y=this.labelTextColors[b],t.fillStyle=y,Gpe(g.before,f),v=g.lines,a&&v.length&&(this._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,s)),x=0,k=v.length;x<k;++x)f(v[x]),d=u.lineHeight;Gpe(g.after,f)}h=0,d=u.lineHeight,Gpe(this.afterBody,f),e.y-=o}drawFooter(e,t,n){const r=this.footer,o=r.length;let i,a;if(o){const s=mge(n.rtl,this.x,this.width);for(e.x=Xbe(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",i=Ime(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,a=0;a<o;++a)t.fillText(r[a],s.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:o,yAlign:i}=this,{x:a,y:s}=e,{width:c,height:l}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Tme(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+u,s),"top"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+c-d,s),t.quadraticCurveTo(a+c,s,a+c,s+d),"center"===i&&"right"===o&&this.drawCaret(e,t,n,r),t.lineTo(a+c,s+l-p),t.quadraticCurveTo(a+c,s+l,a+c-p,s+l),"bottom"===i&&this.drawCaret(e,t,n,r),t.lineTo(a+h,s+l),t.quadraticCurveTo(a,s+l,a,s+l-h),"center"===i&&"left"===o&&this.drawCaret(e,t,n,r),t.lineTo(a,s+u),t.quadraticCurveTo(a,s,a+u,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,o=n&&n.y;if(r||o){const n=Ube[e.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=Gbe(this,e),a=Object.assign({},n,this._size),s=qbe(t,e,a),c=Ybe(e,a,s,t);r._to===c.x&&o._to===c.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Nme(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,r,t),gge(e,t.textDirection),o.y+=i.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),yge(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),o=!Kpe(n,r),i=this._positionChanged(r,t);(o||i)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],i=this._getActiveElements(e,o,t,n),a=this._positionChanged(i,e),s=t||!Kpe(i,o)||a;return s&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,r){const o=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:n,caretY:r,options:o}=this,i=Ube[o.position].call(this,e,t);return!1!==i&&(n!==i.x||r!==i.y)}}Pn(exe,"positioners",Ube);var txe={id:"tooltip",_element:exe,positioners:Ube,afterInit(e,t,n){n&&(e.tooltip=new exe({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Ln(Ln({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Zbe},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},nxe=Object.freeze({__proto__:null,Colors:hbe,Decimation:mbe,Filler:Rbe,Legend:Dbe,SubTitle:zbe,Title:Fbe,Tooltip:txe});function rxe(e,t,n,r){const o=e.indexOf(t);if(-1===o)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return o!==e.lastIndexOf(t)?n:o}function oxe(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ixe extends nve{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Lpe(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Tfe(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:rxe(n,e,Vpe(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let o=this.getLabels();o=0===e&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=t;i++)r.push({value:i});return r}getLabelForValue(e){return oxe.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function axe(e,t){const n=[],{bounds:r,step:o,min:i,max:a,precision:s,count:c,maxTicks:l,maxDigits:u,includeBounds:d}=e,h=o||1,p=l-1,{min:f,max:m}=t,g=!Lpe(i),y=!Lpe(a),v=!Lpe(c),b=(m-f)/(u+1);let x,w,k,S,C=gfe((m-f)/p/h)*h;if(C<1e-14&&!g&&!y)return[{value:f},{value:m}];S=Math.ceil(m/C)-Math.floor(f/C),S>p&&(C=gfe(S*C/p/h)*h),Lpe(s)||(x=Math.pow(10,s),C=Math.ceil(C*x)/x),"ticks"===r?(w=Math.floor(f/C)*C,k=Math.ceil(m/C)*C):(w=f,k=m),g&&y&&o&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-i)/o,C/1e3)?(S=Math.round(Math.min((a-i)/C,l)),C=(a-i)/S,w=i,k=a):v?(w=g?i:w,k=y?a:k,S=c-1,C=(k-w)/S):(S=(k-w)/C,S=mfe(S,Math.round(S),C/1e3)?Math.round(S):Math.ceil(S));const E=Math.max(wfe(C),wfe(w));x=Math.pow(10,Lpe(s)?E:s),w=Math.round(w*x)/x,k=Math.round(k*x)/x;let _=0;for(g&&(d&&w!==i?(n.push({value:i}),w<i&&_++,mfe(Math.round((w+_*C)*x)/x,i,sxe(i,b,e))&&_++):w<i&&_++);_<S;++_){const e=Math.round((w+_*C)*x)/x;if(y&&e>a)break;n.push({value:e})}return y&&d&&k!==a?n.length&&mfe(n[n.length-1].value,a,sxe(a,b,e))?n[n.length-1].value=a:n.push({value:a}):y&&k!==a||n.push({value:k}),n}function sxe(e,t,n){let{horizontal:r,minRotation:o}=n;const i=bfe(o),a=(r?Math.sin(i):Math.cos(i))||.001,s=.75*t*(""+e).length;return Math.min(t/a,s)}Pn(ixe,"id","category"),Pn(ixe,"defaults",{ticks:{callback:oxe}});class cxe extends nve{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Lpe(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this;const i=e=>r=t?r:e,a=e=>o=n?o:e;if(e){const e=ffe(r),t=ffe(o);e<0&&t<0?a(0):e>0&&t>0&&i(0)}if(r===o){let t=0===o?1:Math.abs(.05*o);a(o+t),e||i(r-t)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=axe({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&vfe(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return $fe(e,this.chart.options.locale,this.options.ticks.format)}}class lxe extends cxe{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zpe(e)?e:0,this.max=zpe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=bfe(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Pn(lxe,"id","linear"),Pn(lxe,"defaults",{ticks:{callback:Qfe.formatters.numeric}});const uxe=e=>Math.floor(pfe(e)),dxe=(e,t)=>Math.pow(10,uxe(e)+t);function hxe(e){return 1===e/Math.pow(10,uxe(e))}function pxe(e,t,n){const r=Math.pow(10,n),o=Math.floor(e/r);return Math.ceil(t/r)-o}function fxe(e,t){let{min:n,max:r}=t;n=Upe(e.min,n);const o=[],i=uxe(n);let a=function(e,t){let n=uxe(t-e);for(;pxe(e,t,n)>10;)n++;for(;pxe(e,t,n)<10;)n--;return Math.min(n,uxe(e))}(n,r),s=a<0?Math.pow(10,Math.abs(a)):1;const c=Math.pow(10,a),l=i>a?Math.pow(10,i):0,u=Math.round((n-l)*s)/s,d=Math.floor((n-l)/c/10)*c*10;let h=Math.floor((u-d)/Math.pow(10,a)),p=Upe(e.min,Math.round((l+d+h*Math.pow(10,a))*s)/s);for(;p<r;)o.push({value:p,major:hxe(p),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,s=a>=0?1:s),p=Math.round((l+d+h*Math.pow(10,a))*s)/s;const f=Upe(e.max,p);return o.push({value:f,major:hxe(f),significand:h}),o}class mxe extends nve{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=cxe.prototype.parse.apply(this,[e,t]);if(0!==n)return zpe(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=zpe(e)?Math.max(0,e):null,this.max=zpe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zpe(this._userMin)&&(this.min=e===dxe(this.min,0)?dxe(this.min,-1):dxe(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const o=t=>n=e?n:t,i=e=>r=t?r:e;n===r&&(n<=0?(o(1),i(10)):(o(dxe(n,-1)),i(dxe(r,1)))),n<=0&&o(dxe(r,-1)),r<=0&&i(dxe(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=fxe({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&vfe(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":$fe(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=pfe(e),this._valueRange=pfe(this.max)-pfe(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(pfe(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function gxe(e){const t=e.ticks;if(t.display&&e.display){const e=Nme(t.backdropPadding);return Vpe(t.font&&t.font.size,ime.font.size)+e.height}return 0}function yxe(e,t,n,r,o){return e===r||e===o?{start:t-n/2,end:t+n/2}:e<r||e>o?{start:t-n,end:t}:{start:t,end:t+n}}function vxe(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],o=[],i=e._pointLabels.length,a=e.options.pointLabels,s=a.centerPointLabels?ife/i:0;for(let d=0;d<i;d++){const i=a.setContext(e.getPointLabelContext(d));o[d]=i.padding;const h=e.getPointPosition(d,e.drawingArea+o[d],s),p=Ime(i.font),f=(c=e.ctx,l=p,u=Fpe(u=e._pointLabels[d])?u:[u],{w:sme(c,l.string,u),h:u.length*l.lineHeight});r[d]=f;const m=Efe(e.getIndexAngle(d)+s),g=Math.round(xfe(m));bxe(n,t,m,yxe(g,h.x,f.w,0,180),yxe(g,h.y,f.h,90,270))}var c,l,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],o=e._pointLabels.length,i=e.options,{centerPointLabels:a,display:s}=i.pointLabels,c={extra:gxe(i)/2,additionalAngle:a?ife/o:0};let l;for(let u=0;u<o;u++){c.padding=n[u],c.size=t[u];const o=xxe(e,u,c);r.push(o),"auto"===s&&(o.visible=wxe(o,l),o.visible&&(l=o))}return r}(e,r,o)}function bxe(e,t,n,r,o){const i=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let s=0,c=0;r.start<t.l?(s=(t.l-r.start)/i,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/i,e.r=Math.max(e.r,t.r+s)),o.start<t.t?(c=(t.t-o.start)/a,e.t=Math.min(e.t,t.t-c)):o.end>t.b&&(c=(o.end-t.b)/a,e.b=Math.max(e.b,t.b+c))}function xxe(e,t,n){const r=e.drawingArea,{extra:o,additionalAngle:i,padding:a,size:s}=n,c=e.getPointPosition(t,r+o+a,i),l=Math.round(xfe(Efe(c.angle+ufe))),u=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(c.y,s.h,l),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(l),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(c.x,s.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:h,top:u,right:h+s.w,bottom:u+s.h}}function wxe(e,t){if(!t)return!0;const{left:n,top:r,right:o,bottom:i}=e;return!(hme({x:n,y:r},t)||hme({x:n,y:i},t)||hme({x:o,y:r},t)||hme({x:o,y:i},t))}function kxe(e,t,n){const{left:r,top:o,right:i,bottom:a}=n,{backdropColor:s}=t;if(!Lpe(s)){const n=Tme(t.borderRadius),c=Nme(t.backdropPadding);e.fillStyle=s;const l=r-c.left,u=o-c.top,d=i-r+c.width,h=a-o+c.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),xme(e,{x:l,y:u,w:d,h:h,radius:n}),e.fill()):e.fillRect(l,u,d,h)}}function Sxe(e,t,n,r){const{ctx:o}=e;if(n)o.arc(e.xCenter,e.yCenter,t,0,afe);else{let n=e.getPointPosition(0,t);o.moveTo(n.x,n.y);for(let i=1;i<r;i++)n=e.getPointPosition(i,t),o.lineTo(n.x,n.y)}}Pn(mxe,"id","logarithmic"),Pn(mxe,"defaults",{ticks:{callback:Qfe.formatters.logarithmic,major:{enabled:!0}}});class Cxe extends cxe{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Nme(gxe(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=zpe(e)&&!isNaN(e)?e:0,this.max=zpe(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gxe(this.options))}generateTickLabels(e){cxe.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Hpe(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?vxe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Efe(e*(afe/(this._pointLabels.length||1))+bfe(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Lpe(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Lpe(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Ome(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-ufe+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Sxe(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:o}=t,i=this._pointLabels.length;let a,s,c;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let o=t-1;o>=0;o--){const t=e._pointLabelItems[o];if(!t.visible)continue;const i=r.setContext(e.getPointLabelContext(o));kxe(n,i,t);const a=Ime(i.font),{x:s,y:c,textAlign:l}=t;bme(n,e._pointLabels[o],s,c+a.lineHeight/2,a,{color:i.color,textAlign:l,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){s=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),a=r.setContext(n),c=o.setContext(n);!function(e,t,n,r,o){const i=e.ctx,a=t.circular,{color:s,lineWidth:c}=t;!a&&!r||!s||!c||n<0||(i.save(),i.strokeStyle=s,i.lineWidth=c,i.setLineDash(o.dash),i.lineDashOffset=o.dashOffset,i.beginPath(),Sxe(e,n,a,r),i.closePath(),i.stroke(),i.restore())}(this,a,s,i,c)}})),n.display){for(e.save(),a=i-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:o,lineWidth:i}=r;i&&o&&(e.lineWidth=i,e.strokeStyle=o,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let o,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const s=n.setContext(this.getContext(a)),c=Ime(s.font);if(o=this.getDistanceFromCenterForValue(this.ticks[a].value),s.showLabelBackdrop){e.font=c.string,i=e.measureText(r.label).width,e.fillStyle=s.backdropColor;const t=Nme(s.backdropPadding);e.fillRect(-i/2-t.left,-o-c.size/2-t.top,i+t.width,c.size+t.height)}bme(e,r.label,0,-o,c,{color:s.color,strokeColor:s.textStrokeColor,strokeWidth:s.textStrokeWidth})})),e.restore()}drawTitle(){}}Pn(Cxe,"id","radialLinear"),Pn(Cxe,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Qfe.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),Pn(Cxe,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Pn(Cxe,"descriptors",{angleLines:{_fallback:"grid"}});const Exe={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_xe=Object.keys(Exe);function Txe(e,t){return e-t}function Nxe(e,t){if(Lpe(t))return null;const n=e._adapter,{parser:r,round:o,isoWeekday:i}=e._parseOpts;let a=t;return"function"===typeof r&&(a=r(a)),zpe(a)||(a="string"===typeof r?n.parse(a,r):n.parse(a)),null===a?null:(o&&(a="week"!==o||!yfe(i)&&!0!==i?n.startOf(a,o):n.startOf(a,"isoWeek",i)),+a)}function Ixe(e,t,n,r){const o=_xe.length;for(let i=_xe.indexOf(e);i<o-1;++i){const e=Exe[_xe[i]],o=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(o*e.size))<=r)return _xe[i]}return _xe[o-1]}function Axe(e,t,n){if(n){if(n.length){const{lo:r,hi:o}=Ife(n,t);e[n[r]>=t?n[r]:n[o]]=!0}}else e[t]=!0}function Oxe(e,t,n){const r=[],o={},i=t.length;let a,s;for(a=0;a<i;++a)s=t[a],o[s]=a,r.push({value:s,major:!1});return 0!==i&&n?function(e,t,n,r){const o=e._adapter,i=+o.startOf(t[0].value,r),a=t[t.length-1].value;let s,c;for(s=i;s<=a;s=+o.add(s,1,r))c=n[s],c>=0&&(t[c].major=!0);return t}(e,r,o,n):r}class Rxe extends nve{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new cye(e.adapters.date);r.init(t),$pe(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Nxe(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:o,minDefined:i,maxDefined:a}=this.getUserBounds();function s(e){i||isNaN(e.min)||(r=Math.min(r,e.min)),a||isNaN(e.max)||(o=Math.max(o,e.max))}i&&a||(s(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||s(this.getMinMax(!1))),r=zpe(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),o=zpe(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,i=function(e,t,n){let r=0,o=e.length;for(;r<o&&e[r]<t;)r++;for(;o>r&&e[o-1]>n;)o--;return r>0||o<e.length?e.slice(r,o):e}(r,o,this.max);return this._unit=t.unit||(n.autoSkip?Ixe(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):function(e,t,n,r,o){for(let i=_xe.length-1;i>=_xe.indexOf(n);i--){const n=_xe[i];if(Exe[n].common&&e._adapter.diff(o,r,n)>=t-1)return n}return _xe[n?_xe.indexOf(n):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=_xe.indexOf(e)+1,n=_xe.length;t<n;++t)if(Exe[_xe[t]].common)return _xe[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&i.reverse(),Oxe(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,o=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),o=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const i=n.length<3?.5:.25;r=Tfe(r,0,i),o=Tfe(o,0,i),this._offsets={start:r,end:o,factor:1/(r+1+o)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,o=r.time,i=o.unit||Ixe(o.minUnit,t,n,this._getLabelCapacity(t)),a=Vpe(r.ticks.stepSize,1),s="week"===i&&o.isoWeekday,c=yfe(s)||!0===s,l={};let u,d,h=t;if(c&&(h=+e.startOf(h,"isoWeek",s)),h=+e.startOf(h,c?"day":i),e.diff(n,t,i)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+i);const p="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,a,i),d++)Axe(l,u,p);return u!==n&&"ticks"!==r.bounds&&1!==d||Axe(l,u,p),Object.keys(l).sort(Txe).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,o=t||n[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,r){const o=this.options,i=o.ticks.callback;if(i)return Hpe(i,[e,t,n],this);const a=o.time.displayFormats,s=this._unit,c=this._majorUnit,l=s&&a[s],u=c&&a[c],d=n[t],h=c&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:l))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=bfe(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),i=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*i,h:n*i+a*o}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,o=this._tickFormatFunction(e,0,Oxe(this,[e],this._majorUnit),r),i=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(Nxe(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jfe(e.sort(Txe))}}function Mxe(e,t,n){let r,o,i,a,s=0,c=e.length-1;n?(t>=e[s].pos&&t<=e[c].pos&&({lo:s,hi:c}=Afe(e,"pos",t)),({pos:r,time:i}=e[s]),({pos:o,time:a}=e[c])):(t>=e[s].time&&t<=e[c].time&&({lo:s,hi:c}=Afe(e,"time",t)),({time:r,pos:i}=e[s]),({time:o,pos:a}=e[c]));const l=o-r;return l?i+(a-i)*(t-r)/l:i}Pn(Rxe,"id","time"),Pn(Rxe,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class jxe extends Rxe{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Mxe(t,this.min),this._tableRange=Mxe(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],o=[];let i,a,s,c,l;for(i=0,a=e.length;i<a;++i)c=e[i],c>=t&&c<=n&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(i=0,a=r.length;i<a;++i)l=r[i+1],s=r[i-1],c=r[i],Math.round((l+s)/2)!==c&&o.push({time:c,pos:i/(a-1)});return o}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Mxe(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Mxe(this._table,n*this._tableRange+this._minPos,!0)}}Pn(jxe,"id","timeseries"),Pn(jxe,"defaults",Rxe.defaults);const Pxe=[iye,ibe,nxe,Object.freeze({__proto__:null,CategoryScale:ixe,LinearScale:lxe,LogarithmicScale:mxe,RadialLinearScale:Cxe,TimeScale:Rxe,TimeSeriesScale:jxe})];jve.register(...Pxe);const Dxe=jve,Lxe=()=>{const{id:e}=Xe(),{adminId:t}=Xe(),n="http://localhost:3001",[r,o]=(sessionStorage.getItem("userId"),(0,Z.useState)(!0)),[i,a]=(0,Z.useState)(),[s,c]=(0,Z.useState)("dashboard"),[l,u]=(0,Z.useState)("blog-all"),[d,h]=(0,Z.useState)("blog-success"),[p,f]=(0,Z.useState)([]),[m,g]=(0,Z.useState)(!1),[y,v]=(0,Z.useState)(null),[b]=(0,Z.useState)([]),[x]=(0,Z.useState)([]),[w,k]=(0,Z.useState)([]),[S,C]=(0,Z.useState)("Dashboard"),E=e=>{v(e),g(!0)},_=()=>{g(!1),v(null)},T=qe();(0,Z.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("user")||"{}"),t=null===e||void 0===e?void 0:e.access_token;if(!t)return void T("/admin/login");(async()=>{try{const e=await ap.get("".concat(n,"/login/auth"),{headers:{Authorization:"Bearer ".concat(t)}});console.log("Authentication successful:",e.data)}catch(e){sessionStorage.clear(),console.error(e),T("/admin/login")}})()}),[T]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat(n,"/api/report"));f(e.data)}catch(e){console.error("Error fetching reports:",e)}})()}),[]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat(n,"/profile/within24hour")),t=await ap.get("".concat(n,"/profile"));b(e.data),x(t.data)}catch(e){console.error("Error fetching reports:",e)}})()}),[]),(0,Z.useEffect)((()=>{(async()=>{try{if(e){const t=await zhe(e);o(t)}}catch(t){console.error("Error fetching profile data:",t)}})()}),[e]);const N=async()=>{try{const e=await ap.get("".concat(n,"/api/report"));f(e.data)}catch(e){console.error("Error fetching reports:",e)}};(0,Z.useEffect)((()=>{N()}),[]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat(n,"/views"));a(e.data)}catch(e){console.error("Error fetching reports:",e)}})()}),[]);const I=e=>{u(e)},A=()=>{N()};return(0,fn.jsx)("div",{className:"average",children:(0,fn.jsxs)("div",{className:"main1",children:[(0,fn.jsx)("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginTop:"2rem"},children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e25\u0e47\u0e2d\u0e01"}),(0,fn.jsxs)("div",{className:"insights",children:[(0,fn.jsxs)("div",{className:"blogpost-all",onClick:e=>{e.preventDefault(),I("blog-all")},children:[(0,fn.jsx)(Vt,{className:"svg3"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("h1",{children:p.length})]})})]}),(0,fn.jsxs)("div",{className:"view-all",onClick:e=>{e.preventDefault(),I("blog-wait")},children:[(0,fn.jsx)(Fp,{className:"svg2"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e23\u0e2d\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a"}),(0,fn.jsx)("h1",{children:(e=>e.reduce(((e,t)=>t.verified?e:e+1),0))(p)})]})})]}),(0,fn.jsxs)("div",{className:"user-all",onClick:e=>{e.preventDefault(),I("blog-success")},children:[(0,fn.jsx)(Ghe,{className:"svg1"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e41\u0e25\u0e49\u0e27"}),(0,fn.jsx)("h1",{children:(e=>e.reduce(((e,t)=>t.verified?e+1:e),0))(p)})]})})]})]}),"blog-all"===l&&(0,fn.jsxs)("div",{className:"recent-order",style:{overflowY:"auto",maxHeight:"400px",marginTop:"10px",borderRadius:"2rem"},children:[(0,fn.jsxs)("table",{children:[(0,fn.jsx)("thead",{style:{position:"sticky",top:0,backgroundColor:"#fff",zIndex:1},className:"pt-5",children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e1c\u0e39\u0e49\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{children:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,fn.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})]})}),r&&(0,fn.jsx)("tbody",{children:p.length>0?p.map((e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:e.reportedBy?e.reportedBy.fullname:""}),(0,fn.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,fn.jsx)("td",{children:e.reason||"No Title"}),(0,fn.jsx)("td",{className:"warning",style:{color:"Approved"===e.status?"#44ab89":"Pending"===e.status?"black":"Cancel"===e.status?"orange":"#ff7782"},children:"Approved"===e.status?"\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c":"Pending"===e.status?"\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23":"Cancel"===e.status?"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e25\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e2b\u0e23\u0e37\u0e2d\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19":"\u0e44\u0e21\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c"}),(0,fn.jsx)("td",{className:"primary",children:(0,fn.jsx)(bf,{variant:"info",onClick:()=>E(e),disabled:"Pending"!==e.status,style:{opacity:"Pending"===e.status?1:.5,cursor:"Pending"===e.status?"pointer":"not-allowed"},children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})})]},e._id))):(0,fn.jsx)("tr",{children:(0,fn.jsx)("td",{colSpan:5,children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})})})]}),y&&(0,fn.jsx)(tpe,{showModal:m,handleClose:_,report:y,refreshReports:A})]}),"blog-wait"===l&&(0,fn.jsxs)("div",{className:"recent-order",style:{overflowY:"scroll",maxHeight:"400px",margin:"0",borderRadius:"2rem"},children:[(0,fn.jsxs)("table",{children:[(0,fn.jsx)("thead",{className:"pt-5",children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e1c\u0e39\u0e49\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{children:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,fn.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})]})}),r&&(0,fn.jsx)("tbody",{children:p.length>0?p.map((e=>e.verified?(0,fn.jsx)(fn.Fragment,{}):(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:e.reportedBy?e.reportedBy.fullname:""}),(0,fn.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,fn.jsx)("td",{children:e.reason||"No Title"}),(0,fn.jsx)("td",{className:"warning",style:{color:"Approved"===e.status?"#44ab89":"Pending"===e.status?"black":"Cancel"===e.status?"orange":"#ff7782"},children:"Approved"===e.status?"\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c":"Pending"===e.status?"\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23":"Cancel"===e.status?"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e25\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e2b\u0e23\u0e37\u0e2d\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19":"\u0e44\u0e21\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c"}),(0,fn.jsx)("td",{className:"primary",children:(0,fn.jsx)(bf,{variant:"info",onClick:()=>E(e),disabled:!!e.verified,children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})})]},e._id))):(0,fn.jsx)("tr",{children:(0,fn.jsx)("td",{colSpan:5,children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})})})]}),y&&(0,fn.jsx)(tpe,{showModal:m,handleClose:_,report:y,refreshReports:A})]}),"blog-success"===l&&(0,fn.jsxs)("div",{className:"recent-order",style:{overflowY:"scroll",maxHeight:"400px",margin:"0",borderRadius:"2rem"},children:[(0,fn.jsx)("div",{className:"selectBlogCate",style:{marginLeft:"2rem",position:"fixed"},children:(0,fn.jsx)(Ehe,{children:["radio"].map((e=>(0,fn.jsxs)("div",{children:[(0,fn.jsx)(Ehe.Check,{inline:!0,label:"Approve",style:{color:"#41f1b6"},name:"group1",type:"radio",id:"inline-".concat(e,"-1"),onChange:()=>h("blog-success"),checked:"blog-success"===d}),(0,fn.jsx)(Ehe.Check,{inline:!0,label:"Decline",style:{color:"#ff7782"},name:"group1",type:"radio",id:"inline-".concat(e,"-2"),onChange:()=>h("blog-decline"),checked:"blog-decline"===d}),(0,fn.jsx)(Ehe.Check,{inline:!0,label:"Cancel",style:{color:"#ff7782"},name:"group1",type:"radio",id:"inline-".concat(e,"-3"),onChange:()=>h("blog-cancel"),checked:"blog-cancel"===d})]},"inline-".concat(e))))})}),(0,fn.jsx)("div",{children:"blog-success"===d&&(0,fn.jsxs)("table",{children:[(0,fn.jsx)("thead",{className:"pt-5",children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e1c\u0e39\u0e49\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{children:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,fn.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})]})}),r&&(0,fn.jsx)("tbody",{children:p.length>0?p.map((e=>e.verified&&"Approved"===e.status?(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:e.reportedBy?e.reportedBy.fullname:""}),(0,fn.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,fn.jsx)("td",{children:e.reason||"No Title"}),(0,fn.jsx)("td",{className:"warning",style:{color:"Approved"===e.status?"#44ab89":"Pending"===e.status?"black":"Cancel"===e.status?"orange":"#ff7782"},children:"Approved"===e.status?"\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c":"Pending"===e.status?"\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23":"Cancel"===e.status?"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e25\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e2b\u0e23\u0e37\u0e2d\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19":"\u0e44\u0e21\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e34\u0e43\u0e2b\u0e49\u0e2d\u0e22\u0e39\u0e48\u0e1a\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c"}),(0,fn.jsx)("td",{className:"primary",children:(0,fn.jsx)(bf,{variant:"info",onClick:()=>E(e),disabled:!!e.verified,children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})})]},e._id):(0,fn.jsx)(fn.Fragment,{}))):(0,fn.jsx)("tr",{children:(0,fn.jsx)("td",{colSpan:5,children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})})})]})}),"blog-decline"===d&&(0,fn.jsxs)("table",{children:[(0,fn.jsx)("thead",{className:"pt-5",children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e1c\u0e39\u0e49\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{children:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,fn.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})]})}),r&&(0,fn.jsx)("tbody",{children:p.length>0?p.map((e=>"Declined"===e.status?(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:e.reportedBy?e.reportedBy.fullname:""}),(0,fn.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,fn.jsx)("td",{children:e.reason||"No Title"}),(0,fn.jsx)("td",{className:"warning",children:"\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18"}),(0,fn.jsx)("td",{className:"primary",children:(0,fn.jsx)(bf,{variant:"info",onClick:()=>E(e),disabled:!!e.verified,children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})})]},e._id):(0,fn.jsx)(fn.Fragment,{}))):(0,fn.jsx)("tr",{children:(0,fn.jsx)("td",{colSpan:5,children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})})})]}),"blog-cancel"===d&&(0,fn.jsxs)("table",{children:[(0,fn.jsx)("thead",{className:"pt-5",children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e1c\u0e39\u0e49\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{children:"\u0e2b\u0e31\u0e27\u0e02\u0e49\u0e2d\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,fn.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})]})}),r&&(0,fn.jsx)("tbody",{children:p.length>0?p.map((e=>"Cancel"===e.status?(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:e.reportedBy?e.reportedBy.fullname:""}),(0,fn.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,fn.jsx)("td",{children:e.reason||"No Title"}),(0,fn.jsx)("td",{className:"warning",children:"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e16\u0e39\u0e01\u0e25\u0e1a/\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("td",{className:"primary",children:(0,fn.jsx)(bf,{variant:"info",onClick:()=>E(e),disabled:!!e.verified,children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})})]},e._id):(0,fn.jsx)(fn.Fragment,{}))):(0,fn.jsx)("tr",{children:(0,fn.jsx)("td",{colSpan:5,children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})})})]})]})]})})},Fxe=e=>{let{blogsData:t}=e;const{id:n}=Xe(),[r,o]=(0,Z.useState)([]),[i,a]=(0,Z.useState)(!1),[s,c]=(0,Z.useState)(!1),[l,u]=(0,Z.useState)(null),[d,h]=(0,Z.useState)(""),[p,f]=(0,Z.useState)(),[m,g]=(0,Z.useState)("");(0,Z.useEffect)((()=>{const e={};(p||t||[]).forEach((t=>{const{tags:n,banner:r}=t;n.forEach((t=>{e[t]?e[t].count+=1:e[t]={count:1,banner:r}}))}));const n=Object.entries(e).map((e=>{let[t,{count:n,banner:r}]=e;return{tags:t,count:n,banner:r}}));o(n)}),[t,p]);const y=(0,Z.useMemo)((()=>r.filter((e=>e.tags.toLowerCase().includes(m.toLowerCase())))),[r,m]);return(0,fn.jsx)("div",{className:"manageUser",children:(0,fn.jsxs)("div",{className:"main1",children:[(0,fn.jsx)("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginTop:"2rem"},children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"}),(0,fn.jsx)("div",{className:"insights",children:(0,fn.jsxs)("div",{className:"user-all",children:[(0,fn.jsx)(Sp,{className:"svg1"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("h1",{children:r.length})]})})]})}),(0,fn.jsxs)("div",{className:"recent-order",style:{marginTop:"1.5rem"},children:[(0,fn.jsx)("h2",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"}),(0,fn.jsxs)("div",{className:"right",children:[(0,fn.jsx)("div",{className:"search-cate",children:(0,fn.jsx)("input",{type:"text",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48...",value:m,onChange:e=>g(e.target.value),style:{width:"96%",margin:"3px 3px",padding:"10px 15px",fontSize:"16px",border:"none",borderRadius:"10px",backgroundColor:"white"}})}),(0,fn.jsxs)("div",{className:"activity-analytics",style:{marginTop:"0.5rem",overflowY:"scroll",maxHeight:"300px"},children:[y.map((e=>{let{tags:t,count:n,banner:r}=e;return(0,fn.jsx)("div",{className:"item",style:{margin:"20px 10px"},children:(0,fn.jsxs)("div",{className:"right",children:[(0,fn.jsx)("div",{className:"info",children:(0,fn.jsxs)("h3",{children:[t," (",n," \u0e1a\u0e25\u0e47\u0e2d\u0e01)"]})}),(0,fn.jsxs)("div",{className:"manage d-flex",children:[(0,fn.jsx)("div",{className:"edit warning",style:{paddingRight:"10px"},onClick:()=>{u({tags:t,banner:r}),h(t),a(!0)},children:(0,fn.jsx)("h3",{children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})}),(0,fn.jsx)("div",{className:"delete danger",onClick:()=>{u({tags:t,banner:r}),c(!0)},children:(0,fn.jsx)("h3",{children:"\u0e25\u0e1a"})})]})]})},t)})),0===y.length&&(0,fn.jsx)("p",{style:{textAlign:"center",marginTop:"20px"},children:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48\u0e17\u0e35\u0e48\u0e04\u0e49\u0e19\u0e2b\u0e32"})]})]})]}),(0,fn.jsxs)(yg,{show:i,onHide:()=>a(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"})}),(0,fn.jsx)(yg.Body,{children:(0,fn.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48\u0e43\u0e2b\u0e21\u0e48",className:"form-control"})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>a(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:async()=>{if(l)try{if(!(await fetch("".concat("http://localhost:3001","/create-blog/edit-tag"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({old_tag:l.tags,new_tag:d})})).ok)throw new Error("Failed to edit tag");a(!1);const e=await Vhe();f(e)}catch(e){console.error("Error editing tag:",e)}},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]}),(0,fn.jsxs)(yg,{show:s,onHide:()=>c(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"})}),(0,fn.jsxs)(yg.Body,{children:["\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48\u0e19\u0e35\u0e49: ",(0,fn.jsx)("strong",{children:null===l||void 0===l?void 0:l.tags}),"?"]}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>c(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{variant:"danger",onClick:async()=>{if(l)try{if(!(await fetch("".concat("http://localhost:3001","/create-blog/deletetag"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag:l.tags})})).ok)throw new Error("Failed to delete tag");c(!1);const e=await Vhe();f(e)}catch(e){console.error("Error deleting tag:",e.message)}},children:"\u0e25\u0e1a"})]})]})]})})};!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();const Bxe={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:e=>{let[t,n]=e;if(!n&&t)return t;const r={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};let o=n.slice(1).split("&").map((e=>{const[n,o]=e.split("=");return t||"v"!==n?!r[n]||"LL"===o||o.startsWith("RDMM")||o.startsWith("FL")?null:"".concat(r[n],"=").concat(o):(t=o,null)})).filter((e=>!!e));return t+"?"+o.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:"<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:e=>e.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:e=>e.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:e=>e.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:e=>e[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:e=>e[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:e=>e.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:e=>"".concat(e.join("/"),".js")}};function zxe(e,t,n){var r,o,i,a,s;function c(){var l=Date.now()-a;l<t&&l>=0?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var l=function(){i=this,o=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(i,o),i=o=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},l}zxe.debounce=zxe;var Uxe=zxe;class Vxe{constructor(e){let{data:t,api:n,readOnly:r}=e;this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=t}set data(e){var t;if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:r,embed:o,width:i,height:a,caption:s=""}=e;this._data={service:n||this.data.service,source:r||this.data.source,embed:o||this.data.embed,width:i||this.data.width,height:a||this.data.height,caption:s||this.data.caption||""};const c=this.element;c&&(null==(t=c.parentNode)||t.replaceChild(this.render(),c))}get data(){if(this.element){const e=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const e=document.createElement("div");return this.element=e,e}const{html:e}=Vxe.services[this.data.service],t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("template"),o=this.createPreloader();t.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),n.classList.add(this.CSS.input,this.CSS.caption),t.appendChild(o),n.contentEditable=(!this.readOnly).toString(),n.dataset.placeholder=this.api.i18n.t("Enter a caption"),n.innerHTML=this.data.caption||"",r.innerHTML=e,r.content.firstChild.setAttribute("src",this.data.embed),r.content.firstChild.classList.add(this.CSS.content);const i=this.embedIsReady(t);return r.content.firstChild&&t.appendChild(r.content.firstChild),t.appendChild(n),i.then((()=>{t.classList.remove(this.CSS.containerLoading)})),this.element=t,t}createPreloader(){const e=document.createElement("preloader"),t=document.createElement("div");return t.textContent=this.data.source,e.classList.add(this.CSS.preloader),t.classList.add(this.CSS.url),e.appendChild(t),e}save(){return this.data}onPaste(e){var t;const{key:n,data:r}=e.detail,{regex:o,embedUrl:i,width:a,height:s,id:c=e=>e.shift()||""}=Vxe.services[n],l=null==(t=o.exec(r))?void 0:t.slice(1),u=l?i.replace(/<%= remote_id %>/g,c(l)):"";this.data={service:n,source:r,embed:u,width:a,height:s}}static prepare(e){let{config:t={}}=e;const{services:n={}}=t;let r=Object.entries(Bxe);const o=Object.entries(n).filter((e=>{let[t,n]=e;return"boolean"==typeof n&&!0===n})).map((e=>{let[t]=e;return t})),i=Object.entries(n).filter((e=>{let[t,n]=e;return"object"==typeof n})).filter((e=>{let[t,n]=e;return Vxe.checkServiceConfig(n)})).map((e=>{let[t,n]=e;const{regex:r,embedUrl:o,html:i,height:a,width:s,id:c}=n;return[t,{regex:r,embedUrl:o,html:i,height:a,width:s,id:c}]}));o.length&&(r=r.filter((e=>{let[t]=e;return o.includes(t)}))),r=r.concat(i),Vxe.services=r.reduce(((e,t)=>{let[n,r]=t;return n in e?(e[n]=Object.assign({},e[n],r),e):(e[n]=r,e)}),{}),Vxe.patterns=r.reduce(((e,t)=>{let[n,r]=t;return r&&"boolean"!=typeof r&&(e[n]=r.regex),e}),{})}static checkServiceConfig(e){const{regex:t,embedUrl:n,html:r,height:o,width:i,id:a}=e;let s=!!(t&&t instanceof RegExp)&&!(!n||"string"!=typeof n)&&!(!r||"string"!=typeof r);return s=s&&(void 0===a||a instanceof Function),s=s&&(void 0===o||Number.isFinite(o)),s=s&&(void 0===i||Number.isFinite(i)),s}static get pasteConfig(){return{patterns:Vxe.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let t;return new Promise(((n,r)=>{t=new MutationObserver(Uxe.debounce(n,450)),t.observe(e,{childList:!0,subtree:!0})})).then((()=>{t.disconnect()}))}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();const Wxe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(x2e){console.error("vite-plugin-css-injected-by-js",x2e)}}();const Hxe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';function Gxe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):null!==t&&r.classList.add(t);for(const o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}var Kxe=(e=>(e.Empty="empty",e.Uploading="uploading",e.Filled="filled",e))(Kxe||{});class qxe{constructor(e){let{api:t,config:n,onSelectFile:r,readOnly:o}=e;this.api=t,this.config=n,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:Gxe("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Gxe("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Gxe("div",this.CSS.imagePreloader),caption:Gxe("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(e,t){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(e),t)}render(e){return void 0===e.file||0===Object.keys(e.file).length?this.toggleStatus("empty"):this.toggleStatus("uploading"),this.nodes.wrapper}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage="url(".concat(e,")"),this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(e){const t=/\.mp4$/.test(e)?"VIDEO":"IMG",n={src:e};let r="load";"VIDEO"===t&&(n.autoplay=!0,n.loop=!0,n.muted=!0,n.playsinline=!0,r="loadeddata"),this.nodes.imageEl=Gxe(t,this.CSS.imageEl,n),this.nodes.imageEl.addEventListener(r,(()=>{this.toggleStatus("filled"),void 0!==this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){void 0!==this.nodes.caption&&(this.nodes.caption.innerHTML=e)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){var e;const t=Gxe("div",[this.CSS.button]);return t.innerHTML=null!==(e=this.config.buttonContent)&&void 0!==e?e:"".concat(Hxe," ").concat(this.api.i18n.t("Select an Image")),t.addEventListener("click",(()=>{this.onSelectFile()})),t}toggleStatus(e){for(const t in Kxe)Object.prototype.hasOwnProperty.call(Kxe,t)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(Kxe[t]),e===Kxe[t])}}function Yxe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xxe={exports:{}};!function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){var r=n(2),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void l(t.promise,o)}c(t.promise,r)}else(1===e._state?c:l)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void h((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(ww){l(e,ww)}var r,o}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&a._immediateFn((function(){e._handled||a._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(xw){if(n)return;n=!0,l(t,xw)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new d(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a((function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(e,t)}),n)}r[e]=a,0==--o&&t(r)}catch(pk){n(pk)}}for(var a=0;a<r.length;a++)i(a,r[a])}))},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a((function(t){t(e)}))},a.reject=function(e){return new a((function(t,n){n(e)}))},a.race=function(e){return new a((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(5).setImmediate)},function(e,t,n){t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(4);var o,i,a,s,c,l,u,d=n(8),h=(i=function(e){return new Promise((function(t,n){e=s(e),(e=c(e)).beforeSend&&e.beforeSend();var r=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");r.open(e.method,e.url),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach((function(t){var n=e.headers[t];r.setRequestHeader(t,n)}));var o=e.ratio;r.upload.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*o/100);e.progress(Math.min(r,100))}),!1),r.addEventListener("progress",(function(t){var n=Math.round(t.loaded/t.total*100),r=Math.ceil(n*(100-o)/100)+o;e.progress(Math.min(r,100))}),!1),r.onreadystatechange=function(){if(4===r.readyState){var e=r.response;try{e=JSON.parse(e)}catch(a){}var o=d.parseHeaders(r.getAllResponseHeaders()),i={body:e,code:r.status,headers:o};u(r.status)?t(i):n(i)}},r.send(e.data)}))},a=function(e){return e.method="POST",i(e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==r(e.headers))throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(o).includes(e.type)))throw new Error("`type` must be taken from module's \xabcontentType\xbb library");if(e.progress&&"function"!=typeof e.progress)throw new Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},c=function(e){switch(e.method){case"GET":var t=l(e.data,o.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||o.JSON}(e);(d.isFormData(e.data)||d.isFormElement(e.data))&&(n=o.FORM),e.data=l(e.data,n),n!==h.contentType.FORM&&(e.headers["content-type"]=n)}return e},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case o.URLENCODED:return d.urlEncode(e);case o.JSON:return d.jsonEncode(e);case o.FORM:return d.formEncode(e);default:return e}},u=function(e){return e>=200&&e<300},{contentType:o={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:i,get:function(e){return e.method="GET",i(e)},post:a,transport:function(e){return e=s(e),d.selectFiles(e).then((function(t){for(var n=new FormData,r=0;r<t.length;r++)n.append(e.fieldName,t[r],t[r].name);d.isObject(e.data)&&Object.keys(e.data).forEach((function(t){var r=e.data[t];n.append(t,r)}));var o=e.beforeSend;return e.beforeSend=function(){return o(t)},e.data=n,a(e)}))},selectFiles:function(e){return delete(e=s(e)).beforeSend,d.selectFiles(e)}});e.exports=h},function(e,t,n){n.r(t);var r=n(1);window.Promise=window.Promise||r.a},function(e,t,n){(function(e){var r=void 0!==e&&e||typeof self<"u"&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(6),t.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){if(!e.setImmediate){var r,o,i,a,s,c=1,l={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(f,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,r(c),c++},h.clearImmediate=p}function p(e){delete l[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),u=!1}}}}}(typeof self>"u"?void 0===e?this:e:self)}).call(this,n(0),n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(r){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"urlEncode",value:function(e){return o(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach((function(n){var r=e[n];t.append(n,r)})),t}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var r=document.createElement("INPUT");r.type="file",e.multiple&&r.setAttribute("multiple","multiple"),e.accept&&r.setAttribute("accept",e.accept),r.style.display="none",document.body.appendChild(r),r.addEventListener("change",(function(e){var n=e.target.files;t(n),document.body.removeChild(r)}),!1),r.click()}))}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),n={};return t.forEach((function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");r&&(n[r]=o)})),n}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}()},function(e,t){var n=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(e,t,o,i){return t=t||null,o=o||"&",i=i||null,e?function(e){for(var t=new Array,n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}(Object.keys(e).map((function(a){var s,c,l=a;if(i&&(l=i+"["+l+"]"),"object"==typeof e[a]&&null!==e[a])s=r(e[a],null,o,l);else{t&&(c=l,l=!isNaN(parseFloat(c))&&isFinite(c)?t+Number(l):l);var u=e[a];u=(u=0===(u=!1===(u=!0===u?"1":u)?"0":u)?"0":u)||"",s=n(l)+"="+n(u)}return s}))).join(o).replace(/[!'()*]/g,""):""};e.exports=r}])}(Xxe);const Jxe=Yxe(Xxe.exports);function $xe(e){return void 0!==e&&"function"==typeof e.then}class Zxe{constructor(e){let{config:t,onUpload:n,onError:r}=e;this.config=t,this.onUpload=n,this.onError=r}uploadSelectedFile(e){var t,n;let{onPreview:r}=e;const o=function(e){const t=new FileReader;t.readAsDataURL(e),t.onload=e=>{r(e.target.result)}};let i;if(this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile){var a;const e=this.config.uploader.uploadByFile;i=Jxe.selectFiles({accept:null!==(a=this.config.types)&&void 0!==a?a:"image/*"}).then((t=>{o(t[0]);const n=e(t[0]);return $xe(n)||console.warn("Custom uploader method uploadByFile should return a Promise"),n}))}else i=Jxe.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:null!==(t=this.config.types)&&void 0!==t?t:"image/*",headers:this.config.additionalRequestHeaders,beforeSend:e=>{o(e[0])},fieldName:null!==(n=this.config.field)&&void 0!==n?n:"image"}).then((e=>e.body));i.then((e=>{this.onUpload(e)})).catch((e=>{this.onError(e)}))}uploadByUrl(e){let t;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?(t=this.config.uploader.uploadByUrl(e),$xe(t)||console.warn("Custom uploader method uploadByUrl should return a Promise")):t=Jxe.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Jxe.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((e=>e.body)),t.then((e=>{this.onUpload(e)})).catch((e=>{this.onError(e)}))}uploadByFile(e,t){let{onPreview:n}=t;const r=new FileReader;let o;if(r.readAsDataURL(e),r.onload=e=>{n(e.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)o=this.config.uploader.uploadByFile(e),$xe(o)||console.warn("Custom uploader method uploadByFile should return a Promise");else{var i;const t=new FormData;t.append(null!==(i=this.config.field)&&void 0!==i?i:"image",e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((e=>{let[n,r]=e;t.append(n,r)})),o=Jxe.post({url:this.config.endpoints.byFile,data:t,type:Jxe.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((e=>e.body))}o.then((e=>{this.onUpload(e)})).catch((e=>{this.onError(e)}))}}class Qxe{constructor(e){var t;let{data:n,config:r,api:o,readOnly:i,block:a}=e;this.api=o,this.readOnly=i,this.block=a,this.config={endpoints:r.endpoints,additionalRequestData:r.additionalRequestData,additionalRequestHeaders:r.additionalRequestHeaders,field:r.field,types:r.types,captionPlaceholder:this.api.i18n.t(null!==(t=r.captionPlaceholder)&&void 0!==t?t:"Caption"),buttonContent:r.buttonContent,uploader:r.uploader,actions:r.actions},this.uploader=new Zxe({config:this.config,onUpload:e=>this.onUpload(e),onError:e=>this.uploadingFailed(e)}),this.ui=new qxe({api:o,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:e=>{this.ui.showPreloader(e)}})},readOnly:i}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=n}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Hxe,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}render(){return this.ui.render(this.data)}validate(e){return!!e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Qxe.tunes.concat(this.config.actions||[]).map((e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{"function"!=typeof e.action?this.tuneToggled(e.name):e.action(e.name)}})))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const t=e.detail.data;if(/^blob:/.test(t.src)){const e=await(await fetch(t.src)).blob();this.uploadFile(e);break}this.uploadUrl(t.src);break}case"pattern":{const t=e.detail.data;this.uploadUrl(t);break}case"file":{const t=e.detail.file;this.uploadFile(t);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Qxe.tunes.forEach((t=>{let{name:n}=t;const r=typeof e[n]<"u"&&(!0===e[n]||"true"===e[n]);this.setTune(n,r)}))}get data(){return this._data}set image(e){this._data.file=e||{url:""},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn\u2019t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,t){this._data[e]=t,this.ui.applyTune(e,t),"stretched"===e&&Promise.resolve().then((()=>{this.block.stretched=t})).catch((e=>{console.error(e)}))}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:e=>{this.ui.showPreloader(e)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(e)}}catch(dw){console.error("vite-plugin-css-injected-by-js",dw)}}();!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(x2e){console.error("vite-plugin-css-injected-by-js",x2e)}}();var ewe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function twe(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var nwe={},rwe={},owe={};Object.defineProperty(owe,"__esModule",{value:!0}),owe.allInputsSelector=function(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((function(e){return'input[type="'.concat(e,'"]')})).join(", ")},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allInputsSelector=void 0;var t=owe;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}})}(rwe);var iwe={},awe={};Object.defineProperty(awe,"__esModule",{value:!0}),awe.isNativeInput=function(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNativeInput=void 0;var t=awe;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}})}(iwe);var swe={},cwe={};Object.defineProperty(cwe,"__esModule",{value:!0}),cwe.append=function(e,t){Array.isArray(t)?t.forEach((function(t){e.appendChild(t)})):e.appendChild(t)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.append=void 0;var t=cwe;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return t.append}})}(swe);var lwe={},uwe={};Object.defineProperty(uwe,"__esModule",{value:!0}),uwe.blockElements=function(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.blockElements=void 0;var t=uwe;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return t.blockElements}})}(lwe);var dwe={},hwe={};Object.defineProperty(hwe,"__esModule",{value:!0}),hwe.calculateBaseline=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||1.2*n,o=parseFloat(t.paddingTop),i=parseFloat(t.borderTopWidth),a=parseFloat(t.marginTop),s=.8*n,c=(r-n)/2,l=a+i+o+c+s;return l},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBaseline=void 0;var t=hwe;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return t.calculateBaseline}})}(dwe);var pwe={},fwe={},mwe={},gwe={};Object.defineProperty(gwe,"__esModule",{value:!0}),gwe.isContentEditable=function(e){return"true"===e.contentEditable},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isContentEditable=void 0;var t=gwe;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return t.isContentEditable}})}(mwe),Object.defineProperty(fwe,"__esModule",{value:!0}),fwe.canSetCaret=function(e){var t=!0;if((0,ywe.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=(0,vwe.isContentEditable)(e);return t};var ywe=iwe,vwe=mwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.canSetCaret=void 0;var t=fwe;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return t.canSetCaret}})}(pwe);var bwe={},xwe={};function wwe(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find((e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e)));return void 0!==t&&(e[t]=!0),e}function kwe(e){return null!=e&&""!==e&&("object"!=typeof e||Object.keys(e).length>0)}function Swe(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Cwe(e){return"function"===Swe(e)||"asyncfunction"===Swe(e)}function Ewe(e){return"object"===Swe(e)}const _we=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise(((t,n)=>{this.completed=this.completed.then(e).then(t).catch(n)}))}},beautifyShortcut:function(e){const t=wwe();return e=e.replace(/shift/gi,"\u21e7").replace(/backspace/gi,"\u232b").replace(/enter/gi,"\u23ce").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238b").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi,"+"),e=t.mac?e.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")},cacheable:function(e,t,n){const r=void 0!==n.value?"value":"get",o=n[r],i="#".concat(t,"Cache");if(n[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return void 0===this[i]&&(this[i]=o.apply(this,t)),this[i]},"get"===r&&n.set){const t=n.set;n.set=function(n){delete e[i],t.apply(this,n)}}return n},capitalize:function(e){return e[0].toUpperCase()+e.slice(1)},copyTextToClipboard:function(e){const t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);const n=window.getSelection(),r=document.createRange();if(r.selectNode(t),null===n)throw new Error("Cannot copy text to clipboard");n.removeAllRanges(),n.addRange(r),document.execCommand("copy"),document.body.removeChild(t)},debounce:function(e,t,n){var r=this;let o;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const c=r,l=!0===n&&void 0!==o;window.clearTimeout(o),o=window.setTimeout((()=>{o=void 0,!0!==n&&e.apply(c,a)}),t),l&&e.apply(c,a)}},deepMerge:function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(!r.length)return t;const i=r.shift();if(Ewe(t)&&Ewe(i))for(const a in i)Ewe(i[a])?(void 0===t[a]&&Object.assign(t,{[a]:{}}),e(t[a],i[a])):Object.assign(t,{[a]:i[a]});return e(t,...r)},deprecationAssert:function(e,t,n){const r="\xab".concat(t,"\xbb is deprecated and will be removed in the next major release. Please use the \xab").concat(n,"\xbb instead.");e&&console.warn(r)},getUserOS:wwe,getValidUrl:function(e){try{return new URL(e).href}catch(t){}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e},isBoolean:function(e){return"boolean"===Swe(e)},isClass:function(e){return Cwe(e)&&/^\s*class\s+/.test(e.toString())},isEmpty:function(e){return!kwe(e)},isFunction:Cwe,isIosDevice:()=>typeof window<"u"&&null!==window.navigator&&kwe(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),isNumber:function(e){return"number"===Swe(e)},isObject:Ewe,isPrintableKey:function(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223},isPromise:function(e){return Promise.resolve(e)===e},isString:function(e){return"string"===Swe(e)},isUndefined:function(e){return"undefined"===Swe(e)},keyCodes:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},mouseButtons:{LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},notEmpty:kwe,throttle:function(e,t){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=null,s=0;i||(i={});const c=function(){s=!1===i.leading?0:Date.now(),a=null,o=e.apply(n,r),null===a&&(n=r=null)};return function(){const l=Date.now();!s&&!1===i.leading&&(s=l);const u=t-(l-s);return n=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(n,r),null===a&&(n=r=null)):!a&&!1!==i.trailing&&(a=setTimeout(c,u)),o}},typeOf:Swe},Symbol.toStringTag,{value:"Module"})),Twe=twe(_we);Object.defineProperty(xwe,"__esModule",{value:!0}),xwe.containsOnlyInlineElements=function(e){var t;(0,Nwe.isString)(e)?(t=document.createElement("div")).innerHTML=e:t=e;var n=function(e){return!(0,Iwe.blockElements)().includes(e.tagName.toLowerCase())&&Array.from(e.children).every(n)};return Array.from(t.children).every(n)};var Nwe=Twe,Iwe=lwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsOnlyInlineElements=void 0;var t=xwe;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return t.containsOnlyInlineElements}})}(bwe);var Awe={},Owe={},Rwe={},Mwe={};Object.defineProperty(Mwe,"__esModule",{value:!0}),Mwe.make=function(e,t,n){var r;void 0===t&&(t=null),void 0===n&&(n={});var o=document.createElement(e);if(Array.isArray(t)){var i=t.filter((function(e){return void 0!==e}));(r=o.classList).add.apply(r,i)}else null!==t&&o.classList.add(t);for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(o[a]=n[a]);return o},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.make=void 0;var t=Mwe;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return t.make}})}(Rwe),Object.defineProperty(Owe,"__esModule",{value:!0}),Owe.fragmentToString=function(e){var t=(0,jwe.make)("div");return t.appendChild(e),t.innerHTML};var jwe=Rwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fragmentToString=void 0;var t=Owe;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return t.fragmentToString}})}(Awe);var Pwe={},Dwe={};Object.defineProperty(Dwe,"__esModule",{value:!0}),Dwe.getContentLength=function(e){var t,n;return(0,Lwe.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:null!==(n=null===(t=e.textContent)||void 0===t?void 0:t.length)&&void 0!==n?n:0};var Lwe=iwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContentLength=void 0;var t=Dwe;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return t.getContentLength}})}(Pwe);var Fwe={},Bwe={},zwe=ewe&&ewe.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(Bwe,"__esModule",{value:!0}),Bwe.getDeepestBlockElements=function e(t){return(0,Uwe.containsOnlyInlineElements)(t)?[t]:Array.from(t.children).reduce((function(t,n){return zwe(zwe([],t,!0),e(n),!0)}),[])};var Uwe=bwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestBlockElements=void 0;var t=Bwe;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return t.getDeepestBlockElements}})}(Fwe);var Vwe={},Wwe={},Hwe={},Gwe={};Object.defineProperty(Gwe,"__esModule",{value:!0}),Gwe.isLineBreakTag=function(e){return["BR","WBR"].includes(e.tagName)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLineBreakTag=void 0;var t=Gwe;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return t.isLineBreakTag}})}(Hwe);var Kwe={},qwe={};Object.defineProperty(qwe,"__esModule",{value:!0}),qwe.isSingleTag=function(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSingleTag=void 0;var t=qwe;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return t.isSingleTag}})}(Kwe),Object.defineProperty(Wwe,"__esModule",{value:!0}),Wwe.getDeepestNode=function e(t,n){void 0===n&&(n=!1);var r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(t.nodeType===Node.ELEMENT_NODE&&t[r]){var i=t[r];if((0,Jwe.isSingleTag)(i)&&!(0,Ywe.isNativeInput)(i)&&!(0,Xwe.isLineBreakTag)(i))if(i[o])i=i[o];else{if(null===i.parentNode||!i.parentNode[o])return i.parentNode;i=i.parentNode[o]}return e(i,n)}return t};var Ywe=iwe,Xwe=Hwe,Jwe=Kwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestNode=void 0;var t=Wwe;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return t.getDeepestNode}})}(Vwe);var $we={},Zwe={},Qwe=ewe&&ewe.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(Zwe,"__esModule",{value:!0}),Zwe.findAllInputs=function(e){return Array.from(e.querySelectorAll((0,nke.allInputsSelector)())).reduce((function(e,t){return(0,rke.isNativeInput)(t)||(0,eke.containsOnlyInlineElements)(t)?Qwe(Qwe([],e,!0),[t],!1):Qwe(Qwe([],e,!0),(0,tke.getDeepestBlockElements)(t),!0)}),[])};var eke=bwe,tke=Fwe,nke=rwe,rke=iwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findAllInputs=void 0;var t=Zwe;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return t.findAllInputs}})}($we);var oke={},ike={};Object.defineProperty(ike,"__esModule",{value:!0}),ike.isCollapsedWhitespaces=function(e){return!/[^\t\n\r ]/.test(e)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCollapsedWhitespaces=void 0;var t=ike;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return t.isCollapsedWhitespaces}})}(oke);var ake={},ske={};Object.defineProperty(ske,"__esModule",{value:!0}),ske.isElement=function(e){return!(0,cke.isNumber)(e)&&(!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE)};var cke=Twe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=void 0;var t=ske;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return t.isElement}})}(ake);var lke={},uke={},dke={},hke={};Object.defineProperty(hke,"__esModule",{value:!0}),hke.isLeaf=function(e){return null!==e&&0===e.childNodes.length},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLeaf=void 0;var t=hke;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return t.isLeaf}})}(dke);var pke={},fke={};Object.defineProperty(fke,"__esModule",{value:!0}),fke.isNodeEmpty=function(e,t){var n="";return!((0,vke.isSingleTag)(e)&&!(0,mke.isLineBreakTag)(e))&&((0,gke.isElement)(e)&&(0,yke.isNativeInput)(e)?n=e.value:null!==e.textContent&&(n=e.textContent.replace("\u200b","")),void 0!==t&&(n=n.replace(new RegExp(t,"g"),"")),0===n.trim().length)};var mke=Hwe,gke=ake,yke=iwe,vke=Kwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeEmpty=void 0;var t=fke;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return t.isNodeEmpty}})}(pke),Object.defineProperty(uke,"__esModule",{value:!0}),uke.isEmpty=function(e,t){e.normalize();for(var n=[e];n.length>0;){var r=n.shift();if(r){if(e=r,(0,bke.isLeaf)(e)&&!(0,xke.isNodeEmpty)(e,t))return!1;n.push.apply(n,Array.from(e.childNodes))}}return!0};var bke=dke,xke=pke;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var t=uke;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return t.isEmpty}})}(lke);var wke={},kke={};Object.defineProperty(kke,"__esModule",{value:!0}),kke.isFragment=function(e){return!(0,Ske.isNumber)(e)&&(!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)};var Ske=Twe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFragment=void 0;var t=kke;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return t.isFragment}})}(wke);var Cke={},Eke={};Object.defineProperty(Eke,"__esModule",{value:!0}),Eke.isHTMLString=function(e){var t=(0,_ke.make)("div");return t.innerHTML=e,t.childElementCount>0};var _ke=Rwe;!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLString=void 0;var t=Eke;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return t.isHTMLString}})}(Cke);var Tke={},Nke={};Object.defineProperty(Nke,"__esModule",{value:!0}),Nke.offset=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=t.top+r,i=t.left+n;return{top:o,left:i,bottom:o+t.height,right:i+t.width}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offset=void 0;var t=Nke;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}})}(Tke);var Ike={},Ake={};Object.defineProperty(Ake,"__esModule",{value:!0}),Ake.prepend=function(e,t){Array.isArray(t)?(t=t.reverse()).forEach((function(t){return e.prepend(t)})):e.prepend(t)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=void 0;var t=Ake;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return t.prepend}})}(Ike),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.offset=e.make=e.isLineBreakTag=e.isSingleTag=e.isNodeEmpty=e.isLeaf=e.isHTMLString=e.isFragment=e.isEmpty=e.isElement=e.isContentEditable=e.isCollapsedWhitespaces=e.findAllInputs=e.isNativeInput=e.allInputsSelector=e.getDeepestNode=e.getDeepestBlockElements=e.getContentLength=e.fragmentToString=e.containsOnlyInlineElements=e.canSetCaret=e.calculateBaseline=e.blockElements=e.append=void 0;var t=rwe;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}});var n=iwe;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return n.isNativeInput}});var r=swe;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return r.append}});var o=lwe;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return o.blockElements}});var i=dwe;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return i.calculateBaseline}});var a=pwe;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return a.canSetCaret}});var s=bwe;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return s.containsOnlyInlineElements}});var c=Awe;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return c.fragmentToString}});var l=Pwe;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return l.getContentLength}});var u=Fwe;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return u.getDeepestBlockElements}});var d=Vwe;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return d.getDeepestNode}});var h=$we;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return h.findAllInputs}});var p=oke;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return p.isCollapsedWhitespaces}});var f=mwe;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return f.isContentEditable}});var m=ake;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return m.isElement}});var g=lke;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return g.isEmpty}});var y=wke;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return y.isFragment}});var v=Cke;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return v.isHTMLString}});var b=dke;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return b.isLeaf}});var x=pke;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return x.isNodeEmpty}});var w=Hwe;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return w.isLineBreakTag}});var k=Kwe;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return k.isSingleTag}});var S=Rwe;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return S.make}});var C=Tke;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return C.offset}});var E=Ike;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return E.prepend}})}(nwe);var Oke=(e=>(e.Left="left",e.Center="center",e))(Oke||{});class Rke{constructor(e){let{data:t,config:n,api:r,readOnly:o,block:i}=e;const{DEFAULT_ALIGNMENT:a}=Rke;this.api=r,this.readOnly=o,this._quotePlaceholder=n.quotePlaceholder||Rke.DEFAULT_QUOTE_PLACEHOLDER,this._captionPlaceholder=n.captionPlaceholder||Rke.DEFAULT_CAPTION_PLACEHOLDER,this._data={text:t.text||"",caption:t.caption||"",alignment:Object.values(Oke).includes(t.alignment)&&t.alignment||n.defaultAlignment||a},this._CSS={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this._block=i}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?"".concat(e.text," \u2014 ").concat(e.caption):e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}render(){const e=nwe.make("blockquote",[this._CSS.baseClass,this._CSS.wrapper]),t=nwe.make("div",[this._CSS.input,this._CSS.text],{contentEditable:!this.readOnly,innerHTML:this._data.text}),n=nwe.make("div",[this._CSS.input,this._CSS.caption],{contentEditable:!this.readOnly,innerHTML:this._data.caption});return t.dataset.placeholder=this._quotePlaceholder,n.dataset.placeholder=this._captionPlaceholder,e.appendChild(t),e.appendChild(n),e}save(e){var t,n;const r=e.querySelector(".".concat(this._CSS.text)),o=e.querySelector(".".concat(this._CSS.caption));return Object.assign(this._data,{text:null!==(t=null==r?void 0:r.innerHTML)&&void 0!==t?t:"",caption:null!==(n=null==o?void 0:o.innerHTML)&&void 0!==n?n:""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=e=>e&&e[0].toUpperCase()+e.slice(1);return this.settings.map((t=>({icon:t.icon,label:this.api.i18n.t("Align ".concat(e(t.name))),onActivate:()=>this._toggleTune(t.name),isActive:this._data.alignment===t.name,closeOnActivate:!0})))}_toggleTune(e){this._data.alignment=e,this._block.dispatchChange()}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(e)}}catch(dw){console.error("vite-plugin-css-injected-by-js",dw)}}();class Mke{constructor(e){let{api:t}=e;this.tag="CODE",this.api=t,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get CSS(){return"inline-code"}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,Mke.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(Mke.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){var t;this.api.selection.expandToTag(e);const n=window.getSelection();if(!n)return;const r=n.getRangeAt(0),o=r.extractContents();null==(t=e.parentNode)||t.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,Mke.CSS);return this.button&&this.button.classList.toggle(this.iconClasses.active,!!e),!!e}get toolboxIcon(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>'}static get sanitize(){return{code:{class:Mke.CSS}}}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(e)}}catch(vw){console.error("vite-plugin-css-injected-by-js",vw)}}();class jke{static get CSS(){return"cdx-marker"}constructor(e){let{api:t}=e;this.api=t,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,jke.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(jke.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){this.api.selection.expandToTag(e);let t=window.getSelection(),n=t.getRangeAt(0),r=n.extractContents();e.parentNode.removeChild(e),n.insertNode(r),t.removeAllRanges(),t.addRange(n)}checkState(){const e=this.api.selection.findParentTag(this.tag,jke.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}static get sanitize(){return{mark:{class:jke.CSS}}}}const Pke={embed:Vxe,list:{class:class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:Wxe,title:"List"}}constructor(e){let{data:t,config:n,api:r,readOnly:o}=e;this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:Wxe,default:"unordered"===n.defaultStyle||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:"ordered"===n.defaultStyle||!0}],this._data={style:this.settings.find((e=>!0===e.default)).name,items:[]},this.data=t}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach((e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))})):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",(e=>{const[t,n]=[13,8];switch(e.keyCode){case t:this.getOutofList(e);break;case n:this.backspace(e)}}),!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map((e=>Ln(Ln({},e),{},{isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)})))}onPaste(e){const t=e.detail.data;this.data=this.pasteHandler(t)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const t="ordered"===e?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,n="ordered"===e?"ol":"ul";return this._make(n,[this.CSS.baseBlock,this.CSS.wrapper,t],{contentEditable:!this.readOnly})}toggleTune(e){const t=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)t.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(t),this._elements.wrapper=t,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find((e=>!0===e.default)).name,this._data.items=e.items||[];const t=this._elements.wrapper;t&&t.parentNode.replaceChild(this.render(),t)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item));for(let t=0;t<e.length;t++)e[t].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[t].innerHTML);return this._data}_make(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const o in n)r[o]=n[o];return r}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(".".concat(this.CSS.item))}getOutofList(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(t.length<2)return;const n=t[t.length-1],r=this.currentItem;r===n&&!n.textContent.trim().length&&(r.parentElement.removeChild(r),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const t=this._elements.wrapper.querySelectorAll("."+this.CSS.item),n=t[0];n&&t.length<2&&!n.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const t=window.getSelection(),n=t.anchorNode.parentNode.closest("."+this.CSS.item),r=new Range;r.selectNodeContents(n),t.removeAllRanges(),t.addRange(r)}pasteHandler(e){const{tagName:t}=e;let n;switch(t){case"OL":n="ordered";break;case"UL":case"LI":n="unordered"}const r={style:n,items:[]};if("LI"===t)r.items=[e.innerHTML];else{const t=Array.from(e.querySelectorAll("LI"));r.items=t.map((e=>e.innerHTML)).filter((e=>!!e.trim()))}return r}},inlineToolbar:!0},image:{class:Qxe,config:{uploader:{uploadByUrl:e=>{let t=new Promise(((t,n)=>{try{t(e)}catch(w2e){n(w2e)}}));return t.then((e=>({success:1,file:{url:e}})))},uploadByFile:e=>Cde(e).then((e=>{if(e)return{success:1,file:{url:e}}}))}}},header:{class:class{constructor(e){let{data:t,config:n,api:r,readOnly:o}=e;this.api=r,this.readOnly=o,this._settings=n,this._data=this.normalizeData(t),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return void 0!==e.text}normalizeData(e){const t={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(t.text=e.text||"",void 0!==e.level&&!isNaN(parseInt(e.level.toString()))&&(t.level=parseInt(e.level.toString()))),t}render(){return this._element}renderSettings(){return this.levels.map((e=>({icon:e.svg,label:this.api.i18n.t("Heading ".concat(e.number)),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")})))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const t={text:this.data.text+e.text,level:this.data.level};this.data=t}validate(e){return""!==e.text.trim()}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){const e=this.getTag();e.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(e,this._element),this._element=e}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find((e=>e.number===this._data.level));return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find((e=>e.number===this._settings.defaultLevel));if(e)return e;console.warn("(\u0e07'\u0300-'\u0301)\u0e07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const e=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?e.filter((e=>this._settings.levels.includes(e.number))):e}onPaste(e){const t=e.detail;if("data"in t){const e=t.data;let n=this.defaultLevel.number;switch(e.tagName){case"H1":n=1;break;case"H2":n=2;break;case"H3":n=3;break;case"H4":n=4;break;case"H5":n=5;break;case"H6":n=6}this._settings.levels&&(n=this._settings.levels.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e))),this.data={level:n,text:e.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}},config:{placeholder:"\u0e40\u0e02\u0e35\u0e22\u0e19\u0e2b\u0e31\u0e27\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07...",level:[2,3],defaultLevel:2}},quote:{class:Rke,inlineToolbar:!0},marker:jke,inlineCode:Mke},Dke=["class","isInternal"];!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;function Lke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fke(){}Object.assign(Fke,{default:Fke,register:Fke,revert:function(){},__esModule:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let n=t.length;for(;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(e){const t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=e instanceof Node;t.appendChild(n?e:document.createTextNode(e))})),this.insertBefore(t,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;const t=this.parentNode,n=window.getComputedStyle(t,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-t.offsetTop<t.scrollTop,a=this.offsetTop-t.offsetTop+this.clientHeight-r>t.scrollTop+t.clientHeight,s=this.offsetLeft-t.offsetLeft<t.scrollLeft,c=this.offsetLeft-t.offsetLeft+this.clientWidth-o>t.scrollLeft+t.clientWidth,l=i&&!a;(i||a)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-r+this.clientHeight/2),(s||c)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-o+this.clientWidth/2),(i||a||s||c)&&!e&&this.scrollIntoView(l)}),window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var Bke=(e=>(e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e))(Bke||{});const zke=8,Uke=9,Vke=13,Wke=27,Hke=37,Gke=38,Kke=40,qke=39,Yke=46,Xke=0;function Jke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"color: inherit";if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),a=[];switch(Jke.logLevel){case"ERROR":if("error"!==n)return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||e)return}r&&a.push(r);const s="Editor.js 2.30.6";e&&(i?(a.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",o),t="%c".concat(s,"%c ").concat(t)):t="( ".concat(s," )").concat(t));try{i?r?console[n]("".concat(t," %o"),...a):console[n](t,...a):console[n](t)}catch(c){}}Jke.logLevel="VERBOSE";const $ke=Jke.bind(window,!1),Zke=Jke.bind(window,!0);function Qke(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function eSe(e){return"function"===Qke(e)||"asyncfunction"===Qke(e)}function tSe(e){return"object"===Qke(e)}function nSe(e){return"string"===Qke(e)}function rSe(e){return"number"===Qke(e)}function oSe(e){return"undefined"===Qke(e)}function iSe(e){return!e||0===Object.keys(e).length&&e.constructor===Object}function aSe(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}async function sSe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return e.reduce((async(e,r)=>(await e,async function(e,t,n){try{await e.function(e.data),await t(oSe(e.data)?{}:e.data)}catch(r){n(oSe(e.data)?{}:e.data)}}(r,t,n))),Promise.resolve())}function cSe(e){return Array.prototype.slice.call(e)}function lSe(e,t){return function(){const n=this,r=arguments;window.setTimeout((()=>e.apply(n,r)),t)}}function uSe(e,t,n){var r=this;let o;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const c=r,l=n&&!o;window.clearTimeout(o),o=window.setTimeout((()=>{o=null,n||e.apply(c,a)}),t),l&&e.apply(c,a)}}function dSe(e,t){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=null,s=0;i||(i={});const c=function(){s=!1===i.leading?0:Date.now(),a=null,o=e.apply(n,r),a||(n=r=null)};return function(){const l=Date.now();!s&&!1===i.leading&&(s=l);const u=t-(l-s);return n=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(n,r),a||(n=r=null)):!a&&!1!==i.trailing&&(a=setTimeout(c,u)),o}}function hSe(e){return e[0].toUpperCase()+e.slice(1)}function pSe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;const o=n.shift();if(tSe(e)&&tSe(o))for(const i in o)tSe(o[i])?(e[i]||Object.assign(e,{[i]:{}}),pSe(e[i],o[i])):Object.assign(e,{[i]:o[i]});return pSe(e,...n)}function fSe(e){const t=function(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find((e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e)));return t&&(e[t]=!0),e}();return e=e.replace(/shift/gi,"\u21e7").replace(/backspace/gi,"\u232b").replace(/enter/gi,"\u23ce").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238b").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),e=t.mac?e.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")}function mSe(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"")}(10)}function gSe(e,t,n){const r="\xab".concat(t,"\xbb is deprecated and will be removed in the next major release. Please use the \xab").concat(n,"\xbb instead.");e&&Zke(r,"warn")}function ySe(e,t,n){const r=n.value?"value":"get",o=n[r],i="#".concat(t,"Cache");if(n[r]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return void 0===this[i]&&(this[i]=o.apply(this,...t)),this[i]},"get"===r&&n.set){const t=n.set;n.set=function(n){delete e[i],t.apply(this,n)}}return n}function vSe(){return window.matchMedia("(max-width: ".concat(650,"px)")).matches}const bSe=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);class xSe{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createElement(e);if(Array.isArray(t)){const e=t.filter((e=>void 0!==e));r.classList.add(...e)}else t&&r.classList.add(t);for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}static swap(e,t){const n=document.createElement("div"),r=e.parentNode;r.insertBefore(n,e),r.insertBefore(e,t),r.insertBefore(t,n),r.removeChild(n)}static find(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0;return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1?arguments[1]:void 0;return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((e=>'input[type="'.concat(e,'"]'))).join(", ")}static findAllInputs(e){return cSe(e.querySelectorAll(xSe.allInputsSelector)).reduce(((e,t)=>xSe.isNativeInput(t)||xSe.containsOnlyInlineElements(t)?[...e,t]:[...e,...xSe.getDeepestBlockElements(t)]),[])}static getDeepestNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?"lastChild":"firstChild",r=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[n]){let o=e[n];if(xSe.isSingleTag(o)&&!xSe.isNativeInput(o)&&!xSe.isLineBreakTag(o))if(o[r])o=o[r];else{if(!o.parentNode[r])return o.parentNode;o=o.parentNode[r]}return this.getDeepestNode(o,t)}return e}static isElement(e){return!rSe(e)&&(e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE)}static isFragment(e){return!rSe(e)&&(e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)}static isContentEditable(e){return"true"===e.contentEditable}static isNativeInput(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}static canSetCaret(e){let t=!0;if(xSe.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=xSe.isContentEditable(e);return t}static isNodeEmpty(e,t){let n;return!(this.isSingleTag(e)&&!this.isLineBreakTag(e))&&(n=this.isElement(e)&&this.isNativeInput(e)?e.value:e.textContent.replace("\u200b",""),t&&(n=n.replace(new RegExp(t,"g"),"")),0===n.trim().length)}static isLeaf(e){return!!e&&0===e.childNodes.length}static isEmpty(e,t){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift()){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=xSe.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return xSe.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;nSe(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const n=e=>!xSe.blockElements.includes(e.tagName.toLowerCase())&&Array.from(e.children).every(n);return Array.from(t.children).every(n)}static getDeepestBlockElements(e){return xSe.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce(((e,t)=>[...e,...xSe.getDeepestBlockElements(t)]),[])}static getHolder(e){return nSe(e)?document.getElementById(e):e}static isAnchor(e){return"a"===e.tagName.toLowerCase()}static offset(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,o=t.top+r,i=t.left+n;return{top:o,left:i,bottom:o+t.height,right:i+t.width}}}function wSe(e){e.dataset.empty=xSe.isEmpty(e)?"true":"false"}const kSe={ui:{blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},toolNames:{Text:"",Link:"",Bold:"",Italic:""},tools:{link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},blockTunes:{delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}}},SSe=class e{static ui(t,n){return e._t(t,n)}static t(t,n){return e._t(t,n)}static setDictionary(t){e.currentDictionary=t}static _t(t,n){const r=e.getNamespace(t);return r&&r[n]?r[n]:n}static getNamespace(t){return t.split(".").reduce(((e,t)=>e&&Object.keys(e).length?e[t]:{}),e.currentDictionary)}};SSe.currentDictionary=kSe;let CSe=SSe;class ESe extends Error{}class _Se{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const n=r=>{const o=t(r),i=this.subscribers[e].indexOf(n);return-1!==i&&this.subscribers[e].splice(i,1),o};this.subscribers[e].push(n)}emit(e,t){iSe(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce(((e,t)=>{const n=t(e);return void 0!==n?n:e}),t)}off(e,t){if(void 0!==this.subscribers[e]){for(let n=0;n<this.subscribers[e].length;n++)if(this.subscribers[e][n]===t){delete this.subscribers[e][n];break}}else console.warn('EventDispatcher .off(): there is no subscribers for event "'.concat(e.toString(),'". Probably, .off() called before .on()'))}destroy(){this.subscribers={}}}function TSe(e){Object.setPrototypeOf(this,{get id(){return e.id},get name(){return e.name},get config(){return e.config},get holder(){return e.holder},get isEmpty(){return e.isEmpty},get selected(){return e.selected},set stretched(t){e.stretched=t},get stretched(){return e.stretched},get focusable(){return e.focusable},call:(t,n)=>e.call(t,n),save:()=>e.save(),validate:t=>e.validate(t),dispatchChange(){e.dispatchChange()},getActiveToolboxEntry:()=>e.getActiveToolboxEntry()})}class NSe{constructor(){this.allListeners=[]}on(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=function(){return"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(Math.floor(1e8*Math.random()).toString(16))}("l"),i={id:o,element:e,eventType:t,handler:n,options:r};if(!this.findOne(e,t,n))return this.allListeners.push(i),e.addEventListener(t,n,r),o}off(e,t,n,r){const o=this.findAll(e,t,n);o.forEach(((e,t)=>{const n=this.allListeners.indexOf(o[t]);n>-1&&(this.allListeners.splice(n,1),e.element.removeEventListener(e.eventType,e.handler,e.options))}))}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,n){const r=this.findAll(e,t,n);return r.length>0?r[0]:null}findAll(e,t,n){let r;const o=e?this.findByEventTarget(e):[];return r=e&&t&&n?o.filter((e=>e.eventType===t&&e.handler===n)):e&&t?o.filter((e=>e.eventType===t)):o,r}removeAll(){this.allListeners.map((e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)})),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter((t=>{if(t.element===e)return t}))}findByType(e){return this.allListeners.filter((t=>{if(t.eventType===e)return t}))}findByHandler(e){return this.allListeners.filter((t=>{if(t.handler===e)return t}))}findById(e){return this.allListeners.find((t=>t.id===e))}}class ISe{constructor(e){var t=this;let{config:n,eventsDispatcher:r}=e;if(this.nodes={},this.listeners=new NSe,this.readOnlyMutableListeners={on:function(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.mutableListenerIds.push(t.listeners.on(e,n,r,o))},clearAll:()=>{for(const e of this.mutableListenerIds)this.listeners.offById(e);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===ISe)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=n,this.eventsDispatcher=r}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return"rtl"===this.config.i18n.direction}}class ASe{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?xSe.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(ASe.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let n=null;return t&&t instanceof Element&&(n=t.closest(".".concat(ASe.CSS.editorZone))),!!n&&n.nodeType===Node.ELEMENT_NODE}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let n=null;return t&&t instanceof Element&&(n=t.closest(".".concat(ASe.CSS.editorZone))),!!n&&n.nodeType===Node.ELEMENT_NODE}static get isSelectionExists(){return!!ASe.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e,t=document.selection,n={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=t.createRange(),n.x=e.boundingLeft,n.y=e.boundingTop,n.width=e.boundingWidth,n.height=e.boundingHeight,n;if(!window.getSelection)return $ke("Method window.getSelection is not supported","warn"),n;if(t=window.getSelection(),null===t.rangeCount||isNaN(t.rangeCount))return $ke("Method SelectionUtils.rangeCount is not supported","warn"),n;if(0===t.rangeCount)return n;if(e=t.getRangeAt(0).cloneRange(),e.getBoundingClientRect&&(n=e.getBoundingClientRect()),0===n.x&&0===n.y){const t=document.createElement("span");if(t.getBoundingClientRect){t.appendChild(document.createTextNode("\u200b")),e.insertNode(t),n=t.getBoundingClientRect();const r=t.parentNode;r.removeChild(t),r.normalize()}}return n}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=document.createRange(),r=window.getSelection();return xSe.isNativeInput(e)?xSe.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(n.setStart(e,t),n.setEnd(e,t),r.removeAllRanges(),r.addRange(n),n.getBoundingClientRect())}static isRangeInsideContainer(e){const t=ASe.range;return null!==t&&e.contains(t.startContainer)}static addFakeCursor(){const e=ASe.range;if(null===e)return;const t=xSe.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return null!==xSe.find(e,".codex-editor__fake-cursor")}static removeFakeCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;const t=xSe.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=ASe.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const r=window.getSelection();let o=null;return r&&r.anchorNode&&r.focusNode?([r.anchorNode,r.focusNode].forEach((r=>{let i=n;for(;i>0&&r.parentNode&&(r.tagName!==e||(o=r,t&&r.classList&&!r.classList.contains(t)&&(o=null),!o));)r=r.parentNode,i--})),o):null}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const n=document.createRange();n.selectNodeContents(e),t.addRange(n)}}const OSe="redactor dom changed",RSe="block changed",MSe="fake cursor is about to be toggled",jSe="fake cursor have been set",PSe="editor mobile layout toggled";function DSe(e,t){if(!e.conversionConfig)return!1;const n=e.conversionConfig[t];return eSe(n)||nSe(n)}function LSe(e,t){return DSe(e.tool,t)}function FSe(e,t){return Object.entries(e).some((e=>{let[n,r]=e;return t[n]&&function(e,t){const n=Array.isArray(e)||tSe(e),r=Array.isArray(t)||tSe(t);return n||r?JSON.stringify(e)===JSON.stringify(t):e===t}(t[n],r)}))}async function BSe(e,t){const n=(await e.save()).data,r=t.find((t=>t.name===e.name));return void 0===r||DSe(r,"export")?t.reduce(((t,r)=>{if(!DSe(r,"import")||void 0===r.toolbox)return t;const o=r.toolbox.filter((t=>{if(iSe(t)||void 0===t.icon)return!1;if(void 0!==t.data){if(FSe(t.data,n))return!1}else if(r.name===e.name)return!1;return!0}));return t.push(Ln(Ln({},r),{},{toolbox:o})),t}),[]):[]}function zSe(e,t){return!!e.mergeable&&(e.name===t.name||LSe(t,"export")&&LSe(e,"import"))}function USe(e,t){const n=null==t?void 0:t.import;return eSe(n)?n(e):nSe(n)?{[n]:e}:(void 0!==n&&$ke("Conversion \xabimport\xbb property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var VSe=(e=>(e.Default="default",e.Separator="separator",e.Html="html",e))(VSe||{}),WSe=(e=>(e.APPEND_CALLBACK="appendCallback",e.RENDERED="rendered",e.MOVED="moved",e.UPDATED="updated",e.REMOVED="removed",e.ON_PASTE="onPaste",e))(WSe||{});class HSe extends _Se{constructor(e,t){var n;let{id:r=mSe(),data:o,tool:i,readOnly:a,tunesData:s}=e;super(),n=this,this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;const t=void 0===e,r=e instanceof InputEvent;let o;!t&&!r&&n.detectToolRootChange(e),o=!(!t&&!r)||!(e.length>0&&e.every((e=>{const{addedNodes:t,removedNodes:n,target:r}=e;return[...Array.from(t),...Array.from(n),r].some((e=>(xSe.isElement(e)||(e=e.parentElement),e&&null!==e.closest('[data-mutation-free="true"]'))))}))),o&&(n.dropInputsCache(),n.updateCurrentInput(),n.toggleInputsEmptyMark(),n.call("updated"),n.emit("didMutated",n))},this.name=i.name,this.id=r,this.settings=i.settings,this.config=i.settings.config||{},this.editorEventBus=t||null,this.blockAPI=new TSe(this),this.tool=i,this.toolInstance=i.create(o,this.blockAPI,a),this.tunes=i.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback((()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()}))}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(0!==this.cachedInputs.length)return this.cachedInputs;const e=xSe.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex((t=>t===e||t.contains(e)));-1!==t&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then((e=>e&&!iSe(e.data)?e.data:{}))}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return eSe(this.toolInstance.merge)}get focusable(){return 0!==this.inputs.length}get isEmpty(){const e=xSe.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}set selected(e){var t,n;this.holder.classList.toggle(HSe.CSS.selected,e);const r=!0===e&&ASe.isRangeInsideContainer(this.holder),o=!1===e&&ASe.isFakeCursorInsideContainer(this.holder);(r||o)&&(null==(t=this.editorEventBus)||t.emit(MSe,{state:e}),r?ASe.addFakeCursor():ASe.removeFakeCursor(this.holder),null==(n=this.editorEventBus)||n.emit(jSe,{state:e}))}get selected(){return this.holder.classList.contains(HSe.CSS.selected)}set stretched(e){this.holder.classList.toggle(HSe.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(HSe.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(HSe.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(eSe(this.toolInstance[e])){"appendCallback"===e&&$ke("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(n){$ke("Error during '".concat(e,"' call: ").concat(n.message),"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach((e=>{let[n,r]=e;if(eSe(r.save))try{t[n]=r.save()}catch(lw){$ke("Tune ".concat(r.constructor.name," save method throws an Error %o"),"warn",lw)}}));const n=window.performance.now();let r;return Promise.resolve(e).then((e=>(r=window.performance.now(),{id:this.id,tool:this.name,data:e,tunes:t,time:r-n}))).catch((e=>{$ke("Saving process for ".concat(this.name," tool failed due to the ").concat(e),"log","red")}))}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=[],t=[],n="function"==typeof this.toolInstance.renderSettings?this.toolInstance.renderSettings():[];return xSe.isElement(n)?e.push({type:VSe.Html,element:n}):Array.isArray(n)?e.push(...n):e.push(n),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map((e=>e.render())).forEach((e=>{xSe.isElement(e)?t.push({type:VSe.Html,element:e}):Array.isArray(e)?t.push(...e):t.push(e)})),{toolTunes:e,commonTunes:t}}updateCurrentInput(){this.currentInput=xSe.isNativeInput(document.activeElement)||!ASe.anchorNode?document.activeElement:ASe.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),eSe(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(1===e.length)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data;return null==e?void 0:e.find((e=>FSe(e.data,t)))}async exportDataAsString(){return function(e,t){const n=null==t?void 0:t.export;return eSe(n)?n(e):nSe(n)?e[n]:(void 0!==n&&$ke("Conversion \xabexport\xbb property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}(await this.data,this.tool.conversionConfig)}compose(){const e=xSe.make("div",HSe.CSS.wrapper),t=xSe.make("div",HSe.CSS.content),n=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=n,t.appendChild(this.toolRenderedElement);let r=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach((e=>{if(eSe(e.wrap))try{r=e.wrap(r)}catch(t){$ke("Tune ".concat(e.constructor.name," wrap method throws an Error %o"),"warn",t)}})),e.appendChild(r),e}composeTunes(e){Array.from(this.tunes.values()).forEach((t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))})),Object.entries(e).forEach((e=>{let[t,n]=e;this.tunesInstances.has(t)||(this.unavailableTunesData[t]=n)}))}addInputEvents(){this.inputs.forEach((e=>{e.addEventListener("focus",this.handleFocus),xSe.isNativeInput(e)&&e.addEventListener("input",this.didMutated)}))}removeInputEvents(){this.inputs.forEach((e=>{e.removeEventListener("focus",this.handleFocus),xSe.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)}))}watchBlockMutations(){var e;this.redactorDomChangedCallback=e=>{const{mutations:t}=e;t.some((e=>function(e,t){const{type:n,target:r,addedNodes:o,removedNodes:i}=e;return("attributes"!==e.type||"data-empty"!==e.attributeName)&&!!(t.contains(r)||"childList"===n&&(Array.from(o).some((e=>e===t))||Array.from(i).some((e=>e===t))))}(e,this.toolRenderedElement)))&&this.didMutated(t)},null==(e=this.editorEventBus)||e.on(OSe,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;null==(e=this.editorEventBus)||e.off(OSe,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach((e=>{if(Array.from(e.removedNodes).includes(this.toolRenderedElement)){const t=e.addedNodes[e.addedNodes.length-1];this.toolRenderedElement=t}}))}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(wSe)}}class GSe extends ISe{static getNamespace(e,t){return t?"blockTunes.".concat(e):"tools.".concat(e)}get methods(){return{t:()=>{Zke("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,t){return Object.assign(this.methods,{t:n=>CSe.t(GSe.getNamespace(e,t),n)})}}var KSe={exports:{}};!function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),e.exports=function(){var e=n(6),t="cdx-notify--bounce-in",r=null;return{show:function(n){if(n.message){!function(){if(r)return!0;r=e.getWrapper(),document.body.appendChild(r)}();var o=null,i=n.time||8e3;switch(n.type){case"confirm":o=e.confirm(n);break;case"prompt":o=e.prompt(n);break;default:o=e.alert(n),window.setTimeout((function(){o.remove()}),i)}r.appendChild(o),o.classList.add(t)}}}}()},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=(n=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),a=o.sources.map((function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"}));return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(e){return document.querySelector(e)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(r){n=null}e[t]=n}return e[t]}}(),c=null,l=0,u=[],d=n(5);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),f(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=l++;n=c||(c=g(t)),r=w.bind(null,n,a,!1),o=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if(typeof DEBUG<"u"&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}for(e&&h(p(e,t),t),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var b,x=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function w(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=typeof window<"u"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,t,n){var r,o,i,a,s,c,l,u,d;e.exports=(r="cdx-notifies",o="cdx-notify",i="cdx-notify__cross",a="cdx-notify__button--confirm",s="cdx-notify__button--cancel",c="cdx-notify__input",l="cdx-notify__button",u="cdx-notify__btns-wrapper",{alert:d=function(e){var t=document.createElement("DIV"),n=document.createElement("DIV"),r=e.message,a=e.style;return t.classList.add(o),a&&t.classList.add(o+"--"+a),t.innerHTML=r,n.classList.add(i),n.addEventListener("click",t.remove.bind(t)),t.appendChild(n),t},confirm:function(e){var t=d(e),n=document.createElement("div"),r=document.createElement("button"),o=document.createElement("button"),c=t.querySelector("."+i),h=e.cancelHandler,p=e.okHandler;return n.classList.add(u),r.innerHTML=e.okText||"Confirm",o.innerHTML=e.cancelText||"Cancel",r.classList.add(l),o.classList.add(l),r.classList.add(a),o.classList.add(s),h&&"function"==typeof h&&(o.addEventListener("click",h),c.addEventListener("click",h)),p&&"function"==typeof p&&r.addEventListener("click",p),r.addEventListener("click",t.remove.bind(t)),o.addEventListener("click",t.remove.bind(t)),n.appendChild(r),n.appendChild(o),t.appendChild(n),t},prompt:function(e){var t=d(e),n=document.createElement("div"),r=document.createElement("button"),o=document.createElement("input"),s=t.querySelector("."+i),h=e.cancelHandler,p=e.okHandler;return n.classList.add(u),r.innerHTML=e.okText||"Ok",r.classList.add(l),r.classList.add(a),o.classList.add(c),e.placeholder&&o.setAttribute("placeholder",e.placeholder),e.default&&(o.value=e.default),e.inputType&&(o.type=e.inputType),h&&"function"==typeof h&&s.addEventListener("click",h),p&&"function"==typeof p&&r.addEventListener("click",(function(){p(o.value)})),r.addEventListener("click",t.remove.bind(t)),n.appendChild(o),n.appendChild(r),t.appendChild(n),t},getWrapper:function(){var e=document.createElement("DIV");return e.classList.add(r),e}})}])}(KSe);const qSe=Lke(KSe.exports);class YSe{show(e){qSe.show(e)}}var XSe={exports:{}};!function(e){e.exports=function(){function e(e){var t=e.tags,n=Object.keys(t).map((function(e){return typeof t[e]})).every((function(e){return"object"===e||"boolean"===e||"function"===e}));if(!n)throw new Error("The configuration was invalid");this.config=e}var t=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function n(e){return-1!==t.indexOf(e.nodeName)}var r=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function o(e){return-1!==r.indexOf(e.nodeName)}function i(e,t){return e.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function a(e,t,n){return"function"==typeof e.tags[t]?e.tags[t](n):e.tags[t]}function s(e,t){return typeof t>"u"||"boolean"==typeof t&&!t}function c(e,t,n){var r=e.name.toLowerCase();return!0!==t&&("function"==typeof t[r]?!t[r](e.value,n):typeof t[r]>"u"||!1===t[r]||"string"==typeof t[r]&&t[r]!==e.value)}return e.prototype.clean=function(e){const t=document.implementation.createHTMLDocument(),n=t.createElement("div");return n.innerHTML=e,this._sanitize(t,n),n.innerHTML},e.prototype._sanitize=function(e,t){var r=i(e,t),l=r.firstChild();if(l)do{if(l.nodeType!==Node.TEXT_NODE){if(l.nodeType===Node.COMMENT_NODE){t.removeChild(l),this._sanitize(e,t);break}var u,d=o(l);d&&(u=Array.prototype.some.call(l.childNodes,n));var h=!!t.parentNode,p=n(t)&&n(l)&&h,f=l.nodeName.toLowerCase(),m=a(this.config,f,l);if(d&&u||s(l,m)||!this.config.keepNestedBlockElements&&p){if("SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName)for(;l.childNodes.length>0;)t.insertBefore(l.childNodes[0],l);t.removeChild(l),this._sanitize(e,t);break}for(var g=0;g<l.attributes.length;g+=1){var y=l.attributes[g];c(y,m,l)&&(l.removeAttribute(y.name),g-=1)}this._sanitize(e,l)}else if(""===l.data.trim()&&(l.previousElementSibling&&n(l.previousElementSibling)||l.nextElementSibling&&n(l.nextElementSibling))){t.removeChild(l),this._sanitize(e,t);break}}while(l=r.nextSibling())},e}()}(XSe);const JSe=Lke(XSe.exports);function $Se(e,t){return e.map((e=>{const n=eSe(t)?t(e.tool):t;return iSe(n)||(e.data=QSe(e.data,n)),e}))}function ZSe(e){return new JSe({tags:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}).clean(e)}function QSe(e,t){return Array.isArray(e)?function(e,t){return e.map((e=>QSe(e,t)))}(e,t):tSe(e)?function(e,t){const n={};for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;const o=e[r],i=eCe(t[r])?t[r]:t;n[r]=QSe(o,i)}return n}(e,t):nSe(e)?function(e,t){return tSe(t)?ZSe(e,t):!1===t?ZSe(e,{}):e}(e,t):e}function eCe(e){return tSe(e)||function(e){return"boolean"===Qke(e)}(e)||eSe(e)}var tCe={exports:{}};!function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){n.r(t),n.d(t,"default",(function(){return r}));class r{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(e,t,n){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const r=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},n);if(r.hidingDelay&&(this.hidingDelay=r.hidingDelay),this.nodes.content.innerHTML="","string"==typeof t)this.nodes.content.appendChild(document.createTextNode(t));else{if(!(t instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xabcontent\xbb passed. It should be an instance of Node or String. But "+typeof t+" given.");this.nodes.content.appendChild(t)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),r.placement){case"top":this.placeTop(e,r);break;case"left":this.placeLeft(e,r);break;case"right":this.placeRight(e,r);break;default:this.placeBottom(e,r)}r&&r.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),r.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.hidingDelay&&!e)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(e,t,n){e.addEventListener("mouseenter",(()=>{this.show(e,t,n)})),e.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const e="codex-tooltips-style";if(document.getElementById(e))return;const t=n(2),r=this.make("style",null,{textContent:t.toString(),id:e});this.prepend(document.head,r)}placeBottom(e,t){const n=e.getBoundingClientRect(),r=n.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,o=n.bottom+window.pageYOffset+this.offsetTop+t.marginTop;this.applyPlacement("bottom",r,o)}placeTop(e,t){const n=e.getBoundingClientRect(),r=n.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,o=n.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",r,o)}placeLeft(e,t){const n=e.getBoundingClientRect(),r=n.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-t.marginLeft,o=n.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",r,o)}placeRight(e,t){const n=e.getBoundingClientRect(),r=n.right+this.offsetRight+t.marginRight,o=n.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",r,o)}applyPlacement(e,t,n){this.nodes.wrapper.classList.add(this.CSS.placement[e]),this.nodes.wrapper.style.left=t+"px",this.nodes.wrapper.style.top=n+"px"}make(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}}},function(e,t){e.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}(tCe);const nCe=Lke(tCe.exports);let rCe=null;function oCe(){rCe||(rCe=new nCe)}function iCe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];oCe(),null==rCe||rCe.hide(e)}function aCe(e,t,n){oCe(),null==rCe||rCe.onHover(e,t,n)}const sCe=function e(t,n){const r={};return Object.entries(t).forEach((t=>{let[o,i]=t;if(tSe(i)){const t=n?"".concat(n,".").concat(o):o;Object.values(i).every((e=>nSe(e)))?r[o]=t:r[o]=e(i,t)}else r[o]=i})),r}(kSe);const cCe=class e{constructor(e,t){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=t}get currentItem(){return-1===this.cursor?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(e.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(e.directions.LEFT)}dropCursor(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(0===this.items.length)return this.cursor;let n=this.cursor;return-1===n?n=t===e.directions.RIGHT?-1:0:this.items[n].classList.remove(this.focusedCssClass),n=t===e.directions.RIGHT?(n+1)%this.items.length:(this.items.length+n-1)%this.items.length,xSe.canSetCaret(this.items[n])&&lSe((()=>ASe.setCursor(this.items[n])),50)(),this.items[n].classList.add(this.focusedCssClass),n}};cCe.directions={RIGHT:"right",LEFT:"left"};let lCe=cCe;class uCe{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=e=>{if(this.isEventReadyForHandling(e))switch(uCe.usedKeys.includes(e.keyCode)&&e.preventDefault(),e.keyCode){case Uke:this.handleTabPress(e);break;case Hke:case Gke:this.flipLeft();break;case qke:case Kke:this.flipRight();break;case Vke:this.handleEnterPress(e)}},this.iterator=new lCe(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||uCe.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Uke,Hke,qke,Vke,Gke,Kke]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),void 0!==t&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter((t=>t!==e))}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?lCe.directions.LEFT:lCe.directions.RIGHT){case lCe.directions.RIGHT:this.flipRight();break;case lCe.directions.LEFT:this.flipLeft()}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),eSe(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach((e=>e()))}}const dCe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',hCe='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>';function pCe(e){return(t,n)=>[[e,t].filter((e=>!!e)).join("__"),n].filter((e=>!!e)).join("--")}const fCe=pCe("ce-hint"),mCe={root:fCe(),alignedStart:fCe(null,"align-left"),alignedCenter:fCe(null,"align-center"),title:fCe("title"),description:fCe("description")};class gCe{constructor(e){this.nodes={root:xSe.make("div",[mCe.root,"center"===e.alignment?mCe.alignedCenter:mCe.alignedStart]),title:xSe.make("div",mCe.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),void 0!==e.description&&(this.nodes.description=xSe.make("div",mCe.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}class yCe{constructor(e){this.params=e}get name(){if(void 0!==this.params&&"name"in this.params)return this.params.name}destroy(){iCe()}onChildrenOpen(){var e;void 0!==this.params&&"children"in this.params&&"function"==typeof(null==(e=this.params.children)?void 0:e.onOpen)&&this.params.children.onOpen()}onChildrenClose(){var e;void 0!==this.params&&"children"in this.params&&"function"==typeof(null==(e=this.params.children)?void 0:e.onClose)&&this.params.children.onClose()}handleClick(){var e,t;void 0!==this.params&&"onActivate"in this.params&&(null==(t=(e=this.params).onActivate)||t.call(e,this.params))}addHint(e,t){aCe(e,new gCe(t).getElement(),{placement:t.position,hidingDelay:100})}get children(){var e;return void 0!==this.params&&"children"in this.params&&void 0!==(null==(e=this.params.children)?void 0:e.items)?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return void 0!==this.params&&"children"in this.params&&!0===(null==(e=this.params.children)?void 0:e.isOpen)}get isChildrenFlippable(){var e;return!(void 0===this.params||!("children"in this.params)||!1===(null==(e=this.params.children)?void 0:e.isFlippable))}get isChildrenSearchable(){var e;return void 0!==this.params&&"children"in this.params&&!0===(null==(e=this.params.children)?void 0:e.searchable)}get closeOnActivate(){return void 0!==this.params&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return void 0!==this.params&&"isActive"in this.params&&("function"==typeof this.params.isActive?this.params.isActive():!0===this.params.isActive)}}const vCe=pCe("ce-popover-item"),bCe={container:vCe(),active:vCe(null,"active"),disabled:vCe(null,"disabled"),focused:vCe(null,"focused"),hidden:vCe(null,"hidden"),confirmationState:vCe(null,"confirmation"),noHover:vCe(null,"no-hover"),noFocus:vCe(null,"no-focus"),title:vCe("title"),secondaryTitle:vCe("secondary-title"),icon:vCe("icon"),iconTool:vCe("icon","tool"),iconChevronRight:vCe("icon","chevron-right"),wobbleAnimation:pCe("wobble")()};class xCe extends yCe{constructor(e,t){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var e;null==(e=this.nodes.root)||e.classList.remove(bCe.noFocus)},this.removeSpecialHoverBehavior=()=>{var e;null==(e=this.nodes.root)||e.classList.remove(bCe.noHover)},this.onErrorAnimationEnd=()=>{var e,t;null==(e=this.nodes.icon)||e.classList.remove(bCe.wobbleAnimation),null==(t=this.nodes.icon)||t.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,t)}get isDisabled(){return!0===this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return null!==this.confirmationState}get isFocused(){return null!==this.nodes.root&&this.nodes.root.classList.contains(bCe.focused)}getElement(){return this.nodes.root}handleClick(){this.isConfirmationStateEnabled&&null!==this.confirmationState?this.activateOrEnableConfirmationMode(this.confirmationState):this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var t;null==(t=this.nodes.root)||t.classList.toggle(bCe.active,e)}toggleHidden(e){var t;null==(t=this.nodes.root)||t.classList.toggle(bCe.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,t){var n,r;const o=(null==t?void 0:t.wrapperTag)||"div",i=xSe.make(o,bCe.container,{type:"button"===o?"button":void 0});return e.name&&(i.dataset.itemName=e.name),this.nodes.icon=xSe.make("div",[bCe.icon,bCe.iconTool],{innerHTML:e.icon||'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>'}),i.appendChild(this.nodes.icon),void 0!==e.title&&i.appendChild(xSe.make("div",bCe.title,{innerHTML:e.title||""})),e.secondaryLabel&&i.appendChild(xSe.make("div",bCe.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&i.appendChild(xSe.make("div",[bCe.icon,bCe.iconChevronRight],{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>'})),this.isActive&&i.classList.add(bCe.active),e.isDisabled&&i.classList.add(bCe.disabled),void 0!==e.hint&&!1!==(null==(n=null==t?void 0:t.hint)?void 0:n.enabled)&&this.addHint(i,Ln(Ln({},e.hint),{},{position:(null==(r=null==t?void 0:t.hint)?void 0:r.position)||"right"})),i}enableConfirmationMode(e){if(null===this.nodes.root)return;const t=Ln(Ln(Ln({},this.params),e),{},{confirmation:"confirmation"in e?e.confirmation:void 0}),n=this.make(t);this.nodes.root.innerHTML=n.innerHTML,this.nodes.root.classList.add(bCe.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(null===this.nodes.root)return;const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(bCe.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,t,n;null==(e=this.nodes.root)||e.classList.add(bCe.noHover),null==(t=this.nodes.root)||t.classList.add(bCe.noFocus),null==(n=this.nodes.root)||n.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),null==(e=this.nodes.root)||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var t;if("confirmation"in e&&void 0!==e.confirmation)this.enableConfirmationMode(e.confirmation);else try{null==(t=e.onActivate)||t.call(e,e),this.disableConfirmationMode()}catch(n){this.animateError()}}animateError(){var e,t,n;null!=(e=this.nodes.icon)&&e.classList.contains(bCe.wobbleAnimation)||(null==(t=this.nodes.icon)||t.classList.add(bCe.wobbleAnimation),null==(n=this.nodes.icon)||n.addEventListener("animationend",this.onErrorAnimationEnd))}}const wCe=pCe("ce-popover-item-separator"),kCe={container:wCe(),line:wCe("line"),hidden:wCe(null,"hidden")};class SCe extends yCe{constructor(){super(),this.nodes={root:xSe.make("div",kCe.container),line:xSe.make("div",kCe.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var t;null==(t=this.nodes.root)||t.classList.toggle(kCe.hidden,e)}}var CCe=(e=>(e.Closed="closed",e.ClosedOnActivate="closed-on-activate",e))(CCe||{});const ECe=pCe("ce-popover"),_Ce={popover:ECe(),popoverContainer:ECe("container"),popoverOpenTop:ECe(null,"open-top"),popoverOpenLeft:ECe(null,"open-left"),popoverOpened:ECe(null,"opened"),search:ECe("search"),nothingFoundMessage:ECe("nothing-found-message"),nothingFoundMessageDisplayed:ECe("nothing-found-message","displayed"),items:ECe("items"),overlay:ECe("overlay"),overlayHidden:ECe("overlay","hidden"),popoverNested:ECe(null,"nested"),getPopoverNestedClass:e=>ECe(null,"nested-level-".concat(e.toString())),popoverInline:ECe(null,"inline"),popoverHeader:ECe("header")};var TCe=(e=>(e.NestingLevel="--nesting-level",e.PopoverHeight="--popover-height",e.InlinePopoverWidth="--inline-popover-width",e.TriggerItemLeft="--trigger-item-left",e.TriggerItemTop="--trigger-item-top",e))(TCe||{});const NCe=pCe("ce-popover-item-html"),ICe={root:NCe(),hidden:NCe(null,"hidden")};class ACe extends yCe{constructor(e,t){var n,r;super(e),this.nodes={root:xSe.make("div",ICe.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),void 0!==e.hint&&!1!==(null==(n=null==t?void 0:t.hint)?void 0:n.enabled)&&this.addHint(this.nodes.root,Ln(Ln({},e.hint),{},{position:(null==(r=null==t?void 0:t.hint)?void 0:r.position)||"right"}))}getElement(){return this.nodes.root}toggleHidden(e){var t;null==(t=this.nodes.root)||t.classList.toggle(ICe.hidden,e)}getControls(){const e=this.nodes.root.querySelectorAll("button, ".concat(xSe.allInputsSelector));return Array.from(e)}}class OCe extends _Se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.params=e,this.itemsRenderParams=t,this.listeners=new NSe,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages=Ln(Ln({},this.messages),e.messages)),this.nodes={},this.nodes.popoverContainer=xSe.make("div",[_Ce.popoverContainer]),this.nodes.nothingFoundMessage=xSe.make("div",[_Ce.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=xSe.make("div",[_Ce.items]),this.items.forEach((e=>{const t=e.getElement();null!==t&&this.nodes.items.appendChild(t)})),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",(e=>this.handleClick(e))),this.nodes.popover=xSe.make("div",[_Ce.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter((e=>e instanceof xCe))}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(_Ce.popoverOpened),void 0!==this.search&&this.search.focus()}hide(){this.nodes.popover.classList.remove(_Ce.popoverOpened),this.nodes.popover.classList.remove(_Ce.popoverOpenTop),this.itemsDefault.forEach((e=>e.reset())),void 0!==this.search&&this.search.clear(),this.emit(CCe.Closed)}destroy(){var e;this.items.forEach((e=>e.destroy())),this.nodes.popover.remove(),this.listeners.removeAll(),null==(e=this.search)||e.destroy()}activateItemByName(e){const t=this.items.find((t=>t.name===e));this.handleItemClick(t)}buildItems(e){return e.map((e=>{switch(e.type){case VSe.Separator:return new SCe;case VSe.Html:return new ACe(e,this.itemsRenderParams[VSe.Html]);default:return new xCe(e,this.itemsRenderParams[VSe.Default])}}))}getTargetItem(e){return this.items.filter((e=>e instanceof xCe||e instanceof ACe)).find((t=>{const n=t.getElement();return null!==n&&e.composedPath().includes(n)}))}handleItemClick(e){if(!("isDisabled"in e)||!e.isDisabled){if(e.hasChildren)return this.showNestedItems(e),void("handleClick"in e&&"function"==typeof e.handleClick&&e.handleClick());this.itemsDefault.filter((t=>t!==e)).forEach((e=>e.reset())),"handleClick"in e&&"function"==typeof e.handleClick&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(CCe.ClosedOnActivate))}}handleClick(e){const t=this.getTargetItem(e);void 0!==t&&this.handleItemClick(t)}toggleItemActivenessIfNeeded(e){if(e instanceof xCe&&(!0===e.toggle&&e.toggleActive(),"string"==typeof e.toggle)){const t=this.itemsDefault.filter((t=>t.toggle===e.toggle));if(1===t.length)return void e.toggleActive();t.forEach((t=>{t.toggleActive(t===e)}))}}}var RCe=(e=>(e.Search="search",e))(RCe||{});const MCe=pCe("cdx-search-field"),jCe={wrapper:MCe(),icon:MCe("icon"),input:MCe("input")};class PCe extends _Se{constructor(e){let{items:t,placeholder:n}=e;super(),this.listeners=new NSe,this.items=t,this.wrapper=xSe.make("div",jCe.wrapper);const r=xSe.make("div",jCe.icon,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'});this.input=xSe.make("input",jCe.input,{placeholder:n,tabIndex:-1}),this.wrapper.appendChild(r),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",(()=>{this.searchQuery=this.input.value,this.emit(RCe.Search,{query:this.searchQuery,items:this.foundItems})}))}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(RCe.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter((e=>this.checkItem(e)))}checkItem(e){var t,n;const r=(null==(t=e.title)?void 0:t.toLowerCase())||"",o=null==(n=this.searchQuery)?void 0:n.toLowerCase();return void 0!==o&&r.includes(o)}}var DCe=Object.defineProperty,LCe=Object.getOwnPropertyDescriptor;const FCe=class e extends OCe{constructor(e,t){super(e,t),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var e;super.hide(),this.destroyNestedPopoverIfExists(),null==(e=this.flipper)||e.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const e=this.itemsDefault.find((e=>e.isFocused));null==e||e.onFocus()},this.onSearch=e=>{var t;const n=""===e.query,r=0===e.items.length;this.items.forEach((t=>{let o=!1;t instanceof xCe?o=!e.items.includes(t):(t instanceof SCe||t instanceof ACe)&&(o=r||!n),t.toggleHidden(o)})),this.toggleNothingFoundMessage(r);const o=""===e.query?this.flippableElements:e.items.map((e=>e.getElement()));null!=(t=this.flipper)&&t.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))},void 0!==e.nestingLevel&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(_Ce.popoverNested),void 0!==e.scopeElement&&(this.scopeElement=e.scopeElement),null!==this.nodes.popoverContainer&&this.listeners.on(this.nodes.popoverContainer,"mouseover",(e=>this.handleHover(e))),e.searchable&&this.addSearch(),!1!==e.flippable&&(this.flipper=new uCe({items:this.flippableElements,focusedItemClass:bCe.focused,allowedKeys:[Uke,Gke,Kke,Vke]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return void 0!==this.flipper&&this.flipper.hasFocus()}get scrollTop(){return null===this.nodes.items?0:this.nodes.items.scrollTop}get offsetTop(){return null===this.nodes.popoverContainer?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(TCe.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(_Ce.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(_Ce.popoverOpenLeft),super.show(),null==(e=this.flipper)||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){null!==this.nestedPopover&&void 0!==this.nestedPopover||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){const t=this.getTargetItem(e);void 0!==t&&this.previouslyHoveredItem!==t&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=t,t.hasChildren&&this.showNestedPopoverForItem(t))}setTriggerItemPosition(e,t){const n=t.getElement(),r=(n?n.offsetTop:0)-this.scrollTop,o=this.offsetTop+r;e.style.setProperty(TCe.TriggerItemTop,o+"px")}destroyNestedPopoverIfExists(){var e,t;void 0===this.nestedPopover||null===this.nestedPopover||(this.nestedPopover.off(CCe.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,null==(e=this.flipper)||e.activate(this.flippableElements),null==(t=this.nestedPopoverTriggerItem)||t.onChildrenClose())}showNestedPopoverForItem(t){var n;this.nestedPopover=new e({searchable:t.isChildrenSearchable,items:t.children,nestingLevel:this.nestingLevel+1,flippable:t.isChildrenFlippable,messages:this.messages}),t.onChildrenOpen(),this.nestedPopover.on(CCe.ClosedOnActivate,this.hide);const r=this.nestedPopover.getElement();return this.nodes.popover.appendChild(r),this.setTriggerItemPosition(r,t),r.style.setProperty(TCe.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),null==(n=this.flipper)||n.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(void 0===this.nodes.popover||null===this.nodes.popover)return!1;const e=this.nodes.popoverContainer.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),n=this.size.height,r=e.top+n,o=e.top-n,i=Math.min(window.innerHeight,t.bottom);return o<t.top||r<=i}get shouldOpenRight(){if(void 0===this.nodes.popover||null===this.nodes.popover)return!1;const e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),n=this.size.width,r=e.right+n,o=e.left-n,i=Math.min(window.innerWidth,t.right);return o<t.left||r<=i}get size(){var e;const t={height:0,width:0};if(null===this.nodes.popover)return t;const n=this.nodes.popover.cloneNode(!0);n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(_Ce.popoverOpened),null==(e=n.querySelector("."+_Ce.popoverNested))||e.remove(),document.body.appendChild(n);const r=n.querySelector("."+_Ce.popoverContainer);return t.height=r.offsetHeight,t.width=r.offsetWidth,n.remove(),t}get flippableElements(){return this.items.map((e=>e instanceof xCe?e.getElement():e instanceof ACe?e.getControls():void 0)).flat().filter((e=>null!=e))}addSearch(){this.search=new PCe({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(RCe.Search,this.onSearch);const e=this.search.getElement();e.classList.add(_Ce.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(_Ce.nothingFoundMessageDisplayed,e)}};((e,t,n,r)=>{for(var o,i=r>1?void 0:r?LCe(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);r&&i&&DCe(t,n,i)})([ySe],FCe.prototype,"size",1);let BCe=FCe;class zCe extends BCe{constructor(e){const t=!vSe();super(Ln(Ln({},e),{},{class:_Ce.popoverInline}),{[VSe.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:t}},[VSe.Html]:{hint:{position:"top",alignment:"center",enabled:t}}}),this.items.forEach((e=>{!(e instanceof xCe)&&!(e instanceof ACe)||e.hasChildren&&e.isChildrenOpen&&this.showNestedItems(e)}))}get offsetLeft(){return null===this.nodes.popoverContainer?0:this.nodes.popoverContainer.offsetLeft}show(){0===this.nestingLevel&&this.nodes.popover.style.setProperty(TCe.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,t){const n=t.getElement(),r=n?n.offsetLeft:0,o=this.offsetLeft+r;e.style.setProperty(TCe.TriggerItemLeft,o+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e)return this.destroyNestedPopoverIfExists(),void(this.nestedPopoverTriggerItem=null);super.showNestedItems(e)}showNestedPopoverForItem(e){const t=super.showNestedPopoverForItem(e);return t.getElement().classList.add(_Ce.getPopoverNestedClass(t.nestingLevel)),t}handleItemClick(e){var t;e!==this.nestedPopoverTriggerItem&&(null==(t=this.nestedPopoverTriggerItem)||t.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}}const UCe=class e{constructor(){this.scrollPosition=null}lock(){bSe?this.lockHard():document.body.classList.add(e.CSS.scrollLocked)}unlock(){bSe?this.unlockHard():document.body.classList.remove(e.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset","".concat(this.scrollPosition,"px")),document.body.classList.add(e.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(e.CSS.scrollLockedHard),null!==this.scrollPosition&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};UCe.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let VCe=UCe;const WCe=pCe("ce-popover-header"),HCe={root:WCe(),text:WCe("text"),backButton:WCe("back-button")};class GCe{constructor(e){let{text:t,onBackButtonClick:n}=e;this.listeners=new NSe,this.text=t,this.onBackButtonClick=n,this.nodes={root:xSe.make("div",[HCe.root]),backButton:xSe.make("button",[HCe.backButton]),text:xSe.make("div",[HCe.text])},this.nodes.backButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class KCe{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return 0===this.history.length?"":this.history[this.history.length-1].title}get currentItems(){return 0===this.history.length?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}class qCe extends OCe{constructor(e){super(e,{[VSe.Default]:{hint:{enabled:!1}},[VSe.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new VCe,this.history=new KCe,this.isHidden=!0,this.nodes.overlay=xSe.make("div",[_Ce.overlay,_Ce.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",(()=>{this.hide()})),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(_Ce.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(_Ce.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,t){if(null!==this.header&&void 0!==this.header&&(this.header.destroy(),this.header=null),void 0!==t){this.header=new GCe({text:t,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const e=this.header.getElement();null!==e&&this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}this.items.forEach((e=>{var t;return null==(t=e.getElement())?void 0:t.remove()})),this.items=this.buildItems(e),this.items.forEach((e=>{var t;const n=e.getElement();null!==n&&(null==(t=this.nodes.items)||t.appendChild(n))}))}}var YCe={exports:{}};!function(e){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t);var i=function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.commands={},this.keys={},this.name=t.name,this.parseShortcutName(t.name),this.element=t.on,this.callback=t.callback,this.executeShortcut=function(e){n.execute(e)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return o(e,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),o(e,[{key:"parseShortcutName",value:function(t){t=t.split("+");for(var n=0;n<t.length;n++){t[n]=t[n].toUpperCase();var r=!1;for(var o in e.supportedCommands)if(e.supportedCommands[o].includes(t[n])){r=this.commands[o]=!0;break}r||(this.keys[t[n]]=!0)}for(var i in e.supportedCommands)this.commands[i]||(this.commands[i]=!1)}},{key:"execute",value:function(t){var n,r={CMD:t.ctrlKey||t.metaKey,SHIFT:t.shiftKey,ALT:t.altKey},o=!0;for(n in this.commands)this.commands[n]!==r[n]&&(o=!1);var i,a=!0;for(i in this.keys)a=a&&t.keyCode===e.keyCodes[i];o&&a&&this.callback(t)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),e}();t.default=i}]).default}(YCe);const XCe=Lke(YCe.exports);const JCe=new class{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error("Shortcut ".concat(e.name," is already registered for ").concat(e.on,". Please remove it before add a new handler."));const t=new XCe({name:e.name,on:e.on,callback:e.handler}),n=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...n,t])}remove(e,t){const n=this.findShortcut(e,t);if(!n)return;n.remove();const r=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,r.filter((e=>e!==n)))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find((e=>{let{name:n}=e;return n===t}))}};var $Ce=Object.defineProperty,ZCe=Object.getOwnPropertyDescriptor,QCe=(e,t,n,r)=>{for(var o,i=r>1?void 0:r?ZCe(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&$Ce(t,n,i),i},eEe=(e=>(e.Opened="toolbox-opened",e.Closed="toolbox-closed",e.BlockAdded="toolbox-block-added",e))(eEe||{});const tEe=class e extends _Se{constructor(t){let{api:n,tools:r,i18nLabels:o}=t;super(),this.opened=!1,this.listeners=new NSe,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=n,this.tools=r,this.i18nLabels=o,this.enableShortcuts(),this.nodes={toolbox:xSe.make("div",e.CSS.toolbox)},this.initPopover(),this.api.events.on(PSe,this.handleMobileLayoutToggle)}get isEmpty(){return 0===this.toolsToBeDisplayed.length}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(null!==this.popover)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),null==(e=this.popover)||e.off(CCe.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(PSe,this.handleMobileLayoutToggle)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||(null==(e=this.popover)||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;null==(e=this.popover)||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;const t=vSe()?qCe:BCe;this.popover=new t({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(CCe.Closed,this.onPopoverClose),null==(e=this.nodes.toolbox)||e.append(this.popover.getElement())}destroyPopover(){null!==this.popover&&(this.popover.hide(),this.popover.off(CCe.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),null!==this.nodes.toolbox&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const e=[];return this.tools.forEach((t=>{t.toolbox&&e.push(t)})),e}get toolboxItemsToBeDisplayed(){const e=(e,t)=>({icon:e.icon,title:CSe.t(sCe.toolNames,e.title||hSe(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?fSe(t.shortcut):""});return this.toolsToBeDisplayed.reduce(((t,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach((r=>{t.push(e(r,n))})):void 0!==n.toolbox&&t.push(e(n.toolbox,n)),t)),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach((e=>{const t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)}))}enableShortcutForTool(e,t){JCe.add({name:t,on:this.api.ui.nodes.redactor,handler:async t=>{t.preventDefault();const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(r)try{const t=await this.api.blocks.convert(r.id,e);return void this.api.caret.setToBlock(t,"end")}catch(o){}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach((e=>{const t=e.shortcut;t&&JCe.remove(this.api.ui.nodes.redactor,t)}))}async insertNewBlock(e,t){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const o=r.isEmpty?n:n+1;let i;if(t){const n=await this.api.blocks.composeBlockData(e);i=Object.assign(n,t)}const a=this.api.blocks.insert(e,i,void 0,o,void 0,r.isEmpty);a.call(WSe.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()}};QCe([ySe],tEe.prototype,"toolsToBeDisplayed",1),QCe([ySe],tEe.prototype,"toolboxItemsToBeDisplayed",1);let nEe=tEe;const rEe="block hovered";var oEe=(e=>(e[e.Block=0]="Block",e[e.Inline=1]="Inline",e[e.Tune=2]="Tune",e))(oEe||{}),iEe=(e=>(e.Shortcut="shortcut",e.Toolbox="toolbox",e.EnabledInlineTools="inlineToolbar",e.EnabledBlockTunes="tunes",e.Config="config",e))(iEe||{}),aEe=(e=>(e.Shortcut="shortcut",e.SanitizeConfig="sanitize",e))(aEe||{}),sEe=(e=>(e.IsEnabledLineBreaks="enableLineBreaks",e.Toolbox="toolbox",e.ConversionConfig="conversionConfig",e.IsReadOnlySupported="isReadOnlySupported",e.PasteConfig="pasteConfig",e))(sEe||{}),cEe=(e=>(e.IsInline="isInline",e.Title="title",e))(cEe||{}),lEe=(e=>(e.IsTune="isTune",e))(lEe||{});class uEe{constructor(e){let{name:t,constructable:n,config:r,api:o,isDefault:i,isInternal:a=!1,defaultPlaceholder:s}=e;this.api=o,this.name=t,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=a,this.defaultPlaceholder=s}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(eSe(this.constructable.reset))return this.constructable.reset()}prepare(){if(eSe(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===oEe.Inline}isBlock(){return this.type===oEe.Block}isTune(){return this.type===oEe.Tune}}function dEe(){const e=window.getSelection();if(null===e)return[null,0];let t=e.focusNode,n=e.focusOffset;return null===t?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[n]?(t=t.childNodes[n],n=0):(t=t.childNodes[n-1],n=t.textContent.length)),[t,n])}function hEe(e,t,n,r){const o=document.createRange();"left"===r?(o.setStart(e,0),o.setEnd(t,n)):(o.setStart(t,n),o.setEnd(e,e.childNodes.length));const i=o.cloneContents(),a=document.createElement("div");a.appendChild(i);return function(e){return!/[^\t\n\r ]/.test(e)}(a.textContent||"")}function pEe(e){const t=xSe.getDeepestNode(e);if(null===t||xSe.isEmpty(e))return!0;if(xSe.isNativeInput(t))return 0===t.selectionEnd;if(xSe.isEmpty(e))return!0;const[n,r]=dEe();return null!==n&&hEe(e,n,r,"left")}function fEe(e){const t=xSe.getDeepestNode(e,!0);if(null===t)return!0;if(xSe.isNativeInput(t))return t.selectionEnd===t.value.length;const[n,r]=dEe();return null!==n&&hEe(e,n,r,"right")}class mEe{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return cSe(this.workingArea.children)}static set(e,t,n){return isNaN(Number(t))?(Reflect.set(e,t,n),!0):(e.insert(+t,n),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const n=this.blocks[t];xSe.swap(this.blocks[e].holder,n.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=n}move(e,t){const n=this.blocks.splice(t,1)[0],r=e-1,o=Math.max(0,r),i=this.blocks[o];e>0?this.insertToDOM(n,"afterend",i):this.insertToDOM(n,"beforebegin",i),this.blocks.splice(e,0,n);const a=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});n.call(WSe.MOVED,a)}insert(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.length)return void this.push(t);e>this.length&&(e=this.length),n&&(this.blocks[e].holder.remove(),this.blocks[e].call(WSe.REMOVED));const r=n?1:0;if(this.blocks.splice(e,r,t),e>0){const n=this.blocks[e-1];this.insertToDOM(t,"afterend",n)}else{const n=this.blocks[e+1];n?this.insertToDOM(t,"beforebegin",n):this.insertToDOM(t)}}replace(e,t){if(void 0===this.blocks[e])throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const n=new DocumentFragment;for(const r of e)n.appendChild(r.holder);if(this.length>0){if(t>0){const e=Math.min(t-1,this.length-1);this.blocks[e].holder.after(n)}else 0===t&&this.workingArea.prepend(n);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(n);e.forEach((e=>e.call(WSe.RENDERED)))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(WSe.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach((e=>e.call(WSe.REMOVED))),this.blocks.length=0}insertAfter(e,t){const n=this.blocks.indexOf(e);this.insert(n+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,n){t?n.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(WSe.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const gEe="block-removed",yEe="block-added",vEe="block-changed";class bEe{constructor(){this.completed=Promise.resolve()}add(e){return new Promise(((t,n)=>{this.completed=this.completed.then(e).then(t).catch(n)}))}}class xEe extends ISe{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var r;const{BlockManager:o,BlockSelection:i}=this.Editor;if(i.clearSelection(),!e.focusable)return null==(r=window.getSelection())||r.removeAllRanges(),i.selectBlock(e),void(o.currentBlock=e);let a;switch(t){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;const s=xSe.getDeepestNode(a,t===this.positions.END),c=xSe.getContentLength(s);switch(!0){case t===this.positions.START:n=0;break;case t===this.positions.END:case n>c:n=c}this.set(s,n),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=a}setToInput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.positions.DEFAULT,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{currentBlock:r}=this.Editor.BlockManager,o=xSe.getDeepestNode(e);switch(t){case this.positions.START:this.set(o,0);break;case this.positions.END:this.set(o,xSe.getContentLength(o));break;default:n&&this.set(o,n)}r.currentInput=e}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{top:n,bottom:r}=ASe.setCursor(e,t),{innerHeight:o}=window;n<0?window.scrollBy(0,n-30):r>o&&window.scrollBy(0,r-o+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const e=this.Editor.BlockManager.insertAtEnd();this.setToBlock(e)}}extractFragmentFromCaretPosition(){const e=ASe.get();if(e.rangeCount){const t=e.getRangeAt(0),n=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),n){if(xSe.isNativeInput(n)){const e=n,t=document.createDocumentFragment(),r=e.value.substring(0,e.selectionStart),o=e.value.substring(e.selectionStart);return t.textContent=o,e.value=r,t}{const e=t.cloneRange();return e.selectNodeContents(n),e.setStart(t.endContainer,t.endOffset),e.extractContents()}}}}navigateNext(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{BlockManager:t}=this.Editor,{currentBlock:n,nextBlock:r}=t;if(void 0===n)return!1;const{nextInput:o,currentInput:i}=n,a=void 0!==i?fEe(i):void 0;let s=r;const c=e||a||!n.focusable;if(o&&c)return this.setToInput(o,this.positions.START),!0;if(null===s){if(n.tool.isDefault||!c)return!1;s=t.insertAtEnd()}return!!c&&(this.setToBlock(s,this.positions.START),!0)}navigatePrevious(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{currentBlock:t,previousBlock:n}=this.Editor.BlockManager;if(!t)return!1;const{previousInput:r,currentInput:o}=t,i=void 0!==o?pEe(o):void 0,a=e||i||!t.focusable;return r&&a?(this.setToInput(r,this.positions.END),!0):!(null===n||!a)&&(this.setToBlock(n,this.positions.END),!0)}createShadow(e){const t=document.createElement("span");t.classList.add(xEe.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(".".concat(xEe.CSS.shadowCaret));if(!t)return;(new ASe).expandToTag(t);const n=document.createRange();n.selectNode(t),n.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),n=document.createElement("div"),r=ASe.get(),o=ASe.range;n.innerHTML=e,Array.from(n.childNodes).forEach((e=>t.appendChild(e))),0===t.childNodes.length&&t.appendChild(new Text);const i=t.lastChild;o.deleteContents(),o.insertNode(t);const a=document.createRange(),s=i.nodeType===Node.TEXT_NODE?i:i.firstChild;null!==s&&null!==s.textContent&&a.setStart(s,s.textContent.length),r.removeAllRanges(),r.addRange(a)}}const wEe=class e extends ISe{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(!1===e.pasteConfig)return void this.exceptionList.push(e.name);if(!eSe(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){$ke("Paste handling for \xab".concat(e.name,"\xbb Tool hasn't been set up because of the error"),"warn",t)}},this.handlePasteEvent=async e=>{const{BlockManager:t,Toolbar:n}=this.Editor,r=t.setCurrentBlockByChildNode(e.target);!r||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),n.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{Tools:n}=this.Editor,r=e.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!iSe(this.toolsFiles))return void await this.processFiles(e.files);const o=e.getData(this.MIME_TYPE),i=e.getData("text/plain");let a=e.getData("text/html");if(o)try{return void this.insertEditorJSData(JSON.parse(o))}catch(l){}t&&i.trim()&&a.trim()&&(a="<p>"+(a.trim()?a:i)+"</p>");const s=Object.keys(this.toolsTags).reduce(((e,t)=>{var n;return e[t.toLowerCase()]=null!==(n=this.toolsTags[t].sanitizationConfig)&&void 0!==n?n:{},e}),{}),c=ZSe(a,Object.assign({},s,n.getAllInlineToolsSanitizeConfig(),{br:{}}));c.trim()&&c.trim()!==i&&xSe.isHTMLString(c)?await this.processText(c,!0):await this.processText(i)}async processText(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{Caret:n,BlockManager:r}=this.Editor,o=t?this.processHTML(e):this.processPlain(e);if(!o.length)return;if(1===o.length)return void(o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop()));const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map((async(e,t)=>this.insertBlock(e,0===t&&i))),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return nSe(e)?[e]:tSe(e)?Object.keys(e):[]}getTagsConfig(e){if(!1===e.pasteConfig)return;const t=e.pasteConfig.tags||[],n=[];t.forEach((t=>{const r=this.collectTagNames(t);n.push(...r),r.forEach((n=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,n))return void $ke("Paste handler for \xab".concat(e.name,"\xbb Tool on \xab").concat(n,"\xbb tag is skipped because it is already used by \xab").concat(this.toolsTags[n].tool.name,"\xbb Tool."),"warn");const r=tSe(t)?t[n]:null;this.toolsTags[n.toUpperCase()]={tool:e,sanitizationConfig:r}}))})),this.tagsByTool[e.name]=n.map((e=>e.toUpperCase()))}getFilesConfig(e){if(!1===e.pasteConfig)return;const{files:t={}}=e.pasteConfig;let{extensions:n,mimeTypes:r}=t;!n&&!r||(n&&!Array.isArray(n)&&($ke("\xabextensions\xbb property of the onDrop config for \xab".concat(e.name,"\xbb Tool should be an array")),n=[]),r&&!Array.isArray(r)&&($ke("\xabmimeTypes\xbb property of the onDrop config for \xab".concat(e.name,"\xbb Tool should be an array")),r=[]),r&&(r=r.filter((t=>!!function(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)}(t)||($ke("MIME type value \xab".concat(t,"\xbb for the \xab").concat(e.name,"\xbb Tool is not a valid MIME type"),"warn"),!1)))),this.toolsFiles[e.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(e){!1===e.pasteConfig||!e.pasteConfig.patterns||iSe(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach((t=>{let[n,r]=t;r instanceof RegExp||$ke("Pattern ".concat(r," for \xab").concat(e.name,"\xbb Tool is skipped because it should be a Regexp instance."),"warn"),this.toolsPatterns.push({key:n,pattern:r,tool:e})}))}isNativeBehaviour(e){return xSe.isNativeInput(e)}async processFiles(e){const{BlockManager:t}=this.Editor;let n;n=await Promise.all(Array.from(e).map((e=>this.processFile(e)))),n=n.filter((e=>!!e));const r=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;n.forEach(((e,n)=>{t.paste(e.type,e.event,0===n&&r)}))}async processFile(e){const t=function(e){return e.name.split(".").pop()}(e),n=Object.entries(this.toolsFiles).find((n=>{let[r,{mimeTypes:o,extensions:i}]=n;const[a,s]=e.type.split("/"),c=i.find((e=>e.toLowerCase()===t.toLowerCase())),l=o.find((e=>{const[t,n]=e.split("/");return t===a&&(n===s||"*"===n)}));return!!c||!!l}));if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:e}),type:r}}processHTML(e){const{Tools:t}=this.Editor,n=xSe.make("DIV");return n.innerHTML=e,this.getNodes(n).map((e=>{let n,r=t.defaultTool,o=!1;switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:n=xSe.make("div"),n.appendChild(e);break;case Node.ELEMENT_NODE:n=e,o=!0,this.toolsTags[n.tagName]&&(r=this.toolsTags[n.tagName].tool)}const{tags:i}=r.pasteConfig||{tags:[]},a=i.reduce(((e,t)=>(this.collectTagNames(t).forEach((n=>{const r=tSe(t)?t[n]:null;e[n.toLowerCase()]=r||{}})),e)),{}),s=Object.assign({},a,r.baseSanitizeConfig);if("table"===n.tagName.toLowerCase()){const e=ZSe(n.outerHTML,s);n=xSe.make("div",void 0,{innerHTML:e}).firstChild}else n.innerHTML=ZSe(n.innerHTML,s);const c=this.composePasteEvent("tag",{data:n});return{content:n,isBlock:o,tool:r.name,event:c}})).filter((e=>{const t=xSe.isEmpty(e.content),n=xSe.isSingleTag(e.content);return!t||n}))}processPlain(e){const{defaultBlock:t}=this.config;if(!e)return[];const n=t;return e.split(/\r?\n/).filter((e=>e.trim())).map((e=>{const t=xSe.make("div");t.textContent=e;const r=this.composePasteEvent("tag",{data:t});return{content:t,tool:n,isBlock:!1,event:r}}))}async processSingleBlock(e){const{Caret:t,BlockManager:n}=this.Editor,{currentBlock:r}=n;r&&e.tool===r.name&&xSe.containsOnlyInlineElements(e.content.innerHTML)?t.insertContentAtCaretPosition(e.content.innerHTML):this.insertBlock(e,(null==r?void 0:r.tool.isDefault)&&r.isEmpty)}async processInlinePaste(t){const{BlockManager:n,Caret:r}=this.Editor,{content:o}=t;if(n.currentBlock&&n.currentBlock.tool.isDefault&&o.textContent.length<e.PATTERN_PROCESSING_MAX_LENGTH){const e=await this.processPattern(o.textContent);if(e){const t=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty,o=n.paste(e.tool,e.event,t);return void r.setToBlock(o,r.positions.END)}}if(n.currentBlock&&n.currentBlock.currentInput){const e=n.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,ZSe(o.innerHTML,e))}else this.insertBlock(t)}async processPattern(e){const t=this.toolsPatterns.find((t=>{const n=t.pattern.exec(e);return!!n&&e===n.shift()}));return t?{event:this.composePasteEvent("pattern",{key:t.key,data:e}),tool:t.tool.name}:void 0}insertBlock(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o}=n;let i;if(t&&o&&o.isEmpty)return i=n.paste(e.tool,e.event,!0),void r.setToBlock(i,r.positions.END);i=n.paste(e.tool,e.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(e){const{BlockManager:t,Caret:n,Tools:r}=this.Editor;$Se(e,(e=>r.blockTools.get(e).sanitizeConfig)).forEach(((e,r)=>{let{tool:o,data:i}=e,a=!1;0===r&&(a=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);const s=t.insert({tool:o,data:i,replace:a});n.setToBlock(s,n.positions.END)}))}processElementNode(e,t,n){const r=Object.keys(this.toolsTags),o=e,{tool:i}=this.toolsTags[o.tagName]||{},a=this.tagsByTool[null==i?void 0:i.name]||[],s=r.includes(o.tagName),c=xSe.blockElements.includes(o.tagName.toLowerCase()),l=Array.from(o.children).some((e=>{let{tagName:t}=e;return r.includes(t)&&!a.includes(t)})),u=Array.from(o.children).some((e=>{let{tagName:t}=e;return xSe.blockElements.includes(t.toLowerCase())}));return c||s||l?s&&!l||c&&!u&&!l?[...t,n,o]:void 0:(n.appendChild(o),[...t,n])}getNodes(e){const t=Array.from(e.childNodes);let n;const r=(e,t)=>{if(xSe.isEmpty(t)&&!xSe.isSingleTag(t))return e;const o=e[e.length-1];let i=new DocumentFragment;switch(o&&xSe.isFragment(o)&&(i=e.pop()),t.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(t,e,i),n)return n;break;case Node.TEXT_NODE:return i.appendChild(t),[...e,i];default:return[...e,i]}return[...e,...Array.from(t.childNodes).reduce(r,[])]};return t.reduce(r,[])}composePasteEvent(e,t){return new CustomEvent(e,{detail:t})}};wEe.PATTERN_PROCESSING_MAX_LENGTH=450;let kEe=wEe;class SEe extends ISe{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const n=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);n.closest(".".concat(this.Editor.Toolbar.CSS.toolbar))||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const r=[".".concat(HSe.CSS.content),".".concat(this.Editor.Toolbar.CSS.toolbar),".".concat(this.Editor.InlineToolbar.CSS.inlineToolbar)],o=n.closest("."+this.Editor.UI.CSS.editorWrapper),i=r.some((e=>!!n.closest(e)));!o||i||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",(e=>{this.processMouseDown(e)}),!1),this.listeners.on(document.body,"mousemove",dSe((e=>{this.processMouseMove(e)}),10),{passive:!0}),this.listeners.on(document.body,"mouseleave",(()=>{this.processMouseLeave()})),this.listeners.on(window,"scroll",dSe((e=>{this.processScroll(e)}),10),{passive:!0}),this.listeners.on(document.body,"mouseup",(()=>{this.processMouseUp()}),!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(null!==e.target.closest(xSe.allInputsSelector)||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),n=xSe.make("div",SEe.CSS.overlay,{}),r=xSe.make("div",SEe.CSS.overlayContainer,{}),o=xSe.make("div",SEe.CSS.rect,{});return r.appendChild(o),n.appendChild(r),t.appendChild(n),this.overlayRectangle=o,{container:t,overlay:n}}scrollVertical(e){if(!this.inScrollZone||!this.mousedown)return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout((()=>{this.scrollVertical(e)}),0)}changingRectangle(e){if(!this.mousedown)return;void 0!==e.pageY&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:n,index:r}=this.genInfoForMouseSelection(),o=this.startX>t&&this.mouseX>t,i=this.startX<n&&this.mouseX<n;this.rectCrossesBlocks=!(o||i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),void 0!==r&&(this.trySelectNextBlock(r),this.inverseSelection(),ASe.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px")}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top="".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.bottom="calc(100% - ".concat(this.mouseY-window.pageYOffset,"px")):(this.overlayRectangle.style.bottom="calc(100% - ".concat(this.startY-window.pageYOffset,"px"),this.overlayRectangle.style.top="".concat(this.mouseY-window.pageYOffset,"px")),this.mouseX>=this.startX?(this.overlayRectangle.style.left="".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.right="calc(100% - ".concat(this.mouseX-window.pageXOffset,"px")):(this.overlayRectangle.style.right="calc(100% - ".concat(this.startX-window.pageXOffset,"px"),this.overlayRectangle.style.left="".concat(this.mouseX-window.pageXOffset,"px"))}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,n=document.elementFromPoint(e,t),r=this.Editor.BlockManager.getBlockByChildNode(n);let o;void 0!==r&&(o=this.Editor.BlockManager.blocks.findIndex((e=>e.holder===r.holder)));const i=this.Editor.BlockManager.lastBlock.holder.querySelector("."+HSe.CSS.content),a=Number.parseInt(window.getComputedStyle(i).width,10)/2;return{index:o,leftPos:e-a,rightPos:e+a}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,n=this.stackOfSelected.length;if(t)return;const r=this.stackOfSelected[n-1]-this.stackOfSelected[n-2]>0;let o=0;n>1&&(o=r?1:-1);const i=e>this.stackOfSelected[n-1]&&1===o,a=e<this.stackOfSelected[n-1]&&-1===o,s=!(i||a||0===o);if(!s&&(e>this.stackOfSelected[n-1]||void 0===this.stackOfSelected[n-1])){let t=this.stackOfSelected[n-1]+1||e;for(;t<=e;t++)this.addBlockInSelection(t);return}if(!s&&e<this.stackOfSelected[n-1]){for(let t=this.stackOfSelected[n-1]-1;t>=e;t--)this.addBlockInSelection(t);return}if(!s)return;let c,l=n-1;for(c=e>this.stackOfSelected[n-1]?()=>e>this.stackOfSelected[l]:()=>e<this.stackOfSelected[l];c();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[l]),this.stackOfSelected.pop(),l--}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(e)}}catch(x2e){console.error("vite-plugin-css-injected-by-js",x2e)}}();class CEe{static get DEFAULT_PLACEHOLDER(){return""}constructor(e){var t;let{data:n,config:r,api:o,readOnly:i}=e;this.api=o,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=r.placeholder?r.placeholder:CEe.DEFAULT_PLACEHOLDER,this._data=null!==n&&void 0!==n?n:{},this._element=null,this._preserveBlank=null!==(t=r.preserveBlank)&&void 0!==t&&t}onKeyUp(e){if("Backspace"!==e.code&&"Delete"!==e.code||!this._element)return;const{textContent:t}=this._element;""===t&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;const t=function(e){const t=document.createElement("div");t.innerHTML=e.trim();const n=document.createDocumentFragment();return n.append(...Array.from(t.childNodes)),n}(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(""===e.text.trim()&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame((()=>{this._element&&(this._element.innerHTML=this._data.text||"")}))}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}class EEe{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}EEe.isInline=!0,EEe.title="Bold";class _Ee{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}_Ee.isInline=!0,_Ee.title="Italic";class TEe{constructor(e){let{api:t}=e;this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new ASe}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=dCe,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)})),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const e=this.selection.findParentTag("A");if(e)return this.selection.expandToTag(e),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value="null"!==t?t:"",this.selection.save()}else this.nodes.button.innerHTML=dCe,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){const e=new ASe;e.save(),this.selection.restore(),this.selection.removeFakeBackground(),e.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";return t.trim()?this.validateURL(t)?(t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void $ke("Incorrect Link pasted","warn",t)):(this.selection.restore(),this.unlink(),e.preventDefault(),void this.closeActions())}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e)}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),n="#"===e.substring(0,1),r=/^\/\/[^/\s]/.test(e);return!t&&!n&&!r&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}TEe.isInline=!0,TEe.title="Link";class NEe{constructor(e){let{api:t}=e;this.i18nAPI=t.i18n,this.blocksAPI=t.blocks,this.selectionAPI=t.selection,this.toolsAPI=t.tools,this.caretAPI=t.caret}async render(){const e=ASe.get(),t=this.blocksAPI.getBlockByElement(e.anchorNode);if(void 0===t)return[];const n=this.toolsAPI.getBlockTools(),r=await BSe(t,n);if(0===r.length)return[];const o=r.reduce(((e,n)=>{var r;return null==(r=n.toolbox)||r.forEach((r=>{e.push({icon:r.icon,title:CSe.t(sCe.toolNames,r.title),name:n.name,closeOnActivate:!0,onActivate:async()=>{const e=await this.blocksAPI.convert(t.id,n.name,r.data);this.caretAPI.setToBlock(e,"end")}})})),e}),[]),i=await t.getActiveToolboxEntry(),a=void 0!==i?i.icon:hCe,s=!vSe();return{icon:a,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:s,items:o,onOpen:()=>{s&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{s&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}}NEe.isInline=!0;class IEe{constructor(e){let{data:t,api:n}=e;this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=xSe.make("div",this.CSS.wrapper),t=xSe.make("div",this.CSS.info),n=xSe.make("div",this.CSS.title,{textContent:this.title}),r=xSe.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',t.appendChild(n),t.appendChild(r),e.appendChild(t),e}}IEe.isReadOnlySupported=!0;class AEe extends uEe{constructor(){super(...arguments),this.type=oEe.Inline}get title(){return this.constructable[cEe.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}}class OEe extends uEe{constructor(){super(...arguments),this.type=oEe.Tune}create(e,t){return new this.constructable({api:this.api,config:this.settings,block:t,data:e})}}class REe extends Map{get blockTools(){const e=Array.from(this.entries()).filter((e=>{let[,t]=e;return t.isBlock()}));return new REe(e)}get inlineTools(){const e=Array.from(this.entries()).filter((e=>{let[,t]=e;return t.isInline()}));return new REe(e)}get blockTunes(){const e=Array.from(this.entries()).filter((e=>{let[,t]=e;return t.isTune()}));return new REe(e)}get internalTools(){const e=Array.from(this.entries()).filter((e=>{let[,t]=e;return t.isInternal}));return new REe(e)}get externalTools(){const e=Array.from(this.entries()).filter((e=>{let[,t]=e;return!t.isInternal}));return new REe(e)}}var MEe=Object.defineProperty,jEe=Object.getOwnPropertyDescriptor,PEe=(e,t,n,r)=>{for(var o,i=r>1?void 0:r?jEe(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&MEe(t,n,i),i};class DEe extends uEe{constructor(){super(...arguments),this.type=oEe.Block,this.inlineTools=new REe,this.tunes=new REe}create(e,t,n){return new this.constructable({data:e,block:t,readOnly:n,api:this.api,config:this.settings})}get isReadOnlySupported(){return!0===this.constructable[sEe.IsReadOnlySupported]}get isLineBreaksEnabled(){return this.constructable[sEe.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[sEe.Toolbox],t=this.config[iEe.Toolbox];if(!iSe(e)&&!1!==t)return t?Array.isArray(e)?Array.isArray(t)?t.map(((t,n)=>{const r=e[n];return r?Ln(Ln({},r),t):t})):[t]:Array.isArray(t)?t:[Ln(Ln({},e),t)]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[sEe.ConversionConfig]}get enabledInlineTools(){return this.config[iEe.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[iEe.EnabledBlockTunes]}get pasteConfig(){var e;return null!==(e=this.constructable[sEe.PasteConfig])&&void 0!==e?e:{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(iSe(e))return t;const n={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];tSe(o)?n[r]=Object.assign({},t,o):n[r]=o}return n}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach((t=>Object.assign(e,t.sanitizeConfig))),Array.from(this.tunes.values()).forEach((t=>Object.assign(e,t.sanitizeConfig))),e}}PEe([ySe],DEe.prototype,"sanitizeConfig",1),PEe([ySe],DEe.prototype,"baseSanitizeConfig",1);class LEe{constructor(e,t,n){this.api=n,this.config=e,this.editorConfig=t}get(e){const t=this.config[e],{class:n,isInternal:r=!1}=t,o=zn(t,Dke),i=this.getConstructor(n),a=n[lEe.IsTune];return new i({name:e,constructable:n,config:o,api:this.api.getMethodsForTool(e,a),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[cEe.IsInline]:return AEe;case e[lEe.IsTune]:return OEe;default:return DEe}}}class FEe{constructor(e){let{api:t}=e;this.CSS={animation:"wobble"},this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const n=t.holder,r=n.getBoundingClientRect();let o=Math.abs(window.innerHeight-n.offsetHeight);r.top<window.innerHeight&&(o=window.scrollY+n.offsetHeight),window.scrollTo(0,o),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}FEe.isTune=!0;class BEe{constructor(e){let{api:t}=e;this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}BEe.isTune=!0;class zEe{constructor(e){let{api:t}=e;this.CSS={animation:"wobble"},this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),n=this.api.blocks.getBlockByIndex(e-1);if(0===e||!t||!n)throw new Error("Unable to move Block up since it is already the first");const r=t.holder,o=n.holder,i=r.getBoundingClientRect(),a=o.getBoundingClientRect();let s;s=a.top>0?Math.abs(i.top)-Math.abs(a.top):Math.abs(i.top)+a.height,window.scrollBy(0,-1*s),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}zEe.isTune=!0;var UEe=Object.defineProperty,VEe=Object.getOwnPropertyDescriptor;class WEe extends ISe{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new REe,this.toolsUnavailable=new REe}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=pSe({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||0===Object.keys(this.config.tools).length)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new LEe(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(0===t.length)return Promise.resolve();await sSe(t,(e=>{this.toolPrepareMethodSuccess(e)}),(e=>{this.toolPrepareMethodFallback(e)})),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach((t=>{Object.assign(e,t.sanitizeConfig)})),e}destroy(){Object.values(this.available).forEach((async e=>{eSe(e.reset)&&await e.reset()}))}get internalTools(){return{convertTo:{class:NEe,isInternal:!0},link:{class:TEe,isInternal:!0},bold:{class:EEe,isInternal:!0},italic:{class:_Ee,isInternal:!0},paragraph:{class:CEe,inlineToolbar:!0,isInternal:!0},stub:{class:IEe,isInternal:!0},moveUp:{class:zEe,isInternal:!0},delete:{class:BEe,isInternal:!0},moveDown:{class:FEe,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const e=["render"].filter((e=>!t.create()[e]));if(e.length)return $ke("Incorrect Inline Tool: ".concat(t.name,". Some of required methods is not implemented %o"),"warn",e),void this.toolsUnavailable.set(t.name,t)}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach((e=>{let[n,r]=e;t.push({function:eSe(r.class.prepare)?r.class.prepare:()=>{},data:{toolName:n,config:r.config}})})),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach((e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)}))}assignInlineToolsToBlockTool(e){if(!1!==this.config.inlineToolbar){if(!0===e.enabledInlineTools)return void(e.inlineTools=new REe(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((e=>[e,this.inlineTools.get(e)])):Array.from(this.inlineTools.entries())));Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new REe(["convertTo",...e.enabledInlineTools].map((e=>[e,this.inlineTools.get(e)]))))}}assignBlockTunesToBlockTool(e){if(!1!==e.enabledBlockTunes){if(Array.isArray(e.enabledBlockTunes)){const t=new REe(e.enabledBlockTunes.map((e=>[e,this.blockTunes.get(e)])));return void(e.tunes=new REe([...t,...this.blockTunes.internalTools]))}if(Array.isArray(this.config.tunes)){const t=new REe(this.config.tunes.map((e=>[e,this.blockTunes.get(e)])));return void(e.tunes=new REe([...t,...this.blockTunes.internalTools]))}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!eSe(t)&&!eSe(t.class))throw Error("Tool \xab".concat(e,"\xbb must be a constructor function or an object with function in the \xabclass\xbb property"))}}prepareConfig(){const e={};for(const t in this.config.tools)tSe(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}((e,t,n,r)=>{for(var o,i=r>1?void 0:r?VEe(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);r&&i&&UEe(t,n,i)})([ySe],WEe.prototype,"getAllInlineToolsSanitizeConfig",1);const HEe={BlocksAPI:class extends ISe{constructor(){var e;super(...arguments),e=this,this.insert=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.config.defaultBlock,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;return new TSe(e.Editor.BlockManager.insert({id:a,tool:t,data:n,index:r,needToFocus:o,replace:i}))},this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new HSe({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(void 0===o)throw new Error('Block with id "'.concat(e,'" not found'));return new TSe(await r.update(o,t,n))},this.convert=async(e,t,n)=>{var r,o;const{BlockManager:i,Tools:a}=this.Editor,s=i.getBlockById(e);if(!s)throw new Error('Block with id "'.concat(e,'" not found'));const c=a.blockTools.get(s.name),l=a.blockTools.get(t);if(!l)throw new Error('Block Tool with type "'.concat(t,'" not found'));const u=void 0!==(null==(r=null==c?void 0:c.conversionConfig)?void 0:r.export),d=void 0!==(null==(o=l.conversionConfig)?void 0:o.import);if(u&&d){return new TSe(await i.convert(s,t,n))}{const e=[!u&&hSe(s.name),!d&&hSe(t)].filter(Boolean).join(" and ");throw new Error('Conversion from "'.concat(s.name,'" to "').concat(t,'" is not possible. ').concat(e,' tool(s) should provide a "conversionConfig"'))}},this.insertMany=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Editor.BlockManager.blocks.length-1;e.validateIndex(n);const r=t.map((t=>{let{id:n,type:r,data:o}=t;return e.Editor.BlockManager.composeBlock({id:n,tool:r||e.config.defaultBlock,data:o})}));return e.Editor.BlockManager.insertMany(r,n),r.map((e=>new TSe(e)))}}get methods(){var e=this;return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.stretchBlock(t,n)},insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(t)return this.Editor.BlockManager.getBlockIndex(t);Zke("There is no block with id `"+e+"`","warn")}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(void 0!==t)return new TSe(t);Zke("There is no block at index `"+e+"`","warn")}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return void 0===t?(Zke("There is no block with id `"+e+"`","warn"),null):new TSe(t)}getBlockByElement(e){const t=this.Editor.BlockManager.getBlock(e);if(void 0!==t)return new TSe(t);Zke("There is no block corresponding to element `"+e+"`","warn")}swap(e,t){$ke("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Editor.BlockManager.currentBlockIndex;try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){return void Zke(t,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(void 0===e||void 0===e.blocks)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];gSe(!0,"blocks.stretchBlock()","BlockAPI");const n=this.Editor.BlockManager.getBlockByIndex(e);n&&(n.stretched=t)}insertNewBlock(){$ke("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if("number"!=typeof e)throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(null===e)throw new Error("Index should be greater than or equal to 0")}},CaretAPI:class extends ISe{constructor(){var e;super(...arguments),e=this,this.setToFirstBlock=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.firstBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.firstBlock,t,n),!0)},this.setToLastBlock=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.lastBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.lastBlock,t,n),!0)},this.setToPreviousBlock=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.previousBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.previousBlock,t,n),!0)},this.setToNextBlock=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.Editor.Caret.positions.DEFAULT,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!!e.Editor.BlockManager.nextBlock&&(e.Editor.Caret.setToBlock(e.Editor.BlockManager.nextBlock,t,n),!0)},this.setToBlock=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Editor.Caret.positions.DEFAULT,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=function(e,t){return"number"==typeof e?t.BlockManager.getBlockByIndex(e):"string"==typeof e?t.BlockManager.getBlockById(e):t.BlockManager.getBlockById(e.id)}(t,e.Editor);return void 0!==o&&(e.Editor.Caret.setToBlock(o,n,r),!0)},this.focus=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e.setToLastBlock(e.Editor.Caret.positions.END):e.setToFirstBlock(e.Editor.Caret.positions.START)}}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},EventsAPI:class extends ISe{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}},I18nAPI:GSe,API:class extends ISe{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,t)})}},InlineToolbarAPI:class extends ISe{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}},ListenersAPI:class extends ISe{get methods(){return{on:(e,t,n,r)=>this.on(e,t,n,r),off:(e,t,n,r)=>this.off(e,t,n,r),offById:e=>this.offById(e)}}on(e,t,n,r){return this.listeners.on(e,t,n,r)}off(e,t,n,r){this.listeners.off(e,t,n,r)}offById(e){this.listeners.offById(e)}},NotifierAPI:class extends ISe{constructor(e){let{config:t,eventsDispatcher:n}=e;super({config:t,eventsDispatcher:n}),this.notifier=new YSe}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},ReadOnlyAPI:class extends ISe{get methods(){const e=()=>this.isEnabled;return{toggle:e=>this.toggle(e),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}},SanitizerAPI:class extends ISe{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return ZSe(e,t)}},SaverAPI:class extends ISe{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Zke(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}},SelectionAPI:class extends ISe{constructor(){super(...arguments),this.selectionUtils=new ASe}get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,t){return this.selectionUtils.findParentTag(e,t)}expandToTag(e){this.selectionUtils.expandToTag(e)}},ToolsAPI:class extends ISe{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}},StylesAPI:class extends ISe{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}},ToolbarAPI:class extends ISe{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){-1!==this.Editor.BlockManager.currentBlockIndex?(null!==e&&void 0!==e?e:!this.Editor.BlockSettings.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():Zke("Could't toggle the Toolbar because there is no block selected ","warn")}toggleToolbox(e){-1!==this.Editor.BlockManager.currentBlockIndex?(null!==e&&void 0!==e?e:!this.Editor.Toolbar.toolbox.opened)?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close():Zke("Could't toggle the Toolbox because there is no block selected ","warn")}},TooltipAPI:class extends ISe{constructor(e){let{config:t,eventsDispatcher:n}=e;super({config:t,eventsDispatcher:n})}get methods(){return{show:(e,t,n)=>this.show(e,t,n),hide:()=>this.hide(),onHover:(e,t,n)=>this.onHover(e,t,n)}}show(e,t,n){!function(e,t,n){oCe(),null==rCe||rCe.show(e,t,n)}(e,t,n)}hide(){iCe()}onHover(e,t,n){aCe(e,t,n)}},UiAPI:class extends ISe{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}},BlockSettings:class extends ISe{constructor(){super(...arguments),this.opened=!1,this.selection=new ASe,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,ASe.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(CCe.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(null!==this.popover)return"flipper"in this.popover?null==(e=this.popover)?void 0:e.flipper:void 0}make(){this.nodes.wrapper=xSe.make("div",[this.CSS.settings]),this.eventsDispatcher.on(PSe,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(PSe,this.close)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Editor.BlockManager.currentBlock;var t;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const{toolTunes:n,commonTunes:r}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);const o=vSe()?qCe:BCe;this.popover=new o({searchable:!0,items:await this.getTunesItems(e,r,n),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:CSe.ui(sCe.ui.popover,"Nothing found"),search:CSe.ui(sCe.ui.popover,"Filter")}}),this.popover.on(CCe.Closed,this.onPopoverClose),null==(t=this.nodes.wrapper)||t.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(e,t,n){const r=[];void 0!==n&&n.length>0&&(r.push(...n),r.push({type:VSe.Separator}));const o=Array.from(this.Editor.Tools.blockTools.values()),i=(await BSe(e,o)).reduce(((t,n)=>(n.toolbox.forEach((r=>{t.push({icon:r.icon,title:CSe.t(sCe.toolNames,r.title),name:n.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:t,Caret:o,Toolbar:i}=this.Editor,a=await t.convert(e,n.name,r.data);i.close(),o.setToBlock(a,o.positions.END)}})})),t)),[]);return i.length>0&&(r.push({icon:hCe,name:"convert-to",title:CSe.ui(sCe.ui.popover,"Convert to"),children:{searchable:!0,items:i}}),r.push({type:VSe.Separator})),r.push(...t),r.map((e=>this.resolveTuneAliases(e)))}resolveTuneAliases(e){if(e.type===VSe.Separator||e.type===VSe.Html)return e;const t=function(e,t){const n={};return Object.keys(e).forEach((r=>{const o=t[r];void 0!==o?n[o]=e[r]:n[r]=e[r]})),n}(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}},Toolbar:class extends ISe{constructor(e){let{config:t,eventsDispatcher:n}=e;super({config:t,eventsDispatcher:n}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:null==(e=this.toolboxInstance)?void 0:e.opened,close:()=>{var e;null==(e=this.toolboxInstance)||e.close()},open:()=>{null!==this.toolboxInstance?(this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()):$ke("toolbox.open() called before initialization is finished","warn")},toggle:()=>{null!==this.toolboxInstance?this.toolboxInstance.toggle():$ke("toolbox.toggle() called before initialization is finished","warn")},hasFocus:()=>{var e;return null==(e=this.toolboxInstance)?void 0:e.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback((()=>{this.drawUI(),this.enableModuleBindings()}),{timeout:2e3})}moveAndOpen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.Editor.BlockManager.currentBlock;if(null===this.toolboxInstance)return void $ke("Can't open Toolbar since Editor initialization is not finished yet","warn");if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:n}=this.Editor.UI;let r;const o=e.firstInput,i=t.getBoundingClientRect(),a=void 0!==o?o.getBoundingClientRect():null,s=null!==a?a.top-i.top:null,c=null!==s?s>20:void 0;if(n)r=t.offsetTop+t.offsetHeight;else if(void 0===o||c){const n=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);r=t.offsetTop+n}else{const e=function(e){const t=window.getComputedStyle(e),n=parseFloat(t.fontSize),r=parseFloat(t.lineHeight)||1.2*n,o=parseFloat(t.paddingTop),i=parseFloat(t.borderTopWidth);return parseFloat(t.marginTop)+i+o+(r-n)/2+.8*n}(o),n=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10),i=8;r=t.offsetTop+e-n+i+s}this.nodes.wrapper.style.top="".concat(Math.floor(r),"px"),1===this.Editor.BlockManager.blocks.length&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||(null==(e=this.nodes.wrapper)||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),null==(t=this.toolboxInstance)||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=xSe.make("div",this.CSS.toolbar),["content","actions"].forEach((e=>{this.nodes[e]=xSe.make("div",this.CSS[e])})),xSe.append(this.nodes.wrapper,this.nodes.content),xSe.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=xSe.make("div",this.CSS.plusButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>'}),xSe.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(()=>{iCe(!0),this.plusButtonClicked()}),!1);const e=xSe.make("div");e.appendChild(document.createTextNode(CSe.ui(sCe.ui.toolbar.toolbox,"Add"))),e.appendChild(xSe.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),aCe(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=xSe.make("span",this.CSS.settingsToggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>'}),xSe.append(this.nodes.actions,this.nodes.settingsToggler);const t=xSe.make("div"),n=xSe.text(CSe.ui(sCe.ui.blockTunes.toggler,"Click to tune")),r=await async function(e,t){const r=navigator.keyboard;if(!r)return t;try{return(await r.getLayoutMap()).get(e)||t}catch(n){return console.error(n),t}}("Slash","/");t.appendChild(n),t.appendChild(xSe.make("div",this.CSS.plusButtonShortcut,{textContent:fSe("CMD + ".concat(r))})),aCe(this.nodes.settingsToggler,t,{hidingDelay:400}),xSe.append(this.nodes.actions,this.makeToolbox()),xSe.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),xSe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new nEe({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:CSe.ui(sCe.ui.popover,"Filter"),nothingFound:CSe.ui(sCe.ui.popover,"Nothing found")}}),this.toolboxInstance.on(eEe.Opened,(()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(eEe.Closed,(()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(eEe.BlockAdded,(e=>{let{block:t}=e;const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(t.id);0===o.inputs.length&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))})),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,null==(e=this.toolboxInstance)||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",(e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),null!=(t=this.toolboxInstance)&&t.opened&&this.toolboxInstance.close(),iCe(!0)}),!0),vSe()||this.eventsDispatcher.on(rEe,(e=>{var t;this.Editor.BlockSettings.opened||null!=(t=this.toolboxInstance)&&t.opened||this.moveAndOpen(e.block)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}},InlineToolbar:class extends ISe{constructor(e){let{config:t,eventsDispatcher:n}=e;super({config:t,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=vSe()?20:6,this.toolsInstances=new Map}toggleReadOnly(e){e?this.destroy():window.requestIdleCallback((()=>{this.make()}),{timeout:2e3})}async tryToShow(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var e,t;this.opened&&(this.Editor.ReadOnly.isEnabled||(Array.from(this.toolsInstances.entries()).forEach((e=>{let[t,n]=e;const r=this.getToolShortcut(t);r&&JCe.remove(this.Editor.UI.nodes.redactor,r),eSe(n.clear)&&n.clear()})),this.toolsInstances=null,this.reset(),this.opened=!1,null==(e=this.popover)||e.hide(),null==(t=this.popover)||t.destroy(),this.popover=null))}containsNode(e){return void 0!==this.nodes.wrapper&&this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),null==(e=this.popover)||e.destroy(),this.popover=null}make(){this.nodes.wrapper=xSe.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),xSe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var e;if(this.opened)return;this.opened=!0,null!==this.popover&&this.popover.destroy();const t=await this.getInlineTools();this.popover=new zCe({items:t,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:CSe.ui(sCe.ui.popover,"Nothing found"),search:CSe.ui(sCe.ui.popover,"Filter")}}),this.move(this.popover.size.width),null==(e=this.nodes.wrapper)||e.append(this.popover.getElement()),this.popover.show()}move(e){const t=ASe.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:t.x-n.x,y:t.y+t.height-n.top+this.toolbarVerticalMargin};r.x+e+n.x>this.Editor.UI.contentRect.right&&(r.x=this.Editor.UI.contentRect.right-e-n.x),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=ASe.get(),t=ASe.text;if(!e||!e.anchorNode||e.isCollapsed||t.length<1)return!1;const n=xSe.isElement(e.anchorNode)?e.anchorNode:e.anchorNode.parentElement;if(null===n||e&&["IMG","INPUT"].includes(n.tagName)||null===n.closest('[contenteditable="true"]'))return!1;const r=this.Editor.BlockManager.getBlock(e.anchorNode);return!!r&&0!==r.tool.inlineTools.size}async getInlineTools(){const e=ASe.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode),n=Array.from(t.tool.inlineTools.values()),r=[];null===this.toolsInstances&&(this.toolsInstances=new Map);for(let i=0;i<n.length;i++){const e=n[i],t=e.create(),a=await t.render();this.toolsInstances.set(e.name,t);const s=this.getToolShortcut(e.name);if(s)try{this.enableShortcuts(e.name,s)}catch(o){}const c=void 0!==s?fSe(s):void 0,l=CSe.t(sCe.toolNames,e.title||hSe(e.name));[a].flat().forEach((o=>{var a,s;const u={name:e.name,onActivate:()=>{this.toolClicked(t)},hint:{title:l,description:c}};if(xSe.isElement(o)){const e=Ln(Ln({},u),{},{element:o,type:VSe.Html});if(eSe(t.renderActions)){const n=t.renderActions();e.children={isOpen:null==(a=t.checkState)?void 0:a.call(t,ASe.get()),isFlippable:!1,items:[{type:VSe.Html,element:n}]}}else null==(s=t.checkState)||s.call(t,ASe.get());r.push(e)}else if(o.type===VSe.Html)r.push(Ln(Ln(Ln({},u),o),{},{type:VSe.Html}));else if(o.type===VSe.Separator)r.push({type:VSe.Separator});else{const e=Ln(Ln(Ln({},u),o),{},{type:VSe.Default});"children"in e&&0!==i&&r.push({type:VSe.Separator}),r.push(e),"children"in e&&i<n.length-1&&r.push({type:VSe.Separator})}}))}return r}getToolShortcut(e){const{Tools:t}=this.Editor,n=t.inlineTools.get(e),r=t.internal.inlineTools;return Array.from(r.keys()).includes(e)?this.inlineTools[e][aEe.Shortcut]:null==n?void 0:n.shortcut}enableShortcuts(e,t){JCe.add({name:t,handler:t=>{var n;const{currentBlock:r}=this.Editor.BlockManager;r&&r.tool.enabledInlineTools&&(t.preventDefault(),null==(n=this.popover)||n.activateItemByName(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){var t;const n=ASe.range;null==(t=e.surround)||t.call(e,n),this.checkToolsState()}checkToolsState(){var e;null==(e=this.toolsInstances)||e.forEach((e=>{var t;null==(t=e.checkState)||t.call(e,ASe.get())}))}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((t=>{let[n,r]=t;e[n]=r.create()})),e}},BlockEvents:class extends ISe{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case zke:this.backspace(e);break;case Yke:this.delete(e);break;case Vke:this.enter(e);break;case Kke:case qke:this.arrowRightAndDown(e);break;case Gke:case Hke:this.arrowLeftAndUp(e);break;case Uke:this.tabPressed(e)}"/"===e.key&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),"Slash"===e.code&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&aSe(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!0}dragLeave(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:n,Caret:r}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then((()=>{const o=n.removeSelectedBlocks(),i=n.insertDefaultBlockAtIndex(o,!0);r.setToBlock(i,r.positions.START),t.clearSelection(e)}))}tabPressed(e){const{InlineToolbar:t,Caret:n}=this.Editor;t.opened||(e.shiftKey?n.navigatePrevious(!0):n.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){const{BlockManager:t,UI:n}=this.Editor,r=t.currentBlock;if(void 0===r||r.tool.isLineBreaksEnabled||n.someToolbarOpened&&n.someFlipperButtonFocused||e.shiftKey&&!bSe)return;let o=r;void 0!==r.currentInput&&pEe(r.currentInput)&&!r.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):o=r.currentInput&&fEe(r.currentInput)?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:n}=this.Editor,{currentBlock:r,previousBlock:o}=t;if(void 0!==r&&ASe.isCollapsed&&r.currentInput&&pEe(r.currentInput))if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput===r.firstInput){if(null!==o)if(o.isEmpty)t.removeBlock(o);else if(r.isEmpty){t.removeBlock(r);const e=t.currentBlock;n.setToBlock(e,n.positions.END)}else zSe(o,r)?this.mergeBlocks(o,r):n.setToBlock(o,n.positions.END)}else n.navigatePrevious()}delete(e){const{BlockManager:t,Caret:n}=this.Editor,{currentBlock:r,nextBlock:o}=t;if(ASe.isCollapsed&&fEe(r.currentInput))if(e.preventDefault(),this.Editor.Toolbar.close(),r.currentInput===r.lastInput){if(null!==o){if(!o.isEmpty)return r.isEmpty?(t.removeBlock(r),void n.setToBlock(o,n.positions.START)):void(zSe(r,o)?this.mergeBlocks(r,o):n.setToBlock(o,n.positions.START));t.removeBlock(o)}}else n.navigateNext()}mergeBlocks(e,t){const{BlockManager:n,Caret:r,Toolbar:o}=this.Editor;r.createShadow(e.lastInput),n.mergeBlocks(e,t).then((()=>{r.restoreCaret(e.pluginsContent),o.close()}))}arrowRightAndDown(e){const t=uCe.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Uke);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();const{currentBlock:n}=this.Editor.BlockManager,r=(void 0!==(null==n?void 0:n.currentInput)?fEe(n.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===Kke&&r?this.Editor.CrossBlockSelection.toggleBlockSelectedState():(e.keyCode===Kke||e.keyCode===qke&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():(lSe((()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(uCe.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Uke))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:t}=this.Editor.BlockManager,n=(void 0!==(null==t?void 0:t.currentInput)?pEe(t.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===Gke&&n?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):(e.keyCode===Gke||e.keyCode===Hke&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():(lSe((()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}needToolbarClosing(e){const t=e.keyCode===Vke&&this.Editor.Toolbar.toolbox.opened,n=e.keyCode===Vke&&this.Editor.BlockSettings.opened,r=e.keyCode===Vke&&this.Editor.InlineToolbar.opened,o=e.keyCode===Uke;return!(e.shiftKey||o||t||n||r)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}},BlockManager:class extends ISe{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find((e=>!!e.inputs.length))}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((e=>!!e.inputs.length))}get previousBlock(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every((e=>e.isEmpty))}prepare(){const e=new mEe(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:mEe.set,get:mEe.get}),this.listeners.on(document,"copy",(e=>this.Editor.BlockEvents.handleCommandC(e)))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock(e){let{tool:t,data:n={},id:r,tunes:o={}}=e;const i=this.Editor.ReadOnly.isEnabled,a=this.Editor.Tools.blockTools.get(t),s=new HSe({id:r,data:n,tool:a,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback((()=>{this.bindBlockEvents(s)}),{timeout:2e3}),s}insert(){let{id:e,tool:t=this.config.defaultBlock,data:n={},index:r,needToFocus:o=!0,replace:i=!1,tunes:a={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=r;void 0===s&&(s=this.currentBlockIndex+(i?0:1));const c=this.composeBlock({id:e,tool:t,data:n,tunes:a});return i&&this.blockDidMutated(gEe,this.getBlockByIndex(s),{index:s}),this._blocks.insert(s,c,i),this.blockDidMutated(yEe,c,{index:s}),o?this.currentBlockIndex=s:s<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._blocks.insertMany(e,t)}async update(e,t,n){if(!t&&!n)return e;const r=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,null!==t&&void 0!==t?t:{}),tunes:null!==n&&void 0!==n?n:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,o),this.blockDidMutated(vEe,o,{index:i}),o}replace(e,t,n){const r=this.getBlockIndex(e);return this.insert({tool:t,data:n,index:r,replace:!0})}paste(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.insert({tool:e,replace:n});try{window.requestIdleCallback((()=>{r.call(WSe.ON_PASTE,t)}))}catch(fw){$ke("".concat(e,": onPaste callback call is failed"),"error",fw)}return r}insertDefaultBlockAtIndex(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=n,this.blockDidMutated(yEe,n,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,n}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){let n;if(e.name===t.name&&e.mergeable){const r=await t.data;if(iSe(r))return void console.error("Could not merge Block. Failed to extract original Block data.");const[o]=$Se([r],e.tool.sanitizeConfig);n=o}else if(e.mergeable&&LSe(t,"export")&&LSe(e,"import")){n=USe(ZSe(await t.exportDataAsString(),e.tool.sanitizeConfig),e.tool.conversionConfig)}void 0!==n&&(await e.mergeWith(n),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e))}removeBlock(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((n=>{const r=this._blocks.indexOf(e);if(!this.validateIndex(r))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(r),this.blockDidMutated(gEe,e,{index:r}),this.currentBlockIndex>=r&&this.currentBlockIndex--,this.blocks.length?0===r&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),t&&this.insert()),n()}))}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=xSe.make("div");t.appendChild(e);const n={text:xSe.isEmpty(t)?"":t.innerHTML};return this.insert({data:n})}getBlockByIndex(e){return-1===e&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find((t=>t.id===e))}getBlock(e){xSe.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,n=e.closest(".".concat(HSe.CSS.wrapper)),r=t.indexOf(n);if(r>=0)return this._blocks[r]}setCurrentBlockByChildNode(e){xSe.isElement(e)||(e=e.parentNode);const t=e.closest(".".concat(HSe.CSS.wrapper));if(!t)return;const n=t.closest(".".concat(this.Editor.UI.CSS.editorWrapper));return null!=n&&n.isEqualNode(this.Editor.UI.nodes.wrapper)?(this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock):void 0}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;xSe.isElement(e)||(e=e.parentNode);const t=e.closest(".".concat(HSe.CSS.wrapper));return this.blocks.find((e=>e.holder===t))}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentBlockIndex;isNaN(e)||isNaN(t)?$ke("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(e)&&this.validateIndex(t)?(this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated("block-moved",this.currentBlock,{fromIndex:t,toIndex:e})):$ke("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}async convert(e,t,n){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const r=this.Editor.Tools.blockTools.get(t);if(!r)throw new Error("Could not convert Block. Tool \xab".concat(t,"\xbb not found."));let o=USe(ZSe(await e.exportDataAsString(),r.sanitizeConfig),r.conversionConfig);return n&&(o=Object.assign(o,n)),this.replace(e,r.name,o)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new bEe;this.blocks.forEach((e=>{t.add((async()=>{await this.removeBlock(e,!1)}))})),await t.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map((e=>e.destroy())))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",(e=>{t.keydown(e)})),this.readOnlyMutableListeners.on(e.holder,"keyup",(e=>{t.keyup(e)})),this.readOnlyMutableListeners.on(e.holder,"dragover",(e=>{t.dragOver(e)})),this.readOnlyMutableListeners.on(e.holder,"dragleave",(e=>{t.dragLeave(e)})),e.on("didMutated",(e=>this.blockDidMutated(vEe,e,{index:this.getBlockIndex(e)})))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",(e=>this.Editor.BlockEvents.handleCommandX(e))),this.blocks.forEach((e=>{this.bindBlockEvents(e)}))}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,n){const r=new CustomEvent(e,{detail:Ln({target:new TSe(t)},n)});return this.eventsDispatcher.emit(RSe,{event:r}),t}},BlockSelection:class extends ISe{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every((e=>!0===e.selected))}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach((t=>{t.selected=e})),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=e.blocks.some((e=>!0===e.selected))),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter((e=>e.selected))}prepare(){this.selection=new ASe,JCe.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:n}=this.Editor;if(n.isEnabled)return e.preventDefault(),void this.selectAllBlocks();t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){ASe.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let n;n=isNaN(e)?t.currentBlock:t.getBlockByIndex(e),n.selected=!1,this.clearCache()}clearSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{BlockManager:n,Caret:r,RectangleSelection:o}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const i=e&&e instanceof KeyboardEvent,a=i&&aSe(e.keyCode);if(this.anyBlockSelected&&i&&a&&!ASe.isSelectionExists){const t=n.removeSelectedBlocks();n.insertDefaultBlockAtIndex(t,!0),r.setToBlock(n.currentBlock),lSe((()=>{const t=e.key;r.insertContentAtCaretPosition(t.length>1?"":t)}),20)()}this.Editor.CrossBlockSelection.clear(e),this.anyBlockSelected&&!o.isRectActivated()?(t&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}copySelectedBlocks(e){e.preventDefault();const t=xSe.make("div");this.selectedBlocks.forEach((e=>{const n=ZSe(e.holder.innerHTML,this.sanitizerConfig),r=xSe.make("p");r.innerHTML=n,t.appendChild(r)}));const n=Array.from(t.childNodes).map((e=>e.textContent)).join("\n\n"),r=t.innerHTML;return e.clipboardData.setData("text/plain",n),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map((e=>e.save()))).then((t=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(t))}catch(n){}}))}selectBlockByIndex(e){const{BlockManager:t}=this.Editor,n=t.getBlockByIndex(e);void 0!==n&&this.selectBlock(n)}selectBlock(e){this.selection.save(),ASe.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){JCe.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),xSe.isNativeInput(e.target)&&!this.readyToBlockSelection)return void(this.readyToBlockSelection=!0);const t=this.Editor.BlockManager.getBlock(e.target),n=t.inputs;n.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==n.length||this.needToSelectAll?this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0):this.needToSelectAll=!0}selectAllBlocks(){this.selection.save(),ASe.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},Caret:xEe,CrossBlockSelection:class extends ISe{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:n}=this.Editor;if(null===e.relatedTarget&&null===e.target)return;const r=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,o=t.getBlockByChildNode(e.target);if(r&&o&&o!==r){if(r===this.firstSelectedBlock)return ASe.get().removeAllRanges(),r.selected=!0,o.selected=!0,void n.clearCache();if(o===this.firstSelectedBlock)return r.selected=!1,o.selected=!1,void n.clearCache();this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(r,o),this.lastSelectedBlock=o}}}async prepare(){this.listeners.on(document,"mousedown",(e=>{this.enableCrossBlockSelection(e)}))}watchSelection(e){if(e.button!==Xke)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{BlockManager:t,BlockSelection:n}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,n.clearCache(),ASe.get().removeAllRanges());const r=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),o=t.blocks[r];o&&(this.lastSelectedBlock.selected!==o.selected?(o.selected=!0,n.clearCache()):(this.lastSelectedBlock.selected=!1,n.clearCache()),this.lastSelectedBlock=o,this.Editor.InlineToolbar.close(),o.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:n,Caret:r}=this.Editor,o=t.blocks.indexOf(this.firstSelectedBlock),i=t.blocks.indexOf(this.lastSelectedBlock);if(n.anyBlockSelected&&o>-1&&i>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case Kke:case qke:r.setToBlock(t.blocks[Math.max(o,i)],r.positions.END);break;case Gke:case Hke:r.setToBlock(t.blocks[Math.min(o,i)],r.positions.START);break;default:r.setToBlock(t.blocks[Math.max(o,i)],r.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;ASe.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.blocks.indexOf(e),i=n.blocks.indexOf(t),a=e.selected!==t.selected;for(let s=Math.min(o,i);s<=Math.max(o,i);s++){const o=n.blocks[s];o!==this.firstSelectedBlock&&o!==(a?e:t)&&(n.blocks[s].selected=!n.blocks[s].selected,r.clearCache())}}},DragNDrop:class extends ISe{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",(async e=>{await this.processDrop(e)}),!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",(()=>{this.processDragStart()})),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",(e=>{this.processDragOver(e)}),!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Paste:n,Caret:r}=this.Editor;e.preventDefault(),t.blocks.forEach((e=>{e.dropTarget=!1})),ASe.isAtEditor&&!ASe.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const o=t.setCurrentBlockByChildNode(e.target);if(o)this.Editor.Caret.setToBlock(o,r.positions.END);else{const e=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(e,r.positions.END)}await n.processDataTransfer(e.dataTransfer,!0)}processDragStart(){ASe.isAtEditor&&!ASe.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}},ModificationsObserver:class extends ISe{constructor(e){let{config:t,eventsDispatcher:n}=e;super({config:t,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver((e=>{this.redactorChanged(e)})),this.eventsDispatcher.on(RSe,(e=>{this.particularBlockChanged(e.event)})),this.eventsDispatcher.on(MSe,(()=>{this.disable()})),this.eventsDispatcher.on(jSe,(()=>{this.enable()}))}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!eSe(this.config.onChange)||(this.batchingOnChangeQueue.set("block:".concat(e.detail.target.id,":event:").concat(e.type),e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout((()=>{let e;e=1===this.batchingOnChangeQueue.size?this.batchingOnChangeQueue.values().next().value:Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,e),this.batchingOnChangeQueue.clear()}),this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(OSe,{mutations:e})}},Paste:kEe,ReadOnly:class extends ISe{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,n=[];Array.from(t.entries()).forEach((e=>{let[t,r]=e;r.isReadOnlySupported||n.push(t)})),this.toolsDontSupportReadOnly=n,this.config.readOnly&&n.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.readOnlyEnabled,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;if(t)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new ESe("To enable read-only mode all connected tools should support it. Tools ".concat(this.toolsDontSupportReadOnly.join(", ")," don't support read-only mode."))}},RectangleSelection:SEe,Renderer:class extends ISe{async render(e){return new Promise((t=>{const{Tools:n,BlockManager:r}=this.Editor;if(0===e.length)r.insert();else{const t=e.map((e=>{let t,{type:o,data:i,tunes:a,id:s}=e;!1===n.available.has(o)&&(Zke("Tool \xab".concat(o,"\xbb is not found. Check 'tools' property at the Editor.js config."),"warn"),i=this.composeStubDataForTool(o,i,s),o=n.stubTool);try{t=r.composeBlock({id:s,tool:o,data:i,tunes:a})}catch(ww){$ke("Block \xab".concat(o,"\xbb skipped because of plugins error"),"error",{data:i,error:ww}),i=this.composeStubDataForTool(o,i,s),o=n.stubTool,t=r.composeBlock({id:s,tool:o,data:i,tunes:a})}return t}));r.insertMany(t)}window.requestIdleCallback((()=>{t()}),{timeout:2e3})}))}composeStubDataForTool(e,t,n){const{Tools:r}=this.Editor;let o=e;if(r.unavailable.has(e)){const t=r.unavailable.get(e).toolbox;void 0!==t&&void 0!==t[0].title&&(o=t[0].title)}return{savedData:{id:n,type:e,data:t},title:o}}},Saver:class extends ISe{async save(){const{BlockManager:e,Tools:t}=this.Editor,n=e.blocks,r=[];try{n.forEach((e=>{r.push(this.getSavedData(e))}));const e=await Promise.all(r),o=await $Se(e,(e=>t.blockTools.get(e).sanitizeConfig));return this.makeOutput(o)}catch(fw){Zke("Saving failed due to the Error %o","error",fw)}}async getSavedData(e){const t=await e.save(),n=t&&await e.validate(t.data);return Ln(Ln({},t),{},{isValid:n})}makeOutput(e){const t=[];return e.forEach((e=>{let{id:n,tool:r,data:o,tunes:i,isValid:a}=e;if(!a)return void $ke("Block \xab".concat(r,"\xbb skipped because saved data is invalid"));if(r===this.Editor.Tools.stubTool)return void t.push(o);const s=Ln({id:n,type:r,data:o},!iSe(i)&&{tunes:i});t.push(s)})),{time:+new Date,blocks:t,version:"2.30.6"}}},Tools:WEe,UI:class extends ISe{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=uSe((()=>{this.windowResize()}),200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(".".concat(HSe.CSS.content));return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback((()=>{this.enableModuleBindings()}),{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:n}=this.Editor;return!!(t.opened||n.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter((e=>{let[t,n]=e;return n.flipper instanceof uCe})).some((e=>{let[t,n]=e;return n.flipper.hasFocus()}))}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:n}=this.Editor;t.close(),n.close(),e.toolbox.close()}setIsMobile(){const e=window.innerWidth<650;e!==this.isMobile&&this.eventsDispatcher.emit(PSe,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=xSe.getHolder(this.config.holder),this.nodes.wrapper=xSe.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=xSe.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(xSe.get(e))return;const t=xSe.make("style",null,{id:e,textContent:':root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}\n'.toString()});this.config.style&&!iSe(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),xSe.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(e=>{this.redactorClicked(e)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(e=>{this.documentTouched(e)}),{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(e=>{this.documentTouched(e)}),{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",(e=>{this.documentKeydown(e)}),!0),this.readOnlyMutableListeners.on(document,"mousedown",(e=>{this.documentClicked(e)}),!0);const e=uSe((()=>{this.selectionChanged()}),180);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",(()=>{this.resizeDebouncer()}),{passive:!0}),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",dSe((t=>{const n=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||n&&e!==n&&(e=n,this.eventsDispatcher.emit(rEe,{block:this.Editor.BlockManager.getBlockByChildNode(n)}))}),20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case Vke:this.enterPressed(e);break;case zke:case Yke:this.backspacePressed(e);break;case Wke:this.escapePressed(e);break;default:this.defaultBehaviour(e)}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,n=e.target.closest(".".concat(this.CSS.editorWrapper)),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;void 0===t||null!==n?n||t&&r||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(e)}backspacePressed(e){const{BlockManager:t,BlockSelection:n,Caret:r}=this.Editor;if(n.anyBlockSelected&&!ASe.isSelectionExists){const o=t.removeSelectedBlocks(),i=t.insertDefaultBlockAtIndex(o,!0);r.setToBlock(i,r.positions.START),n.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:n}=this.Editor;if(this.someToolbarOpened)return;const r=t.currentBlockIndex>=0;if(n.anyBlockSelected&&!ASe.isSelectionExists)return n.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation();if(!this.someToolbarOpened&&r&&"BODY"===e.target.tagName){const t=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(t),this.Editor.Toolbar.moveAndOpen(t)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,n;if(!e.isTrusted)return;const r=e.target;this.nodes.holder.contains(r)||ASe.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const o=null==(t=this.Editor.BlockSettings.nodes.wrapper)?void 0:t.contains(r),i=null==(n=this.Editor.Toolbar.nodes.settingsToggler)?void 0:n.contains(r),a=o||i;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();const e=this.Editor.BlockManager.getBlockByChildNode(r);this.Editor.Toolbar.moveAndOpen(e)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const n=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,r=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(n,r)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch(n){this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!ASe.isCollapsed)return;const t=e.target,n=e.metaKey||e.ctrlKey;if(xSe.isAnchor(t)&&n){e.stopImmediatePropagation(),e.stopPropagation();const n=function(e){try{return new URL(e).href}catch(t){}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e}(t.getAttribute("href"));!function(e){window.open(e,"_blank")}(n)}else this.processBottomZoneClick(e)}processBottomZoneClick(e){const t=this.Editor.BlockManager.getBlockByIndex(-1),n=xSe.offset(t.holder).bottom,r=e.pageY,{BlockSelection:o}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!o.anyBlockSelected&&n<r){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:t,Caret:n,Toolbar:r}=this.Editor;(!t.lastBlock.tool.isDefault||!t.lastBlock.isEmpty)&&t.insertAtEnd(),n.setToTheLastBlock(),r.moveAndOpen(t.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,n=ASe.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&ASe.get().removeAllRanges(),!n)return void(ASe.range||this.Editor.InlineToolbar.close());const r=n.closest(".".concat(HSe.CSS.content));(null===r||r.closest(".".concat(ASe.CSS.editorWrapper))!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(n)||this.Editor.InlineToolbar.close(),"true"!==n.dataset.inlineToolbar)||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(e){wSe(e.target)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}}};class GEe{constructor(e){let t,n;this.moduleInstances={},this.eventsDispatcher=new _Se,this.isReady=new Promise(((e,r)=>{t=e,n=r})),Promise.resolve().then((async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:n,Caret:r,UI:o,ModificationsObserver:i}=this.moduleInstances;o.checkEmptiness(),i.enable(),this.configuration.autofocus&&r.setToBlock(n.blocks[0],r.positions.START),t()})).catch((e=>{$ke("Editor.js is not ready because of ".concat(e),"error"),n(e)}))}set configuration(e){var t,n;tSe(e)?this.config=Ln({},e):this.config={holder:e},gSe(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Bke.VERBOSE),function(e){Jke.logLevel=e}(this.config.logLevel),gSe(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;const r={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,(iSe(this.config.data)||!this.config.data.blocks||0===this.config.data.blocks.length)&&(this.config.data={blocks:[r]}),this.config.readOnly=this.config.readOnly||!1,null!=(t=this.config.i18n)&&t.messages&&CSe.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null==(n=this.config.i18n)?void 0:n.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("\xabholderId\xbb and \xabholder\xbb param can't assign at the same time.");if(nSe(t)&&!xSe.get(t))throw Error("element with ID \xab".concat(t,"\xbb is missing. Pass correct holder's ID."));if(t&&tSe(t)&&!xSe.isElement(t))throw Error("\xabholder\xbb value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce(((e,t)=>e.then((async()=>{try{await this.moduleInstances[t].prepare()}catch(e){if(e instanceof ESe)throw new Error(e.message);$ke("Module ".concat(t," was skipped because of %o"),"warn",e)}}))),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(HEe).forEach((e=>{let[t,n]=e;try{this.moduleInstances[t]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){$ke("[constructModules]","Module ".concat(t," skipped because"),"error",r)}}))}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const n in this.moduleInstances)n!==e&&(t[n]=this.moduleInstances[n]);return t}}class KEe{static get version(){return"2.30.6"}constructor(e){let t=()=>{};tSe(e)&&eSe(e.onReady)&&(t=e.onReady);const n=new GEe(e);this.isReady=n.isReady.then((()=>{this.exportAPI(n),t()}))}exportAPI(e){["configuration"].forEach((t=>{this[t]=e[t]})),this.destroy=()=>{Object.values(e.moduleInstances).forEach((e=>{eSe(e.destroy)&&e.destroy(),e.listeners.removeAll()})),null==rCe||rCe.destroy(),rCe=null,e=null;for(const e in this)Object.prototype.hasOwnProperty.call(this,e)&&delete this[e];Object.setPrototypeOf(this,null)},Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((t=>{let[n,r]=t;Object.entries(r).forEach((t=>{let[r,o]=t;this[o]=e.moduleInstances.API.methods[n][r]}))}))}}const qEe="http://localhost:3001",YEe=async()=>{const e=await fetch("".concat(qEe,"/api/questions"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch questions");return await e.json()},XEe=()=>{const e=sessionStorage.getItem("adminId"),[t,n]=(0,Z.useState)([]),[r,o]=(0,Z.useState)(!1),[i,a]=(0,Z.useState)(!1),[s,c]=(0,Z.useState)(""),[l,u]=(0,Z.useState)(""),[d,h]=(0,Z.useState)(null),[p,f]=(0,Z.useState)(!1),[m,g]=(0,Z.useState)(null);(0,Z.useEffect)((()=>{(async()=>{try{const e=await YEe();Array.isArray(e)?n(e):console.error("Fetched questions is not an array")}catch(e){console.error("Failed to load questions:",e)}})()}),[]);const y=async e=>{try{await(async e=>{const t=sessionStorage.getItem("userId");if(!t)return console.error("No token found, redirecting to login..."),null;if(!(await fetch("".concat(qEe,"/api/questions/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).ok)throw new Error("Failed to delete question")})(e),n((t=>t.filter((t=>t._id!==e))))}catch(t){console.error("Error deleting question:",t)}};return(0,Z.useEffect)((()=>{let e,t;return r&&(async()=>{e=new KEe({holder:"textEditor",tools:Pke,placeholder:"Answer",onChange:async()=>{try{const t=await e.save();u(JSON.stringify(t))}catch(t){console.error("Error saving editor content:",t)}}})})(),i&&(async()=>{t=new KEe({holder:"editTextEditor",tools:Pke,placeholder:"Answer",data:l?JSON.parse(l):void 0,onChange:async()=>{try{const e=await t.save();u(JSON.stringify(e))}catch(e){console.error("Error saving editor content:",e)}}})})(),()=>{e&&e.isReady.then((()=>{e.destroy()})).catch((e=>console.error("Error destroying add editor:",e))),t&&t.isReady.then((()=>{t.destroy()})).catch((e=>console.error("Error destroying edit editor:",e)))}}),[r,i]),(0,fn.jsxs)("div",{className:"manageUser",children:[(0,fn.jsxs)("div",{className:"main1",children:[(0,fn.jsx)("h1",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e16\u0e32\u0e21"}),(0,fn.jsxs)("div",{className:"recent-order",style:{marginTop:"1.5rem"},children:[(0,fn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,fn.jsx)("h2",{style:{marginLeft:"2px"},children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"}),(0,fn.jsxs)("div",{className:"add-q",onClick:()=>o(!0),style:{display:"flex",alignItems:"center",backgroundColor:"#363949",color:"white",padding:"5px 10px",borderRadius:"5px",cursor:"pointer"},children:[(0,fn.jsx)(zp,{style:{marginRight:"5px"}})," ",(0,fn.jsx)("span",{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e33\u0e16\u0e32\u0e21"})]})]}),(0,fn.jsx)("div",{className:"right",children:(0,fn.jsx)("div",{className:"activity-analytics",style:{marginTop:"0.5rem"},children:t.map((e=>e&&(0,fn.jsx)("div",{className:"item",children:(0,fn.jsxs)("div",{className:"right",children:[(0,fn.jsx)("div",{className:"info",children:(0,fn.jsx)("h3",{children:e.topic})}),(0,fn.jsxs)("div",{className:"manage d-flex",children:[(0,fn.jsx)("div",{className:"edit warning",onClick:()=>(e=>{e?(c(e.topic),u(e.answer),h(e._id),a(!0)):console.error("Question is null or undefined")})(e),style:{paddingRight:"10px"},children:(0,fn.jsx)("h3",{children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})}),(0,fn.jsx)("div",{className:"delete danger",onClick:()=>(e=>{g(e),f(!0)})(e._id),children:(0,fn.jsx)("h3",{children:"\u0e25\u0e1a"})})]})]})},e._id)))})})]})]}),(0,fn.jsxs)(yg,{show:r,onHide:()=>o(!1),centered:!0,size:"lg",children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e04\u0e33\u0e16\u0e32\u0e21"})}),(0,fn.jsxs)(yg.Body,{style:{minHeight:"400px"},children:[(0,fn.jsx)("div",{children:(0,fn.jsx)("input",{type:"text",placeholder:"Topic",value:s,onChange:e=>c(e.target.value),className:"form-control"})}),(0,fn.jsx)("div",{id:"textEditor",style:{border:"1px solid #ced4da",borderRadius:"4px",padding:"10px",minHeight:"400px",marginTop:"1rem"}})]}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>o(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:async t=>{if(t.preventDefault(),e)try{const t=await(async(e,t,n)=>{const r=sessionStorage.getItem("userId");if(!r)return console.error("No token found, redirecting to login..."),null;const o=await fetch("".concat(qEe,"/api/questions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({topic:e,answer:t,createdBy:n})});if(!o.ok)throw new Error("Failed to add question");return await o.json()})(s,l,e);n((e=>[...e,t])),c(""),u(""),o(!1)}catch(r){console.error("Error adding question:",r)}else console.error("Admin ID is undefined")},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]}),(0,fn.jsxs)(yg,{show:i,onHide:()=>a(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e04\u0e33\u0e16\u0e32\u0e21\u0e17\u0e35\u0e48\u0e1e\u0e1a\u0e1a\u0e48\u0e2d\u0e22"})}),(0,fn.jsx)(yg.Body,{children:(0,fn.jsxs)("div",{children:[(0,fn.jsx)("input",{type:"text",placeholder:"Topic",value:s,onChange:e=>c(e.target.value),className:"form-control"}),(0,fn.jsx)("div",{id:"editTextEditor",style:{border:"1px solid #ced4da",borderRadius:"4px",padding:"10px",minHeight:"400px",marginTop:"1rem"}})]})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>a(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:async e=>{if(e.preventDefault(),d)try{const e=await(async(e,t,n)=>{const r=sessionStorage.getItem("userId");if(!r)throw new Error("No admin token found. Unauthorized request.");const o=await fetch("".concat(qEe,"/api/questions/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({topic:t,answer:n})});if(!o.ok)throw new Error("Failed to update question");return await o.json()})(d,s,l);n((t=>t.map((t=>t._id===d?e:t)))),c(""),u(""),h(null),a(!1)}catch(t){console.error("Error updating question:",t)}},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]}),(0,fn.jsxs)(yg,{show:p,onHide:()=>f(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"})}),(0,fn.jsx)(yg.Body,{children:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e04\u0e33\u0e16\u0e32\u0e21\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>f(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{variant:"danger",onClick:async()=>{m&&(await y(m),f(!1))},children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})]})]})]})},JEe="http://localhost:3001",$Ee=()=>{const e=sessionStorage.getItem("user"),t=e?JSON.parse(e).access_token:null;return t?{Authorization:"Bearer ".concat(t)}:{}},ZEe=()=>{const[e,t]=(0,Z.useState)([]),[n,r]=(0,Z.useState)([]),[o,i]=(0,Z.useState)(!1),[a,s]=(0,Z.useState)(!1),[c,l]=(0,Z.useState)(""),[u,d]=(0,Z.useState)(null),[h,p]=(0,Z.useState)(!1),[f,m]=(0,Z.useState)(null),[g,y]=(0,Z.useState)(""),[v,b]=(0,Z.useState)("");(0,Z.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{return(await ap.get("".concat(JEe,"/badword"),{headers:$Ee()})).data}catch(e){throw console.error("Error fetching bad word groups:",e),e}})();Array.isArray(e)?(t(e),r(e)):console.error("Fetched data is not an array")}catch(e){console.error("Failed to load bad word groups:",e)}})()}),[]);const x=async e=>{try{await(async e=>{try{await ap.delete("".concat(JEe,"/badword/").concat(e),{headers:$Ee()})}catch(t){throw console.error("Error deleting bad word group:",t),t}})(e),t((t=>t.filter((t=>t._id!==e)))),r((t=>t.filter((t=>t._id!==e))))}catch(n){console.error("Error deleting bad words:",n)}};return(0,fn.jsxs)("div",{className:"manageUser",children:[(0,fn.jsxs)("div",{className:"main1",children:[(0,fn.jsx)("h1",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a"}),(0,fn.jsxs)("div",{className:"recent-order",style:{marginTop:"1.5rem"},children:[(0,fn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,fn.jsx)("h2",{style:{marginLeft:"2px"},children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"}),(0,fn.jsxs)("div",{className:"bw-filter-buttons",style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,fn.jsx)(bf,{variant:""===v?"primary":"outline-primary",onClick:()=>{r(e),b(""),y("")},style:{backgroundColor:""===v?"#363949":"white",color:""===v?"white":"#363949",padding:"5px 10px",borderRadius:"5px",fontSize:"14px",border:""===v?"none":"1px solid #363949"},children:"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)(bf,{variant:"TH"===v?"primary":"outline-primary",onClick:()=>{r(e.filter((e=>e.words.some((e=>/[\u0e01-\u0e59]/.test(e)))))),b("TH"),y("")},style:{backgroundColor:"TH"===v?"#363949":"white",color:"TH"===v?"white":"#363949",padding:"5px 10px",borderRadius:"5px",fontSize:"14px",border:"TH"===v?"none":"1px solid #363949"},children:"TH"}),(0,fn.jsx)(bf,{variant:"EN"===v?"primary":"outline-primary",onClick:()=>{r(e.filter((e=>e.words.some((e=>/[a-zA-Z]/.test(e)))))),b("EN"),y("")},style:{backgroundColor:"EN"===v?"#363949":"white",color:"EN"===v?"white":"#363949",padding:"5px 10px",borderRadius:"5px",fontSize:"14px",border:"EN"===v?"none":"1px solid #363949"},children:"EN"}),(0,fn.jsxs)("div",{className:"add-q add-badwords",onClick:()=>i(!0),style:{display:"inline-flex",alignItems:"center",cursor:"pointer",backgroundColor:"#363949",color:"#fff",padding:"5px 10px",borderRadius:"5px",fontSize:"14px"},children:[(0,fn.jsx)(zp,{}),(0,fn.jsx)("span",{style:{marginLeft:"5px"},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a"})]})]})]}),""==v?(0,fn.jsx)("div",{className:"search-bar-badwords",children:(0,fn.jsx)("input",{type:"text",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a...",value:g,onChange:t=>{const n=t.target.value;if(y(n),""===n.trim())r(e);else{const t=e.filter((e=>e.words.some((e=>e.toLowerCase().includes(n.toLowerCase())))));r(t)}},className:"form-control",style:{width:"100%",padding:"10px 15px",marginTop:"0px",fontSize:"16px",border:"none",borderRadius:"10px",backgroundColor:"white"}})}):null,(0,fn.jsx)("div",{className:"right",children:(0,fn.jsx)("div",{className:"activity-analytics",style:{marginTop:"0px",height:"450px",overflowY:"auto",padding:"0.5%"},children:0===n.length?(0,fn.jsx)("p",{style:{textAlign:"center",fontSize:"18px",color:"#888"},children:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a\u0e17\u0e35\u0e48\u0e04\u0e49\u0e19\u0e2b\u0e32"}):n.map((e=>(0,fn.jsx)("div",{className:"item",children:(0,fn.jsxs)("div",{className:"right",children:[(0,fn.jsx)("div",{className:"info",children:(0,fn.jsx)("h3",{children:e.words.join(", ")})}),(0,fn.jsxs)("div",{className:"manage d-flex",children:[(0,fn.jsx)("div",{className:"edit warning",onClick:()=>(e=>{e&&(l(e.words.join(", ")),d(e._id),s(!0))})(e),style:{paddingRight:"10px"},children:(0,fn.jsx)("h3",{children:"\u0e41\u0e01\u0e49\u0e44\u0e02"})}),(0,fn.jsx)("div",{className:"delete danger",onClick:()=>(e=>{m(e),p(!0)})(e._id),children:(0,fn.jsx)("h3",{children:"\u0e25\u0e1a"})})]})]})},e._id)))})})]})]}),(0,fn.jsxs)(yg,{show:o,onHide:()=>i(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a"})}),(0,fn.jsx)(yg.Body,{children:(0,fn.jsx)("textarea",{placeholder:"\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a1, \u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a2,... ",value:c,onChange:e=>l(e.target.value),className:"form-control"})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>i(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:async n=>{n.preventDefault();const o=c.split(",").map((e=>e.trim())).filter((e=>""!==e));if(0===o.length)return void alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 1 \u0e04\u0e33");const a=e.flatMap((e=>e.words)),s=o.filter((e=>a.includes(e)));if(s.length>0)alert("\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a\u0e40\u0e2b\u0e25\u0e48\u0e32\u0e19\u0e35\u0e49\u0e21\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e41\u0e25\u0e49\u0e27: ".concat(s.join(", ")));else try{const e=await(async e=>{try{return(await ap.post("".concat(JEe,"/badword"),{words:e},{headers:$Ee()})).data}catch(t){throw console.error("Error adding bad word group:",t),t}})(o);t((t=>[...t,e])),r((t=>[...t,e])),l(""),i(!1)}catch(u){console.error("Error adding bad words:",u)}},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]}),(0,fn.jsxs)(yg,{show:a,onHide:()=>s(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a"})}),(0,fn.jsx)(yg.Body,{children:(0,fn.jsx)("textarea",{placeholder:"\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a1,\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a2,...",value:c,onChange:e=>l(e.target.value),className:"form-control"})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>s(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{style:{backgroundColor:"#7380ec",borderColor:"#7380ec",color:"white"},onClick:async e=>{if(e.preventDefault(),!u)return;const n=c.split(",").map((e=>e.trim())).filter((e=>""!==e));if(0!==n.length)try{const e=await(async(e,t)=>{try{return(await ap.put("".concat(JEe,"/badword/").concat(e),{words:t},{headers:$Ee()})).data}catch(n){throw console.error("Error updating bad word group:",n),n}})(u,n);t((t=>t.map((t=>t._id===u?e:t)))),r((t=>t.map((t=>t._id===u?e:t)))),l(""),d(null),s(!1)}catch(o){console.error("Error updating bad words:",o)}else alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 1 \u0e04\u0e33")},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]}),(0,fn.jsxs)(yg,{show:h,onHide:()=>p(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"})}),(0,fn.jsx)(yg.Body,{children:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{variant:"secondary",onClick:()=>p(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{variant:"danger",onClick:()=>{f&&(x(f),p(!1))},children:"\u0e25\u0e1a"})]})]})]})};const QEe=e=>{let{data:t}=e;const n=(0,Z.useRef)(null),r=(0,Z.useRef)(null),[o,i]=(0,Z.useState)([]),[a,s]=(0,Z.useState)("yearly"),[c,l]=(0,Z.useState)((new Date).getFullYear().toString());return(0,Z.useEffect)((()=>{const e=function(e,t,n){const r={};return e&&Array.isArray(e)&&e.forEach((e=>{const o=new Date(e.joinedAt),i=o.getFullYear().toString(),a=o.toLocaleString("default",{month:"short"});if("yearly"===t&&n===i)r[a]=(r[a]||0)+1;else if("monthly"===t){const e=new Date(n);if(o.getFullYear()===e.getFullYear()&&o.getMonth()===e.getMonth()){const e=o.getDate().toString();r[e]=(r[e]||0)+1}}})),Object.keys(r).map((e=>({label:e,count:r[e]}))).sort(((e,t)=>isNaN(parseInt(e.label))?0:parseInt(e.label)-parseInt(t.label)))}(t,a,c);i(e)}),[t,a,c]),(0,Z.useEffect)((()=>{if(n.current&&o.length>0){r.current&&r.current.destroy();const e=n.current.getContext("2d");e&&(r.current=new Dxe(e,{type:"bar",data:{labels:o.map((e=>e.label)),datasets:[{label:"yearly"===a?"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e15\u0e48\u0e2d\u0e40\u0e14\u0e37\u0e2d\u0e19":"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19",data:o.map((e=>e.count)),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{display:!1},ticks:{font:{size:14}}},x:{grid:{display:!1},ticks:{font:{size:14}}}},plugins:{legend:{labels:{font:{size:14}}}}}}))}}),[o]),(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{style:{display:"flex",gap:"10px",margin:"20px",justifyContent:"flex-end"},children:[(0,fn.jsxs)("select",{value:a,onChange:e=>s(e.target.value),style:{backgroundColor:"#7380ec",color:"white",border:"1px solid #5c6bc0",padding:"5px 10px",borderRadius:"5px"},children:[(0,fn.jsx)("option",{value:"yearly",children:"\u0e23\u0e32\u0e22\u0e1b\u0e35"}),(0,fn.jsx)("option",{value:"monthly",children:"\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19"})]}),"yearly"===a?(0,fn.jsx)("select",{value:c,onChange:e=>l(e.target.value),children:Array.from({length:5},((e,t)=>{const n=(new Date).getFullYear()-t;return(0,fn.jsx)("option",{value:n.toString(),children:n},n)}))}):(0,fn.jsx)("input",{type:"month",value:c,onChange:e=>l(e.target.value)})]}),0===o.length?(0,fn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,fn.jsx)("p",{style:{fontSize:"18px",color:"#888"},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})}):(0,fn.jsx)("div",{style:{width:"100%",height:"300px"},children:(0,fn.jsx)("canvas",{ref:n,style:{width:"100%",height:"100%"}})})]})};const e_e=e=>{let{data:t}=e;const n=(0,Z.useRef)(null),r=(0,Z.useRef)(null),[o,i]=(0,Z.useState)([]),[a,s]=(0,Z.useState)("yearly"),[c,l]=(0,Z.useState)((new Date).getFullYear().toString());return(0,Z.useEffect)((()=>{i(function(e,t,n){const r={};return e&&Array.isArray(e)&&e.forEach((e=>{const o=new Date(e.publishedAt),i=o.getFullYear().toString(),a=o.toLocaleString("default",{month:"short"});if("yearly"===t&&n===i)r[a]=(r[a]||0)+1;else if("monthly"===t){const e=new Date(n);if(o.getFullYear()===e.getFullYear()&&o.getMonth()===e.getMonth()){const e=o.getDate().toString();r[e]=(r[e]||0)+1}}})),Object.keys(r).map((e=>({label:e,count:r[e]}))).sort(((e,t)=>isNaN(parseInt(e.label))?0:parseInt(e.label)-parseInt(t.label)))}(t,a,c))}),[t,a,c]),(0,Z.useEffect)((()=>{if(n.current&&o.length>0){r.current&&r.current.destroy();const e=n.current.getContext("2d");e&&(r.current=new Dxe(e,{type:"bar",data:{labels:o.map((e=>e.label)),datasets:[{label:"yearly"===a?"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e15\u0e48\u0e2d\u0e40\u0e14\u0e37\u0e2d\u0e19":"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e15\u0e48\u0e2d\u0e27\u0e31\u0e19",data:o.map((e=>e.count)),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{display:!1},ticks:{font:{size:14}}},x:{grid:{display:!1},ticks:{font:{size:14}}}},plugins:{legend:{labels:{font:{size:14}}}}}}))}}),[o]),(0,fn.jsxs)("div",{children:[(0,fn.jsxs)("div",{style:{display:"flex",gap:"10px",margin:"20px",justifyContent:"flex-end"},children:[(0,fn.jsxs)("select",{value:a,onChange:e=>s(e.target.value),style:{backgroundColor:"#7380ec",color:"white",border:"1px solid #5c6bc0",padding:"5px 10px",borderRadius:"5px"},children:[(0,fn.jsx)("option",{value:"yearly",children:"\u0e23\u0e32\u0e22\u0e1b\u0e35"}),(0,fn.jsx)("option",{value:"monthly",children:"\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19"})]}),"yearly"===a?(0,fn.jsx)("select",{value:c,onChange:e=>l(e.target.value),children:Array.from({length:5},((e,t)=>{const n=(new Date).getFullYear()-t;return(0,fn.jsx)("option",{value:n.toString(),children:n},n)}))}):(0,fn.jsx)("input",{type:"month",value:c,onChange:e=>l(e.target.value)})]}),0===o.length?(0,fn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,fn.jsx)("p",{style:{fontSize:"18px",color:"#888"},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})}):(0,fn.jsx)("div",{style:{width:"100%",height:"300px"},children:(0,fn.jsx)("canvas",{ref:n})})]})},t_e=()=>{const{id:e}=Xe(),{adminId:t}=Xe(),n="http://localhost:3001",r=sessionStorage.getItem("userId"),[o,i]=(0,Z.useState)("user"),[a,s]=(0,Z.useState)(!0),[c,l]=(0,Z.useState)(0),[u,d]=(0,Z.useState)(0),[h,p]=(0,Z.useState)(0),[f,m]=(0,Z.useState)(),[g,y]=(0,Z.useState)(),[v,b]=(0,Z.useState)(),[x,w]=(0,Z.useState)("dashboard"),[k,S]=(0,Z.useState)("blog-all"),[C,E]=(0,Z.useState)("blog-success"),[_,T]=(0,Z.useState)([]),[N,I]=(0,Z.useState)(!1),[A,O]=(0,Z.useState)(null),[R,M]=(0,Z.useState)([]),[j,P]=(0,Z.useState)([]),[D,L]=(0,Z.useState)([]),[F,B]=(0,Z.useState)("Dashboard"),z=qe();(0,Z.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("user")||"{}"),t=null===e||void 0===e?void 0:e.access_token;if(!t)return void z("/admin/login");(async()=>{try{const e=await ap.get("".concat(n,"/login/auth"),{headers:{Authorization:"Bearer ".concat(t)}});console.log("Authentication successful:",e.data)}catch(e){sessionStorage.clear(),console.error(e),z("/admin/login")}})()}),[z]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat(n,"/api/report"));T(e.data)}catch(e){console.error("Error fetching reports:",e)}})()}),[]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat(n,"/profile/within24hour")),t=await ap.get("".concat(n,"/profile"));M(e.data),P(t.data)}catch(e){console.error("Error fetching reports:",e)}})()}),[]),(0,Z.useEffect)((()=>{const e=document.querySelector("aside"),t=document.querySelector("#menu-btn"),n=document.querySelector("#close"),r=document.querySelector(".theme-toggler");if(t&&n&&e&&r){const o=()=>{e.style.display="block"},i=()=>{e.style.display="none"},a=()=>{var e,t;document.body.classList.toggle("dark-theme-variables"),null===r||void 0===r||null===(e=r.querySelector("svg:nth-child(1)"))||void 0===e||e.classList.toggle("active"),null===r||void 0===r||null===(t=r.querySelector("svg:nth-child(2)"))||void 0===t||t.classList.toggle("active")};return r.addEventListener("click",a),t.addEventListener("click",o),n.addEventListener("click",i),()=>{r.removeEventListener("click",a),t.removeEventListener("click",o),n.removeEventListener("click",i)}}}),[x]),(0,Z.useEffect)((()=>{"dashboard"===x?B("Dashboard"):"manage-report"===x?B("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e25\u0e47\u0e2d\u0e01"):"manage-q"===x?B("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e16\u0e32\u0e21"):"manage-user"===x?B("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"):"manage-cate"===x?B("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"):"manage-badwords"===x&&B("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a")}),[x,o]),(0,Z.useEffect)((()=>{(async()=>{try{if(e){const t=await zhe(e);s(t)}}catch(t){console.error("Error fetching profile data:",t)}})()}),[e]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await(async()=>{const e=sessionStorage.getItem("userId");if(!e)return void console.error("No token found, redirecting to login...");const t=await fetch("".concat("http://localhost:3001","/admin/users"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to fetch users");return await t.json()})(),t=(await(async()=>{const e=sessionStorage.getItem("userId");if(!e)return void console.error("No token found, redirecting to login...");const t=await fetch("".concat("http://localhost:3001","/admin/blogs/within24hour"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to fetch users");return await t.json()})(),await Vhe()),n=await(async()=>{const e=sessionStorage.getItem("userId");if(!e)return void console.error("No token found, redirecting to login...");const t=await fetch("".concat("http://localhost:3001","/profile"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("Failed to fetch users");return await t.json()})(),r=await Uhe(),o=r.reduce(((e,t)=>e+t.total_reads),0);m(n),y(t),l(e),d(t.length),p(o);const i=(e=>{const t=[{month:"January",publishedAt:0},{month:"February",publishedAt:0},{month:"March",publishedAt:0},{month:"April",publishedAt:0},{month:"May",publishedAt:0},{month:"June",publishedAt:0},{month:"July",publishedAt:0},{month:"August",publishedAt:0},{month:"September",publishedAt:0},{month:"October",publishedAt:0},{month:"November",publishedAt:0},{month:"December",publishedAt:0}];return e.forEach((e=>{const n=new Date(Date.parse(e.month+" 1, 2024")).getMonth();n>=0&&n<12&&(t[n].publishedAt+=e.total_reads)})),t})(r);L(i)}catch(e){console.error("Error fetching user count:",e)}})()}),[]);const U=async()=>{try{const e=await ap.get("".concat(n,"/api/report"));T(e.data)}catch(e){console.error("Error fetching reports:",e)}};(0,Z.useEffect)((()=>{U()}),[]),(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat(n,"/views"));b(e.data)}catch(e){console.error("Error fetching reports:",e)}})()}),[]);const V=e=>{w(e)},[W,H]=(0,Z.useState)(!1),[G,K]=(0,Z.useState)([{month:"January",joinAt:0},{month:"February",joinAt:0},{month:"March",joinAt:0},{month:"April",joinAt:0},{month:"May",joinAt:0},{month:"June",joinAt:0},{month:"July",joinAt:0},{month:"August",joinAt:0},{month:"September",joinAt:0},{month:"October",joinAt:0},{month:"November",joinAt:0},{month:"December",joinAt:0}]);(0,Z.useEffect)((()=>{if(f&&f.length>0){const e=[...G];f.forEach((t=>{const n=new Date(t.joinedAt).getUTCMonth();e[n].joinAt+=1})),K(e)}}),[f]);G.map((e=>e.month)),null===G||void 0===G||G.map((e=>e.joinAt));return(0,fn.jsx)("div",{className:"adminHome adminProfile",children:(0,fn.jsxs)("div",{className:"contain",children:[(0,fn.jsxs)("aside",{children:[(0,fn.jsxs)("div",{className:"top",children:[(0,fn.jsx)("div",{className:"logo",children:(0,fn.jsx)("img",{src:Yt,alt:""})}),(0,fn.jsx)("div",{id:"close",children:(0,fn.jsx)(Yhe,{})})]}),(0,fn.jsxs)("div",{className:"sidebar",children:[(0,fn.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),V("dashboard")},className:"dashboard"===x?"active":"",children:[(0,fn.jsx)(Lhe,{}),(0,fn.jsx)("h3",{children:"Dashboard"})]}),(0,fn.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),V("average")},className:"average"===x?"active":"",children:[(0,fn.jsx)(Phe,{}),(0,fn.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e25\u0e47\u0e2d\u0e01"})]}),(0,fn.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),V("manage-q")},className:"manage-q"===x?"active":"",children:[(0,fn.jsx)(jp,{}),(0,fn.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e16\u0e32\u0e21"})]}),(0,fn.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),V("manage-user")},className:"manage-user"===x?"active":"",children:[(0,fn.jsx)(vp,{}),(0,fn.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"})]}),(0,fn.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),V("manage-cate")},className:"manage-cate"===x?"active":"",children:[(0,fn.jsx)(Sp,{}),(0,fn.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"})]}),(0,fn.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),V("manage-badwords")},className:"manage-badwords"===x?"active":"",children:[(0,fn.jsx)(Dhe,{}),(0,fn.jsx)("h3",{children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a"})]}),(0,fn.jsxs)(cn,{to:"/admin/login",children:[(0,fn.jsx)(Fhe,{}),(0,fn.jsx)("h3",{children:"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a"})]})]})]}),(0,fn.jsxs)("div",{className:"content-container",children:[(0,fn.jsx)("div",{className:"header-profile-admin",style:{marginBottom:"0"},children:(0,fn.jsxs)("div",{className:"header-content",children:[(0,fn.jsxs)("div",{className:"title-container",children:[(0,fn.jsx)("h1",{}),(0,fn.jsx)("div",{className:"date"})]}),(0,fn.jsxs)("div",{className:"profile-theme",children:[(0,fn.jsx)("button",{id:"menu-btn",children:(0,fn.jsx)(jhe,{})}),(0,fn.jsxs)("div",{className:"theme-toggler",children:[(0,fn.jsx)(wp,{className:"active"}),(0,fn.jsx)(xp,{})]}),a&&(0,fn.jsxs)("div",{className:"profile",onClick:()=>{z("/admin/".concat(t,"/profile"))},children:[(0,fn.jsx)("div",{className:"info",children:(0,fn.jsxs)("p",{style:{fontSize:"14px",marginTop:"30px"},children:["Hello, ",(0,fn.jsx)("b",{children:r})]})}),(0,fn.jsx)("div",{className:"profile-photo",style:{marginTop:"15px"},children:(0,fn.jsx)("img",{src:Xhe,alt:"Profile"})})]})]})]})}),"dashboard"===x&&(0,fn.jsx)("div",{className:"main1",children:(0,fn.jsxs)("div",{className:"dashboard-container",children:[(0,fn.jsx)("h2",{style:{fontSize:"1.8rem",fontWeight:"800",marginTop:"2rem"},children:"Dashboard"}),(0,fn.jsxs)("div",{className:"insights",children:[(0,fn.jsxs)("div",{className:"user-all ".concat("user"===o?"active":""),onClick:()=>i("user"),style:{position:"relative",cursor:"pointer",backgroundColor:"user"===o?"#9fa8f6":"transparent",color:"user"===o?"white":"black"},children:[(0,fn.jsx)(Ghe,{className:"svg1"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("h1",{children:c})]})})]}),(0,fn.jsxs)("div",{className:"blogpost-all ".concat("blog"===o?"active":""),onClick:()=>i("blog"),style:{position:"relative",cursor:"pointer",backgroundColor:"blog"===o?"#9fa8f6":"transparent",color:"blog"===o?"white":"black"},children:[(0,fn.jsx)(Vt,{className:"svg3"}),(0,fn.jsx)("div",{className:"middle",children:(0,fn.jsxs)("div",{className:"left",children:[(0,fn.jsx)("h3",{children:"\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("h1",{children:u})]})})]})]}),(0,fn.jsxs)("div",{className:"chart-container",children:["user"===o&&(0,fn.jsx)(QEe,{data:f}),"blog"===o&&(0,fn.jsx)(e_e,{data:g})]})]})}),"manage-report"===x&&(0,fn.jsx)(Lxe,{}),"manage-user"===x&&(0,fn.jsx)(epe,{users:R,allUsers:j}),"manage-q"===x&&(0,fn.jsx)(XEe,{}),"manage-cate"===x&&(0,fn.jsx)(Fxe,{blogsData:g}),"manage-badwords"===x&&(0,fn.jsx)(ZEe,{})]})]})})},n_e=()=>(0,fn.jsxs)("div",{className:"footer",children:[(0,fn.jsx)("section",{className:"contact",children:(0,fn.jsxs)("div",{className:"contact-info",children:[(0,fn.jsxs)("div",{className:"first-info",children:[(0,fn.jsx)("img",{src:Yt,alt:""}),(0,fn.jsxs)("p",{children:["Final Project, ",(0,fn.jsx)("br",{})," College of Computing Khon Kaen University"]}),(0,fn.jsx)("p",{children:"Chalita.sak@kkumail.com"}),(0,fn.jsx)("p",{children:"Piyarat.up@kkumail.com"}),(0,fn.jsxs)("div",{className:"social-icon",children:[(0,fn.jsx)("a",{href:"",children:(0,fn.jsx)(cp,{})}),(0,fn.jsx)("a",{href:"",children:(0,fn.jsx)(bp,{})}),(0,fn.jsx)("a",{href:"",children:(0,fn.jsx)(Tt,{})}),(0,fn.jsx)("a",{href:"",children:(0,fn.jsx)(_t,{})})]})]}),(0,fn.jsxs)("div",{className:"second-info",children:[(0,fn.jsx)("h4",{children:"Support"}),(0,fn.jsx)("p",{children:"Contact us"}),(0,fn.jsx)("p",{children:"About page"}),(0,fn.jsx)("p",{children:"Size Guide"}),(0,fn.jsx)("p",{children:"Privacy"})]}),(0,fn.jsxs)("div",{className:"third-info",children:[(0,fn.jsx)("h4",{children:"Infomation"}),(0,fn.jsx)("p",{children:"Contact us"}),(0,fn.jsx)("p",{children:"About page"}),(0,fn.jsx)("p",{children:"Size Guide"}),(0,fn.jsx)("p",{children:"Shopping & Resturns"}),(0,fn.jsx)("p",{children:"Privacy"})]}),(0,fn.jsxs)("div",{className:"fourth-info",children:[(0,fn.jsx)("h4",{children:"Categoriest"}),(0,fn.jsx)("p",{children:"\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b"}),(0,fn.jsx)("p",{children:"\u0e02\u0e48\u0e32\u0e27\u0e1b\u0e23\u0e30\u0e0a\u0e32\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e19\u0e18\u0e4c"}),(0,fn.jsx)("p",{children:"\u0e01\u0e32\u0e23\u0e28\u0e36\u0e01\u0e29\u0e32"}),(0,fn.jsx)("p",{children:"\u0e19\u0e49\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48"})]}),(0,fn.jsxs)("div",{className:"five",children:[(0,fn.jsx)("h4",{children:"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e40\u0e23\u0e32"}),(0,fn.jsx)("p",{children:"\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e17\u0e32\u0e07\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48, \u0e42\u0e0b\u0e40\u0e0a\u0e35\u0e22\u0e25\u0e21\u0e35\u0e40\u0e14\u0e35\u0e22 \u0e2b\u0e23\u0e37\u0e2d\u0e41\u0e1e\u0e25\u0e15\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e17\u0e35\u0e48\u0e40\u0e23\u0e32\u0e41\u0e08\u0e49\u0e07\u0e14\u0e49\u0e32\u0e19\u0e25\u0e48\u0e32\u0e07"}),(0,fn.jsx)("p",{children:"Have a good Day!"})]})]})}),(0,fn.jsx)("div",{className:"end-text",children:(0,fn.jsxs)("p",{children:["Copyright ",(0,fn.jsx)(_p,{})," @2023. All Rights Reserved.Design By IT37."]})})]});var r_e=n(8168);function o_e(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=o_e(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const i_e=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=o_e(e))&&(r&&(r+=" "),r+=t);return r},a_e=e=>e,s_e=(()=>{let e=a_e;return{configure(t){e=t},generate:t=>e(t),reset(){e=a_e}}})(),c_e=s_e,l_e={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function u_e(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=l_e[t];return r?"".concat(n,"-").concat(r):"".concat(c_e.generate(e),"-").concat(t)}function d_e(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var h_e=n(7598);function p_e(e,t){const n=(0,r_e.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,r_e.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},i&&Object.keys(i)?o&&Object.keys(o)?(n[r]=(0,r_e.A)({},i),Object.keys(o).forEach((e=>{n[r][e]=p_e(o[e],i[e])}))):n[r]=i:n[r]=o}else void 0===n[r]&&(n[r]=e[r])})),n}var f_e=n(4040),m_e=n(5756);const g_e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Z.useContext(m_e.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},y_e=(0,f_e.A)();const v_e=function(){return g_e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:y_e)};function b_e(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,i=v_e(r);o&&(i=i[o]||i);const a=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?p_e(t.components[n].defaultProps,r):r}({theme:i,name:n,props:t});return a}var x_e=n(5080),w_e=n(9172),k_e=n(6785);const S_e=["ownerState"],C_e=["variants"],E_e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function __e(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const T_e=(0,f_e.A)(),N_e=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function I_e(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function A_e(e){return e?(t,n)=>n[e]:null}function O_e(e,t){let{ownerState:n}=t,r=(0,Bn.A)(t,S_e);const o="function"===typeof e?e((0,r_e.A)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>O_e(e,(0,r_e.A)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,Bn.A)(o,C_e);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,r_e.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,r_e.A)({ownerState:n},r,n)):e.style))})),t}return o}const R_e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=T_e,rootShouldForwardProp:r=__e,slotShouldForwardProp:o=__e}=e,i=e=>(0,k_e.A)((0,r_e.A)({},e,{theme:I_e((0,r_e.A)({},e,{defaultTheme:n,themeId:t}))}));return i.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,x_e.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:c,skipVariantsResolver:l,skipSx:u,overridesResolver:d=A_e(N_e(c))}=a,h=(0,Bn.A)(a,E_e),p=void 0!==l?l:c&&"Root"!==c&&"root"!==c||!1,f=u||!1;let m=__e;"Root"===c||"root"===c?m=r:c?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,x_e.default)(e,(0,r_e.A)({shouldForwardProp:m,label:undefined},h)),y=e=>"function"===typeof e&&e.__emotion_real!==e||(0,w_e.Q)(e)?r=>O_e(e,(0,r_e.A)({},r,{theme:I_e({theme:r.theme,defaultTheme:n,themeId:t})})):e,v=function(r){let o=y(r);for(var a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];const u=c?c.map(y):[];s&&d&&u.push((e=>{const r=I_e((0,r_e.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const o=r.components[s].styleOverrides,i={};return Object.entries(o).forEach((t=>{let[n,o]=t;i[n]=O_e(o,(0,r_e.A)({},e,{theme:r}))})),d(e,i)})),s&&!p&&u.push((e=>{var r;const o=I_e((0,r_e.A)({},e,{defaultTheme:n,themeId:t}));return O_e({variants:null==o||null==(r=o.components)||null==(r=r[s])?void 0:r.variants},(0,r_e.A)({},e,{theme:o}))})),f||u.push(i);const h=u.length-c.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=g(o,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(v.withConfig=g.withConfig),v}}(),M_e=R_e,j_e=["className","component","disableGutters","fixed","maxWidth","classes"],P_e=(0,f_e.A)(),D_e=M_e("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,h_e.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),L_e=e=>b_e({props:e,name:"MuiContainer",defaultTheme:P_e});const F_e=h_e.A;var B_e=n(8087),z_e=n(7868),U_e=n(2036);var V_e=n(61);const W_e={black:"#000",white:"#fff"},H_e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},G_e={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},K_e={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},q_e={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Y_e={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},X_e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},J_e={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},$_e=["mode","contrastThreshold","tonalOffset"],Z_e={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:W_e.white,default:W_e.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Q_e={text:{primary:W_e.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:W_e.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function eTe(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,V_e.a)(e.main,o):"dark"===t&&(e.dark=(0,V_e.e$)(e.main,i)))}function tTe(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=(0,Bn.A)(e,$_e),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Y_e[200],light:Y_e[50],dark:Y_e[400]}:{main:Y_e[700],light:Y_e[400],dark:Y_e[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:G_e[200],light:G_e[50],dark:G_e[400]}:{main:G_e[500],light:G_e[300],dark:G_e[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:K_e[500],light:K_e[300],dark:K_e[700]}:{main:K_e[700],light:K_e[400],dark:K_e[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:X_e[400],light:X_e[300],dark:X_e[700]}:{main:X_e[700],light:X_e[500],dark:X_e[900]}}(t),l=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:J_e[400],light:J_e[300],dark:J_e[700]}:{main:J_e[800],light:J_e[500],dark:J_e[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:q_e[400],light:q_e[300],dark:q_e[700]}:{main:"#ed6c02",light:q_e[500],dark:q_e[900]}}(t);function d(e){return(0,V_e.eM)(e,Q_e.text.primary)>=n?Q_e.text.primary:Z_e.text.primary}const h=e=>{let{color:t,name:n,mainShade:o=500,lightShade:i=300,darkShade:a=700}=e;if(t=(0,r_e.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,z_e.A)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,z_e.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return eTe(t,"light",i,r),eTe(t,"dark",a,r),t.contrastText||(t.contrastText=d(t.main)),t},p={dark:Q_e,light:Z_e};return(0,w_e.A)((0,r_e.A)({common:(0,r_e.A)({},W_e),mode:t,primary:h({color:i,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:c,name:"info"}),success:h({color:l,name:"success"}),grey:H_e,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[t]),o)}const nTe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function rTe(e){return Math.round(1e5*e)/1e5}const oTe={textTransform:"uppercase"},iTe='"Roboto", "Helvetica", "Arial", sans-serif';function aTe(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=iTe,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:c=700,htmlFontSize:l=16,allVariants:u,pxToRem:d}=n,h=(0,Bn.A)(n,nTe);const p=o/14,f=d||(e=>"".concat(e/l*p,"rem")),m=(e,t,n,o,i)=>(0,r_e.A)({fontFamily:r,fontWeight:e,fontSize:f(t),lineHeight:n},r===iTe?{letterSpacing:"".concat(rTe(o/t),"em")}:{},i,u),g={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(s,14,1.75,.4,oTe),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,oTe),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,w_e.A)((0,r_e.A)({htmlFontSize:l,pxToRem:f,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:c},g),h,{clone:!1})}function sTe(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const cTe=["none",sTe(0,2,1,-1,0,1,1,0,0,1,3,0),sTe(0,3,1,-2,0,2,2,0,0,1,5,0),sTe(0,3,3,-2,0,3,4,0,0,1,8,0),sTe(0,2,4,-1,0,4,5,0,0,1,10,0),sTe(0,3,5,-1,0,5,8,0,0,1,14,0),sTe(0,3,5,-1,0,6,10,0,0,1,18,0),sTe(0,4,5,-2,0,7,10,1,0,2,16,1),sTe(0,5,5,-3,0,8,10,1,0,3,14,2),sTe(0,5,6,-3,0,9,12,1,0,3,16,2),sTe(0,6,6,-3,0,10,14,1,0,4,18,3),sTe(0,6,7,-4,0,11,15,1,0,4,20,3),sTe(0,7,8,-4,0,12,17,2,0,5,22,4),sTe(0,7,8,-4,0,13,19,2,0,5,24,4),sTe(0,7,9,-4,0,14,21,2,0,5,26,4),sTe(0,8,9,-5,0,15,22,2,0,6,28,5),sTe(0,8,10,-5,0,16,24,2,0,6,30,5),sTe(0,8,11,-5,0,17,26,2,0,6,32,5),sTe(0,9,11,-5,0,18,28,2,0,7,34,6),sTe(0,9,12,-6,0,19,29,2,0,7,36,6),sTe(0,10,13,-6,0,20,31,3,0,8,38,7),sTe(0,10,13,-6,0,21,33,3,0,8,40,7),sTe(0,10,14,-6,0,22,35,3,0,8,42,7),sTe(0,11,14,-7,0,23,36,3,0,9,44,8),sTe(0,11,15,-7,0,24,38,3,0,9,46,8)],lTe=["duration","easing","delay"],uTe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dTe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hTe(e){return"".concat(Math.round(e),"ms")}function pTe(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function fTe(e){const t=(0,r_e.A)({},uTe,e.easing),n=(0,r_e.A)({},dTe,e.duration);return(0,r_e.A)({getAutoHeightDuration:pTe,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:a=0}=r;(0,Bn.A)(r,lTe);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:hTe(o)," ").concat(i," ").concat("string"===typeof a?a:hTe(a)))).join(",")}},e,{easing:t,duration:n})}const mTe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gTe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function yTe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:o={}}=e,i=(0,Bn.A)(e,gTe);if(e.vars)throw new Error((0,z_e.A)(18));const a=tTe(n),s=(0,f_e.A)(e);let c=(0,w_e.A)(s,{mixins:(l=s.breakpoints,u=t,(0,r_e.A)({toolbar:{minHeight:56,[l.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[l.up("sm")]:{minHeight:64}}},u)),palette:a,shadows:cTe.slice(),typography:aTe(a,o),transitions:fTe(r),zIndex:(0,r_e.A)({},mTe)});var l,u;c=(0,w_e.A)(c,i);for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return c=h.reduce(((e,t)=>(0,w_e.A)(e,t)),c),c.unstable_sxConfig=(0,r_e.A)({},U_e.A,null==i?void 0:i.unstable_sxConfig),c.unstable_sx=function(e){return(0,k_e.A)({sx:e,theme:this})},c}const vTe=yTe,bTe=vTe(),xTe="$$material";const wTe=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},kTe=e=>wTe(e)&&"classes"!==e,STe=(0,B_e.Ay)({themeId:xTe,defaultTheme:bTe,rootShouldForwardProp:kTe}),CTe=Z.createContext(void 0);function ETe(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?p_e(o.defaultProps,r):o.styleOverrides||o.variants?r:p_e(o,r)}({props:t,name:n,theme:{components:Z.useContext(CTe)}})}function _Te(e){return ETe(e)}const TTe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=D_e,useThemeProps:n=L_e,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return(0,r_e.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,r_e.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),i=Z.forwardRef((function(e,t){const i=n(e),{className:a,component:s="div",disableGutters:c=!1,fixed:l=!1,maxWidth:u="lg"}=i,d=(0,Bn.A)(i,j_e),h=(0,r_e.A)({},i,{component:s,disableGutters:c,fixed:l,maxWidth:u}),p=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:i}=e;return d_e({root:["root",i&&"maxWidth".concat((0,h_e.A)(String(i))),r&&"fixed",o&&"disableGutters"]},(e=>u_e(t,e)),n)})(h,r);return(0,fn.jsx)(o,(0,r_e.A)({as:s,ownerState:h,className:i_e(p.root,a),ref:t},d))}));return i}({createStyledComponent:STe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(F_e(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>_Te({props:e,name:"MuiContainer"})}),NTe=TTe;function ITe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){"function"===typeof e?e(t):e&&(e.current=t)}(t,e)}))}),t)}const ATe=ITe,OTe="undefined"!==typeof window?Z.useLayoutEffect:Z.useEffect;const RTe=function(e){const t=Z.useRef(e);return OTe((()=>{t.current=e})),Z.useRef((function(){return(0,t.current)(...arguments)})).current},MTe=RTe,jTe={};const PTe=[];class DTe{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new DTe}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function LTe(){const e=function(e,t){const n=Z.useRef(jTe);return n.current===jTe&&(n.current=e(t)),n}(DTe.create).current;return function(e){Z.useEffect(e,PTe)}(e.disposeEffect),e}let FTe=!0,BTe=!1;const zTe=new DTe,UTe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function VTe(e){e.metaKey||e.altKey||e.ctrlKey||(FTe=!0)}function WTe(){FTe=!1}function HTe(){"hidden"===this.visibilityState&&BTe&&(FTe=!0)}function GTe(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return FTe||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!UTe[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const KTe=function(){const e=Z.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",VTe,!0),t.addEventListener("mousedown",WTe,!0),t.addEventListener("pointerdown",WTe,!0),t.addEventListener("touchstart",WTe,!0),t.addEventListener("visibilitychange",HTe,!0))}),[]),t=Z.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!GTe(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(BTe=!0,zTe.start(100,(()=>{BTe=!1})),t.current=!1,!0)},ref:e}};function qTe(e,t){var n=Object.create(null);return e&&Z.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,Z.isValidElement)(e)?t(e):e}(e)})),n}function YTe(e,t,n){return null!=n[t]?n[t]:e.props[t]}function XTe(e,t,n){var r=qTe(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var c in t){if(o[c])for(r=0;r<o[c].length;r++){var l=o[c][r];s[o[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,r);return Object.keys(o).forEach((function(i){var a=o[i];if((0,Z.isValidElement)(a)){var s=i in t,c=i in r,l=t[i],u=(0,Z.isValidElement)(l)&&!l.props.in;!c||s&&!u?c||!s||u?c&&s&&(0,Z.isValidElement)(l)&&(o[i]=(0,Z.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:YTe(a,"exit",e),enter:YTe(a,"enter",e)})):o[i]=(0,Z.cloneElement)(a,{in:!1}):o[i]=(0,Z.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:YTe(a,"exit",e),enter:YTe(a,"enter",e)})}})),o}var JTe=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},$Te=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}xm(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,qTe(n.children,(function(e){return(0,Z.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:YTe(e,"appear",n),enter:YTe(e,"enter",n),exit:YTe(e,"exit",n)})}))):XTe(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=qTe(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r_e.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,Bn.A)(e,["component","childFactory"]),o=this.state.contextValue,i=JTe(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?Z.createElement(km.Provider,{value:o},i):Z.createElement(km.Provider,{value:o},Z.createElement(t,r,i))},t}(Z.Component);$Te.propTypes={},$Te.defaultProps={component:"div",childFactory:function(e){return e}};const ZTe=$Te;var QTe=n(3290);const eNe=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:a,in:s,onExited:c,timeout:l}=e,[u,d]=Z.useState(!1),h=i_e(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:a,height:a,top:-a/2+i,left:-a/2+o},f=i_e(n.child,u&&n.childLeaving,r&&n.childPulsate);return s||u||d(!0),Z.useEffect((()=>{if(!s&&null!=c){const e=setTimeout(c,l);return()=>{clearTimeout(e)}}}),[c,s,l]),(0,fn.jsx)("span",{className:h,style:p,children:(0,fn.jsx)("span",{className:f})})};function tNe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=u_e(e,t,n)})),r}const nNe=tNe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var rNe,oNe,iNe,aNe;const sNe=["center","classes","className"];let cNe,lNe,uNe,dNe;const hNe=(0,QTe.i7)(cNe||(cNe=rNe||(rNe=aw(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),pNe=(0,QTe.i7)(lNe||(lNe=oNe||(oNe=aw(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),fNe=(0,QTe.i7)(uNe||(uNe=iNe||(iNe=aw(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),mNe=STe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),gNe=STe(eNe,{name:"MuiTouchRipple",slot:"Ripple"})(dNe||(dNe=aNe||(aNe=aw(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),nNe.rippleVisible,hNe,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nNe.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),nNe.child,nNe.childLeaving,pNe,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nNe.childPulsate,fNe,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),yNe=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:i}=n,a=(0,Bn.A)(n,sNe),[s,c]=Z.useState([]),l=Z.useRef(0),u=Z.useRef(null);Z.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[s]);const d=Z.useRef(!1),h=LTe(),p=Z.useRef(null),f=Z.useRef(null),m=Z.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;c((e=>[...e,(0,fn.jsx)(gNe,{classes:{ripple:i_e(o.ripple,nNe.ripple),rippleVisible:i_e(o.rippleVisible,nNe.rippleVisible),ripplePulsate:i_e(o.ripplePulsate,nNe.ripplePulsate),child:i_e(o.child,nNe.child),childLeaving:i_e(o.childLeaving,nNe.childLeaving),childPulsate:i_e(o.childPulsate,nNe.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},l.current)])),l.current+=1,u.current=a}),[o]),g=Z.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:o=!1,center:i=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&d.current)return void(d.current=!1);"touchstart"===(null==e?void 0:e.type)&&(d.current=!0);const s=a?null:f.current,c=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let l,u,g;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(c.width/2),u=Math.round(c.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;l=Math.round(t-c.left),u=Math.round(n-c.top)}if(i)g=Math.sqrt((2*c.width**2+c.height**2)/3),g%2===0&&(g+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-l),l)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;g=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{m({pulsate:o,rippleX:l,rippleY:u,rippleSize:g,cb:n})},h.start(80,(()=>{p.current&&(p.current(),p.current=null)}))):m({pulsate:o,rippleX:l,rippleY:u,rippleSize:g,cb:n})}),[r,m,h]),y=Z.useCallback((()=>{g({},{pulsate:!0})}),[g]),v=Z.useCallback(((e,t)=>{if(h.clear(),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void h.start(0,(()=>{v(e,t)}));p.current=null,c((e=>e.length>0?e.slice(1):e)),u.current=t}),[h]);return Z.useImperativeHandle(t,(()=>({pulsate:y,start:g,stop:v})),[y,g,v]),(0,fn.jsx)(mNe,(0,r_e.A)({className:i_e(nNe.root,o.root,i),ref:f},a,{children:(0,fn.jsx)(ZTe,{component:null,exit:!0,children:s})}))})),vNe=yNe;function bNe(e){return u_e("MuiButtonBase",e)}const xNe=tNe("MuiButtonBase",["root","disabled","focusVisible"]),wNe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],kNe=STe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(xNe.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),SNe=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:i,className:a,component:s="button",disabled:c=!1,disableRipple:l=!1,disableTouchRipple:u=!1,focusRipple:d=!1,LinkComponent:h="a",onBlur:p,onClick:f,onContextMenu:m,onDragLeave:g,onFocus:y,onFocusVisible:v,onKeyDown:b,onKeyUp:x,onMouseDown:w,onMouseLeave:k,onMouseUp:S,onTouchEnd:C,onTouchMove:E,onTouchStart:_,tabIndex:T=0,TouchRippleProps:N,touchRippleRef:I,type:A}=n,O=(0,Bn.A)(n,wNe),R=Z.useRef(null),M=Z.useRef(null),j=ATe(M,I),{isFocusVisibleRef:P,onFocus:D,onBlur:L,ref:F}=KTe(),[B,z]=Z.useState(!1);c&&B&&z(!1),Z.useImperativeHandle(r,(()=>({focusVisible:()=>{z(!0),R.current.focus()}})),[]);const[U,V]=Z.useState(!1);Z.useEffect((()=>{V(!0)}),[]);const W=U&&!l&&!c;function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return MTe((r=>{t&&t(r);return!n&&M.current&&M.current[e](r),!0}))}Z.useEffect((()=>{B&&d&&!l&&U&&M.current.pulsate()}),[l,d,B,U]);const G=H("start",w),K=H("stop",m),q=H("stop",g),Y=H("stop",S),X=H("stop",(e=>{B&&e.preventDefault(),k&&k(e)})),J=H("start",_),$=H("stop",C),Q=H("stop",E),ee=H("stop",(e=>{L(e),!1===P.current&&z(!1),p&&p(e)}),!1),te=MTe((e=>{R.current||(R.current=e.currentTarget),D(e),!0===P.current&&(z(!0),v&&v(e)),y&&y(e)})),ne=()=>{const e=R.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},re=Z.useRef(!1),oe=MTe((e=>{d&&!re.current&&B&&M.current&&" "===e.key&&(re.current=!0,M.current.stop(e,(()=>{M.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),b&&b(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),f&&f(e))})),ie=MTe((e=>{d&&" "===e.key&&M.current&&B&&!e.defaultPrevented&&(re.current=!1,M.current.stop(e,(()=>{M.current.pulsate(e)}))),x&&x(e),f&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&f(e)}));let ae=s;"button"===ae&&(O.href||O.to)&&(ae=h);const se={};"button"===ae?(se.type=void 0===A?"button":A,se.disabled=c):(O.href||O.to||(se.role="button"),c&&(se["aria-disabled"]=c));const ce=ATe(t,F,R);const le=(0,r_e.A)({},n,{centerRipple:o,component:s,disabled:c,disableRipple:l,disableTouchRipple:u,focusRipple:d,tabIndex:T,focusVisible:B}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=d_e({root:["root",t&&"disabled",n&&"focusVisible"]},bNe,o);return n&&r&&(i.root+=" ".concat(r)),i})(le);return(0,fn.jsxs)(kNe,(0,r_e.A)({as:ae,className:i_e(ue.root,a),ownerState:le,onBlur:ee,onClick:f,onContextMenu:K,onFocus:te,onKeyDown:oe,onKeyUp:ie,onMouseDown:G,onMouseLeave:X,onMouseUp:Y,onDragLeave:q,onTouchEnd:$,onTouchMove:Q,onTouchStart:J,ref:ce,tabIndex:c?-1:T,type:A},se,O,{children:[i,W?(0,fn.jsx)(vNe,(0,r_e.A)({ref:j,center:o},N)):null]}))})),CNe=SNe;function ENe(e){return u_e("MuiIconButton",e)}const _Ne=tNe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),TNe=["edge","children","className","color","disabled","disableFocusRipple","size"],NNe=STe(CNe,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(F_e(n.color))],n.edge&&t["edge".concat(F_e(n.edge))],t["size".concat(F_e(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r_e.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,V_e.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,r_e.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,r_e.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,r_e.A)({},o&&{backgroundColor:t.vars?"rgba(".concat(o.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,V_e.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(_Ne.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),INe=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:i,color:a="default",disabled:s=!1,disableFocusRipple:c=!1,size:l="medium"}=n,u=(0,Bn.A)(n,TNe),d=(0,r_e.A)({},n,{edge:r,color:a,disabled:s,disableFocusRipple:c,size:l}),h=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:i}=e;return d_e({root:["root",n&&"disabled","default"!==r&&"color".concat(F_e(r)),o&&"edge".concat(F_e(o)),"size".concat(F_e(i))]},ENe,t)})(d);return(0,fn.jsx)(NNe,(0,r_e.A)({className:i_e(h.root,i),centerRipple:!0,focusRipple:!c,disabled:s,ref:t},u,{ownerState:d,children:o}))})),ANe=INe;var ONe=n(1989);const RNe=["className","component"];const MNe=tNe("MuiBox",["root"]),jNe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,i=(0,x_e.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(k_e.A),a=Z.forwardRef((function(e,a){const s=v_e(n),c=(0,ONe.A)(e),{className:l,component:u="div"}=c,d=(0,Bn.A)(c,RNe);return(0,fn.jsx)(i,(0,r_e.A)({as:u,ref:a,className:i_e(l,o?o(r):r),theme:t&&s[t]||s},d))}));return a}({themeId:xTe,defaultTheme:vTe(),defaultClassName:MNe.root,generateClassName:c_e.generate}),PNe=jNe;function DNe(e){return u_e("MuiTypography",e)}tNe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const LNe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],FNe=STe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(F_e(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r_e.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),BNe={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},zNe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},UNe=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiTypography"}),r=(e=>zNe[e]||e)(n.color),o=(0,ONe.A)((0,r_e.A)({},n,{color:r})),{align:i="inherit",className:a,component:s,gutterBottom:c=!1,noWrap:l=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=BNe}=o,p=(0,Bn.A)(o,LNe),f=(0,r_e.A)({},o,{align:i,color:r,className:a,component:s,gutterBottom:c,noWrap:l,paragraph:u,variant:d,variantMapping:h}),m=s||(u?"p":h[d]||BNe[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e;return d_e({root:["root",i,"inherit"!==e.align&&"align".concat(F_e(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},DNe,a)})(f);return(0,fn.jsx)(FNe,(0,r_e.A)({as:m,ref:t,ownerState:f,className:i_e(g.root,a)},p))})),VNe=UNe;const WNe=function(e){return"string"===typeof e};const HNe=function(e,t,n){return void 0===e||WNe(e)?t:(0,r_e.A)({},t,{ownerState:(0,r_e.A)({},t.ownerState,n)})};const GNe=function(e,t,n){return"function"===typeof e?e(t,n):e};function KNe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=KNe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const qNe=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=KNe(e))&&(r&&(r+=" "),r+=t);return r};const YNe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const XNe=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const JNe=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=qNe(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,r_e.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,r_e.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=YNe((0,r_e.A)({},o,r)),s=XNe(r),c=XNe(o),l=t(a),u=qNe(null==l?void 0:l.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,r_e.A)({},null==l?void 0:l.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),h=(0,r_e.A)({},l,n,c,s);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:l.ref}},$Ne=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ZNe=["component","slots","slotProps"],QNe=["component"];function eIe(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:a,internalForwardedProps:s}=t,c=(0,Bn.A)(t,$Ne),{component:l,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=i,h=(0,Bn.A)(i,ZNe),p=u[e]||r,f=GNe(d[e],o),m=JNe((0,r_e.A)({className:n},c,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=m,v=(0,Bn.A)(m.props,QNe),b=ITe(y,null==f?void 0:f.ref,t.ref),x=a?a(v):{},w=(0,r_e.A)({},o,x),k="root"===e?g||l:g,S=HNe(p,(0,r_e.A)({},"root"===e&&!l&&!u[e]&&s,"root"!==e&&!u[e]&&s,v,k&&{as:k},{ref:b}),w);return Object.keys(x).forEach((e=>{delete S[e]})),[p,S]}const tIe=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function nIe(e){return u_e("MuiPaper",e)}tNe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const rIe=["className","component","elevation","square","variant"],oIe=STe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,r_e.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,r_e.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,V_e.X4)("#fff",tIe(n.elevation)),", ").concat((0,V_e.X4)("#fff",tIe(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),iIe=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:a=!1,variant:s="elevation"}=n,c=(0,Bn.A)(n,rIe),l=(0,r_e.A)({},n,{component:o,elevation:i,square:a,variant:s}),u=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return d_e({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},nIe,o)})(l);return(0,fn.jsx)(oIe,(0,r_e.A)({as:o,ownerState:l,className:i_e(u.root,r),ref:t},c))})),aIe=iIe;function sIe(e){return u_e("MuiAlert",e)}const cIe=tNe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function lIe(e){return u_e("MuiSvgIcon",e)}tNe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uIe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],dIe=STe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(F_e(n.color))],t["fontSize".concat(F_e(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,i,a,s,c,l,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(c=t.typography)||null==(l=c.pxToRem)?void 0:l.call(c,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),hIe=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:i="inherit",component:a="svg",fontSize:s="medium",htmlColor:c,inheritViewBox:l=!1,titleAccess:u,viewBox:d="0 0 24 24"}=n,h=(0,Bn.A)(n,uIe),p=Z.isValidElement(r)&&"svg"===r.type,f=(0,r_e.A)({},n,{color:i,component:a,fontSize:s,instanceFontSize:e.fontSize,inheritViewBox:l,viewBox:d,hasSvgAsChild:p}),m={};l||(m.viewBox=d);const g=(e=>{const{color:t,fontSize:n,classes:r}=e;return d_e({root:["root","inherit"!==t&&"color".concat(F_e(t)),"fontSize".concat(F_e(n))]},lIe,r)})(f);return(0,fn.jsxs)(dIe,(0,r_e.A)({as:a,className:i_e(g.root,o),focusable:"false",color:c,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:t},m,h,p&&r.props,{ownerState:f,children:[p?r.props.children:r,u?(0,fn.jsx)("title",{children:u}):null]}))}));hIe.muiName="SvgIcon";const pIe=hIe;function fIe(e,t){function n(n,r){return(0,fn.jsx)(pIe,(0,r_e.A)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=pIe.muiName,Z.memo(Z.forwardRef(n))}const mIe=fIe((0,fn.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),gIe=fIe((0,fn.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),yIe=fIe((0,fn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),vIe=fIe((0,fn.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),bIe=fIe((0,fn.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),xIe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],wIe=STe(aIe,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(F_e(n.color||n.severity))]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?V_e.e$:V_e.a,r="light"===t.palette.mode?V_e.a:V_e.e$;return(0,r_e.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(cIe.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(cIe.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,r_e.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),kIe=STe("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),SIe=STe("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),CIe=STe("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),EIe={success:(0,fn.jsx)(mIe,{fontSize:"inherit"}),warning:(0,fn.jsx)(gIe,{fontSize:"inherit"}),error:(0,fn.jsx)(yIe,{fontSize:"inherit"}),info:(0,fn.jsx)(vIe,{fontSize:"inherit"})},_Ie=Z.forwardRef((function(e,t){const n=_Te({props:e,name:"MuiAlert"}),{action:r,children:o,className:i,closeText:a="Close",color:s,components:c={},componentsProps:l={},icon:u,iconMapping:d=EIe,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:y="standard"}=n,v=(0,Bn.A)(n,xIe),b=(0,r_e.A)({},n,{color:s,severity:f,variant:y,colorSeverity:s||f}),x=(e=>{const{variant:t,color:n,severity:r,classes:o}=e;return d_e({root:["root","color".concat(F_e(n||r)),"".concat(t).concat(F_e(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},sIe,o)})(b),w={slots:(0,r_e.A)({closeButton:c.CloseButton,closeIcon:c.CloseIcon},g),slotProps:(0,r_e.A)({},l,m)},[k,S]=eIe("closeButton",{elementType:ANe,externalForwardedProps:w,ownerState:b}),[C,E]=eIe("closeIcon",{elementType:bIe,externalForwardedProps:w,ownerState:b});return(0,fn.jsxs)(wIe,(0,r_e.A)({role:p,elevation:0,ownerState:b,className:i_e(x.root,i),ref:t},v,{children:[!1!==u?(0,fn.jsx)(kIe,{ownerState:b,className:x.icon,children:u||d[f]||EIe[f]}):null,(0,fn.jsx)(SIe,{ownerState:b,className:x.message,children:o}),null!=r?(0,fn.jsx)(CIe,{ownerState:b,className:x.action,children:r}):null,null==r&&h?(0,fn.jsx)(CIe,{ownerState:b,className:x.action,children:(0,fn.jsx)(k,(0,r_e.A)({size:"small","aria-label":a,title:a,color:"inherit",onClick:h},S,{children:(0,fn.jsx)(C,(0,r_e.A)({fontSize:"small"},E))}))}):null]}))})),TIe=_Ie;function NIe(e){return u_e("MuiButton",e)}const IIe=tNe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const AIe=Z.createContext({});const OIe=Z.createContext(void 0),RIe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],MIe=e=>(0,r_e.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),jIe=STe(CNe,{shouldForwardProp:e=>kTe(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(F_e(n.color))],t["size".concat(F_e(n.size))],t["".concat(n.variant,"Size").concat(F_e(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,r_e.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,r_e.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,V_e.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,V_e.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,V_e.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,r_e.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(IIe.focusVisible)]:(0,r_e.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(IIe.disabled)]:(0,r_e.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,V_e.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(IIe.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(IIe.disabled)]:{boxShadow:"none"}}})),PIe=STe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(F_e(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,r_e.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},MIe(t))})),DIe=STe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(F_e(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,r_e.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},MIe(t))})),LIe=Z.forwardRef((function(e,t){const n=Z.useContext(AIe),r=Z.useContext(OIe),o=_Te({props:p_e(n,e),name:"MuiButton"}),{children:i,color:a="primary",component:s="button",className:c,disabled:l=!1,disableElevation:u=!1,disableFocusRipple:d=!1,endIcon:h,focusVisibleClassName:p,fullWidth:f=!1,size:m="medium",startIcon:g,type:y,variant:v="text"}=o,b=(0,Bn.A)(o,RIe),x=(0,r_e.A)({},o,{color:a,component:s,disabled:l,disableElevation:u,disableFocusRipple:d,fullWidth:f,size:m,type:y,variant:v}),w=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,classes:a}=e,s=d_e({root:["root",i,"".concat(i).concat(F_e(t)),"size".concat(F_e(o)),"".concat(i,"Size").concat(F_e(o)),"color".concat(F_e(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat(F_e(o))],endIcon:["icon","endIcon","iconSize".concat(F_e(o))]},NIe,a);return(0,r_e.A)({},a,s)})(x),k=g&&(0,fn.jsx)(PIe,{className:w.startIcon,ownerState:x,children:g}),S=h&&(0,fn.jsx)(DIe,{className:w.endIcon,ownerState:x,children:h}),C=r||"";return(0,fn.jsxs)(jIe,(0,r_e.A)({ownerState:x,className:i_e(n.className,w.root,c,C),component:s,disabled:l,focusRipple:!d,focusVisibleClassName:i_e(w.focusVisible,p),ref:t,type:y},b,{classes:w,children:[k,i,S]}))})),FIe=LIe;function BIe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=BIe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const zIe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=BIe(e))&&(r&&(r+=" "),r+=t);return r},UIe=["theme","type"],VIe=["delay","staleId"],WIe=e=>"number"==typeof e&&!isNaN(e),HIe=e=>"string"==typeof e,GIe=e=>"function"==typeof e,KIe=e=>HIe(e)||GIe(e)?e:null,qIe=e=>(0,Z.isValidElement)(e)||HIe(e)||GIe(e)||WIe(e);function YIe(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:i=300}=e;return function(e){let{children:a,position:s,preventExitTransition:c,done:l,nodeRef:u,isIn:d}=e;const h=r?"".concat(t,"--").concat(s):t,p=r?"".concat(n,"--").concat(s):n,f=(0,Z.useRef)(0);return(0,Z.useLayoutEffect)((()=>{const e=u.current,t=h.split(" "),n=r=>{r.target===u.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===f.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,Z.useEffect)((()=>{const e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=r+"px",o.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,l,i):l()};d||(c?t():(f.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[d]),Z.createElement(Z.Fragment,null,a)}}function XIe(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const JIe={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},$Ie=e=>{let{theme:t,type:n}=e,r=zn(e,UIe);return Z.createElement("svg",Ln({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},r))},ZIe={info:function(e){return Z.createElement($Ie,Ln({},e),Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Z.createElement($Ie,Ln({},e),Z.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Z.createElement($Ie,Ln({},e),Z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Z.createElement($Ie,Ln({},e),Z.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Z.createElement("div",{className:"Toastify__spinner"})}};function QIe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function eAe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function tAe(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Z.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},Z.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Z.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nAe(e){let{delay:t,isRunning:n,closeToast:r,type:o="default",hide:i,className:a,style:s,controlledProgress:c,progress:l,rtl:u,isIn:d,theme:h}=e;const p=i||c&&0===l,f=Ln(Ln({},s),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1});c&&(f.transform="scaleX(".concat(l,")"));const m=zIe("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":u}),g=GIe(a)?a({rtl:u,type:o,defaultClassName:m}):zIe(m,a);return Z.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:f,[c&&l>=1?"onTransitionEnd":"onAnimationEnd"]:c&&l<1?null:()=>{d&&r()}})}const rAe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o}=function(e){const[t,n]=(0,Z.useState)(!1),[r,o]=(0,Z.useState)(!1),i=(0,Z.useRef)(null),a=(0,Z.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,s=(0,Z.useRef)(e),{autoClose:c,pauseOnHover:l,closeToast:u,onClick:d,closeOnClick:h}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const n=i.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=QIe(t.nativeEvent),a.y=eAe(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function f(t){if(a.boundingRect){const{top:n,bottom:r,left:o,right:i}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=o&&a.x<=i&&a.y>=n&&a.y<=r?g():m()}}function m(){n(!0)}function g(){n(!1)}function y(n){const r=i.current;a.canDrag&&r&&(a.didMove=!0,t&&g(),a.x=QIe(n),a.y=eAe(n),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(a.delta,"px)"),r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const t=i.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,Z.useEffect)((()=>{s.current=e})),(0,Z.useEffect)((()=>(i.current&&i.current.addEventListener("d",m,{once:!0}),GIe(e.onOpen)&&e.onOpen((0,Z.isValidElement)(e.children)&&e.children.props),()=>{const e=s.current;GIe(e.onClose)&&e.onClose((0,Z.isValidElement)(e.children)&&e.children.props)})),[]),(0,Z.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",g))})),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:f,onTouchEnd:f};return c&&l&&(b.onMouseEnter=g,b.onMouseLeave=m),h&&(b.onClick=e=>{d&&d(e),a.canCloseOnClick&&u()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:b}}(e),{closeButton:i,children:a,autoClose:s,onClick:c,type:l,hideProgressBar:u,closeToast:d,transition:h,position:p,className:f,style:m,bodyClassName:g,bodyStyle:y,progressClassName:v,progressStyle:b,updateId:x,role:w,progress:k,rtl:S,toastId:C,deleteToast:E,isIn:_,isLoading:T,iconOut:N,closeOnClick:I,theme:A}=e,O=zIe("Toastify__toast","Toastify__toast-theme--".concat(A),"Toastify__toast--".concat(l),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":I}),R=GIe(f)?f({rtl:S,position:p,type:l,defaultClassName:O}):zIe(O,f),M=!!k||!s,j={closeToast:d,type:l,theme:A};let P=null;return!1===i||(P=GIe(i)?i(j):(0,Z.isValidElement)(i)?(0,Z.cloneElement)(i,j):tAe(j)),Z.createElement(h,{isIn:_,done:E,position:p,preventExitTransition:n,nodeRef:r},Z.createElement("div",Ln(Ln({id:C,onClick:c,className:R},o),{},{style:m,ref:r}),Z.createElement("div",Ln(Ln({},_&&{role:w}),{},{className:GIe(g)?g({type:l}):zIe("Toastify__toast-body",g),style:y}),null!=N&&Z.createElement("div",{className:zIe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},N),Z.createElement("div",null,a)),P,Z.createElement(nAe,Ln(Ln({},x&&!M?{key:"pb-".concat(x)}:{}),{},{rtl:S,theme:A,delay:s,isRunning:t,isIn:_,closeToast:d,hide:u,type:l,style:b,className:v,controlledProgress:M,progress:k||0}))))},oAe=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},iAe=YIe(oAe("bounce",!0)),aAe=(YIe(oAe("slide",!0)),YIe(oAe("zoom")),YIe(oAe("flip")),(0,Z.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:o}=function(e){const[,t]=(0,Z.useReducer)((e=>e+1),0),[n,r]=(0,Z.useState)([]),o=(0,Z.useRef)(null),i=(0,Z.useRef)(new Map).current,a=e=>-1!==n.indexOf(e),s=(0,Z.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:e=>i.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=s.props;!n||t&&s.containerId!==t||(s.count-=s.queue.length,s.queue=[])}function l(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function u(){const{toastContent:e,toastProps:t,staleId:n}=s.queue.shift();h(e,t,n)}function d(e,n){let{delay:r,staleId:a}=n,c=zn(n,VIe);if(!qIe(e)||function(e){return!o.current||s.props.enableMultiContainer&&e.containerId!==s.props.containerId||i.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:d,updateId:p,data:f}=c,{props:m}=s,g=()=>l(d),y=null==p;y&&s.count++;const v=Ln(Ln(Ln({},m),{},{style:m.toastStyle,key:s.toastKey++},Object.fromEntries(Object.entries(c).filter((e=>{let[t,n]=e;return null!=n})))),{},{toastId:d,updateId:p,data:f,closeToast:g,isIn:!1,className:KIe(c.className||m.toastClassName),bodyClassName:KIe(c.bodyClassName||m.bodyClassName),progressClassName:KIe(c.progressClassName||m.progressClassName),autoClose:!c.isLoading&&(b=c.autoClose,x=m.autoClose,!1===b||WIe(b)&&b>0?b:x),deleteToast(){const e=XIe(i.get(d),"removed");i.delete(d),JIe.emit(4,e);const n=s.queue.length;if(s.count=null==d?s.count-s.displayedToast:s.count-1,s.count<0&&(s.count=0),n>0){const e=null==d?s.props.limit:1;if(1===n||1===e)s.displayedToast++,u();else{const t=e>n?n:e;s.displayedToast=t;for(let e=0;e<t;e++)u()}}else t()}});var b,x;v.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:o}=e,i=null;const a={theme:t,type:n};return!1===o||(GIe(o)?i=o(a):(0,Z.isValidElement)(o)?i=(0,Z.cloneElement)(o,a):HIe(o)||WIe(o)?i=o:r?i=ZIe.spinner():(e=>e in ZIe)(n)&&(i=ZIe[n](a))),i}(v),GIe(c.onOpen)&&(v.onOpen=c.onOpen),GIe(c.onClose)&&(v.onClose=c.onClose),v.closeButton=m.closeButton,!1===c.closeButton||qIe(c.closeButton)?v.closeButton=c.closeButton:!0===c.closeButton&&(v.closeButton=!qIe(m.closeButton)||m.closeButton);let w=e;(0,Z.isValidElement)(e)&&!HIe(e.type)?w=(0,Z.cloneElement)(e,{closeToast:g,toastProps:v,data:f}):GIe(e)&&(w=e({closeToast:g,toastProps:v,data:f})),m.limit&&m.limit>0&&s.count>m.limit&&y?s.queue.push({toastContent:w,toastProps:v,staleId:a}):WIe(r)?setTimeout((()=>{h(w,v,a)}),r):h(w,v,a)}function h(e,t,n){const{toastId:o}=t;n&&i.delete(n);const a={content:e,props:t};i.set(o,a),r((e=>[...e,o].filter((e=>e!==n)))),JIe.emit(4,XIe(a,null==a.props.updateId?"added":"updated"))}return(0,Z.useEffect)((()=>(s.containerId=e.containerId,JIe.cancelEmit(3).on(0,d).on(1,(e=>o.current&&l(e))).on(5,c).emit(2,s),()=>{i.clear(),JIe.emit(3,s)})),[]),(0,Z.useEffect)((()=>{s.props=e,s.isToastActive=a,s.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(i.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:o,isToastActive:a}}(e),{className:i,style:a,rtl:s,containerId:c}=e;function l(e){const t=zIe("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":s});return GIe(i)?i({position:e,rtl:s,defaultClassName:t}):zIe(t,KIe(i))}return(0,Z.useEffect)((()=>{t&&(t.current=r.current)}),[]),Z.createElement("div",{ref:r,className:"Toastify",id:c},n(((e,t)=>{const n=t.length?Ln({},a):Ln(Ln({},a),{},{pointerEvents:"none"});return Z.createElement("div",{className:l(e),style:n,key:"container-".concat(e)},t.map(((e,n)=>{let{content:r,props:i}=e;return Z.createElement(rAe,Ln(Ln({},i),{},{isIn:o(i.toastId),style:Ln(Ln({},i.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(i.key)}),r)})))})))})));aAe.displayName="ToastContainer",aAe.defaultProps={position:"top-right",transition:iAe,autoClose:5e3,closeButton:tAe,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let sAe,cAe=new Map,lAe=[],uAe=1;function dAe(){return""+uAe++}function hAe(e){return e&&(HIe(e.toastId)||WIe(e.toastId))?e.toastId:dAe()}function pAe(e,t){return cAe.size>0?JIe.emit(0,e,t):lAe.push({content:e,options:t}),t.toastId}function fAe(e,t){return Ln(Ln({},t),{},{type:t&&t.type||e,toastId:hAe(t)})}function mAe(e){return(t,n)=>pAe(t,fAe(e,n))}function gAe(e,t){return pAe(e,fAe("default",t))}gAe.loading=(e,t)=>pAe(e,fAe("default",Ln({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),gAe.promise=function(e,t,n){let r,{pending:o,error:i,success:a}=t;o&&(r=HIe(o)?gAe.loading(o,n):gAe.loading(o.render,Ln(Ln({},n),o)));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,o)=>{if(null==t)return void gAe.dismiss(r);const i=Ln(Ln(Ln({type:e},s),n),{},{data:o}),a=HIe(t)?{render:t}:t;return r?gAe.update(r,Ln(Ln({},i),a)):gAe(a.render,Ln(Ln({},i),a)),o},l=GIe(e)?e():e;return l.then((e=>c("success",a,e))).catch((e=>c("error",i,e))),l},gAe.success=mAe("success"),gAe.info=mAe("info"),gAe.error=mAe("error"),gAe.warning=mAe("warning"),gAe.warn=gAe.warning,gAe.dark=(e,t)=>pAe(e,fAe("default",Ln({theme:"dark"},t))),gAe.dismiss=e=>{cAe.size>0?JIe.emit(1,e):lAe=lAe.filter((t=>null!=e&&t.options.toastId!==e))},gAe.clearWaitingQueue=function(e){return void 0===e&&(e={}),JIe.emit(5,e)},gAe.isActive=e=>{let t=!1;return cAe.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},gAe.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=cAe.get(n||sAe);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:o}=n,i=Ln(Ln(Ln({delay:100},r),t),{},{toastId:t.toastId||e,updateId:dAe()});i.toastId!==e&&(i.staleId=e);const a=i.render||o;delete i.render,pAe(a,i)}}),0)},gAe.done=e=>{gAe.update(e,{progress:1})},gAe.onChange=e=>(JIe.on(4,e),()=>{JIe.off(4,e)}),gAe.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},gAe.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},JIe.on(2,(e=>{sAe=e.containerId||e,cAe.set(sAe,e),lAe.forEach((e=>{JIe.emit(0,e.content,e.options)})),lAe=[]})).on(3,(e=>{cAe.delete(e.containerId||e),0===cAe.size&&JIe.off(0).off(1).off(5)}));const yAe=()=>{const e=qe(),[t,n]=(0,Z.useState)(""),[r,o]=(0,Z.useState)({show:!1,message:"",severity:"success"});return(0,fn.jsxs)(NTe,{maxWidth:"xs",sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"10px"},children:[(0,fn.jsx)(ANe,{onClick:()=>e(-1),sx:{position:"absolute",top:"10px",left:"10px",margin:"50px"},children:(0,fn.jsx)(Bt,{})}),(0,fn.jsx)(aAe,{}),(0,fn.jsxs)(PNe,{sx:{padding:"40px 20px",borderRadius:"8px",backgroundColor:"white",width:"100%",maxWidth:"400px",textAlign:"center"},children:[(0,fn.jsx)(VNe,{variant:"h4",component:"h1",sx:{marginBottom:"20px",fontWeight:"600"},children:"\u0e1b\u0e49\u0e2d\u0e19\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,fn.jsx)(VNe,{variant:"body1",sx:{marginBottom:"20px",color:"#6c757d"},children:"\u0e1b\u0e49\u0e2d\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e17\u0e35\u0e48\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e01\u0e31\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e41\u0e25\u0e49\u0e27\u0e40\u0e23\u0e32\u0e08\u0e30\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e43\u0e2b\u0e49\u0e41\u0e01\u0e48\u0e04\u0e38\u0e13"}),r.show&&(0,fn.jsx)(TIe,{severity:r.severity,sx:{my:"24px",textAlign:"left",borderRadius:"8px"},children:r.message}),(0,fn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("DEBUG",t),fetch("".concat("http://localhost:3001","/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t}),credentials:"include"}).then((e=>e.json())).then((e=>{e.success?(gAe.success("\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2a\u0e4d\u0e32\u0e2b\u0e23\u0e31\u0e1a\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25 ".concat(t)),o({show:!0,message:"\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2a\u0e4d\u0e32\u0e2b\u0e23\u0e31\u0e1a\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25 ".concat(t," \u0e23\u0e2b\u0e31\u0e2a\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07 (").concat(e.ref,")"),severity:"success"})):gAe.error(e.message)})).catch((e=>gAe.error("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14 \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07")))},children:[(0,fn.jsx)(Ck,{name:"email",type:"email",id:"email",placeholder:"\u0e2d\u0e35\u0e40\u0e21\u0e25",icon:"MdOutlineMail",value:t,onChange:e=>{n(e.target.value),console.log(e.target.value)},disabled:r.show}),r.show?(0,fn.jsx)(FIe,{variant:"contained",fullWidth:!0,disableElevation:!0,onClick:()=>{window.location.href="https://kku-client.vercel.app/admin/login"},sx:{backgroundColor:"#000",color:"#fff",textTransform:"none",padding:"10px 0",borderRadius:"50px","&:hover":{backgroundColor:"#181818"}},children:"\u0e01\u0e25\u0e31\u0e1a\u0e44\u0e1b\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"}):(0,fn.jsx)(FIe,{type:"submit",variant:"contained",fullWidth:!0,disableElevation:!0,sx:{backgroundColor:"#000",color:"#fff",textTransform:"none",padding:"10px 0",borderRadius:"50px","&:hover":{backgroundColor:"#181818"}},children:"\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e15\u0e48\u0e2d"})]})]})]})},vAe=()=>{const e=qe(),[t,n]=(0,Z.useState)(!0),{token:r}=Xe(),[o,i]=(0,Z.useState)(""),[a,s]=(0,Z.useState)(""),[c,l]=(0,Z.useState)({show:!1,message:"",severity:"success"});(0,Z.useEffect)((()=>{n(!0),ap.get("".concat("http://localhost:3001","/token/check/").concat(r)).then((t=>{t.data.success||(gAe.error(t.data.message),setTimeout((()=>{e("/")}),3e3))})).catch((t=>{gAe.error("\u0e42\u0e17\u0e40\u0e04\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"),setTimeout((()=>{e("/")}),3e3)})),n(!1)}),[]);return(0,fn.jsxs)(NTe,{maxWidth:"xs",sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"10px"},children:[(0,fn.jsx)(aAe,{}),(0,fn.jsxs)(PNe,{sx:{padding:"40px 20px",borderRadius:"8px",backgroundColor:"white",width:"100%",maxWidth:"400px",textAlign:"center"},children:[(0,fn.jsx)(VNe,{variant:"h4",component:"h1",sx:{marginBottom:"20px",fontWeight:"600"},children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48"}),(0,fn.jsx)(VNe,{variant:"body1",sx:{marginBottom:"20px",color:"#6c757d"},children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e04\u0e27\u0e23\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e14\u0e49\u0e27\u0e22\u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 6 \u0e15\u0e31\u0e27 \u0e41\u0e25\u0e30\u0e21\u0e35\u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e43\u0e2b\u0e0d\u0e48 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e40\u0e25\u0e47\u0e01 \u0e41\u0e25\u0e30\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e1c\u0e2a\u0e21\u0e01\u0e31\u0e19"}),c.show&&(0,fn.jsx)(TIe,{severity:c.severity,sx:{my:"24px",textAlign:"left",borderRadius:"8px"},children:c.message}),(0,fn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),o!==a)return void l({show:!0,message:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e21\u0e48\u0e15\u0e23\u0e07\u0e01\u0e31\u0e19",severity:"error"});/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{6,20}$/.test(o)?ap.post("".concat("http://localhost:3001","/reset-password"),{token:r,password:o}).then((e=>{e.data.success?(gAe.success(e.data.message),l({show:!0,message:e.data.message,severity:"success"}),setTimeout((()=>{window.location.href="https://kku-client.vercel.app/admin/login"}),3e3)):gAe.error(e.data.message)})).catch((e=>{gAe.error(e.response.data.message)})):l({show:!0,message:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27 6-20 \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e41\u0e25\u0e30\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e14\u0e49\u0e27\u0e22\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e43\u0e2b\u0e0d\u0e48\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e15\u0e31\u0e27 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e40\u0e25\u0e47\u0e01\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e15\u0e31\u0e27 \u0e41\u0e25\u0e30\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e15\u0e31\u0e27",severity:"error"})},children:[(0,fn.jsx)(Ck,{name:"password",type:"password",id:"password",icon:"VscKey",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",value:o,onChange:e=>i(e.target.value),disabled:t}),(0,fn.jsx)(Ck,{name:"confirmPassword",type:"password",id:"confirmPassword",icon:"VscKey",placeholder:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",value:a,onChange:e=>s(e.target.value),disabled:t}),(0,fn.jsx)(FIe,{type:"submit",variant:"contained",fullWidth:!0,disableElevation:!0,sx:{backgroundColor:"#000",color:"#fff",textTransform:"none",padding:"10px 0",borderRadius:"50px","&:hover":{backgroundColor:"#181818"}},children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48"})]}),(0,fn.jsx)(PNe,{sx:{marginTop:"20px"},children:(0,fn.jsxs)(VNe,{variant:"body1",children:["\u0e08\u0e33\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e14\u0e49\u0e41\u0e25\u0e49\u0e27?"," ",(0,fn.jsx)(cn,{to:"https://kku-client.vercel.app/admin/login",style:{color:"#635bff",textDecoration:"none"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]})})]})]})},bAe=()=>{const e=qe(),[t,n]=(0,Z.useState)(!0),{token:r}=Xe(),[o,i]=(0,Z.useState)(""),[a,s]=(0,Z.useState)(""),[c,l]=(0,Z.useState)({show:!1,message:"",severity:"success"});(0,Z.useEffect)((()=>{n(!0),ap.get("".concat("http://localhost:3001","/token/check/").concat(r)).then((t=>{t.data.success||(gAe.error(t.data.message),setTimeout((()=>{e("/")}),3e3))})).catch((t=>{gAe.error("\u0e42\u0e17\u0e40\u0e04\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"),setTimeout((()=>{e("/")}),3e3)})),n(!1)}),[]);return(0,fn.jsxs)(NTe,{maxWidth:"xs",sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"10px"},children:[(0,fn.jsx)(aAe,{}),(0,fn.jsxs)(PNe,{sx:{padding:"40px 20px",borderRadius:"8px",backgroundColor:"white",width:"100%",maxWidth:"400px",textAlign:"center"},children:[(0,fn.jsx)(VNe,{variant:"h4",component:"h1",sx:{marginBottom:"20px",fontWeight:"600"},children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48"}),(0,fn.jsx)(VNe,{variant:"body1",sx:{marginBottom:"20px",color:"#6c757d"},children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e04\u0e27\u0e23\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e14\u0e49\u0e27\u0e22\u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 6 \u0e15\u0e31\u0e27 \u0e41\u0e25\u0e30\u0e21\u0e35\u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e43\u0e2b\u0e0d\u0e48 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e40\u0e25\u0e47\u0e01 \u0e41\u0e25\u0e30\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e1c\u0e2a\u0e21\u0e01\u0e31\u0e19"}),c.show&&(0,fn.jsx)(TIe,{severity:c.severity,sx:{my:"24px",textAlign:"left",borderRadius:"8px"},children:c.message}),(0,fn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),o!==a)return void l({show:!0,message:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e21\u0e48\u0e15\u0e23\u0e07\u0e01\u0e31\u0e19",severity:"error"});/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{6,20}$/.test(o)?ap.post("".concat("http://localhost:3001","/reset-password"),{token:r,password:o}).then((e=>{e.data.success?(gAe.success(e.data.message),l({show:!0,message:e.data.message,severity:"success"}),setTimeout((()=>{window.location.href="https://kku-client.vercel.app/signin"}),3e3)):gAe.error(e.data.message)})).catch((e=>{gAe.error(e.response.data.message)})):l({show:!0,message:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e15\u0e49\u0e2d\u0e07\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27 6-20 \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e41\u0e25\u0e30\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a\u0e14\u0e49\u0e27\u0e22\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e43\u0e2b\u0e0d\u0e48\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e15\u0e31\u0e27 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e40\u0e25\u0e47\u0e01\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e15\u0e31\u0e27 \u0e41\u0e25\u0e30\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e15\u0e31\u0e27",severity:"error"})},children:[(0,fn.jsx)(Ck,{name:"password",type:"password",id:"password",icon:"VscKey",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",value:o,onChange:e=>i(e.target.value),disabled:t}),(0,fn.jsx)(Ck,{name:"confirmPassword",type:"password",id:"confirmPassword",icon:"VscKey",placeholder:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",value:a,onChange:e=>s(e.target.value),disabled:t}),(0,fn.jsx)(FIe,{type:"submit",variant:"contained",fullWidth:!0,disableElevation:!0,sx:{backgroundColor:"#000",color:"#fff",textTransform:"none",padding:"10px 0",borderRadius:"50px","&:hover":{backgroundColor:"#181818"}},children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48"})]}),(0,fn.jsx)(PNe,{sx:{marginTop:"20px"},children:(0,fn.jsxs)(VNe,{variant:"body1",children:["\u0e08\u0e33\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e14\u0e49\u0e41\u0e25\u0e49\u0e27?"," ",(0,fn.jsx)(cn,{to:"https://kku-client.vercel.app/signin",style:{color:"#635bff",textDecoration:"none"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]})})]})]})};function xAe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}const wAe=e=>{let{chat:t,userId:n}=e;const{recipientUser:r,error:o}=Ky(t,n),{onlineUsers:i,notifications:a,markThisUserNotificationsAsRead:s,deleteChat:c}=(0,Z.useContext)(nw),{latestMessage:l}=(e=>{const{newMessage:t,notifications:n,userId:r}=(0,Z.useContext)(nw),[i,a]=(0,Z.useState)(null);return(0,Z.useEffect)((()=>{(async()=>{try{const t=await kg("".concat(xg,"/messages/").concat(e._id));if(t.error)return void console.error("Error getting message...",t.error);const n=t.filter((e=>!(e.deletedBy&&r&&e.deletedBy[r]))),o=n[n.length-1];a(o)}catch(o){console.error("Error fetching messages:",o)}})()}),[e._id,t,n,r]),{latestMessage:i}})(t),[u,d]=(0,Z.useState)(!1),h=(e=>e.filter((e=>!e.isRead)))(a),p=h.filter((e=>e.senderId===(null===r||void 0===r?void 0:r._id))),f=null===i||void 0===i?void 0:i.some((e=>(null===e||void 0===e?void 0:e.userId)===(null===r||void 0===r?void 0:r._id)));return(0,fn.jsxs)(Jy,{direction:"horizontal",gap:3,className:"user-card align-items-center p-2 justify-content-between",role:"button",onClick:()=>{0!==(null===p||void 0===p?void 0:p.length)&&s(p,a)},children:[(0,fn.jsxs)("div",{className:"d-flex",children:[(0,fn.jsx)("div",{className:"me-2",children:(0,fn.jsx)("img",{src:null===r||void 0===r?void 0:r.profile_picture,alt:"avatar",height:"35px"})}),(0,fn.jsxs)("div",{className:"text-content",children:[(0,fn.jsx)("div",{className:"name",children:null===r||void 0===r?void 0:r.username}),(0,fn.jsxs)("div",{className:"text d-flex",children:[(null===l||void 0===l?void 0:l.text)&&(0,fn.jsx)("span",{style:{paddingRight:"10px"},children:(e=>{let t=e.substring(0,20);return e.length>20&&(t+="..."),t})(null===l||void 0===l?void 0:l.text)}),(0,fn.jsx)("div",{className:"date",children:Zy()(null===l||void 0===l?void 0:l.createdAt).calendar()})]})]})]}),(0,fn.jsxs)("div",{className:"align-items-end",children:[(0,fn.jsx)("div",{className:(null===p||void 0===p?void 0:p.length)>0?"this-user-notifications":"",children:(null===p||void 0===p?void 0:p.length)>0?null===p||void 0===p?void 0:p.length:""}),(0,fn.jsx)("span",{className:f?"user-online":""}),(0,fn.jsxs)("div",{className:"other-icon",children:[(0,fn.jsx)(xAe,{onClick:e=>{e.stopPropagation(),d(!u)}}),u&&(0,fn.jsx)("div",{className:"dropdown-item2",children:(0,fn.jsx)("ul",{children:(0,fn.jsxs)("li",{onClick:async()=>{try{await c(t._id,n),d(!1)}catch(o){console.error("Error deleting chat:",o)}},children:[(0,fn.jsx)(yp,{}),(0,fn.jsx)("a",{href:"#",children:"\u0e25\u0e1a"})]})})})]})]})]})},kAe=()=>{const{potentialChats:e,createChat:t,userId:n,onlineUsers:r}=(0,Z.useContext)(nw);return(0,fn.jsx)("div",{className:"all-users",children:e&&e.map(((e,t)=>(0,fn.jsx)("span",{className:null!==r&&void 0!==r&&r.some((t=>(null===t||void 0===t?void 0:t.userId)===(null===e||void 0===e?void 0:e._id)))?"user-online":""})))})},SAe=()=>{const{userChats:e,isUserChatsLoading:t,updateCurrentChat:n,userId:r}=(0,Z.useContext)(nw);return(0,Z.useEffect)((()=>{console.log("Updated userChats",e)}),[e]),(0,fn.jsxs)(Nhe,{children:[(0,fn.jsx)(kAe,{}),e.length>0&&(0,fn.jsxs)(Jy,{direction:"horizontal",gap:4,className:"align-items-start",children:[(0,fn.jsxs)(Jy,{className:"messages-box flex-grow-0 pe-3",children:[t&&(0,fn.jsx)("p",{children:"Loading chats..."}),e.map(((e,t)=>(0,fn.jsx)("div",{onClick:()=>n(e),children:(0,fn.jsx)(wAe,{chat:e,userId:r||""})},t)))]}),(0,fn.jsx)(ew,{})]})]})};function CAe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97-1.94.284-3.916.455-5.922.505a.39.39 0 00-.266.112L8.78 21.53A.75.75 0 017.5 21v-3.955a48.842 48.842 0 01-2.652-.316c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97z",clipRule:"evenodd"},child:[]}]})(e)}const EAe=()=>{const[e,t]=(0,Z.useState)(!1),{notifications:n,allUsers:r,markAllNotificationsAsRead:o,markNotificationAsRead:i,userChats:a,userId:s,isChatBoxOpen:c,setIsChatBoxOpen:l,updateCurrentChat:u}=(0,Z.useContext)(nw),d=r.find((e=>e._id===s)),h=n.filter((e=>!e.isRead)),p=n.map((e=>{const t=r.find((t=>t._id===e.senderId));return Ln(Ln({},e),{},{senderName:null===t||void 0===t?void 0:t.firstname})}));return(0,Z.useEffect)((()=>{c||t(!1)}),[c]),(0,fn.jsxs)("div",{className:"notifications",children:[(0,fn.jsxs)("div",{className:"notifications-icon",onClick:()=>t(!e),children:[(0,fn.jsx)(CAe,{className:"chat-icon"}),h.length>0&&(0,fn.jsx)("span",{className:"notification-count",children:(0,fn.jsx)("span",{children:h.length})})]}),e&&(0,fn.jsxs)("div",{className:"notifications-box",children:[(0,fn.jsxs)("div",{className:"notifications-header",children:[(0,fn.jsx)("h3",{children:"\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21"}),(0,fn.jsx)("div",{className:"mark-as-read",onClick:()=>o(n),children:"Mark all as read"})]}),(0,fn.jsx)("div",{className:"notification-list",children:p.map((e=>(0,fn.jsx)("div",{className:"notification-item",onClick:()=>(e=>{if(d){i(e,a,d,n);const r=a.find((t=>t._id===e.chatId));r&&(u(r),c||(l(!0),t(!1)))}else console.warn("User is not defined.")})(e),children:(0,fn.jsxs)("p",{children:[e.senderName,": ",e.text]})},e.chatId)))}),!c&&(0,fn.jsx)("div",{className:"chat-section",onClick:()=>{c||l(!0),t(!1)},children:(0,fn.jsx)(SAe,{})})]})]})},_Ae="http://localhost:3001";function TAe(e,t,n){const r=(0,Z.useRef)(void 0!==e),[o,i]=(0,Z.useState)(t),a=void 0!==e,s=r.current;return r.current=a,!a&&s&&o!==t&&i(t),[a?e:o,(0,Z.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,...a]=t;let s=null==n?void 0:n(o,...a);return i(o),s}),[n])]}const NAe=Z.createContext(null);var IAe=Object.prototype.hasOwnProperty;function AAe(e,t,n){for(n of e.keys())if(OAe(n,t))return n}function OAe(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&OAe(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((o=r)&&"object"===typeof o&&!(o=AAe(t,o)))return!1;if(!t.has(o))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((o=r[0])&&"object"===typeof o&&!(o=AAe(t,o)))return!1;if(!OAe(r[1],t.get(o)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(IAe.call(e,n)&&++r&&!IAe.call(t,n))return!1;if(!(n in t)||!OAe(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const RAe=function(e){const t=Kf();return[e[0],(0,Z.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function MAe(e){return e.split("-")[0]}function jAe(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function PAe(e){return e instanceof jAe(e).Element||e instanceof Element}function DAe(e){return e instanceof jAe(e).HTMLElement||e instanceof HTMLElement}function LAe(e){return"undefined"!==typeof ShadowRoot&&(e instanceof jAe(e).ShadowRoot||e instanceof ShadowRoot)}var FAe=Math.max,BAe=Math.min,zAe=Math.round;function UAe(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function VAe(){return!/^((?!chrome|android).)*safari/i.test(UAe())}function WAe(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&DAe(e)&&(o=e.offsetWidth>0&&zAe(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&zAe(r.height)/e.offsetHeight||1);var a=(PAe(e)?jAe(e):window).visualViewport,s=!VAe()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/o,l=(r.top+(s&&a?a.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c,x:c,y:l}}function HAe(e){var t=WAe(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function GAe(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&LAe(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function KAe(e){return e?(e.nodeName||"").toLowerCase():null}function qAe(e){return jAe(e).getComputedStyle(e)}function YAe(e){return["table","td","th"].indexOf(KAe(e))>=0}function XAe(e){return((PAe(e)?e.ownerDocument:e.document)||window.document).documentElement}function JAe(e){return"html"===KAe(e)?e:e.assignedSlot||e.parentNode||(LAe(e)?e.host:null)||XAe(e)}function $Ae(e){return DAe(e)&&"fixed"!==qAe(e).position?e.offsetParent:null}function ZAe(e){for(var t=jAe(e),n=$Ae(e);n&&YAe(n)&&"static"===qAe(n).position;)n=$Ae(n);return n&&("html"===KAe(n)||"body"===KAe(n)&&"static"===qAe(n).position)?t:n||function(e){var t=/firefox/i.test(UAe());if(/Trident/i.test(UAe())&&DAe(e)&&"fixed"===qAe(e).position)return null;var n=JAe(e);for(LAe(n)&&(n=n.host);DAe(n)&&["html","body"].indexOf(KAe(n))<0;){var r=qAe(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function QAe(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function eOe(e,t,n){return FAe(e,BAe(t,n))}function tOe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function nOe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var rOe="top",oOe="bottom",iOe="right",aOe="left",sOe="auto",cOe=[rOe,oOe,iOe,aOe],lOe="start",uOe="end",dOe="clippingParents",hOe="viewport",pOe="popper",fOe="reference",mOe=cOe.reduce((function(e,t){return e.concat([t+"-"+lOe,t+"-"+uOe])}),[]),gOe=[].concat(cOe,[sOe]).reduce((function(e,t){return e.concat([t,t+"-"+lOe,t+"-"+uOe])}),[]),yOe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const vOe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=MAe(n.placement),c=QAe(s),l=[aOe,iOe].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return tOe("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:nOe(e,cOe))}(o.padding,n),d=HAe(i),h="y"===c?rOe:aOe,p="y"===c?oOe:iOe,f=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],g=ZAe(i),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,b=u[h],x=y-d[l]-u[p],w=y/2-d[l]/2+v,k=eOe(b,w,x),S=c;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&GAe(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bOe(e){return e.split("-")[1]}var xOe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wOe(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=aOe,x=rOe,w=window;if(l){var k=ZAe(n),S="clientHeight",C="clientWidth";if(k===jAe(n)&&"static"!==qAe(k=XAe(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth"),o===rOe||(o===aOe||o===iOe)&&i===uOe)x=oOe,m-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[S])-r.height,m*=c?1:-1;if(o===aOe||(o===rOe||o===oOe)&&i===uOe)b=iOe,p-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[C])-r.width,p*=c?1:-1}var E,_=Object.assign({position:s},l&&xOe),T=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:zAe(n*o)/o||0,y:zAe(r*o)/o||0}}({x:p,y:m},jAe(n)):{x:p,y:m};return p=T.x,m=T.y,c?Object.assign({},_,((E={})[x]=v?"0":"",E[b]=y?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",E)):Object.assign({},_,((t={})[x]=v?m+"px":"",t[b]=y?p+"px":"",t.transform="",t))}const kOe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:MAe(t.placement),variation:bOe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,wOe(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,wOe(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var SOe={passive:!0};const COe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=jAe(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach((function(e){e.addEventListener("scroll",n.update,SOe)})),s&&c.addEventListener("resize",n.update,SOe),function(){i&&l.forEach((function(e){e.removeEventListener("scroll",n.update,SOe)})),s&&c.removeEventListener("resize",n.update,SOe)}},data:{}};var EOe={left:"right",right:"left",bottom:"top",top:"bottom"};function _Oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return EOe[e]}))}var TOe={start:"end",end:"start"};function NOe(e){return e.replace(/start|end/g,(function(e){return TOe[e]}))}function IOe(e){var t=jAe(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function AOe(e){return WAe(XAe(e)).left+IOe(e).scrollLeft}function OOe(e){var t=qAe(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function ROe(e){return["html","body","#document"].indexOf(KAe(e))>=0?e.ownerDocument.body:DAe(e)&&OOe(e)?e:ROe(JAe(e))}function MOe(e,t){var n;void 0===t&&(t=[]);var r=ROe(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=jAe(r),a=o?[i].concat(i.visualViewport||[],OOe(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(MOe(JAe(a)))}function jOe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function POe(e,t,n){return t===hOe?jOe(function(e,t){var n=jAe(e),r=XAe(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;var l=VAe();(l||!l&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s+AOe(e),y:c}}(e,n)):PAe(t)?function(e,t){var n=WAe(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):jOe(function(e){var t,n=XAe(e),r=IOe(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=FAe(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=FAe(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+AOe(e),c=-r.scrollTop;return"rtl"===qAe(o||n).direction&&(s+=FAe(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(XAe(e)))}function DOe(e,t,n,r){var o="clippingParents"===t?function(e){var t=MOe(JAe(e)),n=["absolute","fixed"].indexOf(qAe(e).position)>=0&&DAe(e)?ZAe(e):e;return PAe(n)?t.filter((function(e){return PAe(e)&&GAe(e,n)&&"body"!==KAe(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=POe(e,n,r);return t.top=FAe(o.top,t.top),t.right=BAe(o.right,t.right),t.bottom=BAe(o.bottom,t.bottom),t.left=FAe(o.left,t.left),t}),POe(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function LOe(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?MAe(o):null,a=o?bOe(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case rOe:t={x:s,y:n.y-r.height};break;case oOe:t={x:s,y:n.y+n.height};break;case iOe:t={x:n.x+n.width,y:c};break;case aOe:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=i?QAe(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case lOe:t[l]=t[l]-(n[u]/2-r[u]/2);break;case uOe:t[l]=t[l]+(n[u]/2-r[u]/2)}}return t}function FOe(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,c=void 0===s?dOe:s,l=n.rootBoundary,u=void 0===l?hOe:l,d=n.elementContext,h=void 0===d?pOe:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,y=tOe("number"!==typeof g?g:nOe(g,cOe)),v=h===pOe?fOe:pOe,b=e.rects.popper,x=e.elements[f?v:h],w=DOe(PAe(x)?x:x.contextElement||XAe(e.elements.popper),c,u,a),k=WAe(e.elements.reference),S=LOe({reference:k,element:b,strategy:"absolute",placement:o}),C=jOe(Object.assign({},b,S)),E=h===pOe?C:k,_={top:w.top-E.top+y.top,bottom:E.bottom-w.bottom+y.bottom,left:w.left-E.left+y.left,right:E.right-w.right+y.right},T=e.modifiersData.offset;if(h===pOe&&T){var N=T[o];Object.keys(_).forEach((function(e){var t=[iOe,oOe].indexOf(e)>=0?1:-1,n=[rOe,oOe].indexOf(e)>=0?"y":"x";_[e]+=N[n]*t}))}return _}const BOe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=MAe(g),v=c||(y===g||!f?[_Oe(g)]:function(e){if(MAe(e)===sOe)return[];var t=_Oe(e);return[NOe(e),t,NOe(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(MAe(n)===sOe?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?gOe:c,u=bOe(r),d=u?s?mOe:mOe.filter((function(e){return bOe(e)===u})):cOe,h=d.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=FOe(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[MAe(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:l,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,S=!0,C=b[0],E=0;E<b.length;E++){var _=b[E],T=MAe(_),N=bOe(_)===lOe,I=[rOe,oOe].indexOf(T)>=0,A=I?"width":"height",O=FOe(t,{placement:_,boundary:u,rootBoundary:d,altBoundary:h,padding:l}),R=I?N?iOe:aOe:N?oOe:rOe;x[A]>w[A]&&(R=_Oe(R));var M=_Oe(R),j=[];if(i&&j.push(O[T]<=0),s&&j.push(O[R]<=0,O[M]<=0),j.every((function(e){return e}))){C=_,S=!1;break}k.set(_,j)}if(S)for(var P=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},D=f?3:1;D>0;D--){if("break"===P(D))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zOe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function UOe(e){return[rOe,iOe,oOe,aOe].some((function(t){return e[t]>=0}))}const VOe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=gOe.reduce((function(e,n){return e[n]=function(e,t,n){var r=MAe(e),o=[aOe,rOe].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[aOe,iOe].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=a}};const WOe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=FOe(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:u}),y=MAe(t.placement),v=bOe(t.placement),b=!v,x=QAe(y),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,_="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(k){if(i){var I,A="y"===x?rOe:aOe,O="y"===x?oOe:iOe,R="y"===x?"height":"width",M=k[x],j=M+g[A],P=M-g[O],D=p?-C[R]/2:0,L=v===lOe?S[R]:C[R],F=v===lOe?-C[R]:-S[R],B=t.elements.arrow,z=p&&B?HAe(B):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=U[A],W=U[O],H=eOe(0,S[R],z[R]),G=b?S[R]/2-D-H-V-_.mainAxis:L-H-V-_.mainAxis,K=b?-S[R]/2+D+H+W+_.mainAxis:F+H+W+_.mainAxis,q=t.elements.arrow&&ZAe(t.elements.arrow),Y=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,X=null!=(I=null==T?void 0:T[x])?I:0,J=M+K-X,$=eOe(p?BAe(j,M+G-X-Y):j,M,p?FAe(P,J):P);k[x]=$,N[x]=$-M}if(s){var Z,Q="x"===x?rOe:aOe,ee="x"===x?oOe:iOe,te=k[w],ne="y"===w?"height":"width",re=te+g[Q],oe=te-g[ee],ie=-1!==[rOe,aOe].indexOf(y),ae=null!=(Z=null==T?void 0:T[w])?Z:0,se=ie?re:te-S[ne]-C[ne]-ae+_.altAxis,ce=ie?te+S[ne]+C[ne]-ae-_.altAxis:oe,le=p&&ie?function(e,t,n){var r=eOe(e,t,n);return r>n?n:r}(se,te,ce):eOe(p?se:re,te,p?ce:oe);k[w]=le,N[w]=le-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};function HOe(e,t,n){void 0===n&&(n=!1);var r=DAe(t),o=DAe(t)&&function(e){var t=e.getBoundingClientRect(),n=zAe(t.width)/e.offsetWidth||1,r=zAe(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=XAe(t),a=WAe(e,o,n),s={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(("body"!==KAe(t)||OOe(i))&&(s=function(e){return e!==jAe(e)&&DAe(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:IOe(e);var t}(t)),DAe(t)?((c=WAe(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=AOe(i))),{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function GOe(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function KOe(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var qOe={placement:"bottom",modifiers:[],strategy:"absolute"};function YOe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function XOe(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?qOe:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},qOe,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,c={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;l(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:PAe(e)?MOe(e):e.contextElement?MOe(e.contextElement):[],popper:MOe(t)};var u=function(e){var t=GOe(e);return yOe.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var s=i({state:o,name:t,instance:c,options:r}),l=function(){};a.push(s||l)}})),c.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(YOe(t,n)){o.rects={reference:HOe(t,ZAe(n),"fixed"===o.options.strategy),popper:HAe(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,l=i.options,u=void 0===l?{}:l,d=i.name;"function"===typeof a&&(o=a({state:o,options:u,name:d,instance:c})||o)}else o.reset=!1,r=-1}}},update:KOe((function(){return new Promise((function(e){c.forceUpdate(),e(o)}))})),destroy:function(){l(),s=!0}};if(!YOe(e,t))return c;function l(){a.forEach((function(e){return e()})),a=[]}return c.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}const JOe=XOe({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=FOe(t,{elementContext:"reference"}),s=FOe(t,{altBoundary:!0}),c=zOe(a,r),l=zOe(s,o,i),u=UOe(c),d=UOe(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=LOe({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},kOe,COe,VOe,BOe,WOe,vOe]}),$Oe=["enabled","placement","strategy","modifiers"];const ZOe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},QOe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:o}=t.elements,i=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===i&&"setAttribute"in o){const e=o.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;o.setAttribute("aria-describedby",e?"".concat(e,",").concat(r.id):r.id)}}},eRe=[];const tRe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:r=!0,placement:o="bottom",strategy:i="absolute",modifiers:a=eRe}=n,s=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,$Oe);const c=(0,Z.useRef)(a),l=(0,Z.useRef)(),u=(0,Z.useCallback)((()=>{var e;null==(e=l.current)||e.update()}),[]),d=(0,Z.useCallback)((()=>{var e;null==(e=l.current)||e.forceUpdate()}),[]),[h,p]=RAe((0,Z.useState)({placement:o,update:u,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),f=(0,Z.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),p({state:t,styles:n,attributes:r,update:u,forceUpdate:d,placement:t.placement})}})),[u,d,p]),m=(0,Z.useMemo)((()=>(OAe(c.current,a)||(c.current=a),c.current)),[a]);return(0,Z.useEffect)((()=>{l.current&&r&&l.current.setOptions({placement:o,strategy:i,modifiers:[...m,f,ZOe]})}),[i,o,f,r,m]),(0,Z.useEffect)((()=>{if(r&&null!=e&&null!=t)return l.current=JOe(e,t,Object.assign({},s,{placement:o,strategy:i,modifiers:[...m,QOe,f]})),()=>{null!=l.current&&(l.current.destroy(),l.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[r,e,t]),h},nRe=()=>{};const rRe=e=>e&&("current"in e?e.current:e),oRe={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const iRe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nRe,{disabled:n,clickTrigger:r="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,Z.useRef)(!1),i=(0,Z.useRef)(!1),a=(0,Z.useCallback)((t=>{const n=rRe(e);var r;Gde()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!Gf(n,t.target)||i.current,i.current=!1}),[e]),s=Of((t=>{const n=rRe(e);n&&Gf(n,t.target)&&(i.current=!0)})),c=Of((e=>{o.current||t(e)}));(0,Z.useEffect)((()=>{var t,o;if(n||null==e)return;const i=Ef(rRe(e)),l=i.defaultView||window;let u=null!=(t=l.event)?t:null==(o=l.parent)?void 0:o.event,d=null;oRe[r]&&(d=Uf(i,oRe[r],s,!0));const h=Uf(i,r,a,!0),p=Uf(i,r,(e=>{e!==u?c(e):u=void 0}));let f=[];return"ontouchstart"in i.documentElement&&(f=[].slice.call(i.body.children).map((e=>Uf(e,"mousemove",nRe)))),()=>{null==d||d(),h(),p(),f.forEach((e=>e()))}}),[e,n,r,a,s,c])};function aRe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function sRe(e){let{enabled:t,enableEvents:n,placement:r,flip:o,offset:i,fixed:a,containerPadding:s,arrowElement:c,popperConfig:l={}}=e;var u,d,h,p,f;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(l.modifiers);return Object.assign({},l,{placement:r,enabled:t,strategy:a?"fixed":l.strategy,modifiers:aRe(Object.assign({},m,{eventListeners:{enabled:n,options:null==(u=m.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},m.preventOverflow,{options:s?Object.assign({padding:s},null==(d=m.preventOverflow)?void 0:d.options):null==(h=m.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:i},null==(p=m.offset)?void 0:p.options)},arrow:Object.assign({},m.arrow,{enabled:!!c,options:Object.assign({},null==(f=m.arrow)?void 0:f.options,{element:c})}),flip:Object.assign({enabled:!!o},m.flip)}))})}const cRe=["children"];const lRe=()=>{};function uRe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,Z.useContext)(NAe),[n,r]=If(),o=(0,Z.useRef)(!1),{flip:i,offset:a,rootCloseEvent:s,fixed:c=!1,placement:l,popperConfig:u={},enableEventListeners:d=!0,usePopper:h=!!t}=e,p=null==(null==t?void 0:t.show)?!!e.show:t.show;p&&!o.current&&(o.current=!0);const{placement:f,setMenu:m,menuElement:g,toggleElement:y}=t||{},v=tRe(y,g,sRe({placement:l||f||"bottom-start",enabled:h,enableEvents:null==d?p:d,offset:a,flip:i,fixed:c,arrowElement:n,popperConfig:u})),b=Object.assign({ref:m||lRe,"aria-labelledby":null==y?void 0:y.id},v.attributes.popper,{style:v.styles.popper}),x={show:p,placement:f,hasShown:o.current,toggle:null==t?void 0:t.toggle,popper:h?v:null,arrowProps:h?Object.assign({ref:r},v.attributes.arrow,{style:v.styles.arrow}):{}};return iRe(g,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:s,disabled:!p}),[b,x]}function dRe(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,cRe);const[r,o]=uRe(n);return(0,fn.jsx)(fn.Fragment,{children:t(r,o)})}dRe.displayName="DropdownMenu",dRe.defaultProps={usePopper:!0};const hRe=dRe,pRe={prefix:String(Math.round(1e10*Math.random())),current:0},fRe=Z.createContext(pRe),mRe=Z.createContext(!1);let gRe=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),yRe=new WeakMap;function vRe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,Z.useContext)(fRe),n=(0,Z.useRef)(null);if(null===n.current&&!e){var r,o;let e=null===(o=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===o||null===(r=o.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let n=yRe.get(e);null==n?yRe.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,yRe.delete(e))}n.current=++t.current}return n.current}const bRe="function"===typeof Z.useId?function(e){let t=Z.useId(),[n]=(0,Z.useState)("function"===typeof Z.useSyncExternalStore?Z.useSyncExternalStore(kRe,xRe,wRe):(0,Z.useContext)(mRe)),r=n?"react-aria":"react-aria".concat(pRe.prefix);return e||"".concat(r,"-").concat(t)}:function(e){let t=(0,Z.useContext)(fRe);t!==pRe||gRe||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=vRe(!!e),r="react-aria".concat(t.prefix);return e||"".concat(r,"-").concat(n)};function xRe(){return!1}function wRe(){return!0}function kRe(e){return()=>{}}const SRe=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},CRe=()=>{};function ERe(){const e=bRe(),{show:t=!1,toggle:n=CRe,setToggle:r,menuElement:o}=(0,Z.useContext)(NAe)||{},i=(0,Z.useCallback)((e=>{n(!t,e)}),[t,n]),a={id:e,ref:r||CRe,onClick:i,"aria-expanded":!!t};return o&&SRe(o)&&(a["aria-haspopup"]=!0),[a,{show:t,toggle:n}]}function _Re(e){let{children:t}=e;const[n,r]=ERe();return(0,fn.jsx)(fn.Fragment,{children:t(n,r)})}_Re.displayName="DropdownToggle";const TRe=_Re,NRe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},IRe=Z.createContext(null),ARe=Z.createContext(null);ARe.displayName="NavContext";const ORe=ARe,RRe=["eventKey","disabled","onClick","active","as"];function MRe(e){let{key:t,href:n,active:r,disabled:o,onClick:i}=e;const a=(0,Z.useContext)(IRe),s=(0,Z.useContext)(ORe),{activeKey:c}=s||{},l=NRe(t,n),u=null==r&&null!=t?NRe(c)===l:r;return[{onClick:Of((e=>{o||(null==i||i(e),a&&!e.isPropagationStopped()&&a(l,e))})),"aria-disabled":o||void 0,"aria-selected":u,[Xf("dropdown-item")]:""},{isActive:u}]}const jRe=Z.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:o,active:i,as:a=sf}=e,s=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,RRe);const[c]=MRe({key:n,href:s.href,disabled:r,onClick:o,active:i});return(0,fn.jsx)(a,Object.assign({},s,{ref:t},c))}));jRe.displayName="DropdownItem";const PRe=jRe;function DRe(){const e=function(){const[,e]=(0,Z.useReducer)((e=>!e),!1);return e}(),t=(0,Z.useRef)(null),n=(0,Z.useCallback)((n=>{t.current=n,e()}),[e]);return[t,n]}function LRe(e){let{defaultShow:t,show:n,onSelect:r,onToggle:o,itemSelector:i="* [".concat(Xf("dropdown-item"),"]"),focusFirstItemOnShow:a,placement:s="bottom-start",children:c}=e;const l=Qf(),[u,d]=TAe(n,t,o),[h,p]=DRe(),f=h.current,[m,g]=DRe(),y=m.current,v=qf(u),b=(0,Z.useRef)(null),x=(0,Z.useRef)(!1),w=(0,Z.useContext)(IRe),k=(0,Z.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;d(e,{originalEvent:t,source:n})}),[d]),S=Of(((e,t)=>{null==r||r(e,t),k(!1,t,"select"),t.isPropagationStopped()||null==w||w(e,t)})),C=(0,Z.useMemo)((()=>({toggle:k,placement:s,show:u,menuElement:f,toggleElement:y,setMenu:p,setToggle:g})),[k,s,u,f,y,p,g]);f&&v&&!u&&(x.current=f.contains(f.ownerDocument.activeElement));const E=Of((()=>{y&&y.focus&&y.focus()})),_=Of((()=>{const e=b.current;let t=a;if(null==t&&(t=!(!h.current||!SRe(h.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=hm(h.current,i)[0];n&&n.focus&&n.focus()}));(0,Z.useEffect)((()=>{u?_():x.current&&(x.current=!1,E())}),[u,x,E,_]),(0,Z.useEffect)((()=>{b.current=null}));const T=(e,t)=>{if(!h.current)return null;const n=hm(h.current,i);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Of(n);(0,Z.useEffect)((()=>{const n="function"===typeof e?e():e;return n.addEventListener(t,o,r),()=>n.removeEventListener(t,o,r)}),[e])}((0,Z.useCallback)((()=>l.document),[l]),"keydown",(e=>{var t,n;const{key:r}=e,o=e.target,i=null==(t=h.current)?void 0:t.contains(o),a=null==(n=m.current)?void 0:n.contains(o);if(/input|textarea/i.test(o.tagName)&&(" "===r||"Escape"!==r&&i||"Escape"===r&&"search"===o.type))return;if(!i&&!a)return;if("Tab"===r&&(!h.current||!u))return;b.current=e.type;const s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=T(o,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),u){const e=T(o,1);e&&e.focus&&e.focus()}else d(!0,s);return;case"Tab":Cf(o.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=h.current)&&t.contains(e.target)||d(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),d(!1,s)}})),(0,fn.jsx)(IRe.Provider,{value:S,children:(0,fn.jsx)(NAe.Provider,{value:C,children:c})})}LRe.displayName="Dropdown",LRe.Menu=hRe,LRe.Toggle=TRe,LRe.Item=PRe;const FRe=LRe;n(2740);function BRe(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function zRe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function URe(e,t){return Object.keys(t).reduce((function(n,r){var o,i=n,a=i[BRe(r)],s=i[r],c=(0,Bn.A)(i,[BRe(r),r].map(zRe)),l=t[r],u=function(e,t,n){var r=(0,Z.useRef)(void 0!==e),o=(0,Z.useState)(t),i=o[0],a=o[1],s=void 0!==e,c=r.current;return r.current=s,!s&&c&&i!==t&&a(t),[s?e:i,(0,Z.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n&&n.apply(void 0,[e].concat(r)),a(e)}),[n])]}(s,a,e[l]),d=u[0],h=u[1];return(0,r_e.A)({},c,((o={})[r]=d,o[l]=h,o))}),e)}function VRe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function WRe(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function HRe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}VRe.__suppressDeprecationWarning=!0,WRe.__suppressDeprecationWarning=!0,HRe.__suppressDeprecationWarning=!0;const GRe=Z.createContext({});GRe.displayName="DropdownContext";const KRe=GRe,qRe=["className","bsPrefix","as","role"],YRe=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="hr",role:i="separator"}=e,a=zn(e,qRe);return r=pf(r,"dropdown-divider"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r),role:i},a))}));YRe.displayName="DropdownDivider";const XRe=YRe,JRe=["className","bsPrefix","as","role"],$Re=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",role:i="heading"}=e,a=zn(e,JRe);return r=pf(r,"dropdown-header"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r),role:i},a))}));$Re.displayName="DropdownHeader";const ZRe=$Re;new WeakMap;const QRe=["onKeyDown"];const eMe=Z.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,QRe);const[o]=of(Object.assign({tagName:"a"},r)),i=Of((e=>{o.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,fn.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,fn.jsx)("a",Object.assign({ref:t},r,o,{onKeyDown:i}));var a}));eMe.displayName="Anchor";const tMe=eMe,nMe=["bsPrefix","className","eventKey","disabled","onClick","active","as"],rMe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:o,disabled:i=!1,onClick:a,active:s,as:c=tMe}=e,l=zn(e,nMe);const u=pf(n,"dropdown-item"),[d,h]=MRe({key:o,href:l.href,disabled:i,onClick:a,active:s});return(0,fn.jsx)(c,Ln(Ln(Ln({},l),d),{},{ref:t,className:nf()(r,u,h.isActive&&"active",i&&"disabled")}))}));rMe.displayName="DropdownItem";const oMe=rMe,iMe=["className","bsPrefix","as"],aMe=Z.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span"}=e,i=zn(e,iMe);return r=pf(r,"dropdown-item-text"),(0,fn.jsx)(o,Ln({ref:t,className:nf()(n,r)},i))}));aMe.displayName="DropdownItemText";const sMe=aMe,cMe=Z.createContext(null);cMe.displayName="InputGroupContext";const lMe=cMe,uMe=Z.createContext(null);uMe.displayName="NavbarContext";const dMe=uMe;function hMe(e,t){return e}const pMe=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function fMe(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const mMe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,align:o,rootCloseEvent:i,flip:a=!0,show:s,renderOnMount:c,as:l="div",popperConfig:u,variant:d}=e,h=zn(e,pMe),p=!1;const f=(0,Z.useContext)(dMe),m=pf(n,"dropdown-menu"),{align:g,drop:y,isRTL:v}=(0,Z.useContext)(KRe);o=o||g;const b=(0,Z.useContext)(lMe),x=[];if(o)if("object"===typeof o){const e=Object.keys(o);if(e.length){const t=e[0],n=o[t];p="start"===n,x.push("".concat(m,"-").concat(t,"-").concat(n))}}else"end"===o&&(p=!0);const w=fMe(p,y,v),[k,{hasShown:S,popper:C,show:E,toggle:_}]=uRe({flip:a,rootCloseEvent:i,show:s,usePopper:!f&&0===x.length,offset:[0,2],popperConfig:u,placement:w});if(k.ref=Mf(hMe(t),k.ref),nm((()=>{E&&(null==C||C.update())}),[E]),!S&&!c&&!b)return null;"string"!==typeof l&&(k.show=E,k.close=()=>null==_?void 0:_(!1),k.align=o);let T=h.style;return null!=C&&C.placement&&(T=Ln(Ln({},h.style),k.style),h["x-placement"]=C.placement),(0,fn.jsx)(l,Ln(Ln(Ln(Ln({},h),k),{},{style:T},(x.length||f)&&{"data-bs-popper":"static"}),{},{className:nf()(r,m,E&&"show",p&&"".concat(m,"-end"),d&&"".concat(m,"-").concat(d),...x)}))}));mMe.displayName="DropdownMenu";const gMe=mMe,yMe=["bsPrefix","split","className","childBsPrefix","as"],vMe=Z.forwardRef(((e,t)=>{let{bsPrefix:n,split:r,className:o,childBsPrefix:i,as:a=bf}=e,s=zn(e,yMe);const c=pf(n,"dropdown-toggle"),l=(0,Z.useContext)(NAe);void 0!==i&&(s.bsPrefix=i);const[u]=ERe();return u.ref=Mf(u.ref,hMe(t)),(0,fn.jsx)(a,Ln(Ln({className:nf()(o,c,r&&"".concat(c,"-split"),(null==l?void 0:l.show)&&"show")},u),s))}));vMe.displayName="DropdownToggle";const bMe=vMe,xMe=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],wMe=Z.forwardRef(((e,t)=>{const n=URe(e,{show:"onToggle"}),{bsPrefix:r,drop:o="down",show:i,className:a,align:s="start",onSelect:c,onToggle:l,focusFirstItemOnShow:u,as:d="div",navbar:h,autoClose:p=!0}=n,f=zn(n,xMe),m=(0,Z.useContext)(lMe),g=pf(r,"dropdown"),y=gf(),v=Of(((e,t)=>{var n,r;var o;(null==(n=t.originalEvent)||null==(r=n.target)?void 0:r.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),o=t.source,(!1===p?"click"===o:"inside"===p?"rootClose"!==o:"outside"!==p||"select"!==o)&&(null==l||l(e,t)))})),b=fMe("end"===s,o,y),x=(0,Z.useMemo)((()=>({align:s,drop:o,isRTL:y})),[s,o,y]),w={down:g,"down-centered":"".concat(g,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,fn.jsx)(KRe.Provider,{value:x,children:(0,fn.jsx)(FRe,{placement:b,show:i,onSelect:c,onToggle:v,focusFirstItemOnShow:u,itemSelector:".".concat(g,"-item:not(.disabled):not(:disabled)"),children:m?f.children:(0,fn.jsx)(d,Ln(Ln({},f),{},{ref:t,className:nf()(a,i&&"show",w[o])}))})})}));wMe.displayName="Dropdown";const kMe=Object.assign(wMe,{Toggle:bMe,Menu:gMe,Item:oMe,ItemText:sMe,Divider:XRe,Header:ZRe}),SMe=["Piyarat U","\u0e17\u0e48\u0e2d\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e27","Pearr"].map(((e,t)=>({name:e,id:t}))),CMe=e=>{let{children:t}=e;const[n,r]=(0,Z.useState)(!1),[o,i]=(0,Z.useState)(""),a=(0,Z.useRef)(null),[s,c]=(0,Z.useState)(null),[l,u]=(0,Z.useState)(""),[d,h]=(0,Z.useState)(!1),[p,f]=(0,Z.useState)(!1),[m,g]=(0,Z.useState)(!1),y=qe(),[v,b]=(0,Z.useState)(!1),[x,w]=(0,Z.useState)([]);(0,Z.useEffect)((()=>{!async function(){try{const e=await(async()=>{const e="".concat(qp,"/posts");try{const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}),n=t.headers.get("content-type");if(n&&n.includes("application/json"))return await t.json();{const e=await t.text();throw new Error("Expected JSON response but got ".concat(n,": ").concat(e))}}catch(t){throw console.error("Error:",t.message),t}})();c(e)}catch(x2e){console.error(x2e)}}()}),[]),(0,Z.useEffect)((()=>{const e=document.querySelector(".headerr"),t=document.querySelector("#menu-icon"),n=document.querySelector(".navmenu"),r=()=>{null===e||void 0===e||e.classList.toggle("sticky",window.scrollY>0)},o=()=>{null===t||void 0===t||t.classList.toggle("bx-x"),null===n||void 0===n||n.classList.toggle("open")};window.addEventListener("scroll",r),null===t||void 0===t||t.addEventListener("click",o);const i=localStorage.getItem("userId");return i&&u(i),()=>{window.removeEventListener("scroll",r),null===t||void 0===t||t.removeEventListener("click",o)}}),[]);const k=SMe.filter((e=>o.length&&e.name.toLowerCase().includes(o.toLowerCase()))),[S,C]=(0,Z.useState)(!1),[E,_]=(0,Z.useState)(null),[T,N]=(0,Z.useState)(""),I=(0,Z.useCallback)((()=>{localStorage.removeItem("userId"),u(""),y("/login")}),[y]);(0,Z.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&r(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);(0,Z.useEffect)((()=>{const e=async()=>{try{const e=await ap.get("".concat("http://localhost:3001","/notifications?userId=").concat(l));w(e.data)}catch(e){console.error("Error fetching notifications:",e)}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[l]);const A=()=>{f(!p)},O=()=>{const e=(0,Z.useMemo)((()=>x.filter((e=>!e.isRead)).length),[x]);return(0,fn.jsxs)("div",{style:{position:"relative",display:"inline-block"},onClick:A,children:[(0,fn.jsx)(Kt,{size:24}),e>0&&(0,fn.jsx)("span",{className:"notification-badge",children:e}),(0,fn.jsx)(kMe,{show:p,onToggle:()=>f(!p),children:(0,fn.jsxs)(kMe.Menu,{style:{right:"-40px",top:"8px",maxHeight:"300px",overflowY:"auto"},children:[(0,fn.jsx)("h4",{style:{margin:"20px"},children:"Notifications"}),x.slice(0,7).map((e=>(0,fn.jsx)(kMe.Item,{href:"#",children:(0,fn.jsx)("div",{className:"d-flex",style:e.isRead?{backgroundColor:"transparent"}:{backgroundColor:"#e4dce7",borderRadius:"10px",padding:"5px"},children:(0,fn.jsx)("p",{className:"m-0",onClick:t=>(async(e,t,n,r)=>{e.preventDefault();try{await ap.patch("".concat("http://localhost:3001","/notifications/").concat(n,"/mark-as-read")),w((e=>e.map((e=>e._id===n?Ln(Ln({},e),{},{isRead:!0}):e)))),y("follow"===t?"/profile/".concat(r):"/content/".concat(r))}catch(o){console.error("Failed to mark notification as read:",o)}})(t,e.type,e._id,e.entity),children:e.message})})},e._id)))]})})]})};return(0,fn.jsx)("div",{className:"navbarreal",children:(0,fn.jsxs)("div",{className:"headerr d-flex",children:[(0,fn.jsx)("a",{href:"#",className:"logo1",children:(0,fn.jsx)("img",{src:Op,alt:"logo"})}),(0,fn.jsxs)("ul",{className:"navmenu",children:[(0,fn.jsx)("li",{children:(0,fn.jsx)("a",{href:"/",children:"\u0e2b\u0e19\u0e49\u0e32\u0e41\u0e23\u0e01"})}),(0,fn.jsx)("li",{children:(0,fn.jsx)("a",{href:"category",children:"\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"})}),(0,fn.jsx)("li",{children:(0,fn.jsx)("a",{href:"#",children:"\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e40\u0e23\u0e32"})})]}),(0,fn.jsxs)("div",{className:"nav-icon",children:[(0,fn.jsxs)("div",{className:"search ".concat(n?"open":""),children:[(0,fn.jsx)("input",{ref:a,onChange:e=>{i(e.target.value)},onKeyDown:async e=>{if("Enter"===e.key){const n=e.target.value.trim();if(!n)return void console.error("\u0e04\u0e33\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2b\u0e49\u0e32\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e04\u0e48\u0e32\u0e27\u0e48\u0e32\u0e07");g(!0);try{const e=await(async e=>{try{const t=encodeURIComponent(e),n=await fetch("".concat(_Ae,"/posts/search?query=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok){const e=n.statusText||"Unknown Error";throw new Error("Server returned ".concat(n.status," ").concat(e))}const r=n.headers.get("content-type");return r&&r.includes("application/json")?await n.json():(await n.text(),console.error("Unexpected content type:",r),[])}catch(t){return console.error("Error:",t.message),t instanceof TypeError?console.error("Network error or CORS issue"):t instanceof SyntaxError&&console.error("Error parsing JSON response"),[]}})(n);console.log("\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e01\u0e32\u0e23\u0e04\u0e49\u0e19\u0e2b\u0e32:",e),y("/search",{state:{searchQuery:n}})}catch(t){console.error("\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e14\u0e36\u0e07\u0e42\u0e1e\u0e2a\u0e15\u0e4c:",t)}finally{g(!1)}}},placeholder:"Search...",type:"text"}),(0,fn.jsx)(Pp,{onClick:()=>{var e;n||(null===(e=a.current)||void 0===e||e.focus());r(!n)},className:"uil uil-".concat(n?"multiply":"search")})]}),(0,fn.jsx)("a",{href:"#/action-1",onClick:()=>{y("/posts")},children:(0,fn.jsx)(up,{className:"icon-style",color:"#22222",style:{fontSize:"20px"}})}),(0,fn.jsx)(O,{}),(0,fn.jsx)("div",{className:"items ".concat(n?"open":""),children:k.length>0&&k.map((e=>(0,fn.jsx)("button",{style:{color:"#222222"},children:e.name},e.id)))}),(0,fn.jsx)(EAe,{}),(0,fn.jsxs)("div",{className:"user-profile-dropdown",children:[(0,fn.jsx)(Hhe,{onClick:()=>{b(!v)}}),(0,fn.jsx)(kMe,{show:v,onToggle:()=>b(!1),children:(0,fn.jsxs)(kMe.Menu,{style:{right:"-40px",top:"8px"},children:[(0,fn.jsx)(kMe.Item,{href:"/profile/".concat(l),children:(0,fn.jsxs)("div",{className:"d-flex",children:[(0,fn.jsx)(Pt,{style:{fontSize:"20px",marginRight:"15px"}}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"})]})}),(0,fn.jsx)(kMe.Item,{href:"/account/perference/".concat(l),children:(0,fn.jsxs)("div",{className:"d-flex",children:[(0,fn.jsx)(Vp,{style:{fontSize:"20px",marginRight:"15px"}}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"})]})}),(0,fn.jsx)(kMe.Item,{href:"#/action-3",children:(0,fn.jsxs)("div",{className:"d-flex",children:[(0,fn.jsx)(Lp,{style:{fontSize:"20px",marginRight:"15px"}}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e2a\u0e16\u0e34\u0e15\u0e34"})]})}),(0,fn.jsx)(kMe.Item,{href:"/helpcentre",children:(0,fn.jsx)("div",{className:"d-flex",children:(0,fn.jsxs)("div",{className:"d-flex",children:[(0,fn.jsx)(Mp,{style:{fontSize:"20px",marginRight:"15px"}}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e0a\u0e48\u0e27\u0e22\u0e40\u0e2b\u0e25\u0e37\u0e2d"})]})})}),(0,fn.jsx)(kMe.Item,{children:(0,fn.jsxs)("div",{className:"d-flex",onClick:I,children:[(0,fn.jsx)(Gt,{style:{fontSize:"20px",marginRight:"15px"}}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a"})]})})]})})]}),(0,fn.jsx)("div",{className:"bx bx-menu",id:"menu-icon",children:(0,fn.jsx)(jhe,{})})]})]})})},EMe=()=>{const{userAuth:{username:e},setUserAuth:t}=(0,Z.useContext)(g2e),n=sessionStorage.getItem("userId");return(0,fn.jsx)(Bu,{className:"animationwrap",transition:{duration:.2},children:(0,fn.jsxs)("div",{className:"list-dropdown",children:[(0,fn.jsxs)(cn,{to:"/editor",className:"link link-list",children:[(0,fn.jsx)(Jhe,{}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e40\u0e02\u0e35\u0e22\u0e19"})]}),(0,fn.jsx)(cn,{to:"/user/".concat(n),className:"link pl-8 ",children:"\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"}),(0,fn.jsx)(cn,{to:"/settings/edit-profile",className:"link pl-8",children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"}),(0,fn.jsx)(cn,{to:"/settings/change-password",className:"link pl-8",children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsx)(cn,{to:"/helpcentre",className:"link pl-8",children:"\u0e0a\u0e48\u0e27\u0e22\u0e40\u0e2b\u0e25\u0e37\u0e2d"}),(0,fn.jsx)("span",{className:"position-absolute border-top border-grey w-100"}),(0,fn.jsxs)("button",{className:"button-signout",onClick:()=>{Nde("user"),t({access_token:null})},children:[(0,fn.jsx)("h1",{children:"\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a"}),(0,fn.jsxs)("p",{className:"m-0",style:{color:"#555555"},children:["@",e]})]})]})})};const _Me=function(){const[e,t]=(0,Z.useState)(!1),[n,r]=(0,Z.useState)(!1),[o,i]=(0,Z.useState)(!1),[a,s]=(0,Z.useState)("\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),c=qe(),{userAuth:{username:l},setUserAuth:u,NotificationShow:d}=(0,Z.useContext)(g2e),h=sessionStorage.getItem("userId"),[p,f]=(0,Z.useState)([]),m="http://localhost:3001",g=(0,Z.useRef)(null);(0,Z.useEffect)((()=>{const e=async()=>{if(h)try{const e=await ap.get("".concat(m,"/notifications/").concat(h));if(200===e.status){let t=e.data.filter((e=>e.user&&e.user._id!==h||"delete"==e.type));f(t)}else console.error("Failed to fetch notifications:",e.data)}catch(e){console.error("Error fetching notifications:",e)}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[h]),(0,Z.useEffect)((()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[g]);const{userAuth:{access_token:y,profile_picture:v}}=(0,Z.useContext)(g2e),b=()=>{i((e=>!e))};console.log("notifications.length",p);const x=e=>{if(!Array.isArray(e))throw new Error("Invalid data type: notifications should be an array.");return e.reduce(((e,t)=>{if("boolean"!==typeof t.seen)throw new Error("Invalid data type: notification.seen should be a boolean.");return!1===t.seen?e+1:e}),0)},w=e=>{const t=new Date,n=new Date(e),r=Math.floor((t.getTime()-n.getTime())/1e3);if(r<60)return"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27";const o=Math.floor(r/60);if(o<60)return"".concat(o," \u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27");const i=Math.floor(o/60);if(i<24)return"".concat(i," \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27");const a=Math.floor(i/24);return a<=3?"".concat(a," \u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27"):n.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})},k=p.filter((e=>"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"===a||("\u0e2d\u0e48\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27"===a?e.seen:"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e2d\u0e48\u0e32\u0e19"!==a||!e.seen)));return(0,fn.jsxs)("nav",{className:"navbar-navbar",children:[(0,fn.jsx)(cn,{to:"/homepage",className:"logo-link",children:(0,fn.jsx)("img",{src:Op,alt:"Logo",className:"logo-img"})}),y&&(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsxs)("div",{className:"search-container ".concat(e?"show":"hide"," "),children:[(0,fn.jsx)("input",{type:"text",placeholder:"Search...",className:"search-input",onKeyDown:e=>{const t=e.currentTarget.value;"Enter"===e.key&&t.length&&c("/search/".concat(t))}}),(0,fn.jsx)(Pp,{className:"icon-search"})]}),(0,fn.jsxs)("div",{className:"toggle-search",children:[(0,fn.jsx)("div",{className:"toggle-search-2",children:(0,fn.jsx)("button",{onClick:()=>t((e=>!e)),className:"search-toggle",children:(0,fn.jsx)(Pp,{className:"toggle-icon"})})}),(0,fn.jsxs)(cn,{to:"/editor",className:"d-none d-md-flex align-items-center gap-2 md:flex gap-2 link",style:{textDecoration:"none"},children:[(0,fn.jsx)(Jhe,{}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e40\u0e02\u0e35\u0e22\u0e19"})]}),(0,fn.jsx)(EAe,{}),(0,fn.jsxs)("div",{className:"relative",style:{position:"relative"},ref:g,children:[(0,fn.jsxs)("button",{onClick:b,className:"button-noti",children:[(0,fn.jsx)(Kt,{className:"d-block",style:{fontSize:"1.5rem"}}),x(p)>0&&(0,fn.jsx)("p",{style:{backgroundColor:"red",borderRadius:"50px",width:"1.2rem",height:"1.2rem",color:"white",marginTop:"-1rem",marginRight:"-1rem",fontSize:"0.8rem",display:"flex",alignItems:"center",justifyContent:"center",opacity:d?1:0},children:x(p)})]}),o&&(0,fn.jsxs)("div",{className:"notifications-container",style:{maxHeight:p.length>5?"400px":"auto",overflowY:p.length>5?"auto":"visible",scrollbarWidth:"thin",scrollbarColor:"#B0B0B0 transparent"},children:[(0,fn.jsx)("h4",{style:{margin:"3%"},children:"\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"}),(0,fn.jsxs)("div",{className:"notifications-categories",children:[(0,fn.jsx)("button",{className:"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"===a?"active":"",onClick:()=>s("\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),children:"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("button",{className:"\u0e2d\u0e48\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27"===a?"active":"",onClick:()=>s("\u0e2d\u0e48\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27"),children:"\u0e2d\u0e48\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27"}),(0,fn.jsx)("button",{className:"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e2d\u0e48\u0e32\u0e19"===a?"active":"",onClick:()=>s("\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e2d\u0e48\u0e32\u0e19"),children:"\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e2d\u0e48\u0e32\u0e19"})]}),(0,fn.jsx)("hr",{style:{opacity:.1,marginTop:"0.3rem"}}),0===k.length?(0,fn.jsx)("p",{style:{textAlign:"center",padding:"10px"},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"}):[...k].sort(((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())).map(((e,t)=>(0,fn.jsxs)("div",{className:"notification-item ".concat(e.seen?"":"unread"),onClick:t=>{var n;const r=(null===(n=e.blog)||void 0===n?void 0:n.blog_id)||e._id;(async(e,t,n,r,o)=>{e.preventDefault();try{const e=await ap.patch("".concat(m,"/notifications/").concat(n,"/mark-as-read"));200===e.status?(f((e=>e.map((e=>e._id===n?Ln(Ln({},e),{},{seen:!0}):e)))),c("follow"===t?"/user/".concat(o):"delete"===t?"/":"/blog/".concat(r))):console.error("Failed to mark notification as read:",e.data)}catch(i){console.error("Failed to mark notification as read:",i)}})(t,e.type,e._id,r,e.user?e.user._id:null),b()},children:[(0,fn.jsx)("img",{src:"delete"!==e.type?e.user.profile_picture:"https://www.svgrepo.com/show/116240/wrench-and-hammer-tools-thin-outline-symbol-inside-a-circle.svg",alt:"delete"!==e.type?"User":"Admin"}),(0,fn.jsxs)("div",{className:"notification-text",children:[(0,fn.jsx)("p",{children:"delete"===e.type?"\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e40\u0e19\u0e37\u0e48\u0e2d\u0e07\u0e08\u0e32\u0e01 ".concat(e.reason):"follow"===e.type?"".concat(e.user.fullname," \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e04\u0e38\u0e13"):"like"===e.type?"".concat(e.user.fullname," \u0e01\u0e14\u0e16\u0e39\u0e01\u0e43\u0e08\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"):"comment"===e.type?"".concat(e.user.fullname," \u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e1a\u0e19\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"):"reply"===e.type?"".concat(e.user.fullname," \u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"):"".concat(e.user.fullname," commented on your blog")}),(0,fn.jsx)("small",{style:{marginTop:"2px"},children:w(e.createdAt)})]})]},t)))]})]}),(0,fn.jsxs)("div",{className:"relative",style:{position:"relative"},onClick:()=>{r((e=>!e))},onBlur:()=>{setTimeout((()=>{r(!1)}),200)},children:[(0,fn.jsx)("button",{className:"mt-1",style:{width:"3rem",height:"3rem"},children:(0,fn.jsx)("img",{src:v,className:"img-fluid rounded-circle",alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})}),n&&(0,fn.jsx)(EMe,{})]})]})]}),!y&&(0,fn.jsxs)("div",{className:"auth-buttons",children:[(0,fn.jsx)(cn,{className:"btn-dark py-2 fnt",to:"/signin",style:{textDecoration:"none"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),(0,fn.jsx)(cn,{className:"btn-light py-2 hidden md:block fnt",to:"/signup",style:{textDecoration:"none"},children:"\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e2a\u0e21\u0e32\u0e0a\u0e34\u0e01"})]})]})},TMe=e=>{let{url:t,caption:n}=e;return(0,fn.jsxs)("div",{children:[(0,fn.jsx)("img",{src:t,alt:""}),n.length?(0,fn.jsx)("p",{className:"w-100 text-center my-3 mb-md-3 text-base text-muted",children:n}):""]})},NMe=e=>{let{quote:t,caption:n}=e;return(0,fn.jsxs)("div",{className:"p-3 pl-5",style:{backgroundColor:"rgba(138, 70, 255, 0.37)",borderLeft:"4px solid #8B46FF"},children:[(0,fn.jsx)("p",{className:"m-0 fs-5 lh-1.5 fs-md-3",children:t}),n.length?(0,fn.jsx)("p",{className:"m-0 w-100 text-muted",style:{color:"#8B46FF"},children:n}):""]})},IMe=e=>{let{style:t,items:n}=e;return(0,fn.jsx)("ol",{className:"pl-5 ".concat("ordered"===t?" list-decimal":" list-disc"),children:n.map(((e,t)=>(0,fn.jsx)("li",{className:"my-2",dangerouslySetInnerHTML:{__html:e}},t)))})},AMe=e=>{let{block:t}=e,{type:n,data:r}=t;return"paragraph"===n?(0,fn.jsx)("p",{dangerouslySetInnerHTML:{__html:r.text||""}}):"header"===n?3===r.level?(0,fn.jsx)("h3",{className:"fw-bold fs-3",dangerouslySetInnerHTML:{__html:r.text||""}}):(0,fn.jsx)("h2",{className:"fw-bold fs-2",dangerouslySetInnerHTML:{__html:r.text||""}}):"image"===n?(0,fn.jsx)(TMe,{url:(null===(o=r.file)||void 0===o?void 0:o.url)||"",caption:r.caption||""}):"quote"===n?(0,fn.jsx)(NMe,{quote:r.text||"",caption:r.caption||""}):"list"===n?(0,fn.jsx)(IMe,{style:r.style,items:r.items||[]}):null;var o},OMe=()=>{const[e,t]=(0,Z.useState)([]),[n,r]=(0,Z.useState)(""),o=qe();(0,Z.useEffect)((()=>{(async()=>{try{const e=await YEe();Array.isArray(e)?(t(e),console.log("FAQ DEBUG",e)):console.error("Fetched questions is not an array")}catch(e){console.error("Failed to load questions:",e)}})()}),[]);const i=n?e.filter((e=>e.topic.toLowerCase().includes(n))):e;return(0,fn.jsxs)("div",{className:"help-centre",children:[(0,fn.jsx)("div",{className:"backbtn",children:(0,fn.jsx)(ANe,{onClick:()=>o(-1),className:"back-button",children:(0,fn.jsx)(Bt,{})})}),(0,fn.jsxs)("header",{className:"header",children:[(0,fn.jsx)("h1",{children:"\u0e04\u0e33\u0e16\u0e32\u0e21\u0e17\u0e35\u0e48\u0e1e\u0e1a\u0e1a\u0e48\u0e2d\u0e22"}),(0,fn.jsx)("h2",{children:"\u0e40\u0e23\u0e32\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e0a\u0e48\u0e27\u0e22\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23\u0e1a\u0e49\u0e32\u0e07?"}),(0,fn.jsx)("div",{className:"search-bar",children:(0,fn.jsx)("input",{type:"text",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32...",value:n,onChange:e=>{r(e.target.value.toLowerCase())}})})]}),(0,fn.jsx)("div",{className:"faq",children:i.length>0?i.map(((e,t)=>(0,fn.jsx)("div",{className:"faq-item",children:(0,fn.jsxs)("details",{children:[(0,fn.jsx)("summary",{className:"faq-question",children:e.topic}),e.answer&&"string"===typeof e.answer&&(()=>{try{if(e.answer&&"string"===typeof e.answer&&e.answer.trim().startsWith("{")){const t=JSON.parse(e.answer);if(t.blocks&&Array.isArray(t.blocks)&&t.blocks.length>0)return t.blocks.map(((e,t)=>(0,fn.jsx)("div",{className:"my-2 md:my-8",children:(0,fn.jsx)(AMe,{block:e})},t)))}}catch(t){console.error("Failed to parse answer:",t)}return null})()]})},t))):(0,fn.jsx)("p",{children:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c"})})]})},RMe=n.p+"static/media/google.0d5c1475d35613f9739a.png",MMe=e=>{let{type:t}=e;const n=(0,Z.useRef)(null),{userAuth:{access_token:r},setUserAuth:o}=(0,Z.useContext)(g2e),i=(e,t)=>{fetch("http://localhost:3001"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>(console.log("response",e),e.ok?e.json():e.json().then((e=>{throw new Error(e.error||"Error occurred")}))))).then((e=>{console.log("data",e),Ede("user",JSON.stringify(e)),_de("userId",e._id),o(e)})).catch((e=>{Jw.error(e.message)}))};return r?(0,fn.jsx)(lt,{to:"/homepage"}):(0,fn.jsxs)(Bu,{keyValue:t,children:[(0,fn.jsx)(wk,{}),(0,fn.jsx)("section",{className:"h-cover d-flex align-items-center justify-content-center",children:(0,fn.jsxs)("form",{id:"formElement",ref:n,className:"custom-form",style:{width:"80%",maxWidth:"400px"},onSubmit:e=>{e.preventDefault();const r="\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"===t?"/signin":"/signup";if(!n.current)return void Jw.error("Form not found");const o=new FormData(n.current),a={};o.forEach(((e,t)=>{a[t]=e})),console.log("formData:",a);const{fullname:s,email:c,password:l}=a;return s&&s.length<3?Jw.error("\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e49\u0e2d\u0e07\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 3 \u0e15\u0e31\u0e27 \u0e2d\u0e31\u0e01\u0e29\u0e23"):c.length?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(c)?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/.test(l)?void i(r,a):Jw.error("\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e04\u0e27\u0e23\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27 6-20 \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23 \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e40\u0e25\u0e47\u0e01 1 \u0e15\u0e31\u0e27 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e43\u0e2b\u0e0d\u0e48 1 \u0e15\u0e31\u0e27"):Jw.error("Email \u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07"):Jw.error("\u0e43\u0e2a\u0e48 Email")},children:[(0,fn.jsx)("h1",{className:"custom-heading",style:{fontSize:"2.2rem",textTransform:"capitalize",textAlign:"center",marginBottom:"3rem"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"===t?"\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e21\u0e32":"\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e01\u0e31\u0e1a\u0e40\u0e23\u0e32\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"}),"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"!==t?(0,fn.jsx)(Ck,{name:"fullname",type:"text",id:"fullname",placeholder:"Full Name",icon:"FaUser"}):"",(0,fn.jsx)(Ck,{name:"email",type:"email",id:"email",placeholder:"Email",icon:"MdOutlineMail"}),(0,fn.jsx)(Ck,{name:"password",type:"password",id:"password",placeholder:"Password",icon:"VscKey"}),(0,fn.jsxs)("p",{className:"text text-r",children:[(0,fn.jsx)(cn,{to:"/forgot-password-user",children:"\u0e25\u0e37\u0e21\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})," \u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"]}),(0,fn.jsx)("button",{className:"btn-dark center",style:{display:"block",margin:"0 auto",marginTop:"3.5rem"},type:"submit",children:t}),(0,fn.jsxs)("div",{className:"line-or",children:[(0,fn.jsx)("hr",{style:{width:"50%",border:"1px solid black"}}),(0,fn.jsx)("p",{className:"m-0",children:"\u0e2b\u0e23\u0e37\u0e2d"}),(0,fn.jsx)("hr",{style:{width:"50%",border:"1px solid black"}})]}),(0,fn.jsxs)("button",{className:"btn-dark button-google center",onClick:async e=>{e.preventDefault();const t=await aI();if(console.log("userCredential",t),t){const e=t.user,n="/google-auth",r={access_token:await e.getIdToken()};await i(n,r)}else Jw.error("\u0e01\u0e32\u0e23\u0e25\u0e07\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e02\u0e49\u0e32\u0e43\u0e0a\u0e49\u0e25\u0e49\u0e21\u0e40\u0e2b\u0e25\u0e27")},children:[(0,fn.jsx)("img",{src:RMe,alt:"googleIcon",style:{width:"1.25rem",height:"auto"}}),"continue with google"]}),"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"===t?(0,fn.jsxs)("p",{className:"custom-class",children:["\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35 ?",(0,fn.jsx)(cn,{to:"/signup",className:"custom-link",children:"\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49"})]}):(0,fn.jsxs)("p",{className:"custom-class",children:["\u0e40\u0e1b\u0e47\u0e19\u0e2a\u0e21\u0e32\u0e0a\u0e34\u0e01\u0e2d\u0e22\u0e39\u0e48\u0e41\u0e25\u0e49\u0e27 ?",(0,fn.jsx)(cn,{to:"/signin",className:"custom-link",children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e17\u0e35\u0e48\u0e19\u0e35\u0e48"})]})]})})]})},jMe=e=>{let{tag:t,tagIndex:n}=e;const r=(0,Z.useContext)(zMe);if(!r)return(0,fn.jsx)("div",{children:"Error: Context not found!"});let{blog:o,blog:{tags:i},setBlog:a}=r;return(0,fn.jsxs)("div",{className:"tags-order",children:[(0,fn.jsx)("p",{className:"outline-none m-0",style:{outline:"none"},onKeyDown:e=>{if(13===e.keyCode||188===e.keyCode){e.preventDefault();let t=e.target.innerText;i[n]=t,a(Ln(Ln({},o),{},{tags:i})),e.target.setAttribute("contentEditable","false")}},onClick:e=>{e.currentTarget.setAttribute("contentEditable","true"),e.currentTarget.focus()},children:t}),(0,fn.jsx)("button",{className:"button-tag-del",onClick:()=>{i=i.filter((e=>e!==t)),a(Ln(Ln({},o),{},{tags:i}))},children:(0,fn.jsx)(Cp,{className:"text-xl pointer-events-none"})})]})},PMe=e=>{let{visibility:t,onChange:n}=e;const[r,o]=(0,Z.useState)(!1);return(0,fn.jsxs)("div",{className:"position-relative mb-4",children:[(0,fn.jsx)("p",{className:"text-secondary mb-2",children:"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e08\u0e30\u0e41\u0e2a\u0e14\u0e07\u0e43\u0e2b\u0e49\u0e43\u0e04\u0e23\u0e40\u0e2b\u0e47\u0e19\u0e1a\u0e49\u0e32\u0e07?"}),(0,fn.jsxs)("div",{className:"dropdown",children:[(0,fn.jsxs)("button",{className:"btn btn-light w-100 d-flex align-items-center justify-content-between",onClick:()=>o(!r),style:{border:"1px solid #dee2e6"},children:[(0,fn.jsx)("div",{className:"d-flex align-items-center gap-2",children:"public"===t?(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(lp,{className:"text-secondary"}),(0,fn.jsx)("span",{children:"\u0e2a\u0e32\u0e18\u0e32\u0e23\u0e13\u0e30 - \u0e17\u0e38\u0e01\u0e04\u0e19\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49"})]}):(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(jt,{className:"text-secondary"}),(0,fn.jsx)("span",{children:"\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21 - \u0e40\u0e09\u0e1e\u0e32\u0e30\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49"})]})}),(0,fn.jsx)("i",{className:"bi bi-chevron-".concat(r?"up":"down")})]}),r&&(0,fn.jsxs)("div",{className:"dropdown-menu show w-100 p-2",children:[(0,fn.jsxs)("button",{className:"dropdown-item d-flex align-items-center gap-2 p-2 rounded ".concat("public"===t?"active":""),onClick:()=>{n("public"),o(!1)},children:[(0,fn.jsx)(lp,{className:"text-secondary"}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)("div",{children:"\u0e2a\u0e32\u0e18\u0e32\u0e23\u0e13\u0e30"}),(0,fn.jsx)("small",{className:"text-secondary",children:"\u0e17\u0e38\u0e01\u0e04\u0e19\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49"})]})]}),(0,fn.jsxs)("button",{className:"dropdown-item d-flex align-items-center gap-2 p-2 rounded ".concat("followers"===t?"active":""),onClick:()=>{n("followers"),o(!1)},children:[(0,fn.jsx)(jt,{className:"text-secondary"}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)("div",{children:"\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"}),(0,fn.jsx)("small",{className:"text-secondary",children:"\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19\u0e17\u0e35\u0e48\u0e08\u0e30\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49"})]})]})]})]})]})},DMe=()=>{let{blog_id:e}=Xe();const[t,n]=(0,Z.useState)("public"),r=200,o=(0,Z.useContext)(zMe);let{userAuth:{access_token:i}}=(0,Z.useContext)(g2e);const a=qe();if(!o)return(0,fn.jsx)("div",{children:"Error: Context not found!"});let{blog:s,blog:{banner:c,topic:l,tags:u,des:d,content:h},setEditorState:p,setBlog:f}=o;return(0,fn.jsxs)(Bu,{children:[(0,fn.jsx)(wk,{}),(0,fn.jsxs)("section",{className:"section-publish",children:[(0,fn.jsx)("button",{className:"button-publish-close",onClick:()=>{p("editor")},children:(0,fn.jsx)(Cp,{})}),(0,fn.jsxs)("div",{className:"center",style:{maxWidth:"550px"},children:[(0,fn.jsx)("p",{style:{wordBreak:"break-word",color:"#282828"},children:"\u0e1e\u0e23\u0e35\u0e27\u0e34\u0e27"}),(0,fn.jsx)("div",{className:"div-img-banner",children:(0,fn.jsx)("img",{src:c,alt:""})}),(0,fn.jsx)("h1",{className:"h1-topic",children:l}),(0,fn.jsx)("p",{className:"des-p",children:d})]}),(0,fn.jsxs)("div",{className:"div-p-text",children:[(0,fn.jsx)(PMe,{visibility:t,onChange:n}),(0,fn.jsx)("p",{className:"p-text",children:"Blog Title"}),(0,fn.jsx)("input",{type:"text",placeholder:"Blog Title",defaultValue:l,className:"input-box pl-4",onChange:e=>{f(Ln(Ln({},s),{},{topic:e.target.value}))}}),(0,fn.jsx)("p",{className:"p-text",children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,fn.jsx)("textarea",{maxLength:r,defaultValue:d,className:"textarea-input-box input-box",onChange:e=>{f(Ln(Ln({},s),{},{des:e.target.value}))},onKeyDown:e=>{13===e.keyCode&&e.preventDefault()}}),(0,fn.jsxs)("p",{className:"p-characters",children:[r-d.length," characters left"]}),(0,fn.jsx)("p",{className:"topic-p",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e17\u0e47\u0e01\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e41\u0e25\u0e30\u0e08\u0e31\u0e14\u0e2d\u0e31\u0e19\u0e14\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,fn.jsxs)("div",{className:"position-relative input-box pl-2 pb-4",children:[(0,fn.jsx)("input",{type:"text",placeholder:"Enter \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e17\u0e47\u0e01",className:"sticky-bg input-box",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let t=e.currentTarget.value;u.length<10&&(!u.includes(t)&&t.length?f(Ln(Ln({},s),{},{tags:[...u,t]})):kk.error("\u0e04\u0e38\u0e13\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14\u0e41\u0e25\u0e49\u0e27 ".concat(10))),e.currentTarget.value=""}}}),u.map(((e,t)=>(0,fn.jsx)(jMe,{tag:e,tagIndex:t},t)))]}),(0,fn.jsxs)("p",{className:"p-tagLimit",children:[10-u.length," Tags left"]}),(0,fn.jsx)("button",{className:"btn-dark",style:{paddingLeft:"2rem",paddingRight:"2rem"},onClick:n=>{const o=n.target;if(o.className.includes("disable"))return;if(!l.length)return kk.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48");if(!d.length||d.length>r)return kk.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e20\u0e32\u0e22\u0e43\u0e19 ".concat(r," \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"));if(!u.length)return kk.error("\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 1 \u0e41\u0e17\u0e47\u0e01 \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e08\u0e31\u0e14\u0e2d\u0e31\u0e19\u0e14\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13");let s=kk.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48...");o.classList.add("disable");let p={topic:l,banner:c,des:d,content:h,tags:u,draft:!1,visibility:t};ap.post("http://localhost:3001/create-blog",Ln(Ln({},p),{},{id:e}),{headers:{Authorization:"Bearer ".concat(i)}}).then((()=>{o.classList.remove("disable"),kk.dismiss(s),kk.success("\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e41\u0e25\u0e49\u0e27"),setTimeout((()=>{a("/")}),500)})).catch((e=>{let{response:t}=e;return o.classList.remove("disable"),kk.dismiss(s),kk.error(t.data.error)}))},children:"\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"})]})]})]})},LMe=n.p+"static/media/blog banner.5fde366e3679b31d30ff.png",FMe=()=>{const[e,t]=(0,Z.useState)("public"),n=200,r="http://localhost:3001",o=(0,Z.useContext)(zMe);let{blog_id:i}=Xe();const{userAuth:{access_token:a}}=(0,Z.useContext)(g2e),s=qe();if(!o)throw new Error("EditorContext must be used within an EditorProvider");const{blog:c,blog:{topic:l,banner:u,content:d,tags:h,des:p},setBlog:f,textEditor:m,setTextEditor:g,setEditorState:y}=o;(0,Z.useEffect)((()=>{null!==m&&void 0!==m&&m.isReady||g(new KEe({holder:"textEditor",data:Array.isArray(d)?d[0]:d,tools:Pke,placeholder:"\u0e21\u0e32\u0e40\u0e02\u0e35\u0e22\u0e19\u0e40\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e23\u0e32\u0e27\u0e2a\u0e38\u0e14\u0e40\u0e08\u0e4b\u0e07\u0e01\u0e31\u0e19\u0e40\u0e16\u0e2d\u0e30!"}))}),[]);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsxs)("nav",{className:"navbar-navbar",children:[(0,fn.jsx)(cn,{to:"/",className:"logo-link",children:(0,fn.jsx)("img",{src:Op,alt:"",className:"logo-img"})}),(0,fn.jsx)("p",{className:" new-blog",children:l.length?l:""}),(0,fn.jsxs)("div",{className:"d-flex gap-4",style:{marginLeft:"auto"},children:[(0,fn.jsx)("button",{className:"btn-dark py-2",onClick:t=>{const o=t.target;if(o.className.includes("disable"))return;if(!u.length)return Jw.error("\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14\u0e41\u0e1a\u0e19\u0e40\u0e19\u0e2d\u0e23\u0e4c\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48");if(!l.length)return Jw.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48");if(null!==m&&void 0!==m&&m.isReady&&m.save().then((e=>{e.blocks.length&&f(Ln(Ln({},c),{},{content:e}))})).catch((e=>{console.log(e)})),!p.length||p.length>n)return Jw.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e20\u0e32\u0e22\u0e43\u0e19 ".concat(n," \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"));if(!h.length)return Jw.error("\u0e01\u0e23\u0e2d\u0e01\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e19\u0e49\u0e2d\u0e22 1 \u0e41\u0e17\u0e47\u0e01 \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e08\u0e31\u0e14\u0e2d\u0e31\u0e19\u0e14\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13");let d=Jw.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48...");o.classList.add("disable"),null!==m&&void 0!==m&&m.isReady&&m.save().then((async t=>{let n={topic:l,banner:u,des:p,content:t,tags:h,draft:!1,visibility:e};ap.post(r+"/create-blog",Ln(Ln({},n),{},{id:i}),{headers:{Authorization:"Bearer ".concat(a)}}).then((()=>{o.classList.remove("disable"),Jw.dismiss(d),Jw.success("\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e41\u0e25\u0e49\u0e27"),setTimeout((()=>{s("/homepage")}),500)})).catch((e=>{let{response:t}=e;return o.classList.remove("disable"),Jw.dismiss(d),Jw.error(t.data.error)}))}))},children:"\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"}),(0,fn.jsx)("button",{className:"btn-light py-2",onClick:async t=>{const n=t.target;if(n.className.includes("disable"))return;if(!l.length)return Jw.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e01\u0e48\u0e2d\u0e19\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e09\u0e1a\u0e31\u0e1a\u0e23\u0e48\u0e32\u0e07");let o=Jw.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e09\u0e1a\u0e31\u0e1a\u0e23\u0e48\u0e32\u0e07...");n.classList.add("disable"),null!==m&&void 0!==m&&m.isReady&&m.save().then((async c=>{let d={topic:l,banner:u,des:p,content:c,tags:h,draft:!0,visibility:e};ap.post(r+"/create-blog",Ln(Ln({},d),{},{id:i}),{headers:{Authorization:"Bearer ".concat(a)}}).then((()=>{t.target.classList.remove("disable"),Jw.dismiss(o),Jw.success("\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e41\u0e25\u0e49\u0e27"),setTimeout((()=>{s("/dashboard/blogs?tab=draft")}),500)})).catch((e=>{Jw.dismiss(o),Jw.error(e.response.data.error),n.classList.remove("disable")}))}))},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e23\u0e48\u0e32\u0e07"})]})]}),(0,fn.jsx)(wk,{}),(0,fn.jsx)(Bu,{children:(0,fn.jsxs)("section",{children:[(0,fn.jsxs)("div",{className:"Banner-divhost",children:[(0,fn.jsx)("div",{className:"Banner-div ",children:(0,fn.jsxs)("label",{htmlFor:"uploadBanner",style:{width:"100%",height:"100%",objectFit:"cover",overflow:"hidden"},children:[(0,fn.jsx)("img",{src:u,alt:"",style:{zIndex:"20"},onError:e=>{e.currentTarget.src=LMe}}),(0,fn.jsx)("input",{id:"uploadBanner",type:"file",accept:".png, .jpg, .jpeg",hidden:!0,onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0],r=Jw.loading("Uploading...");n?Cde(n).then((e=>{console.log("Uploaded URL:",e),e&&(Jw.dismiss(r),Jw.success("Uploaded!"),f(Ln(Ln({},c),{},{banner:e})),console.log("Uploaded URL:",e),console.log("Updated Blog Banner:",Ln(Ln({},c),{},{banner:e})))})).catch((e=>(Jw.dismiss(r),Jw.error(e.message||"Error uploading image.")))):(Jw.dismiss(r),Jw.error("Please select an image.")),console.log("Banner URL:",u)}})]})}),(0,fn.jsxs)("div",{className:"div-p-text",style:{margin:"1rem 0"},children:[(0,fn.jsx)(PMe,{visibility:e,onChange:t}),(0,fn.jsx)("p",{className:"p-text",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e25\u0e47\u0e2d\u0e01"}),(0,fn.jsx)("input",{type:"text",placeholder:"\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e25\u0e47\u0e2d\u0e01...",defaultValue:l,className:"input-box pl-4",onChange:e=>{f(Ln(Ln({},c),{},{topic:e.target.value}))}}),(0,fn.jsx)("p",{className:"p-text",children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,fn.jsx)("textarea",{maxLength:n,defaultValue:p,className:"textarea-input-box input-box",onChange:e=>{f(Ln(Ln({},c),{},{des:e.target.value}))},onKeyDown:e=>{13===e.keyCode&&e.preventDefault()},placeholder:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"}),(0,fn.jsxs)("p",{className:"p-characters",children:["\u0e40\u0e2b\u0e25\u0e37\u0e2d ",n-p.length," \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23"]}),(0,fn.jsx)("p",{className:"topic-p",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e17\u0e47\u0e01\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e0a\u0e48\u0e27\u0e22\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e41\u0e25\u0e30\u0e08\u0e31\u0e14\u0e2d\u0e31\u0e19\u0e14\u0e31\u0e1a\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,fn.jsxs)("div",{className:"position-relative input-box pl-2 pb-4",children:[(0,fn.jsx)("input",{type:"text",placeholder:"Enter \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e17\u0e47\u0e01",className:"sticky-bg input-box",onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let t=e.currentTarget.value;h.length<10&&(!h.includes(t)&&t.length?f(Ln(Ln({},c),{},{tags:[...h,t]})):Jw.error("\u0e04\u0e38\u0e13\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e39\u0e07\u0e2a\u0e38\u0e14\u0e41\u0e25\u0e49\u0e27 ".concat(10))),e.currentTarget.value=""}}}),h.map(((e,t)=>(0,fn.jsx)(jMe,{tag:e,tagIndex:t},t)))]}),(0,fn.jsxs)("p",{className:"p-tagLimit",children:["\u0e40\u0e2b\u0e25\u0e37\u0e2d ",10-h.length," \u0e41\u0e17\u0e47\u0e01"]})]}),(0,fn.jsx)("hr",{className:"w-100 my-1",style:{opacity:"0.1"}})]}),(0,fn.jsx)("div",{id:"textEditor"})]})})]})},BMe={topic:"",banner:"",content:{},tags:[],des:"",author:{},visibility:""},zMe=(0,Z.createContext)(void 0),UMe=()=>{let{blog_id:e}=Xe();const[t,n]=(0,Z.useState)(BMe),[r,o]=(0,Z.useState)("editor"),[i,a]=(0,Z.useState)(null),[s,c]=(0,Z.useState)(!0),{userAuth:{access_token:l}}=(0,Z.useContext)(g2e);return(0,Z.useEffect)((()=>{if(!e)return c(!1);ap.post(qp+"/create-blog/get-blog",{blog_id:e,draft:!0,mode:"edit"}).then((e=>{let{data:{blog:t}}=e;n(t),c(!1)})).catch((e=>{n(BMe),c(!1)}))}),[]),(0,fn.jsx)(zMe.Provider,{value:{blog:t,setBlog:n,editorState:r,setEditorState:o,textEditor:i,setTextEditor:a},children:null===l?(0,fn.jsx)(lt,{to:"/singin"}):s?(0,fn.jsx)(sp,{}):"editor"===r?(0,fn.jsx)(FMe,{}):(0,fn.jsx)(DMe,{})})},VMe=e=>{let{user:t}=e,{fullname:n,profile_picture:r,username:o,_id:i}=t;return(0,fn.jsxs)(cn,{to:"/user/".concat(i),className:"d-flex gap-3 align-items-center mb-4",style:{color:"inherit",textDecoration:"none"},children:[(0,fn.jsx)("img",{src:r,className:"rounded-circle",style:{width:"50px",height:"50px"},alt:""}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)("h1",{className:"fw-medium m-0 line-clamp-2",style:{fontSize:"16px"},children:n}),(0,fn.jsxs)("p",{className:"m-0",style:{color:"#494949",fontSize:"13px"},children:["@",o]})]})]})},WMe=()=>{const{query:e}=Xe(),[t,n]=(0,Z.useState)(null),[r,o]=(0,Z.useState)(null),i=r=>{let{page:o=1,create_new_arr:i=!1}=r;ap.post(qp+"/search-blogs",{query:e,page:o}).then((async r=>{let{data:a}=r;console.log(a.blogs);let s=await Np({state:t,data:a.blogs,page:o,countRoute:"/search-blogs-count",data_to_send:{query:e},create_new_arr:i});n(s)})).catch((e=>{console.log(e)}))};(0,Z.useEffect)((()=>{a(),i({page:1,create_new_arr:!0}),ap.post(qp+"/search-users",{query:e}).then((e=>{let{data:{users:t}}=e;console.log(t),o(t)}))}),[e]);const a=()=>{n(null),o(null)},s=()=>(0,fn.jsx)(fn.Fragment,{children:null===r?(0,fn.jsx)(sp,{}):r.length>0?r.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.08*t},children:(0,fn.jsx)(cn,{to:"/user/".concat(e._id),style:{textDecoration:"none",color:"inherit"},children:(0,fn.jsx)(VMe,{user:e})})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"})});return(0,fn.jsxs)("section",{className:"h-cover d-flex justify-content-center gap-2",children:[(0,fn.jsx)("div",{className:"w-100",children:(0,fn.jsxs)(Uu,{routes:['\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e01\u0e32\u0e23\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e08\u0e32\u0e01 "'.concat(e,'"'),"\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e17\u0e35\u0e48\u0e1e\u0e1a"],defaultHidden:["\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e17\u0e35\u0e48\u0e1e\u0e1a"],children:[(0,fn.jsxs)(fn.Fragment,{children:[null===t?(0,fn.jsx)(sp,{}):t.result.length?t.result.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.1*t},children:(0,fn.jsx)(mp,{content:e,author:e.author})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"}),(0,fn.jsx)(Ip,{state:t,fetchDataFun:i})]}),(0,fn.jsx)(s,{})]})}),(0,fn.jsxs)("div",{className:"userSearch",children:[(0,fn.jsxs)("h1",{className:"fw-medium mb-4",style:{fontSize:"16px"},children:["User to search ",(0,fn.jsx)($he,{})]}),(0,fn.jsx)(s,{})]})]})},HMe=e=>{let{isOpen:t,onClose:n,postId:r,accessToken:o}=e;const[i,a]=(0,Z.useState)([]),[s,c]=(0,Z.useState)(!0),[l,u]=(0,Z.useState)(null),[d,h]=(0,Z.useState)({}),[p,f]=(0,Z.useState)(null);(0,Z.useEffect)((()=>{const e=sessionStorage.getItem("userId");e&&(async e=>{try{return Qp(e)}catch(l){var t,n;throw console.error("Error fetching profile:",l),(null===(t=l.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error fetching profile"}})(e).then((e=>{f(e)}))}),[]),(0,Z.useEffect)((()=>{if(p){const e={};i.forEach((t=>{var n;const r=null===(n=p.following)||void 0===n?void 0:n.some((e=>e._id===t.user._id));e[t.user._id]=r})),h(e)}}),[p,i]),(0,Z.useEffect)((()=>{t&&r&&y()}),[t,r]);const m=(0,Z.useCallback)((async e=>{const t="".concat("http://localhost:3001","/follow");try{const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:e})});if(!n.ok){const e=n.statusText||"Unknown Error";throw new Error("Server returned ".concat(n.status," ").concat(e," for ").concat(t))}const r=await n.json();h((t=>Ln(Ln({},t),{},{[e]:!0}))),console.log("Followed successfully:",r)}catch(l){console.error("Error following user:",l)}}),[]),g=(0,Z.useCallback)((async e=>{try{const t=await fetch("".concat(qp,"/follow/delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({me:sessionStorage.getItem("userId"),you:e})});if(!t.ok){const e=t.statusText||"Unknown Error";throw new Error("Server returned ".concat(t.status," ").concat(e," for ").concat(qp,"/follow/delete"))}const n=await t.json();h((t=>Ln(Ln({},t),{},{[e]:!1}))),console.log("Unfollowed successfully:",n)}catch(l){console.error("Error unfollowing user:",l)}}),[]),y=async()=>{try{c(!0),u(null);const e=await ap.get("".concat(qp,"/posts/").concat(r,"/likes"),{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});a(e.data)}catch(l){var e,t;console.error("Error fetching likes:",l),u((null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Error fetching likes")}finally{c(!1)}};return t?(0,fn.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0, 0, 0, 0.25)",backdropFilter:"blur(4px)",zIndex:1050},onClick:n,children:(0,fn.jsxs)("div",{className:"bg-white rounded-3 shadow",style:{width:"90%",maxWidth:"400px",maxHeight:"80vh"},onClick:e=>e.stopPropagation(),children:[(0,fn.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-3 border-bottom",children:[(0,fn.jsx)("h6",{className:"m-0",children:"\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e17\u0e35\u0e48\u0e01\u0e14\u0e16\u0e39\u0e01\u0e43\u0e08"}),(0,fn.jsx)("button",{type:"button",className:"btn-close",onClick:n,"aria-label":"Close"})]}),(0,fn.jsx)("div",{style:{maxHeight:"calc(80vh - 60px)",overflowY:"auto"},children:s?(0,fn.jsx)("div",{className:"d-flex justify-content-center p-4",children:(0,fn.jsx)("div",{className:"spinner-border spinner-border-sm text-primary"})}):l?(0,fn.jsx)("div",{className:"text-center p-4 text-danger",children:l}):i.length>0?(0,fn.jsx)("div",{className:"p-2",children:i.map((e=>(0,fn.jsxs)("div",{className:"d-flex align-items-center p-2 hover-bg-light",children:[(0,fn.jsx)(cn,{to:"/user/".concat(e.user._id),children:(0,fn.jsx)("img",{src:e.user.profile_picture,alt:e.user.username,className:"rounded-circle me-3",style:{width:"40px",height:"40px",objectFit:"cover",border:"1px solid #dee2e6"}})}),(0,fn.jsxs)("div",{className:"flex-grow-1",children:[(0,fn.jsx)(cn,{to:"/user/".concat(e.user._id),className:"text-decoration-none text-dark fw-medium",children:e.user.fullname}),(0,fn.jsxs)("div",{className:"text-muted small",children:["@",e.user.username]})]}),e.user._id===(null===p||void 0===p?void 0:p._id)?(0,fn.jsx)(bf,{style:{backgroundColor:"black",color:"white",border:"none"},disabled:!0,children:"\u0e04\u0e38\u0e13"}):(0,fn.jsx)(bf,{style:{backgroundColor:d[e.user._id]?"gray":"black",color:"white",border:"none"},onClick:()=>d[e.user._id]?g(e.user._id):m(e.user._id),children:d[e.user._id]?"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e41\u0e25\u0e49\u0e27":"\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"})]},e._id)))}):(0,fn.jsx)("div",{className:"text-center p-4 text-muted",children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e01\u0e14\u0e16\u0e39\u0e01\u0e43\u0e08"})})]})}):null};var GMe=function(){return GMe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},GMe.apply(this,arguments)};Object.create;function KMe(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var qMe=n(7324),YMe=n.n(qMe),XMe="-ms-",JMe="-moz-",$Me="-webkit-",ZMe="comm",QMe="rule",eje="decl",tje="@import",nje="@keyframes",rje="@layer",oje=Math.abs,ije=String.fromCharCode,aje=Object.assign;function sje(e){return e.trim()}function cje(e,t){return(e=t.exec(e))?e[0]:e}function lje(e,t,n){return e.replace(t,n)}function uje(e,t,n){return e.indexOf(t,n)}function dje(e,t){return 0|e.charCodeAt(t)}function hje(e,t,n){return e.slice(t,n)}function pje(e){return e.length}function fje(e){return e.length}function mje(e,t){return t.push(e),e}function gje(e,t){return e.filter((function(e){return!cje(e,t)}))}var yje=1,vje=1,bje=0,xje=0,wje=0,kje="";function Sje(e,t,n,r,o,i,a,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:yje,column:vje,length:a,return:"",siblings:s}}function Cje(e,t){return aje(Sje("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Eje(e){for(;e.root;)e=Cje(e.root,{children:[e]});mje(e,e.siblings)}function _je(){return wje=xje>0?dje(kje,--xje):0,vje--,10===wje&&(vje=1,yje--),wje}function Tje(){return wje=xje<bje?dje(kje,xje++):0,vje++,10===wje&&(vje=1,yje++),wje}function Nje(){return dje(kje,xje)}function Ije(){return xje}function Aje(e,t){return hje(kje,e,t)}function Oje(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rje(e){return yje=vje=1,bje=pje(kje=e),xje=0,[]}function Mje(e){return kje="",e}function jje(e){return sje(Aje(xje-1,Lje(91===e?e+2:40===e?e+1:e)))}function Pje(e){for(;(wje=Nje())&&wje<33;)Tje();return Oje(e)>2||Oje(wje)>3?"":" "}function Dje(e,t){for(;--t&&Tje()&&!(wje<48||wje>102||wje>57&&wje<65||wje>70&&wje<97););return Aje(e,Ije()+(t<6&&32==Nje()&&32==Tje()))}function Lje(e){for(;Tje();)switch(wje){case e:return xje;case 34:case 39:34!==e&&39!==e&&Lje(wje);break;case 40:41===e&&Lje(e);break;case 92:Tje()}return xje}function Fje(e,t){for(;Tje()&&e+wje!==57&&(e+wje!==84||47!==Nje()););return"/*"+Aje(t,xje-1)+"*"+ije(47===e?e:Tje())}function Bje(e){for(;!Oje(Nje());)Tje();return Aje(e,xje)}function zje(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Uje(e,t,n,r){switch(e.type){case rje:if(e.children.length)break;case tje:case eje:return e.return=e.return||e.value;case ZMe:return"";case nje:return e.return=e.value+"{"+zje(e.children,r)+"}";case QMe:if(!pje(e.value=e.props.join(",")))return""}return pje(n=zje(e.children,r))?e.return=e.value+"{"+n+"}":""}function Vje(e,t,n){switch(function(e,t){return 45^dje(e,0)?(((t<<2^dje(e,0))<<2^dje(e,1))<<2^dje(e,2))<<2^dje(e,3):0}(e,t)){case 5103:return $Me+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $Me+e+e;case 4789:return JMe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $Me+e+JMe+e+XMe+e+e;case 5936:switch(dje(e,t+11)){case 114:return $Me+e+XMe+lje(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $Me+e+XMe+lje(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $Me+e+XMe+lje(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return $Me+e+XMe+e+e;case 6165:return $Me+e+XMe+"flex-"+e+e;case 5187:return $Me+e+lje(e,/(\w+).+(:[^]+)/,$Me+"box-$1$2"+XMe+"flex-$1$2")+e;case 5443:return $Me+e+XMe+"flex-item-"+lje(e,/flex-|-self/g,"")+(cje(e,/flex-|baseline/)?"":XMe+"grid-row-"+lje(e,/flex-|-self/g,""))+e;case 4675:return $Me+e+XMe+"flex-line-pack"+lje(e,/align-content|flex-|-self/g,"")+e;case 5548:return $Me+e+XMe+lje(e,"shrink","negative")+e;case 5292:return $Me+e+XMe+lje(e,"basis","preferred-size")+e;case 6060:return $Me+"box-"+lje(e,"-grow","")+$Me+e+XMe+lje(e,"grow","positive")+e;case 4554:return $Me+lje(e,/([^-])(transform)/g,"$1"+$Me+"$2")+e;case 6187:return lje(lje(lje(e,/(zoom-|grab)/,$Me+"$1"),/(image-set)/,$Me+"$1"),e,"")+e;case 5495:case 3959:return lje(e,/(image-set\([^]*)/,$Me+"$1$`$1");case 4968:return lje(lje(e,/(.+:)(flex-)?(.*)/,$Me+"box-pack:$3"+XMe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$Me+e+e;case 4200:if(!cje(e,/flex-|baseline/))return XMe+"grid-column-align"+hje(e,t)+e;break;case 2592:case 3360:return XMe+lje(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,cje(e.props,/grid-\w+-end/)}))?~uje(e+(n=n[t].value),"span",0)?e:XMe+lje(e,"-start","")+e+XMe+"grid-row-span:"+(~uje(n,"span",0)?cje(n,/\d+/):+cje(n,/\d+/)-+cje(e,/\d+/))+";":XMe+lje(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return cje(e.props,/grid-\w+-start/)}))?e:XMe+lje(lje(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return lje(e,/(.+)-inline(.+)/,$Me+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pje(e)-1-t>6)switch(dje(e,t+1)){case 109:if(45!==dje(e,t+4))break;case 102:return lje(e,/(.+:)(.+)-([^]+)/,"$1"+$Me+"$2-$3$1"+JMe+(108==dje(e,t+3)?"$3":"$2-$3"))+e;case 115:return~uje(e,"stretch",0)?Vje(lje(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return lje(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,o,i,a,s){return XMe+n+":"+r+s+(o?XMe+n+"-span:"+(i?a:+a-+r)+s:"")+e}));case 4949:if(121===dje(e,t+6))return lje(e,":",":"+$Me)+e;break;case 6444:switch(dje(e,45===dje(e,14)?18:11)){case 120:return lje(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$Me+(45===dje(e,14)?"inline-":"")+"box$3$1"+$Me+"$2$3$1"+XMe+"$2box$3")+e;case 100:return lje(e,":",":"+XMe)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return lje(e,"scroll-","scroll-snap-")+e}return e}function Wje(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case eje:return void(e.return=Vje(e.value,e.length,n));case nje:return zje([Cje(e,{value:lje(e.value,"@","@"+$Me)})],r);case QMe:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(cje(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Eje(Cje(e,{props:[lje(t,/:(read-\w+)/,":"+JMe+"$1")]})),Eje(Cje(e,{props:[t]})),aje(e,{props:gje(n,r)});break;case"::placeholder":Eje(Cje(e,{props:[lje(t,/:(plac\w+)/,":"+$Me+"input-$1")]})),Eje(Cje(e,{props:[lje(t,/:(plac\w+)/,":"+JMe+"$1")]})),Eje(Cje(e,{props:[lje(t,/:(plac\w+)/,XMe+"input-$1")]})),Eje(Cje(e,{props:[t]})),aje(e,{props:gje(n,r)})}return""}))}}function Hje(e){return Mje(Gje("",null,null,null,[""],e=Rje(e),0,[0],e))}function Gje(e,t,n,r,o,i,a,s,c){for(var l=0,u=0,d=a,h=0,p=0,f=0,m=1,g=1,y=1,v=0,b="",x=o,w=i,k=r,S=b;g;)switch(f=v,v=Tje()){case 40:if(108!=f&&58==dje(S,d-1)){-1!=uje(S+=lje(jje(v),"&","&\f"),"&\f",oje(l?s[l-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=jje(v);break;case 9:case 10:case 13:case 32:S+=Pje(f);break;case 92:S+=Dje(Ije()-1,7);continue;case 47:switch(Nje()){case 42:case 47:mje(qje(Fje(Tje(),Ije()),t,n,c),c);break;default:S+="/"}break;case 123*m:s[l++]=pje(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=lje(S,/\f/g,"")),p>0&&pje(S)-d&&mje(p>32?Yje(S+";",r,n,d-1,c):Yje(lje(S," ","")+";",r,n,d-2,c),c);break;case 59:S+=";";default:if(mje(k=Kje(S,t,n,l,u,o,s,b,x=[],w=[],d,i),i),123===v)if(0===u)Gje(S,t,k,k,x,i,d,s,w);else switch(99===h&&110===dje(S,3)?100:h){case 100:case 108:case 109:case 115:Gje(e,k,k,r&&mje(Kje(e,k,k,0,0,o,s,b,o,x=[],d,w),w),o,w,d,s,r?x:w);break;default:Gje(S,k,k,k,[""],w,0,s,w)}}l=u=p=0,m=y=1,b=S="",d=a;break;case 58:d=1+pje(S),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==_je())continue;switch(S+=ije(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:s[l++]=(pje(S)-1)*y,y=1;break;case 64:45===Nje()&&(S+=jje(Tje())),h=Nje(),u=d=pje(b=S+=Bje(Ije())),v++;break;case 45:45===f&&2==pje(S)&&(m=0)}}return i}function Kje(e,t,n,r,o,i,a,s,c,l,u,d){for(var h=o-1,p=0===o?i:[""],f=fje(p),m=0,g=0,y=0;m<r;++m)for(var v=0,b=hje(e,h+1,h=oje(g=a[m])),x=e;v<f;++v)(x=sje(g>0?p[v]+" "+b:lje(b,/&\f/g,p[v])))&&(c[y++]=x);return Sje(e,t,n,0===o?QMe:s,c,l,u,d)}function qje(e,t,n,r){return Sje(e,t,n,ZMe,ije(wje),hje(e,2,-2),0,r)}function Yje(e,t,n,r,o){return Sje(e,t,n,eje,hje(e,0,r),hje(e,r+1,-1),r,o)}var Xje={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Jje="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.SC_ATTR)||"data-styled",$je="active",Zje="data-styled-version",Qje="6.1.13",ePe="/*!sc*/\n",tPe="undefined"!=typeof window&&"HTMLElement"in window,nPe=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ENDPOINT:"http://localhost:3001"}.SC_DISABLE_SPEEDY)),rPe=(new Set,Object.freeze([])),oPe=Object.freeze({});function iPe(e,t,n){return void 0===n&&(n=oPe),e.theme!==n.theme&&e.theme||t||n.theme}var aPe=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),sPe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,cPe=/(^-|-$)/g;function lPe(e){return e.replace(sPe,"-").replace(cPe,"")}var uPe=/(a)(d)/gi,dPe=52,hPe=function(e){return String.fromCharCode(e+(e>25?39:97))};function pPe(e){var t,n="";for(t=Math.abs(e);t>dPe;t=t/dPe|0)n=hPe(t%dPe)+n;return(hPe(t%dPe)+n).replace(uPe,"$1-$2")}var fPe,mPe=5381,gPe=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},yPe=function(e){return gPe(mPe,e)};function vPe(e){return pPe(yPe(e)>>>0)}function bPe(e){return e.displayName||e.name||"Component"}function xPe(e){return"string"==typeof e&&!0}var wPe="function"==typeof Symbol&&Symbol.for,kPe=wPe?Symbol.for("react.memo"):60115,SPe=wPe?Symbol.for("react.forward_ref"):60112,CPe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},EPe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_Pe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TPe=((fPe={})[SPe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fPe[kPe]=_Pe,fPe);function NPe(e){return("type"in(t=e)&&t.type.$$typeof)===kPe?_Pe:"$$typeof"in e?TPe[e.$$typeof]:CPe;var t}var IPe=Object.defineProperty,APe=Object.getOwnPropertyNames,OPe=Object.getOwnPropertySymbols,RPe=Object.getOwnPropertyDescriptor,MPe=Object.getPrototypeOf,jPe=Object.prototype;function PPe(e,t,n){if("string"!=typeof t){if(jPe){var r=MPe(t);r&&r!==jPe&&PPe(e,r,n)}var o=APe(t);OPe&&(o=o.concat(OPe(t)));for(var i=NPe(e),a=NPe(t),s=0;s<o.length;++s){var c=o[s];if(!(c in EPe||n&&n[c]||a&&c in a||i&&c in i)){var l=RPe(t,c);try{IPe(e,c,l)}catch(e){}}}}return e}function DPe(e){return"function"==typeof e}function LPe(e){return"object"==typeof e&&"styledComponentId"in e}function FPe(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function BPe(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function zPe(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function UPe(e,t,n){if(void 0===n&&(n=!1),!n&&!zPe(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=UPe(e[r],t[r]);else if(zPe(t))for(var r in t)e[r]=UPe(e[r],t[r]);return e}function VPe(e,t){Object.defineProperty(e,"toString",{value:t})}function WPe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var HPe=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,o=r;e>=o;)if((o<<=1)<0)throw WPe(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(n),this.length=o;for(var i=r;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=(i=0,t.length);i<s;i++)this.tag.insertRule(a,t[i])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var o=n;o<r;o++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n,i=r;i<o;i++)t+="".concat(this.tag.getRule(i)).concat(ePe);return t},e}(),GPe=new Map,KPe=new Map,qPe=1,YPe=function(e){if(GPe.has(e))return GPe.get(e);for(;KPe.has(qPe);)qPe++;var t=qPe++;return GPe.set(e,t),KPe.set(t,e),t},XPe=function(e,t){qPe=t+1,GPe.set(e,t),KPe.set(t,e)},JPe="style[".concat(Jje,"][").concat(Zje,'="').concat(Qje,'"]'),$Pe=new RegExp("^".concat(Jje,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ZPe=function(e,t,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&e.registerName(t,r)},QPe=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(ePe),o=[],i=0,a=r.length;i<a;i++){var s=r[i].trim();if(s){var c=s.match($Pe);if(c){var l=0|parseInt(c[1],10),u=c[2];0!==l&&(XPe(u,l),ZPe(e,u,c[3]),e.getTag().insertRules(l,o)),o.length=0}else o.push(s)}}},eDe=function(e){for(var t=document.querySelectorAll(JPe),n=0,r=t.length;n<r;n++){var o=t[n];o&&o.getAttribute(Jje)!==$je&&(QPe(e,o),o.parentNode&&o.parentNode.removeChild(o))}};function tDe(){return n.nc}var nDe=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Jje,"]")));return t[t.length-1]}(n),i=void 0!==o?o.nextSibling:null;r.setAttribute(Jje,$je),r.setAttribute(Zje,Qje);var a=tDe();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},rDe=function(){function e(e){this.element=nDe(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var o=t[n];if(o.ownerNode===e)return o}throw WPe(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),oDe=function(){function e(e){this.element=nDe(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),iDe=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),aDe=tPe,sDe={isServer:!tPe,useCSSOMInjection:!nPe},cDe=function(){function e(e,t,n){void 0===e&&(e=oPe),void 0===t&&(t={});var r=this;this.options=GMe(GMe({},sDe),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&tPe&&aDe&&(aDe=!1,eDe(this)),VPe(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",o=function(n){var o=function(e){return KPe.get(e)}(n);if(void 0===o)return"continue";var i=e.names.get(o),a=t.getGroup(n);if(void 0===i||!i.size||0===a.length)return"continue";var s="".concat(Jje,".g").concat(n,'[id="').concat(o,'"]'),c="";void 0!==i&&i.forEach((function(e){e.length>0&&(c+="".concat(e,","))})),r+="".concat(a).concat(s,'{content:"').concat(c,'"}').concat(ePe)},i=0;i<n;i++)o(i);return r}(r)}))}return e.registerId=function(e){return YPe(e)},e.prototype.rehydrate=function(){!this.server&&tPe&&eDe(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(GMe(GMe({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new iDe(n):t?new rDe(n):new oDe(n)}(this.options),new HPe(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(YPe(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(YPe(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(YPe(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),lDe=/&/g,uDe=/^\s*\/\/.*$/gm;function dDe(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=dDe(e.children,t)),e}))}function hDe(e){var t,n,r,o=void 0===e?oPe:e,i=o.options,a=void 0===i?oPe:i,s=o.plugins,c=void 0===s?rPe:s,l=function(e,r,o){return o.startsWith(n)&&o.endsWith(n)&&o.replaceAll(n,"").length>0?".".concat(t):e},u=c.slice();u.push((function(e){e.type===QMe&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(lDe,n).replace(r,l))})),a.prefix&&u.push(Wje),u.push(Uje);var d=function(e,o,i,s){void 0===o&&(o=""),void 0===i&&(i=""),void 0===s&&(s="&"),t=s,n=o,r=new RegExp("\\".concat(n,"\\b"),"g");var c=e.replace(uDe,""),l=Hje(i||o?"".concat(i," ").concat(o," { ").concat(c," }"):c);a.namespace&&(l=dDe(l,a.namespace));var d=[];return zje(l,function(e){var t=fje(e);return function(n,r,o,i){for(var a="",s=0;s<t;s++)a+=e[s](n,r,o,i)||"";return a}}(u.concat(function(e){return function(t){t.root||(t=t.return)&&e(t)}}((function(e){return d.push(e)}))))),d};return d.hash=c.length?c.reduce((function(e,t){return t.name||WPe(15),gPe(e,t.name)}),mPe).toString():"",d}var pDe=new cDe,fDe=hDe(),mDe=Z.createContext({shouldForwardProp:void 0,styleSheet:pDe,stylis:fDe}),gDe=(mDe.Consumer,Z.createContext(void 0));function yDe(){return(0,Z.useContext)(mDe)}function vDe(e){var t=(0,Z.useState)(e.stylisPlugins),n=t[0],r=t[1],o=yDe().styleSheet,i=(0,Z.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,o]),a=(0,Z.useMemo)((function(){return hDe({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,Z.useEffect)((function(){YMe()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]);var s=(0,Z.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:i,stylis:a}}),[e.shouldForwardProp,i,a]);return Z.createElement(mDe.Provider,{value:s},Z.createElement(gDe.Provider,{value:a},e.children))}var bDe=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=fDe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,VPe(this,(function(){throw WPe(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=fDe),this.name+e.hash},e}(),xDe=function(e){return e>="A"&&e<="Z"};function wDe(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;xDe(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var kDe=function(e){return null==e||!1===e||""===e},SDe=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!kDe(i)&&(Array.isArray(i)&&i.isCss||DPe(i)?r.push("".concat(wDe(o),":"),i,";"):zPe(i)?r.push.apply(r,KMe(KMe(["".concat(o," {")],SDe(i),!1),["}"],!1)):r.push("".concat(wDe(o),": ").concat((t=o,null==(n=i)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Xje||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function CDe(e,t,n,r){return kDe(e)?[]:LPe(e)?[".".concat(e.styledComponentId)]:DPe(e)?!DPe(o=e)||o.prototype&&o.prototype.isReactComponent||!t?[e]:CDe(e(t),t,n,r):e instanceof bDe?n?(e.inject(n,r),[e.getName(r)]):[e]:zPe(e)?SDe(e):Array.isArray(e)?Array.prototype.concat.apply(rPe,e.map((function(e){return CDe(e,t,n,r)}))):[e.toString()];var o}function EDe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(DPe(n)&&!LPe(n))return!1}return!0}var _De=yPe(Qje),TDe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&EDe(e),this.componentId=t,this.baseHash=gPe(_De,t),this.baseStyle=n,cDe.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=FPe(r,this.staticRulesId);else{var o=BPe(CDe(this.rules,e,t,n)),i=pPe(gPe(this.baseHash,o)>>>0);if(!t.hasNameForId(this.componentId,i)){var a=n(o,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,a)}r=FPe(r,i),this.staticRulesId=i}else{for(var s=gPe(this.baseHash,n.hash),c="",l=0;l<this.rules.length;l++){var u=this.rules[l];if("string"==typeof u)c+=u;else if(u){var d=BPe(CDe(u,e,t,n));s=gPe(s,d+l),c+=d}}if(c){var h=pPe(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(c,".".concat(h),void 0,this.componentId)),r=FPe(r,h)}}return r},e}(),NDe=Z.createContext(void 0);NDe.Consumer;var IDe={};new Set;function ADe(e,t,n){var r=LPe(e),o=e,i=!xPe(e),a=t.attrs,s=void 0===a?rPe:a,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":lPe(e);IDe[n]=(IDe[n]||0)+1;var r="".concat(n,"-").concat(vPe(Qje+n+IDe[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,u=t.displayName,d=void 0===u?function(e){return xPe(e)?"styled.".concat(e):"Styled(".concat(bPe(e),")")}(e):u,h=t.displayName&&t.componentId?"".concat(lPe(t.displayName),"-").concat(t.componentId):t.componentId||l,p=r&&o.attrs?o.attrs.concat(s).filter(Boolean):s,f=t.shouldForwardProp;if(r&&o.shouldForwardProp){var m=o.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;f=function(e,t){return m(e,t)&&g(e,t)}}else f=m}var y=new TDe(n,h,r?o.componentStyle:void 0);function v(e,t){return function(e,t,n){var r=e.attrs,o=e.componentStyle,i=e.defaultProps,a=e.foldedComponentIds,s=e.styledComponentId,c=e.target,l=Z.useContext(NDe),u=yDe(),d=e.shouldForwardProp||u.shouldForwardProp,h=iPe(t,l,i)||oPe,p=function(e,t,n){for(var r,o=GMe(GMe({},t),{className:void 0,theme:n}),i=0;i<e.length;i+=1){var a=DPe(r=e[i])?r(o):r;for(var s in a)o[s]="className"===s?FPe(o[s],a[s]):"style"===s?GMe(GMe({},o[s]),a[s]):a[s]}return t.className&&(o.className=FPe(o.className,t.className)),o}(r,t,h),f=p.as||c,m={};for(var g in p)void 0===p[g]||"$"===g[0]||"as"===g||"theme"===g&&p.theme===h||("forwardedAs"===g?m.as=p.forwardedAs:d&&!d(g,f)||(m[g]=p[g]));var y=function(e,t){var n=yDe();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,p),v=FPe(a,s);return y&&(v+=" "+y),p.className&&(v+=" "+p.className),m[xPe(f)&&!aPe.has(f)?"class":"className"]=v,m.ref=n,(0,Z.createElement)(f,m)}(b,e,t)}v.displayName=d;var b=Z.forwardRef(v);return b.attrs=p,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=f,b.foldedComponentIds=r?FPe(o.foldedComponentIds,o.styledComponentId):"",b.styledComponentId=h,b.target=r?o.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)UPe(e,o[r],!0);return e}({},o.defaultProps,e):e}}),VPe(b,(function(){return".".concat(b.styledComponentId)})),i&&PPe(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function ODe(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var RDe=function(e){return Object.assign(e,{isCss:!0})};function MDe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(DPe(e)||zPe(e))return RDe(CDe(ODe(rPe,KMe([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?CDe(r):RDe(CDe(ODe(r,t)))}function jDe(e,t,n){if(void 0===n&&(n=oPe),!t)throw WPe(1,t);var r=function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e(t,n,MDe.apply(void 0,KMe([r],o,!1)))};return r.attrs=function(r){return jDe(e,t,GMe(GMe({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return jDe(e,t,GMe(GMe({},n),r))},r}var PDe=function(e){return jDe(ADe,e)},DDe=PDe;aPe.forEach((function(e){DDe[e]=PDe(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=EDe(e),cDe.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var o=r(BPe(CDe(this.rules,t,n,r)),""),i=this.componentId+e;n.insertRules(i,i,o)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&cDe.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();var LDe;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=tDe(),r=BPe([n&&'nonce="'.concat(n,'"'),"".concat(Jje,'="true"'),"".concat(Zje,'="').concat(Qje,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw WPe(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw WPe(2);var n=e.instance.toString();if(!n)return[];var r=((t={})[Jje]="",t[Zje]=Qje,t.dangerouslySetInnerHTML={__html:n},t),o=tDe();return o&&(r.nonce=o),[Z.createElement("style",GMe({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new cDe({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw WPe(2);return Z.createElement(vDe,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw WPe(3)}})(),"__sc-".concat(Jje,"__");const FDe=DDe(yg)(LDe||(LDe=aw(["\n  .modal-content {\n    border-radius: 12px;\n    border: none;\n    box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.1);\n    padding: 20px;\n  }\n  .modal-header {\n    border-bottom: none;\n    font-size: 18px;\n    font-weight: bold;\n  }\n  .modal-footer {\n    border-top: none;\n    display: flex;\n    justify-content: flex-end;\n  }\n  .btn-primary {\n    background-color: #ff7782;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 8px;\n    font-weight: bold;\n    font-size: 16px;\n    color: white;\n  }\n  .btn-cancel {\n    background-color: #6c757d;\n    color: #ffff;\n    border: none;\n    font-size: 16px;\n    padding: 10px 20px;\n  }\n  .form-check {\n    margin-bottom: 10px;\n  }\n"]))),BDe=()=>{const e=(0,Z.useContext)(KDe),t=(0,Z.useContext)(g2e),[n,r]=(0,Z.useState)(!1),o=sessionStorage.getItem("userId"),[i,a]=(0,Z.useState)(!1),[s,c]=(0,Z.useState)(!1),[l,u]=(0,Z.useState)(null),[d,h]=(0,Z.useState)(""),p=qe(),f=()=>{a(!1),u(null),h("")};if(!e||!t)return null;const{blog:m,blog:{_id:g,topic:y,blog_id:v,activity:b,activity:x,author:w},setBlog:k,islikedByUser:S,setLikeByUser:C,issavedByUser:E,setSaveByUser:_,setCommentWrapper:T}=e,N=(null===x||void 0===x?void 0:x.total_likes)||0,I=(null===x||void 0===x?void 0:x.total_saves)||0,A=(null===x||void 0===x?void 0:x.total_comments)||0,O=(null===w||void 0===w?void 0:w.username)||"Unknown";let{userAuth:{username:R,access_token:M}}=t;(0,Z.useEffect)((()=>{M&&(ap.post("".concat("http://localhost:3001","/create-blog/isliked-by-user"),{_id:g},{headers:{Authorization:"Bearer ".concat(M)}}).then((e=>{let{data:{result:t}}=e;C(Boolean(t))})).catch((e=>{console.log(e)})),ap.get("".concat("http://localhost:3001","/create-blog/saved-blogs"),{headers:{Authorization:"Bearer ".concat(M)}}).then((e=>{let{data:{savedBlogs:t}}=e;const n=t.some((e=>e._id===g));_(n)})).catch((e=>{console.log(e)})))}),[]);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(wk,{toastOptions:{style:{opacity:1}}}),(0,fn.jsx)("hr",{className:"border-grey my-2"}),(0,fn.jsxs)("div",{className:"d-flex gap-2 justify-content-between",children:[(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[(0,fn.jsx)("button",{className:"rounded-circle d-flex align-items-center justify-content-center "+(S?"liked":"not-liked"),style:{width:"2.5rem",height:"2.5rem"},onClick:()=>{if(M){C(!S);const e=S?N-1:N+1;k(Ln(Ln({},m),{},{activity:Ln(Ln({},b),{},{total_likes:e,total_comments:(null===b||void 0===b?void 0:b.total_comments)||0})})),ap.post("".concat("http://localhost:3001","/create-blog/like-blog"),{_id:g,islikedByUser:S},{headers:{Authorization:"Bearer ".concat(M)}}).then((e=>{let{data:t}=e;console.log(t)})).catch((e=>{console.log(e)}))}else kk.error("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e01\u0e48\u0e2d\u0e19\u0e44\u0e25\u0e04\u0e4c\u0e1a\u0e25\u0e47\u0e2d\u0e01")},children:S?(0,fn.jsx)(Ot,{}):(0,fn.jsx)(Lt,{})}),(0,fn.jsx)("button",{className:"m-0",style:{color:"#494949"},onClick:()=>r(!0),children:N}),(0,fn.jsx)("button",{onClick:()=>T((e=>!e)),className:"rounded-circle d-flex align-items-center justify-content-center ",style:{width:"2.5rem",height:"2.5rem",backgroundColor:"#f0f0f1"},children:(0,fn.jsx)(Dt,{})}),(0,fn.jsx)("p",{className:"m-0",style:{color:"#494949"},children:A}),(0,fn.jsx)("button",{className:"rounded-circle d-flex align-items-center justify-content-center "+(E?"saved":"not-saved"),style:{width:"2.5rem",height:"2.5rem",backgroundColor:"#f0f0f0"},onClick:()=>{if(M){_(!E);const e=E?I-1:I+1;k(Ln(Ln({},m),{},{activity:Ln(Ln({},b),{},{total_saves:e,total_comments:(null===b||void 0===b?void 0:b.total_comments)||0})})),ap.post("".concat("http://localhost:3001","/create-blog/save-blog"),{_id:g,issavedByUser:E},{headers:{Authorization:"Bearer ".concat(M)}}).then((e=>{let{data:t}=e;console.log(t)})).catch((e=>{console.log(e)}))}else kk.error("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e01\u0e48\u0e2d\u0e19\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1a\u0e25\u0e47\u0e2d\u0e01")},children:E?(0,fn.jsx)(Ep,{}):(0,fn.jsx)(Ft,{})})]}),(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-center",children:[R===O?(0,fn.jsx)(cn,{to:"/editor/".concat(v),className:"underline text-purple",style:{color:"inherit"},children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}):"",(0,fn.jsx)("div",{className:"m-0 published-detail",children:o!==(null===w||void 0===w?void 0:w._id)&&(0,fn.jsx)(Bp,{style:{fontSize:"22px",marginTop:"2px",marginBottom:"2px",color:"black",cursor:"pointer",transition:"0.2s"},onClick:()=>(e=>{u(e||""),a(!0)})(g)})}),(0,fn.jsx)(cn,{to:"https://twitter.com/intent/tweet?text=Read ".concat(y,"&url=").concat(window.location.href),style:{color:"inherit"},children:(0,fn.jsx)(Nt,{className:"text-twitter",style:{fontSize:"20px",color:"black"}})})]})]}),(0,fn.jsxs)(FDe,{show:i,onHide:f,centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32"})}),(0,fn.jsx)(yg.Body,{children:(0,fn.jsx)(Ehe,{children:(0,fn.jsx)(Ehe.Group,{children:["\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e2b\u0e32\u0e44\u0e21\u0e48\u0e40\u0e2b\u0e21\u0e32\u0e30\u0e2a\u0e21","\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e2b\u0e32\u0e21\u0e35\u0e01\u0e32\u0e23\u0e01\u0e25\u0e31\u0e48\u0e19\u0e41\u0e01\u0e25\u0e49\u0e07\u0e2b\u0e23\u0e37\u0e2d\u0e04\u0e38\u0e01\u0e04\u0e32\u0e21","\u0e40\u0e19\u0e37\u0e49\u0e2d\u0e2b\u0e32\u0e21\u0e35\u0e01\u0e32\u0e23\u0e02\u0e32\u0e22\u0e2b\u0e23\u0e37\u0e2d\u0e2a\u0e48\u0e07\u0e40\u0e2a\u0e23\u0e34\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e2b\u0e49\u0e32\u0e21","\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e17\u0e47\u0e08","\u0e01\u0e32\u0e23\u0e41\u0e2d\u0e1a\u0e2d\u0e49\u0e32\u0e07\u0e1a\u0e38\u0e04\u0e04\u0e25\u0e2d\u0e37\u0e48\u0e19","\u0e2a\u0e41\u0e1b\u0e21"].map(((e,t)=>(0,fn.jsx)(Ehe.Check,{type:"radio",label:e,name:"reportReason",value:e,onChange:e=>h(e.target.value),checked:d===e},t)))})})}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{className:"btn-cancel",onClick:f,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{className:"btn-primary",onClick:async()=>{if(l&&d)try{if(!o)throw new Error("User is not logged in.");const e=await(async(e,t,n)=>{const r="".concat(qp,"/api/report/add");try{return await ap.post(r,{postId:e,reason:t,reportedBy:n})}catch(o){throw console.error("Error reporting post:",o.message),o}})(l,d,o);e&&201===e.status?(kk.success("Report submitted successfully!"),f(),c(!0)):(kk.error("Failed to submit the report."),f())}catch(e){console.error("Failed to report post:",e),kk.error("An error occurred while submitting the report.")}else kk.error("Please enter a reason for the report.")},children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32"})]})]}),(0,fn.jsxs)(FDe,{show:s,onHide:()=>c(!1),centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"})}),(0,fn.jsx)(yg.Body,{children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22\u0e41\u0e25\u0e49\u0e27"}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{className:"btn-cancel",onClick:()=>c(!1),children:"\u0e1b\u0e34\u0e14"}),(0,fn.jsx)(bf,{className:"btn-primary",onClick:()=>p("/dashboard/reportcheck"),children:"\u0e14\u0e39\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"})]})]}),(0,fn.jsx)(HMe,{isOpen:n,onClose:()=>r(!1),postId:g||"",accessToken:M||""}),(0,fn.jsx)("hr",{className:"border-grey my-2"})]})},zDe=e=>{let{action:t,index:n,replyingTo:r,setReplying:o=()=>{}}=e;const[i,a]=(0,Z.useState)(""),s=(0,Z.useContext)(KDe);let{userAuth:{access_token:c,username:l,fullname:u,profile_picture:d}}=(0,Z.useContext)(g2e);if(!s)return null;const{blog:h,blog:{_id:p,author:f,comments:m,comments:{results:g}={results:[]},activity:y,activity:v},setBlog:b,setTotalParentCommentsLoaded:x}=s,w=null===f||void 0===f?void 0:f._id,k=(null===v||void 0===v?void 0:v.total_comments)||0,S=(null===v||void 0===v?void 0:v.total_parent_comments)||0;return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(wk,{}),(0,fn.jsx)("textarea",{value:i,onChange:e=>a(e.target.value),placeholder:"\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19...",className:"input-box comment-area"}),(0,fn.jsx)("button",{className:"btn-dark mt-3 px-3",onClick:()=>{if(!c)return kk.error("\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19");if(!i.length)return kk.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e2d\u0e30\u0e44\u0e23\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19");let e=kk.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e04\u0e2d\u0e21\u0e40\u0e21\u0e19\u0e15\u0e4c...");ap.post(qp+"/create-blog/add-comment",{_id:p,blog_author:w,comment:i,replying_to:r},{headers:{Authorization:"Bearer ".concat(c)}}).then((t=>{let i,{data:s}=t;kk.dismiss(e),kk.success("\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),a(""),s.commented_by={username:l,profile_picture:d,fullname:u,_id:sessionStorage.getItem("userId")?sessionStorage.getItem("userId"):null},r&&void 0!==n?(g[n].children.push(s._id),s.childrenLevel=g[n].childrenLevel+1,s.parentIndex=n,g[n].isReplyingLoaded=!0,g.splice(n+1,0,s),i=g,o(!1)):(s.childrenLevel=0,i=[s,...g]);let c=r?0:1;b(Ln(Ln({},h),{},{comments:Ln(Ln({},m),{},{results:i||[]}),activity:Ln(Ln({},y),{},{total_comments:k+1,total_parent_comments:S+c})})),x((e=>e+c))})).catch((t=>{kk.dismiss(e),kk.error(t.response.data.error)}))},children:t})]})},UDe=e=>{let{index:t,leftVal:n,commentData:r}=e,{commented_by:{profile_picture:o,fullname:i,username:a,_id:s},comment:c,_id:l,commentedAt:u,children:d=[]}=r,{userAuth:{access_token:h}}=(0,Z.useContext)(g2e);const[p,f]=(0,Z.useState)(!1),[m,g]=(0,Z.useState)(!1),[y,v]=(0,Z.useState)(c),[b,x]=(0,Z.useState)(!1),w=(0,Z.useContext)(KDe);if(!w)return null;let{blog:k,blog:{comments:S,comments:{results:C}={results:[]}},setBlog:E}=w;const _=()=>{r.isReplyingLoaded=!1,(e=>{if(C[e])for(;C[e].childrenLevel>r.childrenLevel&&(C.splice(e,1),C[e]););E(Ln(Ln({},k),{},{comments:{results:C}}))})(t+1)};return(0,fn.jsx)("div",{className:"w-100",style:{paddingLeft:"".concat(10*n,"px")},children:(0,fn.jsxs)("div",{className:"my-3 p-3",style:{borderRadius:"0.375rem",border:"1px solid #f0f0f0"},children:[(0,fn.jsxs)("div",{className:"d-flex gap-3 align-items-center mb-4",children:[(0,fn.jsx)("img",{src:o,alt:"",className:"rounded-circle",style:{width:"1.5rem",height:"1.5rem"}}),(0,fn.jsxs)("p",{className:"m-0",style:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"1",overflow:"hidden"},children:[i," @",a]}),(0,fn.jsx)("p",{className:"m-0",style:{minWidth:"fit-content"},children:pp(u||"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48")})]}),m?(0,fn.jsxs)("div",{children:[(0,fn.jsx)("textarea",{value:y,onChange:e=>v(e.target.value),rows:3,className:"form-control",style:{padding:"10px",borderRadius:"0.375rem",border:"1px solid #ccc"}}),(0,fn.jsxs)("div",{className:"d-flex gap-2 mt-2",children:[(0,fn.jsx)("button",{className:"btn btn-primary flex-fill",onClick:()=>{ap.patch(qp+"/create-blog/update-comment",{_id:l,comment:y},{headers:{Authorization:"Bearer ".concat(h)}}).then((()=>{g(!1),C[t].comment=y,E(Ln(Ln({},k),{},{comments:{results:C}}))})).catch((e=>{console.log(e)}))},style:{backgroundColor:"black",color:"white",border:"1px solid black",borderRadius:"30px",padding:"0.65rem 0.75rem",fontWeight:500,cursor:"pointer"},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,fn.jsx)("button",{className:"btn btn-secondary flex-fill",onClick:()=>{v(c),g(!1)},style:{borderRadius:"30px",padding:"0.65rem 0.75rem",fontWeight:500,cursor:"pointer"},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})]}):(0,fn.jsx)("p",{className:"m-0 ml-3",children:c}),b&&(0,fn.jsx)("div",{className:"mt-3 mb-3",children:(0,fn.jsxs)("div",{className:"d-flex gap-2",children:[(0,fn.jsx)("button",{style:{backgroundColor:"black",color:"white",border:"1px solid black",borderRadius:"30px",padding:"0.65rem 0.75rem",fontWeight:500,cursor:"pointer"},className:"btn btn-danger flex-fill",onClick:()=>{ap.post(qp+"/create-blog/delete-comment",{_id:l},{headers:{Authorization:"Bearer ".concat(h)}}).then((e=>{C.splice(t,1);const n=k.activity?Ln(Ln({},k.activity),{},{total_comments:(k.activity.total_comments||0)-e.data.totalCommentsToDelete}):{total_comments:0};E(Ln(Ln({},k),{},{comments:{results:C},activity:n}))})).catch((e=>{console.log(e)})),x(!1)},children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a"}),(0,fn.jsx)("button",{className:"btn btn-secondary flex-fill",onClick:()=>{x(!1)},style:{borderRadius:"30px",padding:"0.65rem 0.75rem",fontWeight:500,cursor:"pointer"},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})}),(0,fn.jsxs)("div",{className:"d-flex gap-3 align-items-center mt-2",onClick:_,children:[r.isReplyingLoaded?(0,fn.jsxs)("button",{className:"p-2 px-3 d-flex align-items-center gap-2 text-hide",children:[(0,fn.jsx)(Dt,{}),"\u0e0b\u0e48\u0e2d\u0e19\u0e01\u0e32\u0e23\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"]}):(0,fn.jsxs)("button",{className:"p-2 px-3 d-flex align-items-center gap-2 text-hide",onClick:()=>(e=>{let{skip:n=0}=e;d.length&&(_(),ap.post(qp+"/create-blog/get-replies",{_id:l,skip:n}).then((e=>{let{data:{replies:o}}=e;r.isReplyingLoaded=!0;for(let i=0;i<o.length;i++)o[i].childrenLevel=r.childrenLevel+1,C.splice(t+1+i+n,0,o[i]);E(Ln(Ln({},k),{},{comments:Ln(Ln({},S),{},{results:C})}))})).catch((e=>{console.log(e)})))})({skip:0}),children:[(0,fn.jsx)(Dt,{}),d.length,"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"]}),(0,fn.jsx)("button",{className:"text-decoration-underline",onClick:()=>{h&&f((e=>!e))},disabled:m||b,children:"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"}),r.commented_by._id==sessionStorage.getItem("userId")?(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("button",{className:"text-decoration-underline",onClick:()=>{!h||m||b||g(!0)},disabled:m||b,children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,fn.jsx)("button",{className:"text-decoration-underline",onClick:()=>{!h||m||b||x(!0)},disabled:m||b,children:"\u0e25\u0e1a"})]}):null]}),p?(0,fn.jsx)("div",{className:"mt-4",children:(0,fn.jsx)(zDe,{action:"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a",index:t,replyingTo:l,setReplying:f})}):""]})})},VDe=async e=>{let t,{skip:n=0,blog_id:r,setParentCommentCountFun:o,comment_array:i=null}=e;return await ap.post(qp+"/create-blog/get-blog-comments",{blog_id:r,skip:n}).then((e=>{let{data:n}=e;console.log("Fetched Comments:",n),n.map((e=>{e.childrenLevel=0}));const r=n.length;o(r),t=null===i?{results:n}:{results:[...i,...n]}})),t},WDe=()=>{var e;const t=(0,Z.useContext)(KDe);if(!t)return null;const{blog:n,blog:{topic:r,comments:{results:o}={results:[]},_id:i,activity:a},commentWrapper:s,setCommentWrapper:c,totalParentCommentsLoaded:l,setTotalParentCommentsLoaded:u,setBlog:d}=t,h=null!==(e=null===a||void 0===a?void 0:a.total_parent_comments)&&void 0!==e?e:0;return(0,fn.jsxs)("div",{className:"comments-component "+(s?"commentWrapper ":"commentWrapper2")+" comments-component2",children:[(0,fn.jsxs)("div",{className:"position-relative",children:[(0,fn.jsx)("h1",{className:"fw-medium fs-4",children:"\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19"}),(0,fn.jsx)("p",{className:"m-0 p-topicincommemt",children:r}),(0,fn.jsx)("button",{onClick:()=>c((e=>!e)),className:"position-absolute top-0  d-flex justify-content-center align-items-center rounded-circle ",style:{height:"3rem",width:"3rem",background:"#f0f0f0",right:"0"},children:(0,fn.jsx)(Cp,{className:" fs-3"})})]}),(0,fn.jsx)("hr",{className:"border-grey my-4",style:{width:"120%",marginLeft:"-1.5rem"}}),(0,fn.jsx)(zDe,{action:"\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19"}),o&&o.length?o.map(((e,t)=>(0,fn.jsx)(Bu,{children:(0,fn.jsx)(UDe,{index:t,leftVal:4*e.childrenLevel,commentData:e})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19"}),h>l&&o&&o.length?(0,fn.jsx)("button",{onClick:async()=>{if(!i)return void console.error("Blog ID is undefined");console.log("Loading more comments..."),console.log("Current Loaded Parent Comments:",l);let e=await VDe({skip:l,blog_id:i,setParentCommentCountFun:u,comment_array:o});d(Ln(Ln({},n),{},{comments:e}))},className:"p-2 px-3 d-flex align-items-center gap-2 btn-loadmore",children:"\u0e42\u0e2b\u0e25\u0e14\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21"}):""]})};function HDe(e){return Ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"},child:[]}]})(e)}const GDe={_id:"",blog_id:"",topic:"",des:"",content:[{blocks:[],time:0,version:""}],author:{fullname:"",username:"",profile_picture:""},banner:"",publishedAt:"",activity:{total_likes:0,total_comments:0,total_saves:0},views:{total:0,daily:{},monthly:{},yearly:{}},visibility:"public",tags:[]},KDe=(0,Z.createContext)(void 0),qDe=()=>{var e,t;let{blog_id:n}=Xe();const r=qe(),[o,i]=(0,Z.useState)(GDe),[a,s]=(0,Z.useState)(null),[c,l]=(0,Z.useState)(!0),[u,d]=(0,Z.useState)(null);let{_id:h,topic:p,content:f,banner:m,author:g,publishedAt:y,visibility:v,tags:b}=o;const[x,w]=(0,Z.useState)(!1),[k,S]=(0,Z.useState)(!1),[C,E]=(0,Z.useState)(!1),[_,T]=(0,Z.useState)(0),N=(null===g||void 0===g?void 0:g.fullname)||"Unknown Author",I=(null===g||void 0===g?void 0:g.username)||"Unknown Username",A=(null===g||void 0===g?void 0:g.profile_picture)||"",O=()=>{const e=sessionStorage.getItem("user");if(!e)return{};try{const t=JSON.parse(e);if(null!==t&&void 0!==t&&t.access_token)return{Authorization:"Bearer ".concat(t.access_token),"Content-Type":"application/json"}}catch(w2e){console.error("Error parsing user data:",w2e)}return{"Content-Type":"application/json"}},R=async()=>{try{const e=O(),t=sessionStorage.getItem("userId");if(t){const r=await ap.post("".concat(qp,"/create-blog/increment-view"),{blog_id:n,userId:t},{headers:e});r.data&&r.data.views&&i((e=>Ln(Ln({},e),{},{views:r.data.views})))}}catch(w2e){console.error("Error incrementing view:",w2e)}};(0,Z.useEffect)((()=>{M(),(async()=>{try{const e=O(),{data:t}=await ap.post("".concat(qp,"/create-blog/get-blog"),{blog_id:n},{headers:e});if(t.blog){const r=t.blog;r.comments=await VDe({blog_id:r._id,setParentCommentCountFun:T}),i(r),await R();const o=await ap.post("".concat(qp,"/search-blogs"),{tag:r.tags[0],limit:6,eliminate_blog:n},{headers:e});o.data.blogs&&s(o.data.blogs)}l(!1)}catch(w2e){var e;if(console.error("Error fetching blog:",w2e),l(!1),403===(null===(e=w2e.response)||void 0===e?void 0:e.status)){const e=w2e.response.data.error||"You don't have permission to view this post";d(e),kk.error(e),setTimeout((()=>r("/")),2e3)}else d("Error loading blog post"),kk.error("Error loading blog post")}})()}),[n]);const M=()=>{i(GDe),s(null),l(!0),w(!1),E(!1),T(0),d(null)};return u?(0,fn.jsx)(Bu,{children:(0,fn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,fn.jsx)("p",{className:"text-center text-red-500",children:u})})}):(0,fn.jsx)(Bu,{children:c?(0,fn.jsx)(sp,{}):(0,fn.jsxs)(KDe.Provider,{value:{blog:o,setBlog:i,islikedByUser:x,setLikeByUser:w,issavedByUser:k,setSaveByUser:S,commentWrapper:C,setCommentWrapper:E,totalParentCommentsLoaded:_,setTotalParentCommentsLoaded:T},children:[(0,fn.jsx)(WDe,{}),(0,fn.jsxs)("div",{className:"blogpage",children:[(0,fn.jsx)("img",{src:m,alt:"banner",style:{aspectRatio:"16/9"}}),(0,fn.jsxs)("div",{className:"mt-2",children:[(0,fn.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,fn.jsxs)("div",{className:"d-flex justify-content-start align-items-center",children:[(0,fn.jsx)("h2",{className:"mt-4 fs-3 mb-0",children:p}),(0,fn.jsx)("p",{className:"mb-0 ms-3 mt-4 "})]})}),(0,fn.jsx)("div",{className:"detail-user d-flex justify-content-between my-4",children:(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-start",children:[(0,fn.jsx)("img",{src:A,alt:"",className:"rounded-circle",style:{width:"3rem",height:"3rem"}}),(0,fn.jsxs)("p",{className:"m-0",style:{textTransform:"capitalize"},children:[N,(0,fn.jsx)("br",{}),"@",(0,fn.jsx)(cn,{to:"/user/".concat(null===g||void 0===g?void 0:g._id),className:"underline",style:{color:"inherit"},children:I}),(0,fn.jsx)(HDe,{style:{marginRight:"5px"}}),y?"".concat(pp(y)," ").concat(new Date(y).getFullYear()+543," \u0e40\u0e27\u0e25\u0e32 ").concat(new Date(y).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})):"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"]}),(0,fn.jsxs)("p",{className:"mb-0 ms-3 mt-4 ",children:[(0,fn.jsx)(HDe,{style:{marginRight:"5px"}}),(0,fn.jsx)(At,{style:{fontSize:"20px",marginRight:"0.1rem"}})," ",null!==(e=null===o||void 0===o||null===(t=o.views)||void 0===t?void 0:t.total)&&void 0!==e?e:0,"followers"===v?(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(Mt,{style:{marginRight:"0.2rem",marginLeft:"0.5rem"}}),"\u0e1c\u0e39\u0e49\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21"]}):(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(lp,{style:{marginRight:"0.2rem",marginLeft:"0.5rem"}}),"\u0e2a\u0e32\u0e18\u0e32\u0e23\u0e13\u0e30"]})]})]})})]}),(0,fn.jsx)("div",{className:"my-4 blog-page-content",children:f&&Array.isArray(f[0].blocks)&&f[0].blocks.length>0?f[0].blocks.map(((e,t)=>(0,fn.jsx)("div",{className:"my-2 md:my-8",children:(0,fn.jsx)(AMe,{block:e})},t))):null}),(0,fn.jsxs)("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:[(0,fn.jsxs)("div",{"aria-hidden":"true",children:[(0,fn.jsx)(Rt,{className:"text-secondary"})," ",(0,fn.jsx)("span",{children:":"})]}),null!==b&&void 0!==b&&b.length?b.map(((e,t)=>(0,fn.jsx)(cn,{to:"/tag/".concat(encodeURIComponent(e)),className:"badge bg-secondary text-light px-2 py-1 text-decoration-none","aria-label":"View posts tagged with ".concat(e),children:e},t))):(0,fn.jsx)("span",{className:"text-muted",children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e41\u0e17\u0e47\u0e01"})]}),(0,fn.jsx)(BDe,{}),(0,fn.jsx)(WDe,{}),null!==a&&a.length?(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("h1",{className:"mt-4 mb-2 fw-medium fs-4",children:"\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e04\u0e25\u0e49\u0e32\u0e22\u0e01\u0e31\u0e19"}),a.map(((e,t)=>{const n=e.author||{fullname:"Unknown Author",username:"unknown",profile_picture:"default_profile_picture_url"},{fullname:r,username:o,profile_picture:i}=n;return(0,fn.jsx)(Bu,{transition:{duration:1,delay:.08*t},children:(0,fn.jsx)(mp,{content:e,author:{fullname:r,username:o,profile_picture:i}})},t)}))]}):null]})]})})},YDe=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],XDe="label";function JDe(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function $De(e,t){e.labels=t}function ZDe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:XDe;const r=[];e.datasets=t.map((t=>{const o=e.datasets.find((e=>e[n]===t[n]));return o&&t.data&&!r.includes(o)?(r.push(o),Object.assign(o,t),o):Ln({},t)}))}function QDe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XDe;const n={labels:[],datasets:[]};return $De(n,e.labels),ZDe(n,e.datasets,t),n}function eLe(e,t){const{height:n=150,width:r=300,redraw:o=!1,datasetIdKey:i,type:a,data:s,options:c,plugins:l=[],fallbackContent:u,updateMode:d}=e,h=zn(e,YDe),p=(0,Z.useRef)(null),f=(0,Z.useRef)(),m=()=>{p.current&&(f.current=new jve(p.current,{type:a,data:QDe(s,i),options:c&&Ln({},c),plugins:l}),JDe(t,f.current))},g=()=>{JDe(t,null),f.current&&(f.current.destroy(),f.current=null)};return(0,Z.useEffect)((()=>{!o&&f.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(f.current,c)}),[o,c]),(0,Z.useEffect)((()=>{!o&&f.current&&$De(f.current.config.data,s.labels)}),[o,s.labels]),(0,Z.useEffect)((()=>{!o&&f.current&&s.datasets&&ZDe(f.current.config.data,s.datasets,i)}),[o,s.datasets]),(0,Z.useEffect)((()=>{f.current&&(o?(g(),setTimeout(m)):f.current.update(d))}),[o,c,s.labels,s.datasets,d]),(0,Z.useEffect)((()=>{f.current&&(g(),setTimeout(m))}),[a]),(0,Z.useEffect)((()=>(m(),()=>g())),[]),Z.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},h),u)}const tLe=(0,Z.forwardRef)(eLe);function nLe(e,t){return jve.register(t),(0,Z.forwardRef)(((t,n)=>Z.createElement(tLe,Object.assign({},t,{ref:n,type:e}))))}const rLe=nLe("bar",$ge),oLe=e=>{const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=t.map((e=>({month:e,viewCount:0})));return e.forEach((e=>{const r=t.indexOf(e.month);-1!==r&&(n[r].viewCount+=e.total_reads)})),n},iLe=e=>{const t=(new Date).getFullYear(),n=Array.from({length:5},((e,n)=>t-2+n)),r=n.map((e=>({year:e.toString(),viewCount:0})));return e.forEach((e=>{if("number"===typeof e.year){const t=r.findIndex((t=>t.year===e.year.toString()));-1!==t&&(r[t].viewCount+=e.total_reads)}})),r};function aLe(){const e=sessionStorage.getItem("userId"),[t,n]=(0,Z.useState)("Month"),[r,o]=(0,Z.useState)([]),[i,a]=(0,Z.useState)(0),[s,c]=(0,Z.useState)(0),[l,u]=(0,Z.useState)(0),[d,h]=(0,Z.useState)([]),[p,f]=(0,Z.useState)([]);(0,Z.useEffect)((()=>{(async()=>{try{const t=await Whe(e),n=await Uhe();o(t),h(oLe(n)),f(iLe(n))}catch(t){console.error("Error fetching user count:",t)}})()}),[]),(0,Z.useEffect)((()=>{m(r)}),[r]);const m=e=>{let t=0,n=0,r=0;null===e||void 0===e||e.forEach((e=>{t+=e.activity.total_likes,n+=e.activity.total_comments,r+=e.activity.total_reads})),a(t),c(n),u(r)},g={labels:d.map((e=>e.month)),datasets:[{label:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e1c\u0e39\u0e49\u0e40\u0e02\u0e49\u0e32\u0e0a\u0e21",data:d.map((e=>e.viewCount)),backgroundColor:"rgba(239, 209, 242, 1.0)",borderColor:"rgba(177, 156, 215, 1.0)",tension:.5,fill:!0}]},y={labels:p.map((e=>e.year)),datasets:[{label:"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e1c\u0e39\u0e49\u0e40\u0e02\u0e49\u0e32\u0e0a\u0e21",data:p.map((e=>e.viewCount)),backgroundColor:"rgba(239, 209, 242, 1.0)",borderColor:"rgba(177, 156, 215, 1.0)",tension:.5,fill:!0}]},v="Month"===t?g:y;return(0,fn.jsxs)("div",{className:"container mt-4",style:{padding:"30px 100px"},children:[(0,fn.jsx)("div",{className:"d-flex justify-content-center mb-4",children:(0,fn.jsx)("h4",{children:"\u0e2a\u0e16\u0e34\u0e15\u0e34\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e0a\u0e21\u0e42\u0e1e\u0e2a\u0e15\u0e4c"})}),(0,fn.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,fn.jsx)("div",{className:"ms-auto",children:(0,fn.jsxs)(kMe,{children:[(0,fn.jsx)(kMe.Toggle,{style:{backgroundColor:"#6c757d",color:"white",border:"none"},id:"dropdown-basic",children:t||"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e48\u0e27\u0e07\u0e40\u0e27\u0e25\u0e32"}),(0,fn.jsxs)(kMe.Menu,{children:[(0,fn.jsx)(kMe.Item,{onClick:()=>n("Month"),children:"\u0e15\u0e25\u0e2d\u0e14\u0e17\u0e31\u0e49\u0e07\u0e40\u0e14\u0e37\u0e2d\u0e19"}),(0,fn.jsx)(kMe.Item,{onClick:()=>n("Year"),children:"\u0e15\u0e25\u0e2d\u0e14\u0e17\u0e31\u0e49\u0e07\u0e1b\u0e35"})]})]})})}),(0,fn.jsx)("div",{children:(0,fn.jsx)(rLe,{data:v,options:{maintainAspectRatio:!1,scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{display:!1}}}},height:400})})]})}const sLe=e=>{let{type:t}=e;const n=(0,Z.useRef)(null),r=qe(),{userAuth:{access_token:o},setUserAuth:i}=(0,Z.useContext)(g2e),[a,s]=(0,Z.useState)(""),[c,l]=(0,Z.useState)(""),[u,d]=(0,Z.useState)(null),h=(e,t)=>{fetch("http://localhost:3001"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.error||"Error occurred")})))).then((e=>{Ede("user",JSON.stringify(e)),i(e),_de("userId",e.username),((e,t)=>{sessionStorage.setItem(e,t)})("adminId",e._id),r("/admin/".concat(e._id))})).catch((e=>{d(e.message),kk.error(e.message)}))};return(0,fn.jsx)("div",{className:"login-container",children:(0,fn.jsx)("main",{children:(0,fn.jsx)("div",{className:"box",children:(0,fn.jsx)("div",{className:"inner-box",children:(0,fn.jsx)("div",{className:"forms-wrap",children:(0,fn.jsxs)("form",{autoComplete:"off",className:"sign-in-form",onSubmit:e=>{e.preventDefault(),d(null),h("/admin",{email:a,password:c})},ref:n,children:[(0,fn.jsx)("div",{className:"logo",children:(0,fn.jsx)("img",{src:Yt,alt:"easyclass"})}),(0,fn.jsx)("div",{className:"heading",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",textAlign:"center"},children:(0,fn.jsx)("h2",{children:"\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a\u0e1c\u0e39\u0e49\u0e14\u0e39\u0e41\u0e25\u0e23\u0e30\u0e1a\u0e1a"})}),(0,fn.jsxs)("div",{className:"actual-form",children:[(0,fn.jsx)("p",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)("div",{className:"input-wrap",children:(0,fn.jsx)("input",{type:"email",minLength:4,className:"input-field",autoComplete:"off",required:!0,value:a,onChange:e=>s(e.target.value)})}),(0,fn.jsxs)("div",{className:"input-wrap",children:[(0,fn.jsx)("p",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsx)("input",{type:"password",minLength:4,className:"input-field",autoComplete:"off",value:c,onChange:e=>l(e.target.value),required:!0})]}),u&&(0,fn.jsx)("h3",{className:"error-message",style:{color:"red",fontSize:"1rem"},children:u}),(0,fn.jsx)("button",{type:"submit",className:"sign-btn",style:{marginTop:"50px"},children:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),(0,fn.jsxs)("p",{className:"text",children:[(0,fn.jsx)(cn,{to:"/forgot-password",children:"\u0e25\u0e37\u0e21\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})," ","\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"]})]})]})})})})})})},cLe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAA/RJREFUeJzt2b/L7mUBx/H3MdMhCBpagiaJwIZMM9OTadop08oyJ8dwc2/Ma2gI+guaWgMlWqOgWoQIpCBoiDYNDPvhj36cMh4HORDc3/uyc/ze3+/h6fWCa734XMOb+76fpwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBTubD3AHZzQ/Vo9Xj1kerm6sXq59X3qhf2mwb7+nD1fHV25FyuRm9FBP9XPlq93PE4/vs8U924z0zY3m3Vn/rf4rhyvrPLUtjYx7r6OM6qN6oP7bAXNnN71xbHlfOt7SfDNm6v/ty1x3FW/XTz1bCBNeI4q36z9XA4tTtaJ46z6rmNt183/J37fLqj+nH1vpXu+9VK98DuPl79pXU+Oa6c+zZ9AZzIna0fx082fQGcyJ3VX1s3jj9UH9zyEXAKp4jjperWLR8Bp/CJxAGL7kocsOiu6pXEAQc+mThg0d2JAxbdXb2aOODAPYkDFokDjriYOGDRxeq1xAEHPpU4YNG9iQMWiQOO+HT1euKAA+KAI+5LHLBIHHDE/dXfEgcc+EzigEUPJA5Y9ED198QBB8QBRzyYOGDRZxMHLLqUOGDRpeofiQMOfC5xwKLPJw5YJA444qHEAYseqv6ZOODAFxIHLHo4ccCiRxIHLHqkupw44IA44IgvJg5Y9KXEAYu+nDhgkTjgiEerfyUOOPCVxAGLvpo4YJE44IjHEgcseqz6d+KAA19LHLDo8cQBi8QBR9ybH+Sw6Kbq94kDFj2ROOCo7ycOOOrXiYO3ccPeA3Z000r3PF/9bqW74Lrxo9b7ivWD6t3bzofT+kbr/kgXCefK+6vXEgkc9WTrBiISzp2nEwlMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCUyORwNRIJDA1EglMjUQCU6PTRHLjhm+AkxqtH8l3t3wAnNpo/UgubvmA68m79h7A6n5WXajuX/HO91TPrngf7G603ifIH7edDtsYrRfJzdtOh22M3nkc/8nXcc6x0TsL5LebL4aNja49kG9vPxe2N7r6OF6vPrDDVtjF6OoC+fouK2FH3+ztw7hcPbXXQNjbpeqXHYbxRvXD6tb9pl0/Luw9gN3dUt1Wvbe3/iH4i+rlXRcBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACcH28C+mF5BKMhRqsAAAAASUVORK5CYII=",lLe=()=>{const{adminId:e}=Xe(),t="http://localhost:3001",n=sessionStorage.getItem("userId"),[r,o]=(0,Z.useState)(!0),[i,a]=(0,Z.useState)("admin-profile"),[s,c]=(0,Z.useState)(!1),[l,u]=(0,Z.useState)(!1),[d,h]=(0,Z.useState)("admin-profile"),[p,f]=(0,Z.useState)("login-history"),[m,g]=(0,Z.useState)({firstname:"",lastname:"",email:"",tel:"",username:""}),[y,v]=(0,Z.useState)(!1),[b,x]=(0,Z.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[w,k]=(0,Z.useState)([]),[S,C]=(0,Z.useState)([]),[E,_]=(0,Z.useState)(!1),[T,N]=(0,Z.useState)(""),[I,A]=(0,Z.useState)(!1),[O,R]=(0,Z.useState)(""),[M,j]=(0,Z.useState)(!1),[P,D]=(0,Z.useState)(null),[L,F]=(0,Z.useState)(!1),B=e=>{f(e)},z=qe();(0,Z.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("user")||"{}"),n=null===e||void 0===e?void 0:e.access_token;if(!n)return void z("/admin/login");(async()=>{try{const e=await ap.get("".concat(t,"/login/auth"),{headers:{Authorization:"Bearer ".concat(n)}});console.log("Authentication successful:",e.data)}catch(e){sessionStorage.clear(),console.error(e),z("/admin/login")}})()}),[z,t]),(0,Z.useEffect)((()=>{const e=document.querySelector(".theme-toggler");if(e){const t=()=>{var t,n;document.body.classList.toggle("dark-theme-variables"),null===e||void 0===e||null===(t=e.querySelector("svg:nth-child(1)"))||void 0===t||t.classList.toggle("active"),null===e||void 0===e||null===(n=e.querySelector("svg:nth-child(2)"))||void 0===n||n.classList.toggle("active")};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[i]),(0,Z.useEffect)((()=>{"dashboard"===i?h("Dashboard"):"average"===i?h("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e25\u0e47\u0e2d\u0e01"):"manage-q"===i?h("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e16\u0e32\u0e21"):"manage-user"===i?h("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"):"manage-cate"===i?h("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e2b\u0e21\u0e27\u0e14\u0e2b\u0e21\u0e39\u0e48"):"manage-badwords"===i?h("\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e04\u0e33\u0e2b\u0e22\u0e32\u0e1a"):"admin-profile"===i&&h("Admin")}),[i]),(0,Z.useEffect)((()=>{(async()=>{try{const n=JSON.parse(sessionStorage.getItem("user")||"{}"),r=await ap.get("".concat(t,"/admin/").concat(e),{headers:{Authorization:"Bearer ".concat(n.access_token)}});g(r.data)}catch(n){console.error("Error fetching admin data:",n)}})()}),[e,t]),(0,Z.useEffect)((()=>{"login-history"===p&&(async()=>{try{const e=JSON.parse(sessionStorage.getItem("user")||"{}"),n=await ap.get("".concat(t,"/admin/get-login-history"),{headers:{Authorization:"Bearer ".concat(e.access_token)}});k(n.data)}catch(e){console.error("Error fetching login history:",e),kk.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e36\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a\u0e44\u0e14\u0e49")}})()}),[p,t]);const U=async()=>{try{const e=JSON.parse(sessionStorage.getItem("user")||"{}"),n=await ap.get("".concat(t,"/admin/all-admins"),{headers:{Authorization:"Bearer ".concat(e.access_token)}});C(n.data)}catch(e){console.error("Error fetching admins:",e),kk.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e36\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e44\u0e14\u0e49")}};(0,Z.useEffect)((()=>{"edit-admin-profile"===p&&U()}),[p]);const V=e=>{const{name:t,value:n}=e.target;g((e=>Ln(Ln({},e),{},{[t]:n})))},W=e=>{x((t=>Ln(Ln({},t),{},{[e.target.name]:e.target.value})))},H=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:o,message:i}=e;return t?(0,fn.jsx)("div",{className:"admin-acp confirmation-modal",children:(0,fn.jsxs)("div",{className:"modal-content",children:[(0,fn.jsx)("h2",{children:o}),(0,fn.jsx)("p",{children:i}),(0,fn.jsxs)("div",{className:"modal-actions",children:[(0,fn.jsx)("button",{className:"cancel-btn",onClick:n,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)("button",{className:"confirm-btn",onClick:r,children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})]})]})}):null},G=e=>{let{isOpen:t,onClose:n,admin:r,onSave:o}=e;const[i,a]=(0,Z.useState)(Ln({},r));return t?(0,fn.jsx)("div",{className:"admin-acp confirmation-modal",children:(0,fn.jsxs)("div",{className:"modal-content",children:[(0,fn.jsx)("h2",{children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19"}),(0,fn.jsxs)("div",{className:"edit-form",children:[(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsx)("input",{type:"text",value:i.username,onChange:e=>a(Ln(Ln({},i),{},{username:e.target.value})),className:"form-input"})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)("input",{type:"email",value:i.email,onChange:e=>a(Ln(Ln({},i),{},{email:e.target.value}))})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d"}),(0,fn.jsx)("input",{type:"text",value:i.firstname,onChange:e=>a(Ln(Ln({},i),{},{firstname:e.target.value}))})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25"}),(0,fn.jsx)("input",{type:"text",value:i.lastname,onChange:e=>a(Ln(Ln({},i),{},{lastname:e.target.value}))})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23"}),(0,fn.jsx)("input",{type:"tel",value:i.tel,onChange:e=>a(Ln(Ln({},i),{},{tel:e.target.value}))})]})]}),(0,fn.jsxs)("div",{className:"modal-actions",children:[(0,fn.jsx)("button",{className:"cancel-btn",onClick:n,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)("button",{className:"confirm-btn",onClick:()=>{o(i),n()},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})}):null},K=e=>{let{isOpen:t,onClose:n,onSave:r}=e;const[o,i]=(0,Z.useState)({username:"",email:"",firstname:"",lastname:"",tel:"",password:""});return t?(0,fn.jsx)("div",{className:"admin-acp confirmation-modal",children:(0,fn.jsxs)("div",{className:"modal-content",children:[(0,fn.jsx)("h2",{children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19"}),(0,fn.jsxs)("div",{className:"edit-form",children:[(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsx)("input",{type:"text",value:o.username,onChange:e=>i(Ln(Ln({},o),{},{username:e.target.value})),className:"form-input"})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsx)("input",{type:"password",value:o.password,onChange:e=>i(Ln(Ln({},o),{},{password:e.target.value})),className:"form-input"})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)("input",{type:"email",value:o.email,onChange:e=>i(Ln(Ln({},o),{},{email:e.target.value}))})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e0a\u0e37\u0e48\u0e2d"}),(0,fn.jsx)("input",{type:"text",value:o.firstname,onChange:e=>i(Ln(Ln({},o),{},{firstname:e.target.value}))})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25"}),(0,fn.jsx)("input",{type:"text",value:o.lastname,onChange:e=>i(Ln(Ln({},o),{},{lastname:e.target.value}))})]}),(0,fn.jsxs)("div",{className:"input-group",children:[(0,fn.jsx)("label",{children:"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23"}),(0,fn.jsx)("input",{type:"tel",value:o.tel,onChange:e=>i(Ln(Ln({},o),{},{tel:e.target.value}))})]})]}),(0,fn.jsxs)("div",{className:"modal-actions",children:[(0,fn.jsx)("button",{className:"cancel-btn",onClick:n,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)("button",{className:"confirm-btn",onClick:()=>{r(o),n()},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})}):null};return(0,fn.jsxs)("div",{className:"adminProfile adminHome",children:[(0,fn.jsx)(wk,{position:"top-center"}),(0,fn.jsx)("div",{className:"admin-dashboard-container",children:(0,fn.jsxs)("div",{className:"main-content",children:[(0,fn.jsx)("div",{className:"header",children:(0,fn.jsxs)("div",{className:"header-content",children:[(0,fn.jsxs)("div",{className:"admin-profile-header",children:[(0,fn.jsx)("div",{className:"back-arrow",onClick:()=>{z(-1)},children:(0,fn.jsx)("img",{src:cLe,alt:""})}),(0,fn.jsx)("h1",{children:d})]}),(0,fn.jsx)("div",{className:"profile-theme",children:(0,fn.jsx)("div",{className:"right",children:(0,fn.jsxs)("div",{className:"top",children:[(0,fn.jsx)("div",{className:"back-arrow-phone",onClick:()=>{z(-1)},children:(0,fn.jsx)("img",{src:cLe,alt:""})}),r&&(0,fn.jsxs)("div",{className:"profile",onClick:()=>{a("admin-profile"),z("/admin/".concat(e,"/profile"))},children:[(0,fn.jsx)("div",{className:"info",children:(0,fn.jsxs)("p",{style:{fontSize:"14px",marginTop:"10px"},children:["Hello, ",(0,fn.jsx)("b",{children:n})]})}),(0,fn.jsx)("div",{className:"profile-photo",children:(0,fn.jsx)("img",{src:Xhe,alt:"Profile"})})]})]})})})]})}),(0,fn.jsx)("div",{className:"content-area",children:(0,fn.jsxs)("div",{className:"user-profile-section",children:[(0,fn.jsx)("div",{className:"profile-form",children:(0,fn.jsxs)("div",{className:"form-fields",children:[(0,fn.jsxs)("div",{className:"input-group-profile",children:[(0,fn.jsx)("label",{children:"Firstname"}),(0,fn.jsx)("input",{type:"text",name:"firstname",placeholder:"Firstname",className:"form-input",value:m.firstname,onChange:V,disabled:!y}),(0,fn.jsx)("label",{children:"Lastname"}),(0,fn.jsx)("input",{type:"text",name:"lastname",placeholder:"Lastname",className:"form-input",value:m.lastname,onChange:V,disabled:!y}),(0,fn.jsx)("label",{children:"Email"}),(0,fn.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"form-input",value:m.email,onChange:V,disabled:!y}),(0,fn.jsx)("label",{children:"Tel"}),(0,fn.jsx)("input",{type:"tel",name:"tel",placeholder:"Tell",className:"form-input",value:m.tel,onChange:V,disabled:!y})]}),(0,fn.jsx)("div",{className:"action-buttons",children:y?(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("button",{className:"edit-btn",onClick:async()=>{try{const n=JSON.parse(sessionStorage.getItem("user")||"{}").access_token;if(!n)throw new Error("No authentication token found");200===(await ap.put("".concat(t,"/admin/users/").concat(e),m,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}})).status&&(v(!1),kk.success("\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"))}catch(o){var n,r;console.error("Error updating admin data:",o),kk.error((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25")}},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"}),(0,fn.jsx)("button",{className:"cancel-btn",onClick:()=>v(!1),children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]}):(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("button",{className:"edit-btn",onClick:()=>v(!0),children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,fn.jsx)("button",{className:"change-password-btn",onClick:()=>{u(!0)},children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})]})})]})}),(0,fn.jsxs)("div",{className:"profile-tabs",children:[(0,fn.jsxs)("div",{className:"tabs",children:[(0,fn.jsx)("button",{className:"tab-btn ".concat("login-history"===p?"active":""),onClick:()=>B("login-history"),children:"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"}),(0,fn.jsx)("button",{className:"tab-btn ".concat("edit-admin-profile"===p?"active":""),onClick:()=>B("edit-admin-profile"),children:"\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"})]}),"login-history"===p&&(0,fn.jsx)("div",{className:"tab-content",children:(0,fn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,fn.jsx)("thead",{style:{position:"sticky",top:"0",background:"#fff",zIndex:1},children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"}),(0,fn.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsx)("th",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)("th",{children:"\u0e40\u0e27\u0e25\u0e32\u0e17\u0e35\u0e48\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})]})}),(0,fn.jsx)("tbody",{children:w.map((e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:new Date(e.loginTime).toLocaleDateString("th-TH")}),(0,fn.jsx)("td",{children:e.adminId.username}),(0,fn.jsx)("td",{children:e.adminId.email}),(0,fn.jsx)("td",{children:new Date(e.loginTime).toLocaleTimeString("th-TH")})]},e._id)))})]})}),"edit-admin-profile"===p&&(0,fn.jsx)("div",{className:"tab-content",children:(0,fn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,fn.jsx)("thead",{style:{position:"sticky",top:"0",background:"#fff",zIndex:1},children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"}),(0,fn.jsx)("th",{children:"\u0e2d\u0e35\u0e40\u0e21\u0e25"}),(0,fn.jsx)("th",{children:"\u0e0a\u0e37\u0e48\u0e2d"}),(0,fn.jsx)("th",{children:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25"}),(0,fn.jsx)("th",{children:"\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23"}),(0,fn.jsx)("th",{children:"kkubloggingplatform@gmail.com"===(null===m||void 0===m?void 0:m.email)&&(0,fn.jsx)("button",{onClick:()=>{F(!0)},className:"btn btn-primary",children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19"})})]})}),(0,fn.jsx)("tbody",{children:S.map((e=>(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("td",{children:e.username}),(0,fn.jsx)("td",{children:e.email}),(0,fn.jsx)("td",{children:e.firstname}),(0,fn.jsx)("td",{children:e.lastname}),(0,fn.jsx)("td",{children:e.tel}),(0,fn.jsx)("td",{children:(0,fn.jsx)("div",{className:"action-buttons-cell",children:"kkubloggingplatform@gmail.com"===(null===m||void 0===m?void 0:m.email)&&(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("button",{className:"edit-btn",onClick:()=>(e=>{D(e),j(!0)})(e),children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,fn.jsx)("button",{className:"delete-btn",onClick:()=>(e=>{N(e),_(!0)})(e._id),children:"\u0e25\u0e1a"})]})})})]},e._id)))})]})})]})]})})]})}),l&&(0,fn.jsx)("div",{className:"admin-acp password-modal",children:(0,fn.jsx)("div",{className:"modal-content",children:(0,fn.jsxs)("form",{className:"m-3",onSubmit:n=>{n.preventDefault(),(async()=>{try{if(b.newPassword!==b.confirmPassword)return void kk.error("\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e41\u0e25\u0e30\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e44\u0e21\u0e48\u0e15\u0e23\u0e07\u0e01\u0e31\u0e19");const n=JSON.parse(sessionStorage.getItem("user")||"{}");200===(await ap.put("".concat(t,"/admin/change-password/").concat(e),{currentPassword:b.currentPassword,newPassword:b.newPassword},{headers:{Authorization:"Bearer ".concat(n.access_token)}})).status&&(kk.success("\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),u(!1),x({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(o){var n,r;kk.error((null===(n=o.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19")}})()},children:[(0,fn.jsxs)("div",{className:"modal-header",children:[(0,fn.jsx)("h1",{className:"topic-ChangePass fs-5",children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsx)("button",{type:"button",onClick:()=>u(!1),children:"\xd7"})]}),(0,fn.jsxs)("div",{className:"inputChangpassword",children:[(0,fn.jsx)("div",{className:"input-group",children:(0,fn.jsx)(Ck,{type:"password",name:"currentPassword",className:"profile-edit-input",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19",value:b.currentPassword,onChange:W})}),(0,fn.jsx)("div",{className:"input-group",children:(0,fn.jsx)(Ck,{type:"password",name:"newPassword",className:"profile-edit-input",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",value:b.newPassword,onChange:W})}),(0,fn.jsx)("div",{className:"input-group",children:(0,fn.jsx)(Ck,{type:"password",name:"confirmPassword",className:"profile-edit-input",placeholder:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",value:b.confirmPassword,onChange:W})}),(0,fn.jsx)("button",{className:"btn-dark px-5",type:"submit",children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})]})]})})}),(0,fn.jsx)(H,{isOpen:E,onClose:()=>_(!1),onConfirm:()=>{(async e=>{try{const n=JSON.parse(sessionStorage.getItem("user")||"{}");await ap.delete("".concat(t,"/admin/users/").concat(e),{headers:{Authorization:"Bearer ".concat(n.access_token)}}),kk.success("\u0e25\u0e1a\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),U()}catch(n){kk.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e25\u0e1a\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e44\u0e14\u0e49")}})(T),_(!1)},title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19",message:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e17\u0e35\u0e48\u0e08\u0e30\u0e25\u0e1a\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e04\u0e19\u0e19\u0e35\u0e49?"}),(0,fn.jsx)(H,{isOpen:I,onClose:()=>A(!1),onConfirm:()=>{z("/admin/edit/".concat(O)),A(!1)},title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19",message:"\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e04\u0e19\u0e19\u0e35\u0e49\u0e43\u0e0a\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?"}),P&&(0,fn.jsx)(G,{isOpen:M,onClose:()=>j(!1),admin:P,onSave:async e=>{try{const n=JSON.parse(sessionStorage.getItem("user")||"{}");await ap.put("".concat(t,"/admin/users/").concat(e._id),e,{headers:{Authorization:"Bearer ".concat(n.access_token)}}),kk.success("\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),U()}catch(n){kk.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e41\u0e01\u0e49\u0e44\u0e02\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e44\u0e14\u0e49")}}}),(0,fn.jsx)(K,{isOpen:L,onClose:()=>F(!1),onSave:async e=>{try{const n=JSON.parse(sessionStorage.getItem("user")||"{}");await ap.post("".concat(t,"/admin/register"),e,{headers:{Authorization:"Bearer ".concat(n.access_token)}}),kk.success("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"),U()}catch(n){kk.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e2d\u0e14\u0e21\u0e34\u0e19\u0e44\u0e14\u0e49")}}})]})};function uLe(e){return Ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M800 384h-32V261.872C768 115.024 661.744 0 510.816 0 359.28 0 256 117.472 256 261.872V384h-32c-70.592 0-128 57.408-128 128v384c0 70.592 57.408 128 128 128h576c70.592 0 128-57.408 128-128V512c0-70.592-57.408-128-128-128zM320 261.872C320 152.784 394.56 64 510.816 64 625.872 64 704 150.912 704 261.872V384H320V261.872zM864.001 896c0 35.28-28.72 64-64 64h-576c-35.28 0-64-28.72-64-64V512c0-35.28 28.72-64 64-64h576c35.28 0 64 28.72 64 64v384zm-352-320c-35.344 0-64 28.656-64 64 0 23.632 12.96 44.032 32 55.12V800c0 17.664 14.336 32 32 32s32-14.336 32-32V695.12c19.04-11.088 32-31.504 32-55.12 0-35.344-28.656-64-64-64z"},child:[]}]})(e)}var dLe;const hLe=e=>{let{userId:t,show:n,onClose:r,onDeleteSuccess:o}=e;const[i,a]=(0,Z.useState)(""),[s,c]=(0,Z.useState)(""),[l,u]=(0,Z.useState)("");return(0,fn.jsxs)(pLe,{show:n,onHide:r,centered:!0,children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"})}),(0,fn.jsxs)(yg.Body,{children:[(0,fn.jsx)("p",{className:"warning-text",children:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e17\u0e35\u0e48\u0e08\u0e30\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13? \u0e01\u0e32\u0e23\u0e01\u0e23\u0e30\u0e17\u0e33\u0e19\u0e35\u0e49\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e44\u0e14\u0e49."}),(0,fn.jsxs)(Ehe,{children:[(0,fn.jsxs)(Ehe.Group,{controlId:"password",children:[(0,fn.jsx)(Ehe.Label,{children:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"}),(0,fn.jsx)(Ehe.Control,{type:"password",placeholder:"\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",value:i,onChange:e=>a(e.target.value),className:"password-input"})]}),s&&(0,fn.jsx)("p",{className:"text-danger",children:s}),l&&(0,fn.jsx)("p",{className:"text-success",children:l})]})]}),(0,fn.jsxs)(yg.Footer,{children:[(0,fn.jsx)(bf,{className:"btn-cancel",onClick:r,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)(bf,{className:"btn-danger",onClick:async()=>{try{const e=await ap.delete("".concat("http://localhost:3001","/profile/user/delete/").concat(t),{data:{password:i}});"User deleted successfully"===e.data.message?(u("\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e40\u0e23\u0e35\u0e22\u0e1a\u0e23\u0e49\u0e2d\u0e22\u0e41\u0e25\u0e49\u0e27!"),c(""),o(),localStorage.removeItem("userId"),sessionStorage.removeItem("userId")):c(e.data.error)}catch(e){c("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e43\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35 \u0e42\u0e1b\u0e23\u0e14\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13.")}},children:"\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35"})]})]})},pLe=DDe(yg)(dLe||(dLe=aw(["\n  .modal-content {\n    border-radius: 12px;\n    border: none;\n    box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.1);\n    padding: 20px;\n  }\n\n  .modal-header {\n    border-bottom: none;\n    font-size: 18px;\n    font-weight: bold;\n  }\n\n  .modal-footer {\n    border-top: none;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .btn-cancel {\n    color: #fff;\n    background: #6c757d;\n    border: none;\n    font-size: 16px;\n    padding: 10px 20px;\n  }\n\n  .btn-danger {\n    background-color: #d9534f;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 8px;\n    font-weight: bold;\n    font-size: 16px;\n    color: white;\n  }\n\n  .warning-text {\n    color: #6c757d;\n    font-weight: bold;\n  }\n\n  .password-input {\n    margin-top: 5px;\n    border-radius: 6px;\n  }\n"]))),fLe=()=>{let{userAuth:{new_notification_available:e}}=(0,Z.useContext)(g2e);const[t,n]=(0,Z.useState)(null),[r,o]=(0,Z.useState)(!1);(0,Z.useEffect)((()=>{const e=Tde("user");e?(console.log(JSON.parse(e).access_token),n(JSON.parse(e).access_token)):window.location.href="/signin"}),[]);let i=window.location.pathname.split("/")[2],[a,s]=(0,Z.useState)(i.replace("-"," ")),[c,l]=(0,Z.useState)(!1);const u=(0,Z.useRef)(null),d=(0,Z.useRef)(null),h=(0,Z.useRef)(null),p=sessionStorage.getItem("userId"),{userAuth:{username:f},setUserAuth:m}=(0,Z.useContext)(g2e),g=e=>{let{offsetWidth:t,offsetLeft:n}=e.currentTarget;if(u.current){const e=u.current;e.style.width="".concat(t,"px"),e.style.left="".concat(n,"px")}e.currentTarget===d.current?l(!0):l(!1)};return(0,Z.useEffect)((()=>{var e;l(!1),null===(e=h.current)||void 0===e||e.click()}),[a]),(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsxs)("section",{className:"section-editpage gap-2 py-0 m-0 ",children:[(0,fn.jsxs)("div",{className:"position-sticky",style:{top:"80px",zIndex:"30"},children:[(0,fn.jsxs)("div",{className:"button-faBars",children:[(0,fn.jsx)("button",{ref:d,className:"p-3 ",style:{textTransform:"capitalize"},onClick:g,children:(0,fn.jsx)(jhe,{style:{pointerEvents:"none"}})}),(0,fn.jsx)("button",{ref:h,className:"p-3 ",style:{textTransform:"capitalize"},onClick:g,children:a}),(0,fn.jsx)("hr",{ref:u,className:"position-absolute bottom-0",style:{transitionDuration:"500ms"}})]}),(0,fn.jsxs)("div",{className:"edit-form ".concat(c?"active":""),children:[(0,fn.jsx)("h1",{className:"mb-3",style:{color:"#494949",fontSize:"16px"},children:"\u0e41\u0e14\u0e0a\u0e1a\u0e2d\u0e23\u0e4c\u0e14"}),(0,fn.jsx)("hr",{className:"border-grey",style:{marginLeft:"-24px",marginBottom:"32px",marginRight:"24px"}}),(0,fn.jsxs)(ln,{to:"/dashboard/blogs",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsx)(Vt,{}),"\u0e1a\u0e25\u0e47\u0e2d\u0e01"]}),(0,fn.jsxs)(ln,{to:"/dashboard/notifications",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsxs)("div",{className:"position-relative",children:[(0,fn.jsx)(Kt,{}),e?(0,fn.jsx)("span",{className:"rounded-circle position-absolute z-10",style:{backgroundColor:"red",width:"0.5rem",height:"0.5rem",zIndex:10,top:"0rem",transform:"translateX(-3px)"}}):""]}),"\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"]}),(0,fn.jsxs)(ln,{to:"/editor",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsx)(Jhe,{}),"\u0e40\u0e02\u0e35\u0e22\u0e19"]}),(0,fn.jsxs)(ln,{to:"/dashboard/reportCheck",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsx)(Jhe,{}),"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32"]}),(0,fn.jsx)("h1",{className:"mb-3 mt-4",style:{color:"#494949",fontSize:"16px"},children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32"}),(0,fn.jsx)("hr",{className:"border-grey",style:{marginLeft:"-24px",marginBottom:"32px",marginRight:"24px"}}),(0,fn.jsxs)(ln,{to:"/settings/edit-profile",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsx)($he,{}),"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e1b\u0e23\u0e44\u0e1f\u0e25\u0e4c"]}),(0,fn.jsxs)(ln,{to:"/settings/change-password",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsx)(uLe,{}),"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"]}),(0,fn.jsxs)(ln,{to:"/settings/noti-setting",onClick:e=>s(e.currentTarget.innerText),className:"sidebar-link",children:[(0,fn.jsx)(Kt,{}),"\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"]}),(0,fn.jsxs)("div",{className:"delete-ac-btn",onClick:()=>o(!0),children:[(0,fn.jsx)(qt,{}),(0,fn.jsx)("p",{children:"\u0e25\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49"})]})]})]}),(0,fn.jsx)("div",{className:"mt-5 w-100 out-let",children:(0,fn.jsx)(ut,{})})]}),(0,fn.jsx)(hLe,{userId:p,show:r,onClose:()=>o(!1),onDeleteSuccess:()=>{o(!1),alert("Your account has been deleted."),Nde("user"),m({access_token:null}),window.location.href="/"}})]})},mLe=()=>{const{tag:e}=Xe(),[t,n]=(0,Z.useState)(null),[r,o]=(0,Z.useState)(!0);(0,Z.useEffect)((()=>{e&&i(e)}),[e]);const i=async e=>{try{const t=await ap.get("".concat("http://localhost:3001","/create-blog/tag/").concat(e));n(t.data)}catch(t){console.error("Error fetching posts:",t)}finally{o(!1)}};return r?(0,fn.jsx)(sp,{}):(0,fn.jsxs)("div",{className:"tag-post-container",children:[(0,fn.jsxs)("div",{className:"d-flex align-items-center gap-3 flex-wrap mb-5 tag-header",children:[(0,fn.jsx)(dp,{className:"tag-icon",size:36}),(0,fn.jsxs)("span",{className:"fs-4 fw-semibold tag-text",children:["\u0e41\u0e17\u0e47\u0e01: ",e]})]}),(0,fn.jsx)("div",{className:"mt-4",children:t&&t.length>0?t.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{duration:1,delay:.1*t},children:(0,fn.jsx)("div",{className:"blog-card-wrapper ",children:(0,fn.jsx)(mp,{content:e,author:e.author})})},t))):(0,fn.jsx)(Tp,{message:'\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e02\u0e49\u0e2d\u0e07\u0e01\u0e31\u0e1a\u0e41\u0e17\u0e47\u0e01 "'.concat(e,'"')})})]})},gLe=()=>{let{userAuth:{access_token:e}}=(0,Z.useContext)(g2e);const t=(0,Z.useRef)(null);let n=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;return(0,fn.jsxs)(Bu,{children:[(0,fn.jsx)(wk,{}),(0,fn.jsxs)("form",{ref:t,className:"m-3",onSubmit:r=>{if(r.preventDefault(),!t.current)return kk.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e44\u0e14\u0e49");let o=new FormData(t.current),i={};o.forEach(((e,t)=>{"string"===typeof e&&(i[t]=e)}));let{currentPassword:a,newPassword:s,ChecknewPassword:c}=i;if(!a.length||!s.length||!c)return kk.error("\u0e01\u0e23\u0e2d\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e2b\u0e49\u0e04\u0e23\u0e1a\u0e17\u0e38\u0e01\u0e0a\u0e48\u0e2d\u0e07");if(!n.test(a)||!n.test(s)||!n.test(c))return kk.error("\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e04\u0e27\u0e23\u0e21\u0e35\u0e04\u0e27\u0e32\u0e21\u0e22\u0e32\u0e27 6-20 \u0e15\u0e31\u0e27\u0e2d\u0e31\u0e01\u0e29\u0e23 \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e15\u0e31\u0e27\u0e40\u0e25\u0e02 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e40\u0e25\u0e47\u0e01 1 \u0e15\u0e31\u0e27 \u0e15\u0e31\u0e27\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e43\u0e2b\u0e0d\u0e48 1 \u0e15\u0e31\u0e27");const l=r.target;l.setAttribute("disabled","true");let u=kk.loading("\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e15...");ap.post("".concat("http://localhost:3001","/create-blog/change-password"),i,{headers:{Authorization:"Bearer ".concat(e)}}).then((()=>(kk.dismiss(u),l.removeAttribute("disabled"),kk.success("\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e15\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e41\u0e25\u0e49\u0e27")))).catch((e=>{let{response:t}=e;return kk.dismiss(u),l.removeAttribute("disabled"),kk.error(t.data.error)}))},children:[(0,fn.jsx)("h1",{className:"topic-ChangePass fs-5",children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"}),(0,fn.jsxs)("div",{className:"inputChangpassword",children:[(0,fn.jsx)(Ck,{name:"currentPassword",type:"password",className:"profile-edit-input",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19",icon:"SlLockOpen"}),(0,fn.jsx)(Ck,{name:"newPassword",type:"password",className:"profile-edit-input",placeholder:"\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",icon:"SlLockOpen"}),(0,fn.jsx)(Ck,{name:"ChecknewPassword",type:"password",className:"profile-edit-input",placeholder:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",icon:"SlLockOpen"}),(0,fn.jsxs)("p",{className:"text text-r",children:["\u0e2b\u0e23\u0e37\u0e2d ",(0,fn.jsx)(cn,{to:"/forgot-password-user",children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})," \u0e1c\u0e48\u0e32\u0e19\u0e2d\u0e35\u0e40\u0e21\u0e25"]}),(0,fn.jsx)("button",{className:"btn-dark px-5",type:"submit",children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19"})]})]})]})},yLe=e=>{let{_id:t,blog_author:n,index:r,replyingTo:o,setReplying:i,notification_id:a,notificationData:s}=e,[c,l]=(0,Z.useState)(""),{_id:u}=n,{userAuth:{access_token:d}}=(0,Z.useContext)(g2e),{notifications:h,notifications:{result:p},setNotifications:f}=s;return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(wk,{}),(0,fn.jsx)("textarea",{value:c,onChange:e=>l(e.target.value),placeholder:"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a...",className:"input-box comment-area"}),(0,fn.jsx)("button",{className:"btn-dark mt-3 px-3",onClick:()=>{if(!c.length)return kk.error("\u0e40\u0e02\u0e35\u0e22\u0e19\u0e2d\u0e30\u0e44\u0e23\u0e1a\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19");ap.post("".concat("http://localhost:3001","/create-blog/add-comment"),{_id:t,blog_author:u,comment:c,replying_to:o,notification_id:a},{headers:{Authorization:"Bearer ".concat(d)}}).then((e=>{let{data:t}=e;i(!1),p[r||""].reply={comment:c,_id:t._id},f(Ln(Ln({},h),{},{result:p}))})).catch((e=>{console.log(e)}))},children:"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"})]})},vLe=e=>{var t;let{data:n,index:r,notificationState:o}=e,[i,a]=(0,Z.useState)(!1);const{seen:s,type:c,reply:l,createdAt:u,replied_on_comment:d,comment:h,user:p,reason:f,user:m,_id:g,blog:y}=n,{_id:v="",blog_id:b="",topic:x="Untitled"}=y||{},w=(null===m||void 0===m?void 0:m.fullname)||"Unknown",k=(null===m||void 0===m?void 0:m.username)||"unknown",S=(null===m||void 0===m?void 0:m.profile_picture)||"";let{userAuth:{username:C,profile_picture:E,access_token:_}}=(0,Z.useContext)(g2e),{notifications:T,notifications:{result:N,totalDocs:I},setNotifications:A}=o;const O=(e,t,n)=>{n.setAttribute("disabled","true"),ap.post("".concat("http://localhost:3001","/create-blog/delete-comment"),{_id:e},{headers:{Authorization:"Bearer ".concat(_)}}).then((()=>{"comment"===t?N.splice(r,1):void 0!==r&&r>=0&&N[r]&&delete N[r].reply,n.removeAttribute("disabled"),A(Ln(Ln({},T),{},{result:N,totalDocs:I-1,deleteDocCount:T.deleteDocCount+1}))})).catch((e=>{console.log(e)}))};return(0,fn.jsxs)("div",{className:"notification-card "+(s?"":"border-start border-2 border-black"),children:[(0,fn.jsxs)("div",{className:"d-flex gap-3 mb-3",children:[(0,fn.jsx)("img",{src:"delete"!=c?S:"https://www.svgrepo.com/show/116240/wrench-and-hammer-tools-thin-outline-symbol-inside-a-circle.svg",alt:"",className:"rounded-circle",style:{width:"3.5rem",height:"3.5rem",flex:"none"}}),(0,fn.jsxs)("div",{className:"w-100",children:[(0,fn.jsxs)("h1",{className:"fw-medium",style:{color:"#494949",fontSize:"16px"},children:[(0,fn.jsx)("span",{className:"responsive-text",children:"delete"!==c?w:""}),"delete"!=c?(0,fn.jsxs)(cn,{to:"/user/".concat(null===(t=n.user)||void 0===t?void 0:t._id),className:"mx-1 underline",style:{color:"black"},children:["@",k]}):null,(0,fn.jsx)("span",{className:"fw-normal",children:"delete"===c?"\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e41\u0e25\u0e30\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e40\u0e19\u0e37\u0e48\u0e2d\u0e07\u0e08\u0e32\u0e01 ".concat(f):"follow"===c?"\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e34\u0e14\u0e15\u0e32\u0e21\u0e04\u0e38\u0e13":"like"===c?"\u0e16\u0e39\u0e01\u0e43\u0e08\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13":"comment"===c?"\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19":"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"})]}),"reply"===c?(0,fn.jsx)("div",{className:"p-3 rounded mt-3",style:{background:"#f0f0f0"},children:(0,fn.jsx)("p",{className:"m-0",children:d?d.comment:"\u0e01\u0e32\u0e23\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e41\u0e25\u0e49\u0e27"})}):"delete"!==c&&"follow"!==c?(0,fn.jsx)(cn,{to:"/blog/".concat(b),className:"fw-medium link-underline link-underline-opacity-0 link-underline-opacity-75-hover link-dark",style:{color:"#494949",overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:1},children:x}):(0,fn.jsx)("h5",{className:"fw-medium link-underline link-underline-opacity-0 link-underline-opacity-75-hover link-dark",style:{color:"#494949",overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:1,fontSize:"1rem"},children:"".concat("delete"!==c&&"follow"!==c?x:c.charAt(0).toUpperCase()+c.slice(1).toLowerCase())})]})]}),"comment"===c?(0,fn.jsx)("p",{className:"m-0 ms-5 ps-3 my-2",style:{fontSize:"18px"},children:h?h.comment:"\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e41\u0e25\u0e49\u0e27"}):"",(0,fn.jsxs)("div",{className:"ms-5 ps-3 mt-3 d-flex gap-4",style:{color:"#494949"},children:[(0,fn.jsx)("p",{className:"m-0",children:pp(u||"null")}),"comment"===c&&h?(0,fn.jsxs)(fn.Fragment,{children:[l?"":(0,fn.jsx)("button",{className:"text-decoration-underline",style:{color:"inherit",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="black",onMouseOut:e=>e.currentTarget.style.color="",onClick:()=>{a((e=>!e))},children:"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"}),(0,fn.jsx)("button",{className:"text-decoration-underline",style:{color:"inherit",transition:"color 0.2s"},onMouseOver:e=>e.currentTarget.style.color="black",onMouseOut:e=>e.currentTarget.style.color="",onClick:e=>O(h._id,"comment",e.target),children:"\u0e25\u0e1a"})]}):""]}),i?(0,fn.jsx)("div",{className:"mt-4",children:(0,fn.jsx)(yLe,{_id:v,blog_author:Ln({_id:""},p),index:r,replyingTo:h._id,setReplying:a,notification_id:g||"",notificationData:o})}):"",l?(0,fn.jsxs)("div",{className:"ms-5 p-4 mt-4 rounded",style:{backgroundColor:"#f0f0f0"},children:[(0,fn.jsxs)("div",{className:"d-flex gap-3 mb-3",children:[(0,fn.jsx)("img",{src:E,alt:"",className:"rounded-circle",style:{width:"2rem",height:"2rem"}}),(0,fn.jsx)("div",{children:(0,fn.jsxs)("h1",{className:"fw-medium",style:{color:"#494949",fontSize:"16px"},children:[(0,fn.jsxs)(cn,{to:"/user/".concat(C),className:"mx-1 underline",style:{color:"black"},children:["@",C]}),(0,fn.jsx)("span",{className:"fw-normal",children:"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e16\u0e36\u0e07"}),(0,fn.jsxs)(cn,{to:"/user/".concat(k),className:"mx-1 underline",style:{color:"black"},children:["@",k]})]})})]}),(0,fn.jsx)("p",{className:"ms-5 my-2",style:{fontSize:"16px"},children:l.comment}),(0,fn.jsx)("button",{className:"text-decoration-underline text-black ms-5 mt-2",onMouseEnter:e=>e.currentTarget.classList.add("text-black"),onMouseLeave:e=>e.currentTarget.classList.remove("text-black"),onClick:e=>O(h._id,"reply",e.target),children:"\u0e25\u0e1a"})]}):""]})},bLe=()=>{let{userAuth:{access_token:e}}=(0,Z.useContext)(g2e);const[t,n]=(0,Z.useState)("all"),[r,o]=(0,Z.useState)(null);const i=n=>{let{page:i,deletedDoccount:a=0}=n;ap.post("".concat("http://localhost:3001","/notifications/notifications"),{page:i,filter:"system"!==t?t:"delete",deletedDoccount:a},{headers:{Authorization:"Bearer ".concat(e)}}).then((async n=>{let{data:{notifications:a}}=n;console.log(a);let s=await Np({state:r,data:a,page:i,countRoute:"/notifications/all-notification-count",data_to_send:"system"!=t?t:"delete",user:null!==e&&void 0!==e?e:void 0});o(s),console.log(s)})).catch((e=>{console.log(e)}))};(0,Z.useEffect)((()=>{e&&i({page:1})}),[e,t]);const a=e=>{let t=e.target;n(t.innerHTML),o(null)};return(0,fn.jsxs)("div",{children:[(0,fn.jsx)("h1",{className:"md:hidden fs-5",children:"\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14"}),(0,fn.jsx)("div",{className:"my-4 d-flex gap-4",children:["all","like","comment","reply","follow","system"].map(((e,n)=>(0,fn.jsx)("button",{className:"py-2 "+(t===e?"btn-dark":"btn-light"),onClick:a,children:e},n)))}),null===r?(0,fn.jsx)(sp,{}):(0,fn.jsxs)(fn.Fragment,{children:[r.result.length?r.result.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{delay:.08*t},children:(0,fn.jsx)(vLe,{data:e,index:t,notificationState:{notifications:r,setNotifications:o}})},t))):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"}),(0,fn.jsx)(Ip,{state:r,fetchDataFun:i,additionalParam:{deletedDoccount:r.deletedDoccount}})]})]})};function xLe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=xLe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const wLe=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=xLe(e))&&(r&&(r+=" "),r+=t);return r};var kLe=n(9889),SLe=n.n(kLe),CLe=n(9062),ELe=n(620),_Le=n.n(ELe),TLe=n(5268),NLe=n.n(TLe),ILe=n(3097),ALe=n.n(ILe),OLe=n(9160),RLe=n.n(OLe),MLe=function(e){return 0===e?0:e>0?1:-1},jLe=function(e){return _Le()(e)&&e.indexOf("%")===e.length-1},PLe=function(e){return RLe()(e)&&!NLe()(e)},DLe=function(e){return PLe(e)||_Le()(e)},LLe=0,FLe=function(e){var t=++LLe;return"".concat(e||"").concat(t)},BLe=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!PLe(e)&&!_Le()(e))return r;if(jLe(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return NLe()(n)&&(n=r),o&&n>t&&(n=t),n},zLe=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ULe=function(e,t){return PLe(e)&&PLe(t)?function(n){return e+n*(t-e)}:function(){return t}};function VLe(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):ALe()(e,t))===n})):null}var WLe=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o]},HLe=n(9686),GLe=n.n(HLe),KLe=n(1629),qLe=n.n(KLe),YLe=n(6686),XLe=n.n(YLe);function JLe(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function $Le(e){return $Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$Le(e)}var ZLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QLe=["points","pathLength"],eFe={svg:["viewBox","children"],polygon:QLe,polyline:QLe},tFe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nFe=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,Z.isValidElement)(e)&&(n=e.props),!XLe()(n))return null;var r={};return Object.keys(n).forEach((function(e){tFe.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},rFe=function(e,t,n){if(!XLe()(e)||"object"!==$Le(e))return null;var r=null;return Object.keys(e).forEach((function(o){var i=e[o];tFe.includes(o)&&"function"===typeof i&&(r||(r={}),r[o]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))})),r},oFe=["children"],iFe=["children"];function aFe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var sFe={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},cFe=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},lFe=null,uFe=null,dFe=function e(t){if(t===lFe&&Array.isArray(uFe))return uFe;var n=[];return Z.Children.forEach(t,(function(t){GLe()(t)||((0,CLe.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),uFe=n,lFe=t,n};function hFe(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return cFe(e)})):[cFe(t)],dFe(e).forEach((function(e){var t=ALe()(e,"type.displayName")||ALe()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function pFe(e,t){var n=hFe(e,t);return n&&n[0]}var fFe=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!PLe(n)||n<=0||!PLe(r)||r<=0)},mFe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gFe=function(e){return e&&e.type&&_Le()(e.type)&&mFe.indexOf(e.type)>=0},yFe=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,Z.isValidElement)(e)&&(r=e.props),!XLe()(r))return null;var o={};return Object.keys(r).forEach((function(e){var i;(function(e,t,n,r){var o,i=null!==(o=null===eFe||void 0===eFe?void 0:eFe[r])&&void 0!==o?o:[];return!qLe()(e)&&(r&&i.includes(t)||ZLe.includes(t))||n&&tFe.includes(t)})(null===(i=r)||void 0===i?void 0:i[e],e,t,n)&&(o[e]=r[e])})),o},vFe=function e(t,n){if(t===n)return!0;var r=Z.Children.count(t);if(r!==Z.Children.count(n))return!1;if(0===r)return!0;if(1===r)return bFe(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var i=t[o],a=n[o];if(Array.isArray(i)||Array.isArray(a)){if(!e(i,a))return!1}else if(!bFe(i,a))return!1}return!0},bFe=function(e,t){if(GLe()(e)&&GLe()(t))return!0;if(!GLe()(e)&&!GLe()(t)){var n=e.props||{},r=n.children,o=aFe(n,oFe),i=t.props||{},a=i.children,s=aFe(i,iFe);return r&&a?JLe(o,s)&&vFe(r,a):!r&&!a&&JLe(o,s)}return!1},xFe=function(e,t){var n=[],r={};return dFe(e).forEach((function(e,o){if(gFe(e))n.push(e);else if(e){var i=cFe(e.type),a=t[i]||{},s=a.handler,c=a.once;if(s&&(!c||!r[i])){var l=s(e,i,o);n.push(l),r[i]=!0}}})),n},wFe=function(e,t){return dFe(t).indexOf(e)};function kFe(e){return kFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kFe(e)}function SFe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CFe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SFe(Object(n),!0).forEach((function(t){EFe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SFe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EFe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kFe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kFe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kFe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return TFe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TFe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TFe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var NFe=(0,Z.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,i=e.width,a=void 0===i?"100%":i,s=e.height,c=void 0===s?"100%":s,l=e.minWidth,u=void 0===l?0:l,d=e.minHeight,h=e.maxHeight,p=e.children,f=e.debounce,m=void 0===f?0:f,g=e.id,y=e.className,v=e.onResize,b=e.style,x=void 0===b?{}:b,w=(0,Z.useRef)(null),k=(0,Z.useRef)();k.current=v,(0,Z.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var S=_Fe((0,Z.useState)({containerWidth:o.width,containerHeight:o.height}),2),C=S[0],E=S[1],_=(0,Z.useCallback)((function(e,t){E((function(n){var r=Math.round(e),o=Math.round(t);return n.containerWidth===r&&n.containerHeight===o?n:{containerWidth:r,containerHeight:o}}))}),[]);(0,Z.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,o=n.height;_(r,o),null===(t=k.current)||void 0===t||t.call(k,r,o)};m>0&&(e=SLe()(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,o=n.height;return _(r,o),t.observe(w.current),function(){t.disconnect()}}),[_,m]);var T=(0,Z.useMemo)((function(){var e=C.containerWidth,t=C.containerHeight;if(e<0||t<0)return null;WLe(jLe(a)||jLe(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,c),WLe(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=jLe(a)?e:a,o=jLe(c)?t:c;n&&n>0&&(r?o=r/n:o&&(r=o*n),h&&o>h&&(o=h)),WLe(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,a,c,u,d,n);var i=!Array.isArray(p)&&(0,CLe.isElement)(p)&&cFe(p.type).endsWith("Chart");return Z.Children.map(p,(function(e){return(0,CLe.isElement)(e)?(0,Z.cloneElement)(e,CFe({width:r,height:o},i?{style:CFe({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e}))}),[n,p,c,h,d,u,C,a]);return Z.createElement("div",{id:g?"".concat(g):void 0,className:wLe("recharts-responsive-container",y),style:CFe(CFe({},x),{},{width:a,height:c,minWidth:u,minHeight:d,maxHeight:h}),ref:w},T)})),IFe=n(6604),AFe=n.n(IFe),OFe=n(7424),RFe=n.n(OFe),MFe=!0,jFe="Invariant failed";function PFe(e,t){if(!e){if(MFe)throw new Error(jFe);var n="function"===typeof t?t():t,r=n?"".concat(jFe,": ").concat(n):jFe;throw new Error(r)}}var DFe=["children","width","height","viewBox","className","style","title","desc"];function LFe(){return LFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LFe.apply(this,arguments)}function FFe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function BFe(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,i=e.className,a=e.style,s=e.title,c=e.desc,l=FFe(e,DFe),u=o||{width:n,height:r,x:0,y:0},d=wLe("recharts-surface",i);return Z.createElement("svg",LFe({},yFe(l,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Z.createElement("title",null,s),Z.createElement("desc",null,c),t)}var zFe=["children","className"];function UFe(){return UFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UFe.apply(this,arguments)}function VFe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var WFe=Z.forwardRef((function(e,t){var n=e.children,r=e.className,o=VFe(e,zFe),i=wLe("recharts-layer",r);return Z.createElement("g",UFe({className:i},yFe(o,!0),{ref:t}),n)}));function HFe(e){return HFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HFe(e)}function GFe(){return GFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GFe.apply(this,arguments)}function KFe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qFe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qFe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qFe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YFe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XFe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YFe(Object(n),!0).forEach((function(t){JFe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YFe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JFe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=HFe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HFe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HFe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Fe(e){return Array.isArray(e)&&DLe(e[0])&&DLe(e[1])?e.join(" ~ "):e}var ZFe=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,i=e.itemStyle,a=void 0===i?{}:i,s=e.labelStyle,c=void 0===s?{}:s,l=e.payload,u=e.formatter,d=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,f=e.label,m=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,v=XFe({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=XFe({margin:0},c),x=!GLe()(f),w=x?f:"",k=wLe("recharts-default-tooltip",h),S=wLe("recharts-tooltip-label",p);x&&m&&void 0!==l&&null!==l&&(w=m(f,l));var C=y?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",GFe({className:k,style:v},C),Z.createElement("p",{className:S,style:b},Z.isValidElement(w)?w:"".concat(w)),function(){if(l&&l.length){var e=(d?RFe()(l,d):l).map((function(e,t){if("none"===e.type)return null;var r=XFe({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),o=e.formatter||u||$Fe,i=e.value,s=e.name,c=i,d=s;if(o&&null!=c&&null!=d){var h=o(i,s,e,t,l);if(Array.isArray(h)){var p=KFe(h,2);c=p[0],d=p[1]}else c=h}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},DLe(d)?Z.createElement("span",{className:"recharts-tooltip-item-name"},d):null,DLe(d)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},c),Z.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function QFe(e){return QFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QFe(e)}function eBe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=QFe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QFe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QFe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tBe="recharts-tooltip-wrapper",nBe={visibility:"hidden"};function rBe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return wLe(tBe,eBe(eBe(eBe(eBe({},"".concat(tBe,"-right"),PLe(n)&&t&&PLe(t.x)&&n>=t.x),"".concat(tBe,"-left"),PLe(n)&&t&&PLe(t.x)&&n<t.x),"".concat(tBe,"-bottom"),PLe(r)&&t&&PLe(t.y)&&r>=t.y),"".concat(tBe,"-top"),PLe(r)&&t&&PLe(t.y)&&r<t.y))}function oBe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,o=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(i&&PLe(i[r]))return i[r];var u=n[r]-s-o,d=n[r]+o;return t[r]?a[r]?u:d:a[r]?u<c[r]?Math.max(d,c[r]):Math.max(u,c[r]):d+s>c[r]+l?Math.max(u,c[r]):Math.max(d,c[r])}function iBe(e){return iBe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iBe(e)}function aBe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sBe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aBe(Object(n),!0).forEach((function(t){fBe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aBe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mBe(r.key),r)}}function lBe(e,t,n){return t=dBe(t),function(e,t){if(t&&("object"===iBe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hBe(e)}(e,uBe()?Reflect.construct(t,n||[],dBe(e).constructor):t.apply(e,n))}function uBe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uBe=function(){return!!e})()}function dBe(e){return dBe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dBe(e)}function hBe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pBe(e,t){return pBe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pBe(e,t)}function fBe(e,t,n){return(t=mBe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mBe(e){var t=function(e,t){if("object"!=iBe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iBe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iBe(t)?t:String(t)}var gBe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fBe(hBe(e=lBe(this,t,[].concat(r))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fBe(hBe(e),"lastBoundingBox",{width:-1,height:-1}),fBe(hBe(e),"handleKeyDown",(function(t){var n,r,o,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(o=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==o?o:0}})})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pBe(e,t)}(t,e),n=t,r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.lastBoundingBox.width)>1||Math.abs(e.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=e.width,this.lastBoundingBox.height=e.height)}else-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,i=t.animationEasing,a=t.children,s=t.coordinate,c=t.hasPayload,l=t.isAnimationActive,u=t.offset,d=t.position,h=t.reverseDirection,p=t.useTranslate3d,f=t.viewBox,m=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,o=e.coordinate,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,c=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox;return{cssProperties:c.height>0&&c.width>0&&o?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=oBe({allowEscapeViewBox:r,coordinate:o,key:"x",offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=oBe({allowEscapeViewBox:r,coordinate:o,key:"y",offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:l}):nBe,cssClasses:rBe({translateX:t,translateY:n,coordinate:o})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:p,viewBox:f}),y=g.cssClasses,v=g.cssProperties,b=sBe(sBe({transition:l&&n?"transform ".concat(o,"ms ").concat(i):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},m);return Z.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},a)}}],r&&cBe(n.prototype,r),o&&cBe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.PureComponent),yBe={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return yBe[e]},set:function(e,t){if("string"===typeof e)yBe[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){yBe[t]=e[t]}))}}},vBe=n(977),bBe=n.n(vBe);function xBe(e,t,n){return!0===t?bBe()(e,n):qLe()(t)?bBe()(e,t):e}function wBe(e){return wBe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wBe(e)}function kBe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SBe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kBe(Object(n),!0).forEach((function(t){IBe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kBe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ABe(r.key),r)}}function EBe(e,t,n){return t=TBe(t),function(e,t){if(t&&("object"===wBe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_Be()?Reflect.construct(t,n||[],TBe(e).constructor):t.apply(e,n))}function _Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_Be=function(){return!!e})()}function TBe(e){return TBe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TBe(e)}function NBe(e,t){return NBe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},NBe(e,t)}function IBe(e,t,n){return(t=ABe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ABe(e){var t=function(e,t){if("object"!=wBe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wBe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wBe(t)?t:String(t)}function OBe(e){return e.dataKey}var RBe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),EBe(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NBe(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,i=t.animationEasing,a=t.content,s=t.coordinate,c=t.filterNull,l=t.isAnimationActive,u=t.offset,d=t.payload,h=t.payloadUniqBy,p=t.position,f=t.reverseDirection,m=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,v=null!==d&&void 0!==d?d:[];c&&v.length&&(v=xBe(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),h,OBe));var b=v.length>0;return Z.createElement(gBe,{allowEscapeViewBox:r,animationDuration:o,animationEasing:i,isAnimationActive:l,active:n,coordinate:s,hasPayload:b,offset:u,position:p,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:y},function(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):"function"===typeof e?Z.createElement(e,t):Z.createElement(ZFe,t)}(a,SBe(SBe({},this.props),{},{payload:v})))}}],r&&CBe(n.prototype,r),o&&CBe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.PureComponent);IBe(RBe,"displayName","Tooltip"),IBe(RBe,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yBe.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MBe=n(643),jBe=n.n(MBe);Math.abs,Math.atan2;const PBe=Math.cos,DBe=(Math.max,Math.min,Math.sin),LBe=Math.sqrt,FBe=Math.PI,BBe=2*FBe;const zBe={draw(e,t){const n=LBe(t/FBe);e.moveTo(n,0),e.arc(0,0,n,0,BBe)}},UBe={draw(e,t){const n=LBe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VBe=LBe(1/3),WBe=2*VBe,HBe={draw(e,t){const n=LBe(t/WBe),r=n*VBe;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},GBe={draw(e,t){const n=LBe(t),r=-n/2;e.rect(r,r,n,n)}},KBe=DBe(FBe/10)/DBe(7*FBe/10),qBe=DBe(BBe/10)*KBe,YBe=-PBe(BBe/10)*KBe,XBe={draw(e,t){const n=LBe(.8908130915292852*t),r=qBe*n,o=YBe*n;e.moveTo(0,-n),e.lineTo(r,o);for(let i=1;i<5;++i){const t=BBe*i/5,a=PBe(t),s=DBe(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*o,s*r+a*o)}e.closePath()}},JBe=LBe(3),$Be={draw(e,t){const n=-LBe(t/(3*JBe));e.moveTo(0,2*n),e.lineTo(-JBe*n,-n),e.lineTo(JBe*n,-n),e.closePath()}},ZBe=-.5,QBe=LBe(3)/2,eze=1/LBe(12),tze=3*(eze/2+1),nze={draw(e,t){const n=LBe(t/tze),r=n/2,o=n*eze,i=r,a=n*eze+n,s=-i,c=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(s,c),e.lineTo(ZBe*r-QBe*o,QBe*r+ZBe*o),e.lineTo(ZBe*i-QBe*a,QBe*i+ZBe*a),e.lineTo(ZBe*s-QBe*c,QBe*s+ZBe*c),e.lineTo(ZBe*r+QBe*o,ZBe*o-QBe*r),e.lineTo(ZBe*i+QBe*a,ZBe*a-QBe*i),e.lineTo(ZBe*s+QBe*c,ZBe*c-QBe*s),e.closePath()}};function rze(e){return function(){return e}}var oze,ize,aze,sze,cze,lze,uze,dze,hze,pze,fze,mze,gze,yze;const vze=Math.PI,bze=2*vze,xze=1e-6,wze=bze-xze;function kze(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Sze{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?kze:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return kze;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(oze||(oze=aw(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(ize||(ize=aw(["Z"]))))}lineTo(e,t){this._append(aze||(aze=aw(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(sze||(sze=aw(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,o,i){this._append(cze||(cze=aw(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+o,this._y1=+i)}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,(o=+o)<0)throw new Error("negative radius: ".concat(o));let i=this._x1,a=this._y1,s=n-e,c=r-t,l=i-e,u=a-t,d=l*l+u*u;if(null===this._x1)this._append(lze||(lze=aw(["M",",",""])),this._x1=e,this._y1=t);else if(d>xze)if(Math.abs(u*s-c*l)>xze&&o){let h=n-i,p=r-a,f=s*s+c*c,m=h*h+p*p,g=Math.sqrt(f),y=Math.sqrt(d),v=o*Math.tan((vze-Math.acos((f+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>xze&&this._append(dze||(dze=aw(["L",",",""])),e+b*l,t+b*u),this._append(hze||(hze=aw(["A",",",",0,0,",",",",",""])),o,o,+(u*h>l*p),this._x1=e+x*s,this._y1=t+x*c)}else this._append(uze||(uze=aw(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,o,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^i,d=i?r-o:o-r;null===this._x1?this._append(pze||(pze=aw(["M",",",""])),c,l):(Math.abs(this._x1-c)>xze||Math.abs(this._y1-l)>xze)&&this._append(fze||(fze=aw(["L",",",""])),c,l),n&&(d<0&&(d=d%bze+bze),d>wze?this._append(mze||(mze=aw(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,u,e-a,t-s,n,n,u,this._x1=c,this._y1=l):d>xze&&this._append(gze||(gze=aw(["A",",",",0,",",",",",",",""])),n,n,+(d>=vze),u,this._x1=e+n*Math.cos(o),this._y1=t+n*Math.sin(o)))}rect(e,t,n,r){this._append(yze||(yze=aw(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function Cze(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new Sze(t)}Sze.prototype;LBe(3),LBe(3);function Eze(e){return Eze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eze(e)}var _ze=["type","size","sizeType"];function Tze(){return Tze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tze.apply(this,arguments)}function Nze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ize(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nze(Object(n),!0).forEach((function(t){Aze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Aze(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Eze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eze(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Rze={symbolCircle:zBe,symbolCross:UBe,symbolDiamond:HBe,symbolSquare:GBe,symbolStar:XBe,symbolTriangle:$Be,symbolWye:nze},Mze=Math.PI/180,jze=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,i=e.sizeType,a=void 0===i?"area":i,s=Ize(Ize({},Oze(e,_ze)),{},{type:n,size:o,sizeType:a}),c=s.className,l=s.cx,u=s.cy,d=yFe(s,!0);return l===+l&&u===+u&&o===+o?Z.createElement("path",Tze({},d,{className:wLe("recharts-symbols",c),transform:"translate(".concat(l,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(jBe()(e));return Rze[t]||zBe}(n),t=function(e,t){let n=null,r=Cze(o);function o(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return e="function"===typeof e?e:rze(e||zBe),t="function"===typeof t?t:rze(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"===typeof t?t:rze(t),o):e},o.size=function(e){return arguments.length?(t="function"===typeof e?e:rze(+e),o):t},o.context=function(e){return arguments.length?(n=null==e?null:e,o):n},o}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Mze;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,a,n));return t()}()})):null};function Pze(e){return Pze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pze(e)}function Dze(){return Dze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dze.apply(this,arguments)}function Lze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hze(r.key),r)}}function Bze(e,t,n){return t=Uze(t),function(e,t){if(t&&("object"===Pze(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zze()?Reflect.construct(t,n||[],Uze(e).constructor):t.apply(e,n))}function zze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zze=function(){return!!e})()}function Uze(e){return Uze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Uze(e)}function Vze(e,t){return Vze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vze(e,t)}function Wze(e,t,n){return(t=Hze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hze(e){var t=function(e,t){if("object"!=Pze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pze(t)?t:String(t)}jze.registerSymbol=function(e,t){Rze["symbol".concat(jBe()(e))]=t};var Gze=32,Kze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bze(this,t,arguments)}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vze(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Gze/6,o=Gze/3,i=e.inactive?t:e.color;if("plainline"===e.type)return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Gze,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(Gze,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return Z.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Gze,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(e.legendIcon)){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lze(Object(n),!0).forEach((function(t){Wze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete a.legendIcon,Z.cloneElement(e.legendIcon,a)}return Z.createElement(jze,{fill:i,cx:n,cy:n,size:Gze,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,i=t.formatter,a=t.inactiveColor,s={x:0,y:0,width:Gze,height:Gze},c={display:"horizontal"===o?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||i,u=wLe(Wze(Wze({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=qLe()(t.value)?null:t.value;WLe(!qLe()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var h=t.inactive?a:t.color;return Z.createElement("li",Dze({className:u,style:c,key:"legend-item-".concat(n)},rFe(e.props,t,n)),Z.createElement(BFe,{width:r,height:r,viewBox:s,style:l},e.renderIcon(t)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},o?o(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&Fze(n.prototype,r),o&&Fze(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.PureComponent);function qze(e){return qze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qze(e)}Wze(Kze,"displayName","Legend"),Wze(Kze,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Yze=["ref"];function Xze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xze(Object(n),!0).forEach((function(t){rUe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oUe(r.key),r)}}function Zze(e,t,n){return t=eUe(t),function(e,t){if(t&&("object"===qze(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tUe(e)}(e,Qze()?Reflect.construct(t,n||[],eUe(e).constructor):t.apply(e,n))}function Qze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Qze=function(){return!!e})()}function eUe(e){return eUe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eUe(e)}function tUe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nUe(e,t){return nUe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nUe(e,t)}function rUe(e,t,n){return(t=oUe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oUe(e){var t=function(e,t){if("object"!=qze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qze(t)?t:String(t)}function iUe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function aUe(e){return e.value}var sUe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rUe(tUe(e=Zze(this,t,[].concat(r))),"lastBoundingBox",{width:-1,height:-1}),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nUe(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t))}else-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jze({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,o=r.layout,i=r.align,a=r.verticalAlign,s=r.margin,c=r.chartWidth,l=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===o?{left:((c||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((l||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Jze(Jze({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,i=t.wrapperStyle,a=t.payloadUniqBy,s=t.payload,c=Jze(Jze({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(i)),i);return Z.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if("function"===typeof e)return Z.createElement(e,t);t.ref;var n=iUe(t,Yze);return Z.createElement(Kze,n)}(n,Jze(Jze({},this.props),{},{payload:xBe(s,a,aUe)})))}}],o=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&PLe(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&$ze(n.prototype,r),o&&$ze(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.PureComponent);function cUe(){return cUe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cUe.apply(this,arguments)}rUe(sUe,"displayName","Legend"),rUe(sUe,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lUe=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,i=wLe("recharts-dot",o);return t===+t&&n===+n&&r===+r?Z.createElement("circle",cUe({},yFe(e,!1),nFe(e),{className:i,cx:t,cy:n,r:r})):null},uUe=Object.getOwnPropertyNames,dUe=Object.getOwnPropertySymbols,hUe=Object.prototype.hasOwnProperty;function pUe(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}}function fUe(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var o=r.cache,i=o.get(t),a=o.get(n);if(i&&a)return i===n&&a===t;o.set(t,n),o.set(n,t);var s=e(t,n,r);return o.delete(t),o.delete(n),s}}function mUe(e){return uUe(e).concat(dUe(e))}var gUe=Object.hasOwn||function(e,t){return hUe.call(e,t)};function yUe(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var vUe="_owner",bUe=Object.getOwnPropertyDescriptor,xUe=Object.keys;function wUe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function kUe(e,t){return yUe(e.getTime(),t.getTime())}function SUe(e,t,n){if(e.size!==t.size)return!1;for(var r,o,i={},a=e.entries(),s=0;(r=a.next())&&!r.done;){for(var c=t.entries(),l=!1,u=0;(o=c.next())&&!o.done;){var d=r.value,h=d[0],p=d[1],f=o.value,m=f[0],g=f[1];l||i[u]||!(l=n.equals(h,m,s,u,e,t,n)&&n.equals(p,g,h,m,e,t,n))||(i[u]=!0),u++}if(!l)return!1;s++}return!0}function CUe(e,t,n){var r,o=xUe(e),i=o.length;if(xUe(t).length!==i)return!1;for(;i-- >0;){if((r=o[i])===vUe&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!gUe(t,r)||!n.equals(e[r],t[r],r,r,e,t,n))return!1}return!0}function EUe(e,t,n){var r,o,i,a=mUe(e),s=a.length;if(mUe(t).length!==s)return!1;for(;s-- >0;){if((r=a[s])===vUe&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!gUe(t,r))return!1;if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;if(o=bUe(e,r),i=bUe(t,r),(o||i)&&(!o||!i||o.configurable!==i.configurable||o.enumerable!==i.enumerable||o.writable!==i.writable))return!1}return!0}function _Ue(e,t){return yUe(e.valueOf(),t.valueOf())}function TUe(e,t){return e.source===t.source&&e.flags===t.flags}function NUe(e,t,n){if(e.size!==t.size)return!1;for(var r,o,i={},a=e.values();(r=a.next())&&!r.done;){for(var s=t.values(),c=!1,l=0;(o=s.next())&&!o.done;)c||i[l]||!(c=n.equals(r.value,o.value,r.value,o.value,e,t,n))||(i[l]=!0),l++;if(!c)return!1}return!0}function IUe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}var AUe="[object Arguments]",OUe="[object Boolean]",RUe="[object Date]",MUe="[object Map]",jUe="[object Number]",PUe="[object Object]",DUe="[object RegExp]",LUe="[object Set]",FUe="[object String]",BUe=Array.isArray,zUe="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,UUe=Object.assign,VUe=Object.prototype.toString.call.bind(Object.prototype.toString);var WUe=HUe();HUe({strict:!0}),HUe({circular:!0}),HUe({circular:!0,strict:!0}),HUe({createInternalComparator:function(){return yUe}}),HUe({strict:!0,createInternalComparator:function(){return yUe}}),HUe({circular:!0,createInternalComparator:function(){return yUe}}),HUe({circular:!0,createInternalComparator:function(){return yUe},strict:!0});function HUe(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,o=e.createInternalComparator,i=e.createState,a=e.strict,s=void 0!==a&&a,c=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,o={areArraysEqual:r?EUe:wUe,areDatesEqual:kUe,areMapsEqual:r?pUe(SUe,EUe):SUe,areObjectsEqual:r?EUe:CUe,arePrimitiveWrappersEqual:_Ue,areRegExpsEqual:TUe,areSetsEqual:r?pUe(NUe,EUe):NUe,areTypedArraysEqual:r?EUe:IUe};if(n&&(o=UUe({},o,n(o))),t){var i=fUe(o.areArraysEqual),a=fUe(o.areMapsEqual),s=fUe(o.areObjectsEqual),c=fUe(o.areSetsEqual);o=UUe({},o,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:c})}return o}(e),l=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areMapsEqual,o=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,a=e.areRegExpsEqual,s=e.areSetsEqual,c=e.areTypedArraysEqual;return function(e,l,u){if(e===l)return!0;if(null==e||null==l||"object"!==typeof e||"object"!==typeof l)return e!==e&&l!==l;var d=e.constructor;if(d!==l.constructor)return!1;if(d===Object)return o(e,l,u);if(BUe(e))return t(e,l,u);if(null!=zUe&&zUe(e))return c(e,l,u);if(d===Date)return n(e,l,u);if(d===RegExp)return a(e,l,u);if(d===Map)return r(e,l,u);if(d===Set)return s(e,l,u);var h=VUe(e);return h===RUe?n(e,l,u):h===DUe?a(e,l,u):h===MUe?r(e,l,u):h===LUe?s(e,l,u):h===PUe?"function"!==typeof e.then&&"function"!==typeof l.then&&o(e,l,u):h===AUe?o(e,l,u):(h===OUe||h===jUe||h===FUe)&&i(e,l,u)}}(c),u=o?o(l):(t=l,function(e,n,r,o,i,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,o=e.equals,i=e.strict;if(r)return function(e,a){var s=r(),c=s.cache,l=void 0===c?t?new WeakMap:void 0:c,u=s.meta;return n(e,a,{cache:l,equals:o,meta:u,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:o,meta:void 0,strict:i})};var a={cache:void 0,equals:o,meta:void 0,strict:i};return function(e,t){return n(e,t,a)}}({circular:r,comparator:l,createState:i,equals:u,strict:s})}function GUe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(o){n<0&&(n=o),o-n>t?(e(o),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function KUe(e){return KUe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KUe(e)}function qUe(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return YUe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YUe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YUe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XUe(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var o=qUe(r),i=o[0],a=o.slice(1);return"number"===typeof i?void GUe(n.bind(null,a),i):(n(i),void GUe(n.bind(null,a)))}"object"===KUe(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function JUe(e){return JUe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JUe(e)}function $Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZUe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Ue(Object(n),!0).forEach((function(t){QUe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QUe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==JUe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JUe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===JUe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eVe=function(e){return e},tVe=function(e,t){return Object.keys(t).reduce((function(n,r){return ZUe(ZUe({},n),{},QUe({},r,e(r,t[r])))}),{})},nVe=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function rVe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||iVe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oVe(e){return function(e){if(Array.isArray(e))return aVe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||iVe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iVe(e,t){if(e){if("string"===typeof e)return aVe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aVe(e,t):void 0}}function aVe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sVe=1e-4,cVe=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},lVe=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},uVe=function(e,t){return function(n){var r=cVe(e,t);return lVe(r,n)}},dVe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,o=0,i=1,a=1;break;case"ease":r=.25,o=.1,i=.25,a=1;break;case"ease-in":r=.42,o=0,i=1,a=1;break;case"ease-out":r=.42,o=0,i=.58,a=1;break;case"ease-in-out":r=0,o=0,i=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var c=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),l=rVe(c,4);r=l[0],o=l[1],i=l[2],a=l[3]}}[r,i,o,a].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=uVe(r,i),p=uVe(o,a),f=(u=r,d=i,function(e){var t=cVe(u,d),n=[].concat(oVe(t.map((function(e,t){return e*t})).slice(1)),[0]);return lVe(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var o=h(n)-t,i=f(n);if(Math.abs(o-t)<sVe||i<sVe)return p(n);n=m(n-o/i)}return p(n)};return g.isStepper=!1,g},hVe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dVe(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,o=void 0===r?8:r,i=e.dt,a=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*o)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<sVe&&Math.abs(i)<sVe?[t,0]:[s,i]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return dVe(r)}return"function"===typeof r?r:null};function pVe(e){return pVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pVe(e)}function fVe(e){return function(e){if(Array.isArray(e))return xVe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bVe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mVe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gVe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mVe(Object(n),!0).forEach((function(t){yVe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mVe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yVe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==pVe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pVe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pVe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vVe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||bVe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bVe(e,t){if(e){if("string"===typeof e)return xVe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xVe(e,t):void 0}}function xVe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wVe=function(e,t,n){return e+(t-e)*n},kVe=function(e){return e.from!==e.to},SVe=function e(t,n,r){var o=tVe((function(e,n){if(kVe(n)){var r=vVe(t(n.from,n.to,n.velocity),2),o=r[0],i=r[1];return gVe(gVe({},n),{},{from:o,velocity:i})}return n}),n);return r<1?tVe((function(e,t){return kVe(t)?gVe(gVe({},t),{},{velocity:wVe(t.velocity,o[e].velocity,r),from:wVe(t.from,o[e].from,r)}):t}),n):e(t,o,r-1)};const CVe=function(e,t,n,r,o){var i,a,s,c,l=(i=e,a=t,[Object.keys(i),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=l.reduce((function(n,r){return gVe(gVe({},n),{},yVe({},r,[e[r],t[r]]))}),{}),d=l.reduce((function(n,r){return gVe(gVe({},n),{},yVe({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=SVe(n,d,i),o(gVe(gVe(gVe({},e),t),tVe((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(kVe).length&&(h=requestAnimationFrame(p))}:function(i){c||(c=i);var a=(i-c)/r,s=tVe((function(e,t){return wVe.apply(void 0,fVe(t).concat([n(a)]))}),u);if(o(gVe(gVe(gVe({},e),t),s)),a<1)h=requestAnimationFrame(p);else{var l=tVe((function(e,t){return wVe.apply(void 0,fVe(t).concat([n(1)]))}),u);o(gVe(gVe(gVe({},e),t),l))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(h)}}};function EVe(e){return EVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EVe(e)}var _Ve=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function TVe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function NVe(e){return function(e){if(Array.isArray(e))return IVe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return IVe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IVe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IVe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AVe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OVe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AVe(Object(n),!0).forEach((function(t){RVe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AVe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RVe(e,t,n){return(t=jVe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jVe(r.key),r)}}function jVe(e){var t=function(e,t){if("object"!==EVe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==EVe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===EVe(t)?t:String(t)}function PVe(e,t){return PVe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PVe(e,t)}function DVe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(x2e){return!1}}();return function(){var n,r=BVe(e);if(t){var o=BVe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LVe(this,n)}}function LVe(e,t){if(t&&("object"===EVe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return FVe(e)}function FVe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BVe(e){return BVe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},BVe(e)}var zVe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PVe(e,t)}(i,e);var t,n,r,o=DVe(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=(n=o.call(this,e,t)).props,a=r.isActive,s=r.attributeName,c=r.from,l=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(FVe(n)),n.changeStyle=n.changeStyle.bind(FVe(n)),!a||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:l}),LVe(n);if(u&&u.length)n.state={style:u[0].style};else if(c){if("function"===typeof d)return n.state={style:c},LVe(n);n.state={style:s?RVe({},s,c):c}}else n.state={style:{}};return n}return t=i,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,o=t.attributeName,i=t.shouldReAnimate,a=t.to,s=t.from,c=this.state.style;if(r)if(n){if(!(WUe(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=l||i?s:e.to;if(this.state&&c){var d={style:o?RVe({},o,u):u};(o&&[o]!==u||!o&&c!==u)&&this.setState(d)}this.runAnimation(OVe(OVe({},this.props),{},{from:u,begin:0}))}}else{var h={style:o?RVe({},o,a):a};this.state&&c&&(o&&c[o]!==a||!o&&c!==a)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,o=e.duration,i=e.easing,a=e.begin,s=e.onAnimationEnd,c=e.onAnimationStart,l=CVe(n,r,hVe(i),o,this.changeStyle);this.manager.start([c,a,function(){t.stopJSAnimation=l()},o,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,o=e.onAnimationStart,i=n[0],a=i.style,s=i.duration,c=void 0===s?0:s;return this.manager.start([o].concat(NVe(n.reduce((function(e,r,o){if(0===o)return e;var i=r.duration,a=r.easing,s=void 0===a?"ease":a,c=r.style,l=r.properties,u=r.onAnimationEnd,d=o>0?n[o-1]:r,h=l||Object.keys(c);if("function"===typeof s||"spring"===s)return[].concat(NVe(e),[t.runJSAnimation.bind(t,{from:d.style,to:c,duration:i,easing:s}),i]);var p=nVe(h,i,s),f=OVe(OVe(OVe({},d.style),c),{},{transition:p});return[].concat(NVe(e),[f,i,u]).filter(eVe)}),[a,Math.max(c,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=XUe());var t=e.begin,n=e.duration,r=e.attributeName,o=e.to,i=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,c=e.steps,l=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof l&&"spring"!==i)if(c.length>1)this.runStepAnimation(e);else{var d=r?RVe({},r,o):o,h=nVe(Object.keys(d),n,i);u.start([a,t,OVe(OVe({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,TVe(e,_Ve)),i=Z.Children.count(t),a=this.state.style;if("function"===typeof t)return t(a);if(!r||0===i||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,i=t.className;return(0,Z.cloneElement)(e,OVe(OVe({},o),{},{style:OVe(OVe({},r),a),className:i}))};return 1===i?s(Z.Children.only(t)):Z.createElement("div",null,Z.Children.map(t,(function(e){return s(e)})))}}],n&&MVe(t.prototype,n),r&&MVe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Z.PureComponent);zVe.displayName="Animate",zVe.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},zVe.propTypes={from:$m().oneOfType([$m().object,$m().string]),to:$m().oneOfType([$m().object,$m().string]),attributeName:$m().string,duration:$m().number,begin:$m().number,easing:$m().oneOfType([$m().string,$m().func]),steps:$m().arrayOf($m().shape({duration:$m().number.isRequired,style:$m().object.isRequired,easing:$m().oneOfType([$m().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$m().func]),properties:$m().arrayOf("string"),onAnimationEnd:$m().func})),children:$m().oneOfType([$m().node,$m().func]),isActive:$m().bool,canBegin:$m().bool,onAnimationEnd:$m().func,shouldReAnimate:$m().bool,onAnimationStart:$m().func,onAnimationReStart:$m().func};const UVe=zVe;var VVe=["children","appearOptions","enterOptions","leaveOptions"];function WVe(e){return WVe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WVe(e)}function HVe(){return HVe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HVe.apply(this,arguments)}function GVe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function KVe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qVe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KVe(Object(n),!0).forEach((function(t){QVe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KVe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YVe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eWe(r.key),r)}}function XVe(e,t){return XVe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XVe(e,t)}function JVe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(x2e){return!1}}();return function(){var n,r=ZVe(e);if(t){var o=ZVe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===WVe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $Ve(e)}(this,n)}}function $Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZVe(e){return ZVe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZVe(e)}function QVe(e,t,n){return(t=eWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eWe(e){var t=function(e,t){if("object"!==WVe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==WVe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===WVe(t)?t:String(t)}var tWe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},nWe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XVe(e,t)}(i,e);var t,n,r,o=JVe(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),QVe($Ve(e=o.call(this)),"handleEnter",(function(t,n){var r=e.props,o=r.appearOptions,i=r.enterOptions;e.handleStyleActive(n?o:i)})),QVe($Ve(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=i,n=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(qVe(qVe({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return tWe(t)+tWe(n)+tWe(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=(t.appearOptions,t.enterOptions,t.leaveOptions,GVe(t,VVe));return Z.createElement(Am,HVe({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return Z.createElement(UVe,e.state,Z.Children.only(n))}))}}],n&&YVe(t.prototype,n),r&&YVe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Z.Component);nWe.propTypes={appearOptions:$m().object,enterOptions:$m().object,leaveOptions:$m().object,children:$m().element};const rWe=nWe;function oWe(e){var t=e.component,n=e.children,r=e.appear,o=e.enter,i=e.leave;return Z.createElement(ZTe,{component:t},Z.Children.map(n,(function(e,t){return Z.createElement(rWe,{appearOptions:r,enterOptions:o,leaveOptions:i,key:"child-".concat(t)},e)})))}oWe.propTypes={appear:$m().object,enter:$m().object,leave:$m().object,children:$m().oneOfType([$m().array,$m().element]),component:$m().any},oWe.defaultProps={component:"span"};const iWe=UVe;function aWe(e){return aWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aWe(e)}function sWe(){return sWe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sWe.apply(this,arguments)}function cWe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lWe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lWe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lWe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uWe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dWe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uWe(Object(n),!0).forEach((function(t){hWe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uWe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hWe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aWe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aWe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aWe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pWe=function(e,t,n,r,o){var i,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,c=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&o instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=o[d]>a?a:o[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+c*u[0],",").concat(t)),i+="L ".concat(e+n-c*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,",\n        ").concat(e+n-c*u[2],",").concat(t+r)),i+="L ".concat(e+c*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(a>0&&o===+o&&o>0){var h=Math.min(a,o);i="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+c*h,",").concat(t,"\n            L ").concat(e+n-c*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+n-c*h,",").concat(t+r,"\n            L ").concat(e+c*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+r-s*h," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},fWe=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,o=t.x,i=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var c=Math.min(o,o+a),l=Math.max(o,o+a),u=Math.min(i,i+s),d=Math.max(i,i+s);return n>=c&&n<=l&&r>=u&&r<=d}return!1},mWe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gWe=function(e){var t=dWe(dWe({},mWe),e),n=(0,Z.useRef)(),r=cWe((0,Z.useState)(-1),2),o=r[0],i=r[1];(0,Z.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(w2e){}}),[]);var a=t.x,s=t.y,c=t.width,l=t.height,u=t.radius,d=t.className,h=t.animationEasing,p=t.animationDuration,f=t.animationBegin,m=t.isAnimationActive,g=t.isUpdateAnimationActive;if(a!==+a||s!==+s||c!==+c||l!==+l||0===c||0===l)return null;var y=wLe("recharts-rectangle",d);return g?Z.createElement(iWe,{canBegin:o>0,from:{width:c,height:l,x:a,y:s},to:{width:c,height:l,x:a,y:s},duration:p,animationEasing:h,isActive:g},(function(e){var r=e.width,i=e.height,a=e.x,s=e.y;return Z.createElement(iWe,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,isActive:m,easing:h},Z.createElement("path",sWe({},yFe(t,!0),{className:y,d:pWe(a,s,r,i,u),ref:n})))})):Z.createElement("path",sWe({},yFe(t,!0),{className:y,d:pWe(a,s,c,l,u)}))};function yWe(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function vWe(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class bWe extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SWe;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(xWe(this,e))}has(e){return super.has(xWe(this,e))}set(e,t){return super.set(wWe(this,e),t)}delete(e){return super.delete(kWe(this,e))}}Set;function xWe(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):t}function wWe(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}function kWe(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)&&(t=n.get(o),n.delete(o)),t}function SWe(e){return null!==e&&"object"===typeof e?e.valueOf():e}const CWe=Symbol("implicit");function EWe(){var e=new bWe,t=[],n=[],r=CWe;function o(o){let i=e.get(o);if(void 0===i){if(r!==CWe)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new bWe;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return EWe(t,n).unknown(r)},yWe.apply(o,arguments),o}function _We(){var e,t,n=EWe().unknown(void 0),r=n.domain,o=n.range,i=0,a=1,s=!1,c=0,l=0,u=.5;function d(){var n=r().length,d=a<i,h=d?a:i,p=d?i:a;e=(p-h)/Math.max(1,n-c+2*l),s&&(e=Math.floor(e)),h+=(p-h-e*(n-c))*u,t=e*(1-c),s&&(h=Math.round(h),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(n).map((function(t){return h+e*t}));return o(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,a]=e,i=+i,a=+a,d()):[i,a]},n.rangeRound=function(e){return[i,a]=e,i=+i,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},n.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return _We(r(),[i,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},yWe.apply(d(),arguments)}function TWe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TWe(t())},e}function NWe(){return TWe(_We.apply(null,arguments).paddingInner(1))}function IWe(e){return IWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IWe(e)}function AWe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OWe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AWe(Object(n),!0).forEach((function(t){RWe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AWe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RWe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IWe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IWe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IWe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MWe={widthCache:{},cacheCount:0},jWe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PWe="recharts_measurement_span";var DWe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||yBe.isSsr)return{width:0,height:0};var n=function(e){var t=OWe({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(MWe.widthCache[r])return MWe.widthCache[r];try{var o=document.getElementById(PWe);o||((o=document.createElement("span")).setAttribute("id",PWe),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=OWe(OWe({},jWe),n);Object.assign(o.style,i),o.textContent="".concat(e);var a=o.getBoundingClientRect(),s={width:a.width,height:a.height};return MWe.widthCache[r]=s,++MWe.cacheCount>2e3&&(MWe.cacheCount=0,MWe.widthCache={}),s}catch(x2e){return{width:0,height:0}}};function LWe(e){return LWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LWe(e)}function FWe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return BWe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BWe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BWe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UWe(r.key),r)}}function UWe(e){var t=function(e,t){if("object"!=LWe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LWe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LWe(t)?t:String(t)}var VWe=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WWe=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HWe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GWe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KWe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},qWe=Object.keys(KWe),YWe="NaN";var XWe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||HWe.test(n)||(this.num=NaN,this.unit=""),qWe.includes(n)&&(this.num=function(e,t){return e*KWe[t]}(t,n),this.unit="px")}var t,n,r;return t=e,r=[{key:"parse",value:function(t){var n,r=FWe(null!==(n=GWe.exec(t))&&void 0!==n?n:[],3),o=r[1],i=r[2];return new e(parseFloat(o),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&zWe(t.prototype,n),r&&zWe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function JWe(e){if(e.includes(YWe))return YWe;for(var t=e;t.includes("*")||t.includes("/");){var n,r=FWe(null!==(n=VWe.exec(t))&&void 0!==n?n:[],4),o=r[1],i=r[2],a=r[3],s=XWe.parse(null!==o&&void 0!==o?o:""),c=XWe.parse(null!==a&&void 0!==a?a:""),l="*"===i?s.multiply(c):s.divide(c);if(l.isNaN())return YWe;t=t.replace(VWe,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=FWe(null!==(u=WWe.exec(t))&&void 0!==u?u:[],4),h=d[1],p=d[2],f=d[3],m=XWe.parse(null!==h&&void 0!==h?h:""),g=XWe.parse(null!==f&&void 0!==f?f:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return YWe;t=t.replace(WWe,y.toString())}return t}var $We=/\(([^()]*)\)/;function ZWe(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=FWe($We.exec(t),2)[1];t=t.replace($We,JWe(n))}return t}(t),t=JWe(t)}function QWe(e){var t=function(e){try{return ZWe(e)}catch(x2e){return YWe}}(e.slice(5,-1));return t===YWe?"":t}var eHe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tHe=["dx","dy","angle","className","breakAll"];function nHe(){return nHe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nHe.apply(this,arguments)}function rHe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function oHe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return iHe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iHe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iHe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aHe=/[ \f\n\r\t\v\u2028\u2029]+/,sHe=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var o=[];return GLe()(t)||(o=n?t.toString().split(""):t.toString().split(aHe)),{wordsWithComputedWidth:o.map((function(e){return{word:e,width:DWe(e,r).width}})),spaceWidth:n?0:DWe("\xa0",r).width}}catch(x2e){return null}},cHe=function(e){return[{words:GLe()(e)?[]:e.toString().split(aHe)}]},lHe=function(e){var t=e.width,n=e.scaleToFit,r=e.children,o=e.style,i=e.breakAll,a=e.maxLines;if((t||n)&&!yBe.isSsr){var s=sHe({breakAll:i,children:r,style:o});return s?function(e,t,n,r,o){var i=e.maxLines,a=e.children,s=e.style,c=e.breakAll,l=PLe(i),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||o||s.width+a+n<Number(r)))s.words.push(i),s.width+=a+n;else{var c={words:[i],width:a};e.push(c)}return e}),[])},h=d(t);if(!l)return h;for(var p,f=function(e){var t=u.slice(0,e),n=sHe({breakAll:c,style:s,children:t+"\u2026"}).wordsWithComputedWidth,o=d(n),a=o.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>Number(r);return[a,o]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=oHe(f(v-1),2),x=b[0],w=b[1],k=oHe(f(v),1)[0];if(x||k||(m=v+1),x&&k&&(g=v-1),!x&&k){p=w;break}y++}return p||h}({breakAll:i,children:r,maxLines:a,style:o},s.wordsWithComputedWidth,s.spaceWidth,t,n):cHe(r)}return cHe(r)},uHe="#808080",dHe=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.lineHeight,a=void 0===i?"1em":i,s=e.capHeight,c=void 0===s?"0.71em":s,l=e.scaleToFit,u=void 0!==l&&l,d=e.textAnchor,h=void 0===d?"start":d,p=e.verticalAnchor,f=void 0===p?"end":p,m=e.fill,g=void 0===m?uHe:m,y=rHe(e,eHe),v=(0,Z.useMemo)((function(){return lHe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),b=y.dx,x=y.dy,w=y.angle,k=y.className,S=y.breakAll,C=rHe(y,tHe);if(!DLe(n)||!DLe(o))return null;var E,_=n+(PLe(b)?b:0),T=o+(PLe(x)?x:0);switch(f){case"start":E=QWe("calc(".concat(c,")"));break;case"middle":E=QWe("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:E=QWe("calc(".concat(v.length-1," * -").concat(a,")"))}var N=[];if(u){var I=v[0].width,A=y.width;N.push("scale(".concat((PLe(A)?A/I:1)/I,")"))}return w&&N.push("rotate(".concat(w,", ").concat(_,", ").concat(T,")")),N.length&&(C.transform=N.join(" ")),Z.createElement("text",nHe({},yFe(C,!0),{x:_,y:T,className:wLe("recharts-text",k),textAnchor:h,fill:g.includes("url")?uHe:g}),v.map((function(e,t){var n=e.words.join(S?"":" ");return Z.createElement("tspan",{x:_,dy:0===t?E:a,key:n},n)})))};const hHe=Math.sqrt(50),pHe=Math.sqrt(10),fHe=Math.sqrt(2);function mHe(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=hHe?10:i>=pHe?5:i>=fHe?2:1;let s,c,l;return o<0?(l=Math.pow(10,-o)/a,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,o)*a,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=n&&n<2?mHe(e,t,2*n):[s,c,l]}function gHe(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,i,a]=r?mHe(t,e,n):mHe(e,t,n);if(!(i>=o))return[];const s=i-o+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(i-l)/-a;else for(let l=0;l<s;++l)c[l]=(i-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(o+l)/-a;else for(let l=0;l<s;++l)c[l]=(o+l)*a;return c}function yHe(e,t,n){return mHe(e=+e,t=+t,n=+n)[2]}function vHe(e,t,n){n=+n;const r=(t=+t)<(e=+e),o=r?yHe(t,e,n):yHe(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function bHe(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xHe(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wHe(e){let t,n,r;function o(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=bHe,n=(t,n)=>bHe(e(t),n),r=(t,n)=>e(t)-n):(t=e===bHe||e===xHe?e:kHe,n=e,r=e),{left:o,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=o(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function kHe(){return 0}function SHe(e){return null===e?NaN:+e}const CHe=wHe(bHe),EHe=CHe.right,_He=(CHe.left,wHe(SHe).center,EHe);function THe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function NHe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function IHe(){}var AHe=.7,OHe=1/AHe,RHe="\\s*([+-]?\\d+)\\s*",MHe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",jHe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PHe=/^#([0-9a-f]{3,8})$/,DHe=new RegExp("^rgb\\(".concat(RHe,",").concat(RHe,",").concat(RHe,"\\)$")),LHe=new RegExp("^rgb\\(".concat(jHe,",").concat(jHe,",").concat(jHe,"\\)$")),FHe=new RegExp("^rgba\\(".concat(RHe,",").concat(RHe,",").concat(RHe,",").concat(MHe,"\\)$")),BHe=new RegExp("^rgba\\(".concat(jHe,",").concat(jHe,",").concat(jHe,",").concat(MHe,"\\)$")),zHe=new RegExp("^hsl\\(".concat(MHe,",").concat(jHe,",").concat(jHe,"\\)$")),UHe=new RegExp("^hsla\\(".concat(MHe,",").concat(jHe,",").concat(jHe,",").concat(MHe,"\\)$")),VHe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function WHe(){return this.rgb().formatHex()}function HHe(){return this.rgb().formatRgb()}function GHe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=PHe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?KHe(t):3===n?new XHe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?qHe(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?qHe(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=DHe.exec(e))?new XHe(t[1],t[2],t[3],1):(t=LHe.exec(e))?new XHe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=FHe.exec(e))?qHe(t[1],t[2],t[3],t[4]):(t=BHe.exec(e))?qHe(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=zHe.exec(e))?tGe(t[1],t[2]/100,t[3]/100,1):(t=UHe.exec(e))?tGe(t[1],t[2]/100,t[3]/100,t[4]):VHe.hasOwnProperty(e)?KHe(VHe[e]):"transparent"===e?new XHe(NaN,NaN,NaN,0):null}function KHe(e){return new XHe(e>>16&255,e>>8&255,255&e,1)}function qHe(e,t,n,r){return r<=0&&(e=t=n=NaN),new XHe(e,t,n,r)}function YHe(e,t,n,r){return 1===arguments.length?function(e){return e instanceof IHe||(e=GHe(e)),e?new XHe((e=e.rgb()).r,e.g,e.b,e.opacity):new XHe}(e):new XHe(e,t,n,null==r?1:r)}function XHe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function JHe(){return"#".concat(eGe(this.r)).concat(eGe(this.g)).concat(eGe(this.b))}function $He(){const e=ZHe(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(QHe(this.r),", ").concat(QHe(this.g),", ").concat(QHe(this.b)).concat(1===e?")":", ".concat(e,")"))}function ZHe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function QHe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eGe(e){return((e=QHe(e))<16?"0":"")+e.toString(16)}function tGe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rGe(e,t,n,r)}function nGe(e){if(e instanceof rGe)return new rGe(e.h,e.s,e.l,e.opacity);if(e instanceof IHe||(e=GHe(e)),!e)return new rGe;if(e instanceof rGe)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new rGe(a,s,c,e.opacity)}function rGe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function oGe(e){return(e=(e||0)%360)<0?e+360:e}function iGe(e){return Math.max(0,Math.min(1,e||0))}function aGe(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function sGe(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}THe(IHe,GHe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WHe,formatHex:WHe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return nGe(this).formatHsl()},formatRgb:HHe,toString:HHe}),THe(XHe,YHe,NHe(IHe,{brighter(e){return e=null==e?OHe:Math.pow(OHe,e),new XHe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?AHe:Math.pow(AHe,e),new XHe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new XHe(QHe(this.r),QHe(this.g),QHe(this.b),ZHe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JHe,formatHex:JHe,formatHex8:function(){return"#".concat(eGe(this.r)).concat(eGe(this.g)).concat(eGe(this.b)).concat(eGe(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:$He,toString:$He})),THe(rGe,(function(e,t,n,r){return 1===arguments.length?nGe(e):new rGe(e,t,n,null==r?1:r)}),NHe(IHe,{brighter(e){return e=null==e?OHe:Math.pow(OHe,e),new rGe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?AHe:Math.pow(AHe,e),new rGe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new XHe(aGe(e>=240?e-240:e+120,o,r),aGe(e,o,r),aGe(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new rGe(oGe(this.h),iGe(this.s),iGe(this.l),ZHe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ZHe(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(oGe(this.h),", ").concat(100*iGe(this.s),"%, ").concat(100*iGe(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const cGe=e=>()=>e;function lGe(e,t){return function(n){return e+n*t}}function uGe(e){return 1===(e=+e)?dGe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):cGe(isNaN(t)?n:t)}}function dGe(e,t){var n=t-e;return n?lGe(e,n):cGe(isNaN(e)?t:e)}const hGe=function e(t){var n=uGe(t);function r(e,t){var r=n((e=YHe(e)).r,(t=YHe(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=dGe(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function pGe(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=YHe(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}pGe((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return sGe((n-r/t)*t,a,o,i,s)}})),pGe((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return sGe((n-r/t)*t,o,i,a,s)}}));function fGe(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=kGe(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function mGe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gGe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yGe(e,t){var n,r={},o={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=kGe(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var vGe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bGe=new RegExp(vGe.source,"g");function xGe(e,t){var n,r,o,i=vGe.lastIndex=bGe.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=vGe.exec(e))&&(r=bGe.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:gGe(n,r)})),i=bGe.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})}function wGe(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function kGe(e,t){var n,r=typeof t;return null==t||"boolean"===r?cGe(t):("number"===r?gGe:"string"===r?(n=GHe(t))?(t=n,hGe):xGe:t instanceof GHe?hGe:t instanceof Date?mGe:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?wGe:Array.isArray(t)?fGe:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?yGe:gGe)(e,t)}function SGe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function CGe(e){return+e}var EGe=[0,1];function _Ge(e){return e}function TGe(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function NGe(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=TGe(o,r),i=n(a,i)):(r=TGe(r,o),i=n(i,a)),function(e){return i(r(e))}}function IGe(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=TGe(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=_He(e,t,1,r)-1;return i[n](o[n](t))}}function AGe(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function OGe(){var e,t,n,r,o,i,a=EGe,s=EGe,c=kGe,l=_Ge;function u(){var e=Math.min(a.length,s.length);return l!==_Ge&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?IGe:NGe,o=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,c)))(e(l(t)))}return d.invert=function(n){return l(t((i||(i=r(s,a.map(e),gGe)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,CGe),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=SGe,u()},d.clamp=function(e){return arguments.length?(l=!!e||_Ge,u()):l!==_Ge},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function RGe(){return OGe()(_Ge,_Ge)}var MGe,jGe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function PGe(e){if(!(t=jGe.exec(e)))throw new Error("invalid format: "+e);var t;return new DGe({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function DGe(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function LGe(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function FGe(e){return(e=LGe(Math.abs(e)))?e[1]:NaN}function BGe(e,t){var n=LGe(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}PGe.prototype=DGe.prototype,DGe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const zGe={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BGe(100*e,t),r:BGe,s:function(e,t){var n=LGe(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(MGe=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+LGe(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UGe(e){return e}var VGe,WGe,HGe,GGe=Array.prototype.map,KGe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function qGe(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?UGe:(t=GGe.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],c=0;o>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),i.push(e.substring(o-=s,o+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?UGe:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(GGe.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=PGe(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):zGe[v]||(void 0===g&&(g=12),y=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?i:/[%p]/.test(v)?c:"",w=zGe[v],k=/[defgprs%]/.test(v);function S(e){var o,i,c,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==d&&(C=!1),h=(C?"("===d?d:l:"-"===d||"("===d?"":d)+h,S=("s"===v?KGe[8+MGe/3]:"")+S+(C&&"("===d?")":""),k)for(o=-1,i=e.length;++o<i;)if(48>(c=e.charCodeAt(o))||c>57){S=(46===c?a+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}m&&!p&&(e=r(e,1/0));var E=h.length+e.length+S.length,_=E<f?new Array(f-E+1).join(t):"";switch(m&&p&&(e=r(_+e,_.length?f-S.length:1/0),_=""),n){case"<":e=h+e+S+_;break;case"=":e=h+_+e+S;break;case"^":e=_.slice(0,E=_.length>>1)+h+e+S+_.slice(E);break;default:e=_+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=PGe(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(FGe(t)/3))),o=Math.pow(10,-r),i=KGe[8+r/3];return function(e){return n(o*e)+i}}}}function YGe(e,t,n,r){var o,i=vHe(e,t,n);switch((r=PGe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(FGe(t)/3)))-FGe(Math.abs(e)))}(i,a))||(r.precision=o),HGe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,FGe(t)-FGe(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-FGe(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return WGe(r)}function XGe(e){var t=e.domain;return e.ticks=function(e){var n=t();return gHe(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return YGe(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,c=i[a],l=i[s],u=10;for(l<c&&(o=c,c=l,l=o,o=a,a=s,s=o);u-- >0;){if((o=yHe(c,l,n))===r)return i[a]=c,i[s]=l,t(i);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o}r=o}return e},e}function JGe(){var e=RGe();return e.copy=function(){return AGe(e,JGe())},yWe.apply(e,arguments),XGe(e)}function $Ge(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,CGe),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return $Ge(e).unknown(t)},e=arguments.length?Array.from(e,CGe):[0,1],XGe(n)}function ZGe(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function QGe(e){return Math.log(e)}function eKe(e){return Math.exp(e)}function tKe(e){return-Math.log(-e)}function nKe(e){return-Math.exp(-e)}function rKe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oKe(e){return(t,n)=>-e(-t,n)}function iKe(e){const t=e(QGe,eKe),n=t.domain;let r,o,i=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),o=function(e){return 10===e?rKe:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=oKe(r),o=oKe(o),e(tKe,nKe)):e(QGe,eKe),t}return t.base=function(e){return arguments.length?(i=+e,a()):i},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const c=s<a;c&&([a,s]=[s,a]);let l,u,d=r(a),h=r(s);const p=null==e?10:+e;let f=[];if(!(i%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(l=1;l<i;++l)if(u=d<0?l/o(-d):l*o(d),!(u<a)){if(u>s)break;f.push(u)}}else for(;d<=h;++d)for(l=i-1;l>=1;--l)if(u=d>0?l/o(-d):l*o(d),!(u<a)){if(u>s)break;f.push(u)}2*f.length<p&&(f=gHe(a,s,p))}else f=gHe(d,h,Math.min(h-d,p)).map(o);return c?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=PGe(n)).precision||(n.trim=!0),n=WGe(n)),e===1/0)return n;const a=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/o(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=a?n(e):""}},t.nice=()=>n(ZGe(n(),{floor:e=>o(Math.floor(r(e))),ceil:e=>o(Math.ceil(r(e)))})),t}function aKe(){const e=iKe(OGe()).domain([1,10]);return e.copy=()=>AGe(e,aKe()).base(e.base()),yWe.apply(e,arguments),e}function sKe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cKe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lKe(e){var t=1,n=e(sKe(t),cKe(t));return n.constant=function(n){return arguments.length?e(sKe(t=+n),cKe(t)):t},XGe(n)}function uKe(){var e=lKe(OGe());return e.copy=function(){return AGe(e,uKe()).constant(e.constant())},yWe.apply(e,arguments)}function dKe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hKe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pKe(e){return e<0?-e*e:e*e}function fKe(e){var t=e(_Ge,_Ge),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(_Ge,_Ge):.5===n?e(hKe,pKe):e(dKe(n),dKe(1/n)):n},XGe(t)}function mKe(){var e=fKe(OGe());return e.copy=function(){return AGe(e,mKe()).exponent(e.exponent())},yWe.apply(e,arguments),e}function gKe(){return mKe.apply(null,arguments).exponent(.5)}function yKe(e){return Math.sign(e)*e*e}function vKe(){var e,t=RGe(),n=[0,1],r=!1;function o(n){var o=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(o)?e:r?Math.round(o):o}return o.invert=function(e){return t.invert(yKe(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,CGe)).map(yKe)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return vKe(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},yWe.apply(o,arguments),XGe(o)}function bKe(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function xKe(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function wKe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bHe;if(e===bHe)return kKe;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function kKe(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function SKe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=void 0===o?kKe:wKe(o);r>n;){if(r-n>600){const i=r-n+1,a=t-n+1,s=Math.log(i),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(i-c)/i)*(a-i/2<0?-1:1);SKe(e,t,Math.max(n,Math.floor(t-a*c/i+l)),Math.min(r,Math.floor(t+(i-a)*c/i+l)),o)}const i=e[t];let a=n,s=r;for(CKe(e,n,t),o(e[r],i)>0&&CKe(e,n,r);a<s;){for(CKe(e,a,s),++a,--s;o(e[a],i)<0;)++a;for(;o(e[s],i)>0;)--s}0===o(e[n],i)?CKe(e,n,s):(++s,CKe(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function CKe(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EKe(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return xKe(e);if(t>=1)return bKe(e);var r,o=(r-1)*t,i=Math.floor(o),a=bKe(SKe(e,i).subarray(0,i+1));return a+(xKe(e.subarray(i+1))-a)*(o-i)}}function _Ke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:SHe;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(+n(e[i+1],i+1,e)-a)*(o-i)}}function TKe(){var e,t=[],n=[],r=[];function o(){var e=0,o=Math.max(1,n.length);for(r=new Array(o-1);++e<o;)r[e-1]=_Ke(t,e/o);return i}function i(t){return null==t||isNaN(t=+t)?e:n[_He(r,t)]}return i.invertExtent=function(e){var o=n.indexOf(e);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(bHe),o()},i.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return TKe().domain(t).range(n).unknown(e)},yWe.apply(i,arguments)}function NKe(){var e,t=0,n=1,r=1,o=[.5],i=[0,1];function a(t){return null!=t&&t<=t?i[_He(o,t,0,r)]:e}function s(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},a.invertExtent=function(e){var a=i.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,o[0]]:a>=r?[o[r-1],n]:[o[a-1],o[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return o.slice()},a.copy=function(){return NKe().domain([t,n]).range(i).unknown(e)},yWe.apply(XGe(a),arguments)}function IKe(){var e,t=[.5],n=[0,1],r=1;function o(o){return null!=o&&o<=o?n[_He(t,o,0,r)]:e}return o.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return IKe().domain(t).range(n).unknown(e)},yWe.apply(o,arguments)}VGe=qGe({thousands:",",grouping:[3],currency:["$",""]}),WGe=VGe.format,HGe=VGe.formatPrefix;const AKe=1e3,OKe=6e4,RKe=36e5,MKe=864e5,jKe=6048e5,PKe=2592e6,DKe=31536e6,LKe=new Date,FKe=new Date;function BKe(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,i)=>{const a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return a;let s;do{a.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return a},o.filter=n=>BKe((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(o.count=(t,r)=>(LKe.setTime(+t),FKe.setTime(+r),e(LKe),e(FKe),Math.floor(n(LKe,FKe))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?t=>r(t)%e===0:t=>o.count(0,t)%e===0):o:null)),o}const zKe=BKe((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));zKe.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?BKe((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):zKe:null);zKe.range;const UKe=BKe((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*AKe)}),((e,t)=>(t-e)/AKe),(e=>e.getUTCSeconds())),VKe=(UKe.range,BKe((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*AKe)}),((e,t)=>{e.setTime(+e+t*OKe)}),((e,t)=>(t-e)/OKe),(e=>e.getMinutes()))),WKe=(VKe.range,BKe((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*OKe)}),((e,t)=>(t-e)/OKe),(e=>e.getUTCMinutes()))),HKe=(WKe.range,BKe((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*AKe-e.getMinutes()*OKe)}),((e,t)=>{e.setTime(+e+t*RKe)}),((e,t)=>(t-e)/RKe),(e=>e.getHours()))),GKe=(HKe.range,BKe((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*RKe)}),((e,t)=>(t-e)/RKe),(e=>e.getUTCHours()))),KKe=(GKe.range,BKe((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OKe)/MKe),(e=>e.getDate()-1))),qKe=(KKe.range,BKe((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/MKe),(e=>e.getUTCDate()-1))),YKe=(qKe.range,BKe((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/MKe),(e=>Math.floor(e/MKe))));YKe.range;function XKe(e){return BKe((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OKe)/jKe))}const JKe=XKe(0),$Ke=XKe(1),ZKe=XKe(2),QKe=XKe(3),eqe=XKe(4),tqe=XKe(5),nqe=XKe(6);JKe.range,$Ke.range,ZKe.range,QKe.range,eqe.range,tqe.range,nqe.range;function rqe(e){return BKe((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/jKe))}const oqe=rqe(0),iqe=rqe(1),aqe=rqe(2),sqe=rqe(3),cqe=rqe(4),lqe=rqe(5),uqe=rqe(6),dqe=(oqe.range,iqe.range,aqe.range,sqe.range,cqe.range,lqe.range,uqe.range,BKe((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),hqe=(dqe.range,BKe((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),pqe=(hqe.range,BKe((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));pqe.every=e=>isFinite(e=Math.floor(e))&&e>0?BKe((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;pqe.range;const fqe=BKe((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));fqe.every=e=>isFinite(e=Math.floor(e))&&e>0?BKe((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;fqe.range;function mqe(e,t,n,r,o,i){const a=[[UKe,1,AKe],[UKe,5,5e3],[UKe,15,15e3],[UKe,30,3e4],[i,1,OKe],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,RKe],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,MKe],[r,2,1728e5],[n,1,jKe],[t,1,PKe],[t,3,7776e6],[e,1,DKe]];function s(t,n,r){const o=Math.abs(n-t)/r,i=wHe((e=>{let[,,t]=e;return t})).right(a,o);if(i===a.length)return e.every(vHe(t/DKe,n/DKe,r));if(0===i)return zKe.every(Math.max(vHe(t,n,r),1));const[s,c]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(c)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const o=n&&"function"===typeof n.range?n:s(e,t,n),i=o?o.range(e,+t+1):[];return r?i.reverse():i},s]}const[gqe,yqe]=mqe(fqe,hqe,oqe,YKe,GKe,WKe),[vqe,bqe]=mqe(pqe,dqe,JKe,KKe,HKe,VKe);function xqe(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wqe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kqe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Sqe,Cqe,Eqe,_qe={"-":"",_:" ",0:"0"},Tqe=/^\s*\d+/,Nqe=/^%/,Iqe=/[\\^$*+?|[\]().{}]/g;function Aqe(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Oqe(e){return e.replace(Iqe,"\\$&")}function Rqe(e){return new RegExp("^(?:"+e.map(Oqe).join("|")+")","i")}function Mqe(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function jqe(e,t,n){var r=Tqe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Pqe(e,t,n){var r=Tqe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Dqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Lqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Fqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Bqe(e,t,n){var r=Tqe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Uqe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vqe(e,t,n){var r=Tqe.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Wqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Hqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Gqe(e,t,n){var r=Tqe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Kqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Yqe(e,t,n){var r=Tqe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Xqe(e,t,n){var r=Tqe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Jqe(e,t,n){var r=Tqe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $qe(e,t,n){var r=Nqe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Zqe(e,t,n){var r=Tqe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Qqe(e,t,n){var r=Tqe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eYe(e,t){return Aqe(e.getDate(),t,2)}function tYe(e,t){return Aqe(e.getHours(),t,2)}function nYe(e,t){return Aqe(e.getHours()%12||12,t,2)}function rYe(e,t){return Aqe(1+KKe.count(pqe(e),e),t,3)}function oYe(e,t){return Aqe(e.getMilliseconds(),t,3)}function iYe(e,t){return oYe(e,t)+"000"}function aYe(e,t){return Aqe(e.getMonth()+1,t,2)}function sYe(e,t){return Aqe(e.getMinutes(),t,2)}function cYe(e,t){return Aqe(e.getSeconds(),t,2)}function lYe(e){var t=e.getDay();return 0===t?7:t}function uYe(e,t){return Aqe(JKe.count(pqe(e)-1,e),t,2)}function dYe(e){var t=e.getDay();return t>=4||0===t?eqe(e):eqe.ceil(e)}function hYe(e,t){return e=dYe(e),Aqe(eqe.count(pqe(e),e)+(4===pqe(e).getDay()),t,2)}function pYe(e){return e.getDay()}function fYe(e,t){return Aqe($Ke.count(pqe(e)-1,e),t,2)}function mYe(e,t){return Aqe(e.getFullYear()%100,t,2)}function gYe(e,t){return Aqe((e=dYe(e)).getFullYear()%100,t,2)}function yYe(e,t){return Aqe(e.getFullYear()%1e4,t,4)}function vYe(e,t){var n=e.getDay();return Aqe((e=n>=4||0===n?eqe(e):eqe.ceil(e)).getFullYear()%1e4,t,4)}function bYe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Aqe(t/60|0,"0",2)+Aqe(t%60,"0",2)}function xYe(e,t){return Aqe(e.getUTCDate(),t,2)}function wYe(e,t){return Aqe(e.getUTCHours(),t,2)}function kYe(e,t){return Aqe(e.getUTCHours()%12||12,t,2)}function SYe(e,t){return Aqe(1+qKe.count(fqe(e),e),t,3)}function CYe(e,t){return Aqe(e.getUTCMilliseconds(),t,3)}function EYe(e,t){return CYe(e,t)+"000"}function _Ye(e,t){return Aqe(e.getUTCMonth()+1,t,2)}function TYe(e,t){return Aqe(e.getUTCMinutes(),t,2)}function NYe(e,t){return Aqe(e.getUTCSeconds(),t,2)}function IYe(e){var t=e.getUTCDay();return 0===t?7:t}function AYe(e,t){return Aqe(oqe.count(fqe(e)-1,e),t,2)}function OYe(e){var t=e.getUTCDay();return t>=4||0===t?cqe(e):cqe.ceil(e)}function RYe(e,t){return e=OYe(e),Aqe(cqe.count(fqe(e),e)+(4===fqe(e).getUTCDay()),t,2)}function MYe(e){return e.getUTCDay()}function jYe(e,t){return Aqe(iqe.count(fqe(e)-1,e),t,2)}function PYe(e,t){return Aqe(e.getUTCFullYear()%100,t,2)}function DYe(e,t){return Aqe((e=OYe(e)).getUTCFullYear()%100,t,2)}function LYe(e,t){return Aqe(e.getUTCFullYear()%1e4,t,4)}function FYe(e,t){var n=e.getUTCDay();return Aqe((e=n>=4||0===n?cqe(e):cqe.ceil(e)).getUTCFullYear()%1e4,t,4)}function BYe(){return"+0000"}function zYe(){return"%"}function UYe(e){return+e}function VYe(e){return Math.floor(+e/1e3)}function WYe(e){return new Date(e)}function HYe(e){return e instanceof Date?+e:+new Date(+e)}function GYe(e,t,n,r,o,i,a,s,c,l){var u=RGe(),d=u.invert,h=u.domain,p=l(".%L"),f=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),b=l("%B"),x=l("%Y");function w(e){return(c(e)<e?p:s(e)<e?f:a(e)<e?m:i(e)<e?g:r(e)<e?o(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,HYe)):h().map(WYe)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:l(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(ZGe(n,e)):u},u.copy=function(){return AGe(u,GYe(e,t,n,r,o,i,a,s,c,l))},u}function KYe(){return yWe.apply(GYe(vqe,bqe,pqe,dqe,JKe,KKe,HKe,VKe,UKe,Cqe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qYe(){return yWe.apply(GYe(gqe,yqe,fqe,hqe,oqe,qKe,GKe,WKe,UKe,Eqe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function YYe(){var e,t,n,r,o,i=0,a=1,s=_Ge,c=!1;function l(t){return null==t||isNaN(t=+t)?o:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),l):[s(0),s(1)]}}return l.domain=function(o){return arguments.length?([i,a]=o,e=r(i=+i),t=r(a=+a),n=e===t?0:1/(t-e),l):[i,a]},l.clamp=function(e){return arguments.length?(c=!!e,l):c},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=u(kGe),l.rangeRound=u(SGe),l.unknown=function(e){return arguments.length?(o=e,l):o},function(o){return r=o,e=o(i),t=o(a),n=e===t?0:1/(t-e),l}}function XYe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JYe(){var e=XGe(YYe()(_Ge));return e.copy=function(){return XYe(e,JYe())},vWe.apply(e,arguments)}function $Ye(){var e=iKe(YYe()).domain([1,10]);return e.copy=function(){return XYe(e,$Ye()).base(e.base())},vWe.apply(e,arguments)}function ZYe(){var e=lKe(YYe());return e.copy=function(){return XYe(e,ZYe()).constant(e.constant())},vWe.apply(e,arguments)}function QYe(){var e=fKe(YYe());return e.copy=function(){return XYe(e,QYe()).exponent(e.exponent())},vWe.apply(e,arguments)}function eXe(){return QYe.apply(null,arguments).exponent(.5)}function tXe(){var e=[],t=_Ge;function n(n){if(null!=n&&!isNaN(n=+n))return t((_He(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(bHe),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>EKe(e,r/t)))},n.copy=function(){return tXe(t).domain(e)},vWe.apply(n,arguments)}function nXe(){var e,t,n,r,o,i,a,s=0,c=.5,l=1,u=1,d=_Ge,h=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:o),d(h?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,o;return arguments.length?([n,r,o]=t,d=function(e,t){void 0===t&&(t=e,e=kGe);for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,o]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){return arguments.length?([s,c,l]=a,e=i(s=+s),t=i(c=+c),n=i(l=+l),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,c,l]},p.clamp=function(e){return arguments.length?(h=!!e,p):h},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=f(kGe),p.rangeRound=f(SGe),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return i=a,e=a(s),t=a(c),n=a(l),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function rXe(){var e=XGe(nXe()(_Ge));return e.copy=function(){return XYe(e,rXe())},vWe.apply(e,arguments)}function oXe(){var e=iKe(nXe()).domain([.1,1,10]);return e.copy=function(){return XYe(e,oXe()).base(e.base())},vWe.apply(e,arguments)}function iXe(){var e=lKe(nXe());return e.copy=function(){return XYe(e,iXe()).constant(e.constant())},vWe.apply(e,arguments)}function aXe(){var e=fKe(nXe());return e.copy=function(){return XYe(e,aXe()).exponent(e.exponent())},vWe.apply(e,arguments)}function sXe(){return aXe.apply(null,arguments).exponent(.5)}function cXe(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Sqe=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Rqe(o),u=Mqe(o),d=Rqe(i),h=Mqe(i),p=Rqe(a),f=Mqe(a),m=Rqe(s),g=Mqe(s),y=Rqe(c),v=Mqe(c),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:eYe,e:eYe,f:iYe,g:gYe,G:vYe,H:tYe,I:nYe,j:rYe,L:oYe,m:aYe,M:sYe,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:UYe,s:VYe,S:cYe,u:lYe,U:uYe,V:hYe,w:pYe,W:fYe,x:null,X:null,y:mYe,Y:yYe,Z:bYe,"%":zYe},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:xYe,e:xYe,f:EYe,g:DYe,G:FYe,H:wYe,I:kYe,j:SYe,L:CYe,m:_Ye,M:TYe,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:UYe,s:VYe,S:NYe,u:IYe,U:AYe,V:RYe,w:MYe,W:jYe,x:null,X:null,y:PYe,Y:LYe,Z:BYe,"%":zYe},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return C(e,t,n,r)},d:Hqe,e:Hqe,f:Jqe,g:zqe,G:Bqe,H:Kqe,I:Kqe,j:Gqe,L:Xqe,m:Wqe,M:qqe,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Vqe,Q:Zqe,s:Qqe,S:Yqe,u:Pqe,U:Dqe,V:Lqe,w:jqe,W:Fqe,x:function(e,t,r){return C(e,n,t,r)},X:function(e,t,n){return C(e,r,t,n)},y:zqe,Y:Bqe,Z:Uqe,"%":$qe};function k(e,t){return function(n){var r,o,i,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(o=_qe[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function S(e,t){return function(n){var r,o,i=kqe(1900,void 0,1);if(C(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=wqe(kqe(i.y,0,1))).getUTCDay(),r=o>4||0===o?iqe.ceil(r):iqe(r),r=qKe.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=xqe(kqe(i.y,0,1))).getDay(),r=o>4||0===o?$Ke.ceil(r):$Ke(r),r=KKe.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?wqe(kqe(i.y,0,1)).getUTCDay():xqe(kqe(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,wqe(i)):xqe(i)}}function C(e,t,n,r){for(var o,i,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=w[o in _qe?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),Cqe=Sqe.format,Sqe.parse,Eqe=Sqe.utcFormat,Sqe.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function lXe(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function uXe(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dXe(e,t){return e[t]}function hXe(e){const t=[];return t.key=e,t}var pXe=n(539),fXe=n.n(pXe),mXe=n(6745),gXe=n.n(mXe),yXe=n(3538),vXe=n.n(yXe),bXe=n(9853),xXe=n.n(bXe),wXe=n(8210),kXe=n.n(wXe);function SXe(e){return function(e){if(Array.isArray(e))return CXe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return CXe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CXe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CXe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EXe=function(e){return e},_Xe={"@@functional/placeholder":!0},TXe=function(e){return e===_Xe},NXe=function(e){return function t(){return 0===arguments.length||1===arguments.length&&TXe(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},IXe=function e(t,n){return 1===t?n:NXe((function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.filter((function(e){return e!==_Xe})).length;return a>=t?n.apply(void 0,o):e(t-a,NXe((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=o.map((function(e){return TXe(e)?t.shift():e}));return n.apply(void 0,SXe(i).concat(t))})))}))},AXe=function(e){return IXe(e.length,e)},OXe=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},RXe=AXe((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),MXe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return EXe;var r=t.reverse(),o=r[0],i=r.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),o.apply(void 0,arguments))}},jXe=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},PXe=function(e){var t=null,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t&&o.every((function(e,n){return e===t[n]}))?n:(t=o,n=e.apply(void 0,o))}};var DXe=AXe((function(e,t,n){var r=+e;return r+n*(+t-r)})),LXe=AXe((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),FXe=AXe((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const BXe={rangeStep:function(e,t,n){for(var r=new(kXe())(e),o=0,i=[];r.lt(t)&&o<1e5;)i.push(r.toNumber()),r=r.add(n),o++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(kXe())(e).abs().log(10).toNumber())+1},interpolateNumber:DXe,uninterpolateNumber:LXe,uninterpolateTruncation:FXe};function zXe(e){return function(e){if(Array.isArray(e))return WXe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||VXe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UXe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(w2e){o=!0,i=w2e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||VXe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VXe(e,t){if(e){if("string"===typeof e)return WXe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WXe(e,t):void 0}}function WXe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HXe(e){var t=UXe(e,2),n=t[0],r=t[1],o=n,i=r;return n>r&&(o=r,i=n),[o,i]}function GXe(e,t,n){if(e.lte(0))return new(kXe())(0);var r=BXe.getDigitCount(e.toNumber()),o=new(kXe())(10).pow(r),i=e.div(o),a=1!==r?.05:.1,s=new(kXe())(Math.ceil(i.div(a).toNumber())).add(n).mul(a).mul(o);return t?s:new(kXe())(Math.ceil(s))}function KXe(e,t,n){var r=1,o=new(kXe())(e);if(!o.isint()&&n){var i=Math.abs(e);i<1?(r=new(kXe())(10).pow(BXe.getDigitCount(e)-1),o=new(kXe())(Math.floor(o.div(r).toNumber())).mul(r)):i>1&&(o=new(kXe())(Math.floor(e)))}else 0===e?o=new(kXe())(Math.floor((t-1)/2)):n||(o=new(kXe())(Math.floor(e)));var a=Math.floor((t-1)/2),s=MXe(RXe((function(e){return o.add(new(kXe())(e-a).mul(r)).toNumber()})),OXe);return s(0,t)}function qXe(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(kXe())(0),tickMin:new(kXe())(0),tickMax:new(kXe())(0)};var i,a=GXe(new(kXe())(t).sub(e).div(n-1),r,o);i=e<=0&&t>=0?new(kXe())(0):(i=new(kXe())(e).add(t).div(2)).sub(new(kXe())(i).mod(a));var s=Math.ceil(i.sub(e).div(a).toNumber()),c=Math.ceil(new(kXe())(t).sub(i).div(a).toNumber()),l=s+c+1;return l>n?qXe(e,t,n,r,o+1):(l<n&&(c=t>0?c+(n-l):c,s=t>0?s:s+(n-l)),{step:a,tickMin:i.sub(new(kXe())(s).mul(a)),tickMax:i.add(new(kXe())(c).mul(a))})}var YXe=PXe((function(e){var t=UXe(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(o,2),s=UXe(HXe([n,r]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0){var u=l===1/0?[c].concat(zXe(OXe(0,o-1).map((function(){return 1/0})))):[].concat(zXe(OXe(0,o-1).map((function(){return-1/0}))),[l]);return n>r?jXe(u):u}if(c===l)return KXe(c,o,i);var d=qXe(c,l,a,i),h=d.step,p=d.tickMin,f=d.tickMax,m=BXe.rangeStep(p,f.add(new(kXe())(.1).mul(h)),h);return n>r?jXe(m):m})),XXe=(PXe((function(e){var t=UXe(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(o,2),s=UXe(HXe([n,r]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,r];if(c===l)return KXe(c,o,i);var u=GXe(new(kXe())(l).sub(c).div(a-1),i,0),d=MXe(RXe((function(e){return new(kXe())(c).add(new(kXe())(e).mul(u)).toNumber()})),OXe),h=d(0,a).filter((function(e){return e>=c&&e<=l}));return n>r?jXe(h):h})),PXe((function(e,t){var n=UXe(e,2),r=n[0],o=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=UXe(HXe([r,o]),2),s=a[0],c=a[1];if(s===-1/0||c===1/0)return[r,o];if(s===c)return[s];var l=Math.max(t,2),u=GXe(new(kXe())(c).sub(s).div(l-1),i,0),d=[].concat(zXe(BXe.rangeStep(new(kXe())(s),new(kXe())(c).sub(new(kXe())(.99).mul(u)),u)),[c]);return r>o?jXe(d):d}))),JXe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $Xe(){return $Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$Xe.apply(this,arguments)}function ZXe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return QXe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QXe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QXe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eJe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tJe(e){var t=e.offset,n=e.layout,r=e.width,o=e.dataKey,i=e.data,a=e.dataPointFormatter,s=e.xAxis,c=e.yAxis,l=eJe(e,JXe),u=yFe(l,!1);"x"===e.direction&&"number"!==s.type&&PFe(!1);var d=i.map((function(e){var i=a(e,o),l=i.x,d=i.y,h=i.value,p=i.errorVal;if(!p)return null;var f,m,g=[];if(Array.isArray(p)){var y=ZXe(p,2);f=y[0],m=y[1]}else f=m=p;if("vertical"===n){var v=s.scale,b=d+t,x=b+r,w=b-r,k=v(h-f),S=v(h+m);g.push({x1:S,y1:x,x2:S,y2:w}),g.push({x1:k,y1:b,x2:S,y2:b}),g.push({x1:k,y1:x,x2:k,y2:w})}else if("horizontal"===n){var C=c.scale,E=l+t,_=E-r,T=E+r,N=C(h-f),I=C(h+m);g.push({x1:_,y1:I,x2:T,y2:I}),g.push({x1:E,y1:N,x2:E,y2:I}),g.push({x1:_,y1:N,x2:T,y2:N})}return Z.createElement(WFe,$Xe({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},u),g.map((function(e){return Z.createElement("line",$Xe({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return Z.createElement(WFe,{className:"recharts-errorBars"},d)}function nJe(e){return nJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nJe(e)}function rJe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oJe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rJe(Object(n),!0).forEach((function(t){iJe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iJe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nJe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tJe.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},tJe.displayName="ErrorBar";var aJe=function(e){var t,n=e.children,r=e.formattedGraphicalItems,o=e.legendWidth,i=e.legendContent,a=pFe(n,sUe);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===i?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,o=r.sectors||r.data||[];return e.concat(o.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,o=n.name,i=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||i||"square",color:mJe(t),value:o||r,payload:t.props}})),oJe(oJe(oJe({},a.props),sUe.getWithHeight(a,o)),{},{payload:t,item:a})):null};function sJe(e){return sJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sJe(e)}function cJe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lJe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cJe(Object(n),!0).forEach((function(t){uJe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cJe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uJe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sJe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJe(e){return function(e){if(Array.isArray(e))return hJe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return hJe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hJe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hJe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pJe(e,t,n){return GLe()(e)||GLe()(t)?n:DLe(t)?ALe()(e,t,n):qLe()(t)?t(e):n}function fJe(e,t,n,r){var o=vXe()(e,(function(e){return pJe(e,t)}));if("number"===n){var i=o.filter((function(e){return PLe(e)||parseFloat(e)}));return i.length?[gXe()(i),fXe()(i)]:[1/0,-1/0]}return(r?o.filter((function(e){return!GLe()(e)})):o).map((function(e){return DLe(e)||e instanceof Date?e:""}))}var mJe=function(e){var t,n=e.type.displayName,r=e.props,o=r.stroke,i=r.fill;switch(n){case"Line":t=o;break;case"Area":case"Radar":t=o&&"none"!==o?o:i;break;default:t=i}return t},gJe=function(e,t,n,r,o){var i=hFe(t.props.children,tJe).filter((function(e){return function(e,t,n){return!!GLe()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,o,e.props.direction)}));if(i&&i.length){var a=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=pJe(t,n,0),o=Array.isArray(r)?[gXe()(r),fXe()(r)]:[r,r],i=a.reduce((function(e,n){var r=pJe(t,n,0),i=o[0]-Math.abs(Array.isArray(r)?r[0]:r),a=o[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},yJe=function(e,t,n,r,o){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&gJe(e,t,i,r)||fJe(e,i,n,o)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},vJe=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},bJe=function(e,t,n){if(!e)return null;var r=e.scale,o=e.duplicateDomain,i=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,c=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return c="angleAxis"===e.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*MLe(a[0]-a[1])*c:c,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=o?o.indexOf(e):e;return{coordinate:r(t)+c,value:e,offset:c}})).filter((function(e){return!NLe()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+c,value:e,index:t,offset:c}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+c,value:e,offset:c}})):r.domain().map((function(e,t){return{coordinate:r(e)+c,value:o?o[e]:e,index:t,offset:c}}))},xJe=new WeakMap,wJe=function(e,t){if("function"!==typeof t)return e;xJe.has(e)||xJe.set(e,new WeakMap);var n=xJe.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},kJe=1e-4,SJe={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0,a=0;a<t;++a){var s=NLe()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,o,i=0,a=e[0].length;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}cXe(e,t)}},none:cXe,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],i=o.length;r<i;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;o[r][1]+=o[r][0]=-s/2}cXe(e,t)}},wiggle:function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,i=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<o;++s){for(var u=e[t[s]],d=u[a][1]||0,h=(d-(u[a-1][1]||0))/2,p=0;p<s;++p){var f=e[t[p]];h+=(f[a][1]||0)-(f[a-1][1]||0)}c+=d,l+=h*d}n[a-1][1]+=n[a-1][0]=i,c&&(i-=l/c)}n[a-1][1]+=n[a-1][0]=i,cXe(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0;i<t;++i){var a=NLe()(e[i][n][1])?e[i][n][0]:e[i][n][1];a>=0?(e[i][n][0]=o,e[i][n][1]=o+a,o=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},CJe=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),o=SJe[n],i=function(){var e=rze([]),t=uXe,n=cXe,r=dXe;function o(o){var i,a,s=Array.from(e.apply(this,arguments),hXe),c=s.length,l=-1;for(const e of o)for(i=0,++l;i<c;++i)(s[i][l]=[0,+r(e,s[i].key,l,o)]).data=e;for(i=0,a=lXe(t(s));i<c;++i)s[a[i]].index=i;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"===typeof t?t:rze(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"===typeof e?e:rze(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?uXe:"function"===typeof e?e:rze(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?cXe:e,o):n},o}().keys(r).value((function(e,t){return+pJe(e,t,0)})).order(uXe).offset(o);return i(e)};var EJe=function(e){var t=e.axis,n=e.ticks,r=e.offset,o=e.bandSize,i=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=pJe(i,t.dataKey,t.domain[a]);return GLe()(s)?null:t.scale(s)-o/2+r},_Je=function(e,t,n){return Object.keys(e).reduce((function(r,o){var i=e[o].stackedData.reduce((function(e,r){var o=r.slice(t,n+1).reduce((function(e,t){return[gXe()(t.concat([e[0]]).filter(PLe)),fXe()(t.concat([e[1]]).filter(PLe))]}),[1/0,-1/0]);return[Math.min(e[0],o[0]),Math.max(e[1],o[1])]}),[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},TJe=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NJe=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IJe=function(e,t,n){if(qLe()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(PLe(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(TJe.test(e[0])){var o=+TJe.exec(e[0])[1];r[0]=t[0]-o}else qLe()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(PLe(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(NJe.test(e[1])){var i=+NJe.exec(e[1])[1];r[1]=t[1]+i}else qLe()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},AJe=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var o=RFe()(t,(function(e){return e.coordinate})),i=1/0,a=1,s=o.length;a<s;a++){var c=o[a],l=o[a-1];i=Math.min((c.coordinate||0)-(l.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},OJe=function(e,t,n){return e&&e.length?xXe()(e,ALe()(n,"type.defaultProps.domain"))?t:e:t},RJe=function(e,t){var n=e.props,r=n.dataKey,o=n.name,i=n.unit,a=n.formatter,s=n.tooltipType,c=n.chartType,l=n.hide;return lJe(lJe({},yFe(e,!1)),{},{dataKey:r,unit:i,formatter:a,name:o||r,color:mJe(e),value:pJe(t,r),type:s,payload:t,chartType:c,hide:l})};function MJe(e){return MJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MJe(e)}function jJe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PJe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jJe(Object(n),!0).forEach((function(t){DJe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jJe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DJe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=MJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MJe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LJe=["Webkit","Moz","O","ms"];function FJe(e){return FJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FJe(e)}function BJe(){return BJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BJe.apply(this,arguments)}function zJe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UJe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zJe(Object(n),!0).forEach((function(t){YJe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zJe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VJe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XJe(r.key),r)}}function WJe(e,t,n){return t=GJe(t),function(e,t){if(t&&("object"===FJe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KJe(e)}(e,HJe()?Reflect.construct(t,n||[],GJe(e).constructor):t.apply(e,n))}function HJe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HJe=function(){return!!e})()}function GJe(e){return GJe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GJe(e)}function KJe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qJe(e,t){return qJe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qJe(e,t)}function YJe(e,t,n){return(t=XJe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XJe(e){var t=function(e,t){if("object"!=FJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FJe(t)?t:String(t)}var JJe=function(e){return e.changedTouches&&!!e.changedTouches.length},$Je=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YJe(KJe(n=WJe(this,t,[e])),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),YJe(KJe(n),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),YJe(KJe(n),"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,o=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:o})})),n.detachDragEndListener()})),YJe(KJe(n),"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),YJe(KJe(n),"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),YJe(KJe(n),"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),YJe(KJe(n),"handleSlideDragStart",(function(e){var t=JJe(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(KJe(n),"startX"),endX:n.handleTravellerDragStart.bind(KJe(n),"endX")},n.state={},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qJe(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,o=this.state.scaleValues,i=this.props,a=i.gap,s=i.data.length-1,c=Math.min(n,r),l=Math.max(n,r),u=t.getIndexInRange(o,c),d=t.getIndexInRange(o,l);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,o=t.dataKey,i=pJe(n[e],o,e);return qLe()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,o=t.endX,i=this.props,a=i.x,s=i.width,c=i.travellerWidth,l=i.startIndex,u=i.endIndex,d=i.onChange,h=e.pageX-n;h>0?h=Math.min(h,a+s-c-o,a+s-c-r):h<0&&(h=Math.max(h,a-r,a-o));var p=this.getIndex({startX:r+h,endX:o+h});p.startIndex===l&&p.endIndex===u||!d||d(p),this.setState({startX:r+h,endX:o+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=JJe(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,o=t.endX,i=t.startX,a=this.state[r],s=this.props,c=s.x,l=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,p=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,c+l-u-a):m<0&&(m=Math.max(m,c-a)),f[r]=a+m;var g=this.getIndex(f),y=g.startIndex,v=g.endIndex;this.setState(YJe(YJe({},r,a+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=p.length-1;return"startX"===r&&(o>i?y%h===0:v%h===0)||o<i&&v===e||"endX"===r&&(o>i?v%h===0:y%h===0)||o>i&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,o=r.scaleValues,i=r.startX,a=r.endX,s=this.state[t],c=o.indexOf(s);if(-1!==c){var l=c+e;if(!(-1===l||l>=o.length)){var u=o[l];"startX"===t&&u>=a||"endX"===t&&u<=i||this.setState(YJe({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=e.fill,a=e.stroke;return Z.createElement("rect",{stroke:a,fill:i,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=e.data,a=e.children,s=e.padding,c=Z.Children.only(a);return c?Z.cloneElement(c,{x:t,y:n,width:r,height:o,margin:s,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,n){var r=this,o=this.props,i=o.y,a=o.travellerWidth,s=o.height,c=o.traveller,l=o.ariaLabel,u=o.data,d=o.startIndex,h=o.endIndex,p=Math.max(e,this.props.x),f=UJe(UJe({},yFe(this.props,!1)),{},{x:p,y:i,width:a,height:s}),m=l||"Min value: ".concat(u[d].name,", Max value: ").concat(u[h].name);return Z.createElement(WFe,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),r.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){r.setState({isTravellerFocused:!0})},onBlur:function(){r.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(c,f))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,i=n.stroke,a=n.travellerWidth,s=Math.min(e,t)+a,c=Math.max(Math.abs(t-e)-a,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:s,y:r,width:c,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,i=e.travellerWidth,a=e.stroke,s=this.state,c=s.startX,l=s.endX,u={pointerEvents:"none",fill:a};return Z.createElement(WFe,{className:"recharts-brush-texts"},Z.createElement(dHe,BJe({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,l)-5,y:r+o/2},u),this.getTextOfTick(t)),Z.createElement(dHe,BJe({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,l)+i+5,y:r+o/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,i=e.y,a=e.width,s=e.height,c=e.alwaysShowText,l=this.state,u=l.startX,d=l.endX,h=l.isTextActive,p=l.isSlideMoving,f=l.isTravellerMoving,m=l.isTravellerFocused;if(!t||!t.length||!PLe(o)||!PLe(i)||!PLe(a)||!PLe(s)||a<=0||s<=0)return null;var g=wLe("recharts-brush",n),y=1===Z.Children.count(r),v=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=LJe.reduce((function(e,r){return PJe(PJe({},e),{},DJe({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return Z.createElement(WFe,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,d),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(d,"endX"),(h||p||f||m||c)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.stroke,a=Math.floor(n+o/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:t,y:n,width:r,height:o,fill:i,stroke:"none"}),Z.createElement("line",{x1:t+1,y1:a,x2:t+r-1,y2:a,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:t+1,y1:a+2,x2:t+r-1,y2:a+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return Z.isValidElement(e)?Z.cloneElement(e,n):qLe()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,o=e.x,i=e.travellerWidth,a=e.updateId,s=e.startIndex,c=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return UJe({prevData:n,prevTravellerWidth:i,prevUpdateId:a,prevX:o,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,o=e.x,i=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=NWe().domain(AFe()(0,s)).range([o,o+i-a]),l=c.domain().map((function(e){return c(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(r),scale:c,scaleValues:l}}({data:n,width:r,x:o,travellerWidth:i,startIndex:s,endIndex:c}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||o!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([o,o+r-i]);var l=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:i,prevUpdateId:a,prevX:o,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:l}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var o=Math.floor((n+r)/2);e[o]>t?r=o:n=o}return t>=e[r]?r:n}}],r&&VJe(n.prototype,r),o&&VJe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.PureComponent);function ZJe(e){return ZJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZJe(e)}function QJe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function e$e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QJe(Object(n),!0).forEach((function(t){t$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QJe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function t$e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ZJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZJe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}YJe($Je,"displayName","Brush"),YJe($Je,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n$e=Math.PI/180,r$e=function(e){return 180*e/Math.PI},o$e=function(e,t,n,r){return{x:e+Math.cos(-n$e*r)*n,y:t+Math.sin(-n$e*r)*n}},i$e=function(e,t){var n=e.x,r=e.y,o=t.cx,i=t.cy,a=function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(r-i,2))}({x:n,y:r},{x:o,y:i});if(a<=0)return{radius:a};var s=(n-o)/a,c=Math.acos(s);return r>i&&(c=2*Math.PI-c),{radius:a,angle:r$e(c),angleInRadian:c}},a$e=function(e,t){var n=t.startAngle,r=t.endAngle,o=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(o,i)},s$e=function(e,t){var n=e.x,r=e.y,o=i$e({x:n,y:r},t),i=o.radius,a=o.angle,s=t.innerRadius,c=t.outerRadius;if(i<s||i>c)return!1;if(0===i)return!0;var l,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),o=Math.floor(n/360),i=Math.min(r,o);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=u.startAngle,h=u.endAngle,p=a;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;l=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;l=p>=h&&p<=d}return l?e$e(e$e({},t),{},{radius:i,angle:a$e(p,t)}):null};function c$e(e){return c$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c$e(e)}var l$e=["offset"];function u$e(e){return function(e){if(Array.isArray(e))return d$e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d$e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d$e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d$e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h$e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f$e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p$e(Object(n),!0).forEach((function(t){m$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m$e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=c$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c$e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g$e(){return g$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g$e.apply(this,arguments)}var y$e=function(e){var t=e.value,n=e.formatter,r=GLe()(e.children)?t:e.children;return qLe()(n)?n(r):r},v$e=function(e,t,n){var r,o,i=e.position,a=e.viewBox,s=e.offset,c=e.className,l=a,u=l.cx,d=l.cy,h=l.innerRadius,p=l.outerRadius,f=l.startAngle,m=l.endAngle,g=l.clockWise,y=(h+p)/2,v=function(e,t){return MLe(t-e)*Math.min(Math.abs(t-e),360)}(f,m),b=v>=0?1:-1;"insideStart"===i?(r=f+b*s,o=g):"insideEnd"===i?(r=m-b*s,o=!g):"end"===i&&(r=m+b*s,o=g),o=v<=0?o:!o;var x=o$e(u,d,y,r),w=o$e(u,d,y,r+359*(o?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=GLe()(e.id)?FLe("recharts-radial-line-"):e.id;return Z.createElement("text",g$e({},n,{dominantBaseline:"central",className:wLe("recharts-radial-bar-label",c)}),Z.createElement("defs",null,Z.createElement("path",{id:S,d:k})),Z.createElement("textPath",{xlinkHref:"#".concat(S)},t))},b$e=function(e){var t=e.viewBox,n=e.offset,r=e.position,o=t,i=o.cx,a=o.cy,s=o.innerRadius,c=o.outerRadius,l=(o.startAngle+o.endAngle)/2;if("outside"===r){var u=o$e(i,a,c+n,l),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=o$e(i,a,(s+c)/2,l);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}},x$e=function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,o=e.position,i=t,a=i.x,s=i.y,c=i.width,l=i.height,u=l>=0?1:-1,d=u*r,h=u>0?"end":"start",p=u>0?"start":"end",f=c>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end";if("top"===o)return f$e(f$e({},{x:a+c/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:c}:{});if("bottom"===o)return f$e(f$e({},{x:a+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+l),0),width:c}:{});if("left"===o){var v={x:a-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return f$e(f$e({},v),n?{width:Math.max(v.x-n.x,0),height:l}:{})}if("right"===o){var b={x:a+c+m,y:s+l/2,textAnchor:y,verticalAnchor:"middle"};return f$e(f$e({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:l}:{})}var x=n?{width:c,height:l}:{};return"insideLeft"===o?f$e({x:a+m,y:s+l/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===o?f$e({x:a+c-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===o?f$e({x:a+c/2,y:s+d,textAnchor:"middle",verticalAnchor:p},x):"insideBottom"===o?f$e({x:a+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===o?f$e({x:a+m,y:s+d,textAnchor:y,verticalAnchor:p},x):"insideTopRight"===o?f$e({x:a+c-m,y:s+d,textAnchor:g,verticalAnchor:p},x):"insideBottomLeft"===o?f$e({x:a+m,y:s+l-d,textAnchor:y,verticalAnchor:h},x):"insideBottomRight"===o?f$e({x:a+c-m,y:s+l-d,textAnchor:g,verticalAnchor:h},x):XLe()(o)&&(PLe(o.x)||jLe(o.x))&&(PLe(o.y)||jLe(o.y))?f$e({x:a+BLe(o.x,c),y:s+BLe(o.y,l),textAnchor:"end",verticalAnchor:"end"},x):f$e({x:a+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},x)},w$e=function(e){return"cx"in e&&PLe(e.cx)};function k$e(e){var t,n=e.offset,r=f$e({offset:void 0===n?5:n},h$e(e,l$e)),o=r.viewBox,i=r.position,a=r.value,s=r.children,c=r.content,l=r.className,u=void 0===l?"":l,d=r.textBreakAll;if(!o||GLe()(a)&&GLe()(s)&&!(0,Z.isValidElement)(c)&&!qLe()(c))return null;if((0,Z.isValidElement)(c))return(0,Z.cloneElement)(c,r);if(qLe()(c)){if(t=(0,Z.createElement)(c,r),(0,Z.isValidElement)(t))return t}else t=y$e(r);var h=w$e(o),p=yFe(r,!0);if(h&&("insideStart"===i||"insideEnd"===i||"end"===i))return v$e(r,t,p);var f=h?b$e(r):x$e(r);return Z.createElement(dHe,g$e({className:wLe("recharts-label",u)},p,f,{breakAll:d}),t)}k$e.displayName="Label";var S$e=function(e){var t=e.cx,n=e.cy,r=e.angle,o=e.startAngle,i=e.endAngle,a=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,h=e.top,p=e.left,f=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(PLe(f)&&PLe(m)){if(PLe(u)&&PLe(d))return{x:u,y:d,width:f,height:m};if(PLe(h)&&PLe(p))return{x:h,y:p,width:f,height:m}}return PLe(u)&&PLe(d)?{x:u,y:d,width:0,height:0}:PLe(t)&&PLe(n)?{cx:t,cy:n,startAngle:o||r||0,endAngle:i||r||0,innerRadius:c||0,outerRadius:l||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}};k$e.parseViewBox=S$e,k$e.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=S$e(e),i=hFe(r,k$e).map((function(e,n){return(0,Z.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return i;var a=function(e,t){return e?!0===e?Z.createElement(k$e,{key:"label-implicit",viewBox:t}):DLe(e)?Z.createElement(k$e,{key:"label-implicit",viewBox:t,value:e}):(0,Z.isValidElement)(e)?e.type===k$e?(0,Z.cloneElement)(e,{key:"label-implicit",viewBox:t}):Z.createElement(k$e,{key:"label-implicit",content:e,viewBox:t}):qLe()(e)?Z.createElement(k$e,{key:"label-implicit",content:e,viewBox:t}):XLe()(e)?Z.createElement(k$e,g$e({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[a].concat(u$e(i))};var C$e=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},E$e=n(1733),_$e=n.n(E$e),T$e=n(7002),N$e=n.n(T$e),I$e=function(e){return null};I$e.displayName="Cell";var A$e=n(4065),O$e=n.n(A$e);function R$e(e){return R$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R$e(e)}var M$e=["valueAccessor"],j$e=["data","dataKey","clockWise","id","textBreakAll"];function P$e(e){return function(e){if(Array.isArray(e))return D$e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return D$e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D$e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D$e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L$e(){return L$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L$e.apply(this,arguments)}function F$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B$e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F$e(Object(n),!0).forEach((function(t){z$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z$e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=R$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=R$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R$e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U$e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var V$e=function(e){return Array.isArray(e.value)?O$e()(e.value):e.value};function W$e(e){var t=e.valueAccessor,n=void 0===t?V$e:t,r=U$e(e,M$e),o=r.data,i=r.dataKey,a=r.clockWise,s=r.id,c=r.textBreakAll,l=U$e(r,j$e);return o&&o.length?Z.createElement(WFe,{className:"recharts-label-list"},o.map((function(e,t){var r=GLe()(i)?n(e,t):pJe(e&&e.payload,i),o=GLe()(s)?{}:{id:"".concat(s,"-").concat(t)};return Z.createElement(k$e,L$e({},yFe(e,!0),l,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:k$e.parseViewBox(GLe()(a)?e:B$e(B$e({},e),{},{clockWise:a})),key:"label-".concat(t),index:t}))}))):null}W$e.displayName="LabelList",W$e.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=hFe(e.children,W$e).map((function(e,n){return(0,Z.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?Z.createElement(W$e,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||qLe()(e)?Z.createElement(W$e,{key:"labelList-implicit",data:t,content:e}):XLe()(e)?Z.createElement(W$e,L$e({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(P$e(r)):r};var H$e=n(2322),G$e=n.n(H$e),K$e=n(6361),q$e=n.n(K$e);function Y$e(e){return Y$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y$e(e)}function X$e(){return X$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X$e.apply(this,arguments)}function J$e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $$e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $$e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $$e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q$e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z$e(Object(n),!0).forEach((function(t){eZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eZe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Y$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y$e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tZe=function(e,t,n,r,o){var i,a=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-a/2,",").concat(t+o),i+="L ".concat(e+n-a/2-r,",").concat(t+o),i+="L ".concat(e,",").concat(t," Z")},nZe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rZe=function(e){var t=Q$e(Q$e({},nZe),e),n=(0,Z.useRef)(),r=J$e((0,Z.useState)(-1),2),o=r[0],i=r[1];(0,Z.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(w2e){}}),[]);var a=t.x,s=t.y,c=t.upperWidth,l=t.lowerWidth,u=t.height,d=t.className,h=t.animationEasing,p=t.animationDuration,f=t.animationBegin,m=t.isUpdateAnimationActive;if(a!==+a||s!==+s||c!==+c||l!==+l||u!==+u||0===c&&0===l||0===u)return null;var g=wLe("recharts-trapezoid",d);return m?Z.createElement(iWe,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:u,x:a,y:s},to:{upperWidth:c,lowerWidth:l,height:u,x:a,y:s},duration:p,animationEasing:h,isActive:m},(function(e){var r=e.upperWidth,i=e.lowerWidth,a=e.height,s=e.x,c=e.y;return Z.createElement(iWe,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:p,easing:h},Z.createElement("path",X$e({},yFe(t,!0),{className:g,d:tZe(s,c,r,i,a),ref:n})))})):Z.createElement("g",null,Z.createElement("path",X$e({},yFe(t,!0),{className:g,d:tZe(a,s,c,l,u)})))};function oZe(e){return oZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oZe(e)}function iZe(){return iZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iZe.apply(this,arguments)}function aZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aZe(Object(n),!0).forEach((function(t){cZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cZe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oZe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lZe=function(e){var t=e.cx,n=e.cy,r=e.radius,o=e.angle,i=e.sign,a=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(a?1:-1)+r,u=Math.asin(s/l)/n$e,d=c?o:o+i*u,h=c?o-i*u:o;return{center:o$e(t,n,l,d),circleTangency:o$e(t,n,r,d),lineTangency:o$e(t,n,l*Math.cos(u*n$e),h),theta:u}},uZe=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,i=e.startAngle,a=function(e,t){return MLe(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+a,c=o$e(t,n,o,i),l=o$e(t,n,o,s),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(o,",").concat(o,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(i>s),",\n    ").concat(l.x,",").concat(l.y,"\n  ");if(r>0){var d=o$e(t,n,r,i),h=o$e(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},dZe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hZe=function(e){var t=sZe(sZe({},dZe),e),n=t.cx,r=t.cy,o=t.innerRadius,i=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,u=t.endAngle,d=t.className;if(i<o||l===u)return null;var h,p=wLe("recharts-sector",d),f=i-o,m=BLe(a,f,0,!0);return h=m>0&&Math.abs(l-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,i=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=MLe(l-c),d=lZe({cx:t,cy:n,radius:o,angle:c,sign:u,cornerRadius:i,cornerIsExternal:s}),h=d.circleTangency,p=d.lineTangency,f=d.theta,m=lZe({cx:t,cy:n,radius:o,angle:l,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(c-l):Math.abs(c-l)-f-v;if(b<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):uZe({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:c,endAngle:l});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(o,",").concat(o,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=lZe({cx:t,cy:n,radius:r,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),k=w.circleTangency,S=w.lineTangency,C=w.theta,E=lZe({cx:t,cy:n,radius:r,angle:l,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),_=E.circleTangency,T=E.lineTangency,N=E.theta,I=s?Math.abs(c-l):Math.abs(c-l)-C-N;if(I<0&&0===i)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(T.x,",").concat(T.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(k.x,",").concat(k.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:o,outerRadius:i,cornerRadius:Math.min(m,f/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):uZe({cx:n,cy:r,innerRadius:o,outerRadius:i,startAngle:l,endAngle:u}),Z.createElement("path",iZe({},yFe(t,!0),{className:p,d:h,role:"img"}))},pZe=["option","shapeType","propTransformer","activeClassName","isActive"];function fZe(e){return fZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fZe(e)}function mZe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function gZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gZe(Object(n),!0).forEach((function(t){vZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vZe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=fZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fZe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZe(e,t){return yZe(yZe({},t),e)}function xZe(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Z.createElement(gWe,n);case"trapezoid":return Z.createElement(rZe,n);case"sector":return Z.createElement(hZe,n);case"symbols":if(function(e){return"symbols"===e}(t))return Z.createElement(jze,n);break;default:return null}}function wZe(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,i=void 0===o?bZe:o,a=e.activeClassName,s=void 0===a?"recharts-active-shape":a,c=e.isActive,l=mZe(e,pZe);if((0,Z.isValidElement)(n))t=(0,Z.cloneElement)(n,yZe(yZe({},l),function(e){return(0,Z.isValidElement)(e)?e.props:e}(n)));else if(qLe()(n))t=n(l);else if(G$e()(n)&&!q$e()(n)){var u=i(n,l);t=Z.createElement(xZe,{shapeType:r,elementProps:u})}else{var d=l;t=Z.createElement(xZe,{shapeType:r,elementProps:d})}return c?Z.createElement(WFe,{className:s},t):t}function kZe(e,t){return null!=t&&"trapezoids"in e.props}function SZe(e,t){return null!=t&&"sectors"in e.props}function CZe(e,t){return null!=t&&"points"in e.props}function EZe(e,t){var n,r,o=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return o&&i}function _Ze(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function TZe(e,t){var n=e.x===t.x,r=e.y===t.y,o=e.z===t.z;return n&&r&&o}function NZe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,o=function(e,t){var n;return kZe(e,t)?n="trapezoids":SZe(e,t)?n="sectors":CZe(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return kZe(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:SZe(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:CZe(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=xXe()(i,e),s=n.props[o].filter((function(e){var r=function(e,t){var n;return kZe(e,t)?n=EZe:SZe(e,t)?n=_Ze:CZe(e,t)&&(n=TZe),n}(n,t);return r(e,t)})),c=n.props[o].indexOf(s[s.length-1]);return a&&r===c}));return r.indexOf(a[a.length-1])}var IZe=["x","y"];function AZe(e){return AZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AZe(e)}function OZe(){return OZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OZe.apply(this,arguments)}function RZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RZe(Object(n),!0).forEach((function(t){jZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jZe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=AZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AZe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PZe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function DZe(e,t){var n=e.x,r=e.y,o=PZe(e,IZe),i="".concat(n),a=parseInt(i,10),s="".concat(r),c=parseInt(s,10),l="".concat(t.height||o.height),u=parseInt(l,10),d="".concat(t.width||o.width),h=parseInt(d,10);return MZe(MZe(MZe(MZe(MZe({},t),o),a?{x:a}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function LZe(e){return Z.createElement(wZe,OZe({shapeType:"rectangle",propTransformer:DZe,activeClassName:"recharts-active-bar"},e))}var FZe,BZe=["value","background"];function zZe(e){return zZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zZe(e)}function UZe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function VZe(){return VZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VZe.apply(this,arguments)}function WZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WZe(Object(n),!0).forEach((function(t){$Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GZe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZZe(r.key),r)}}function KZe(e,t,n){return t=YZe(t),function(e,t){if(t&&("object"===zZe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XZe(e)}(e,qZe()?Reflect.construct(t,n||[],YZe(e).constructor):t.apply(e,n))}function qZe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qZe=function(){return!!e})()}function YZe(e){return YZe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},YZe(e)}function XZe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JZe(e,t){return JZe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JZe(e,t)}function $Ze(e,t,n){return(t=ZZe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZe(e){var t=function(e,t){if("object"!=zZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zZe(t)?t:String(t)}var QZe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Ze(XZe(e=KZe(this,t,[].concat(r))),"state",{isAnimationFinished:!1}),$Ze(XZe(e),"id",FLe("recharts-bar-")),$Ze(XZe(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),$Ze(XZe(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JZe(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,i=n.activeIndex,a=n.activeBar,s=yFe(this.props,!1);return e&&e.map((function(e,n){var c=n===i,l=c?a:r,u=HZe(HZe(HZe({},s),e),{},{isActive:c,option:l,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return Z.createElement(WFe,VZe({className:"recharts-bar-rectangle"},rFe(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),Z.createElement(LZe,u))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,i=t.animationBegin,a=t.animationDuration,s=t.animationEasing,c=t.animationId,l=this.state.prevData;return Z.createElement(iWe,{begin:i,duration:a,isActive:o,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,i=n.map((function(e,t){var n=l&&l[t];if(n){var i=ULe(n.x,e.x),a=ULe(n.y,e.y),s=ULe(n.width,e.width),c=ULe(n.height,e.height);return HZe(HZe({},e),{},{x:i(o),y:a(o),width:s(o),height:c(o)})}if("horizontal"===r){var u=ULe(0,e.height)(o);return HZe(HZe({},e),{},{y:e.y+e.height-u,height:u})}var d=ULe(0,e.width)(o);return HZe(HZe({},e),{},{width:d})}));return Z.createElement(WFe,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&xXe()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,i=yFe(this.props.background,!1);return n.map((function(t,n){t.value;var a=t.background,s=UZe(t,BZe);if(!a)return null;var c=HZe(HZe(HZe(HZe(HZe({},s),{},{fill:"#eee"},a),i),rFe(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return Z.createElement(LZe,VZe({option:e.props.background,isActive:n===o},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,i=n.yAxis,a=n.layout,s=hFe(n.children,tJe);if(!s)return null;var c="vertical"===a?r[0].height/2:r[0].width/2,l=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:pJe(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Z.createElement(WFe,u,s.map((function(e){return Z.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:i,layout:a,offset:c,dataPointFormatter:l})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,i=e.yAxis,a=e.left,s=e.top,c=e.width,l=e.height,u=e.isAnimationActive,d=e.background,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,f=wLe("recharts-bar",r),m=o&&o.allowDataOverflow,g=i&&i.allowDataOverflow,y=m||g,v=GLe()(h)?this.id:h;return Z.createElement(WFe,{className:f},m||g?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(v)},Z.createElement("rect",{x:m?a:a-c/2,y:g?s:s-l/2,width:m?c:2*c,height:g?l:2*l}))):null,Z.createElement(WFe,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(v,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,v),(!u||p)&&W$e.renderCallByParent(this.props,n))}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&GZe(n.prototype,r),o&&GZe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.PureComponent);function eQe(e){return eQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eQe(e)}function tQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iQe(r.key),r)}}function nQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nQe(Object(n),!0).forEach((function(t){oQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oQe(e,t,n){return(t=iQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iQe(e){var t=function(e,t){if("object"!=eQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eQe(t)?t:String(t)}FZe=QZe,$Ze(QZe,"displayName","Bar"),$Ze(QZe,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yBe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),$Ze(QZe,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,o=e.bandSize,i=e.xAxis,a=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var f=t.layout,m=n.props,g=m.dataKey,y=m.children,v=m.minPointSize,b="horizontal"===f?a:i,x=l?b.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return r<=0&&o>=0?0:o<0?o:r}return n[0]}({numericAxis:b}),k=hFe(y,I$e),S=d.map((function(e,t){var r,d,h,m,y,b;l?r=function(e,t){if(!t||2!==t.length||!PLe(t[0])||!PLe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!PLe(e[0])||e[0]<n)&&(o[0]=n),(!PLe(e[1])||e[1]>r)&&(o[1]=r),o[0]>r&&(o[0]=r),o[1]<n&&(o[1]=n),o}(l[u+t],x):(r=pJe(e,g),Array.isArray(r)||(r=[w,r]));var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var o="number"===typeof n;return o?e(n,r):(o||PFe(!1),t)}}(v,FZe.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var C,E=[a.scale(r[0]),a.scale(r[1])],_=E[0],T=E[1];d=EJe({axis:i,ticks:s,bandSize:o,offset:p.offset,entry:e,index:t}),h=null!==(C=null!==T&&void 0!==T?T:_)&&void 0!==C?C:void 0,m=p.size;var N=_-T;if(y=Number.isNaN(N)?0:N,b={x:d,y:a.y,width:m,height:a.height},Math.abs(S)>0&&Math.abs(y)<Math.abs(S)){var I=MLe(y||S)*(Math.abs(S)-Math.abs(y));h-=I,y+=I}}else{var A=[i.scale(r[0]),i.scale(r[1])],O=A[0],R=A[1];if(d=O,h=EJe({axis:a,ticks:c,bandSize:o,offset:p.offset,entry:e,index:t}),m=R-O,y=p.size,b={x:i.x,y:h,width:i.width,height:y},Math.abs(S)>0&&Math.abs(m)<Math.abs(S))m+=MLe(m||S)*(Math.abs(S)-Math.abs(m))}return HZe(HZe(HZe({},e),{},{x:d,y:h,width:m,height:y,value:l?r:r[1],payload:e,background:b},k&&k[t]&&k[t].props),{},{tooltipPayload:[RJe(n,e)],tooltipPosition:{x:d+m/2,y:h+y/2}})}));return HZe({data:S,layout:f},h)}));var aQe=function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return{x:Math.min(n,o),y:Math.min(r,i),width:Math.abs(o-n),height:Math.abs(i-r)}},sQe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&tQe(t.prototype,n),r&&tQe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();oQe(sQe,"EPS",1e-4);var cQe=function(e){var t=Object.keys(e).reduce((function(t,n){return rQe(rQe({},t),{},oQe({},n,sQe.create(e[n])))}),{});return rQe(rQe({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,o=n.position;return _$e()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:o})}))},isInRange:function(e){return N$e()(e,(function(e,n){return t[n].isInRange(e)}))}})};var lQe=function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),o=r*Math.PI/180,i=Math.atan(n/t),a=o>i&&o<Math.PI-i?n/Math.sin(o):t/Math.cos(o);return Math.abs(a)};function uQe(e){return uQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uQe(e)}function dQe(){return dQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dQe.apply(this,arguments)}function hQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hQe(Object(n),!0).forEach((function(t){fQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fQe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=uQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uQe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQe(e){var t=e.x,n=e.y,r=e.r,o=e.alwaysShow,i=e.clipPathId,a=DLe(t),s=DLe(n);if(WLe(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!a||!s)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,o=e.yAxis,i=cQe({x:r.scale,y:o.scale}),a=i.apply({x:t,y:n},{bandAware:!0});return C$e(e,"discard")&&!i.isInRange(a)?null:a}(e);if(!c)return null;var l=c.x,u=c.y,d=e.shape,h=e.className,p=pQe(pQe({clipPath:C$e(e,"hidden")?"url(#".concat(i,")"):void 0},yFe(e,!0)),{},{cx:l,cy:u});return Z.createElement(WFe,{className:wLe("recharts-reference-dot",h)},mQe.renderDot(d,p),k$e.renderCallByParent(e,{x:l-r,y:u-r,width:2*r,height:2*r}))}mQe.displayName="ReferenceDot",mQe.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},mQe.renderDot=function(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):qLe()(e)?e(t):Z.createElement(lUe,dQe({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var gQe=n(4597),yQe=n.n(gQe),vQe=(n(8990),n(5797)),bQe=n.n(vQe)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var xQe=(0,Z.createContext)(void 0),wQe=(0,Z.createContext)(void 0),kQe=(0,Z.createContext)(void 0),SQe=(0,Z.createContext)({}),CQe=(0,Z.createContext)(void 0),EQe=(0,Z.createContext)(0),_Qe=(0,Z.createContext)(0),TQe=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,i=e.clipPathId,a=e.children,s=e.width,c=e.height,l=bQe(o);return Z.createElement(xQe.Provider,{value:n},Z.createElement(wQe.Provider,{value:r},Z.createElement(SQe.Provider,{value:o},Z.createElement(kQe.Provider,{value:l},Z.createElement(CQe.Provider,{value:i},Z.createElement(EQe.Provider,{value:c},Z.createElement(_Qe.Provider,{value:s},a)))))))};var NQe=function(e){var t=(0,Z.useContext)(xQe);null==t&&PFe(!1);var n=t[e];return null==n&&PFe(!1),n},IQe=function(e){var t=(0,Z.useContext)(wQe);null==t&&PFe(!1);var n=t[e];return null==n&&PFe(!1),n},AQe=function(){return(0,Z.useContext)(_Qe)},OQe=function(){return(0,Z.useContext)(EQe)};function RQe(e){return RQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RQe(e)}function MQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MQe(Object(n),!0).forEach((function(t){PQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PQe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RQe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return LQe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LQe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LQe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FQe(){return FQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FQe.apply(this,arguments)}function BQe(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,i=e.yAxisId,a=e.shape,s=e.className,c=e.alwaysShow,l=(0,Z.useContext)(CQe),u=NQe(o),d=IQe(i),h=(0,Z.useContext)(kQe);if(!l||!h)return null;WLe(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,o,i,a,s,c){var l=o.x,u=o.y,d=o.width,h=o.height;if(n){var p=c.y,f=e.y.apply(p,{position:i});if(C$e(c,"discard")&&!e.y.isInRange(f))return null;var m=[{x:l+d,y:f},{x:l,y:f}];return"left"===s?m.reverse():m}if(t){var g=c.x,y=e.x.apply(g,{position:i});if(C$e(c,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=c.segment.map((function(t){return e.apply(t,{position:i})}));return C$e(c,"discard")&&yQe()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(cQe({x:u.scale,y:d.scale}),DLe(t),DLe(n),r&&2===r.length,h,e.position,u.orientation,d.orientation,e);if(!p)return null;var f=DQe(p,2),m=f[0],g=m.x,y=m.y,v=f[1],b=v.x,x=v.y,w=jQe(jQe({clipPath:C$e(e,"hidden")?"url(#".concat(l,")"):void 0},yFe(e,!0)),{},{x1:g,y1:y,x2:b,y2:x});return Z.createElement(WFe,{className:wLe("recharts-reference-line",s)},function(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):qLe()(e)?e(t):Z.createElement("line",FQe({},t,{className:"recharts-reference-line-line"}))}(a,w),k$e.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return aQe({x:t,y:n},{x:r,y:o})}({x1:g,y1:y,x2:b,y2:x})))}function zQe(e){return zQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zQe(e)}function UQe(){return UQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UQe.apply(this,arguments)}function VQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VQe(Object(n),!0).forEach((function(t){HQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HQe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zQe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}BQe.displayName="ReferenceLine",BQe.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function GQe(e){var t=e.x1,n=e.x2,r=e.y1,o=e.y2,i=e.className,a=e.alwaysShow,s=e.clipPathId;WLe(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=DLe(t),l=DLe(n),u=DLe(r),d=DLe(o),h=e.shape;if(!c&&!l&&!u&&!d&&!h)return null;var p=function(e,t,n,r,o){var i=o.x1,a=o.x2,s=o.y1,c=o.y2,l=o.xAxis,u=o.yAxis;if(!l||!u)return null;var d=cQe({x:l.scale,y:u.scale}),h={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(c,{position:"end"}):d.y.rangeMax};return!C$e(o,"discard")||d.isInRange(h)&&d.isInRange(p)?aQe(h,p):null}(c,l,u,d,e);if(!p&&!h)return null;var f=C$e(e,"hidden")?"url(#".concat(s,")"):void 0;return Z.createElement(WFe,{className:wLe("recharts-reference-area",i)},GQe.renderRect(h,WQe(WQe({clipPath:f},yFe(e,!0)),p)),k$e.renderCallByParent(e,p))}function KQe(e){return function(e){if(Array.isArray(e))return qQe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qQe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qQe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qQe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}GQe.displayName="ReferenceArea",GQe.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},GQe.renderRect=function(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):qLe()(e)?e(t):Z.createElement(gWe,UQe({},t,{className:"recharts-reference-area-rect"}))};var YQe=function(e,t,n,r,o){var i=hFe(e,BQe),a=hFe(e,mQe),s=[].concat(KQe(i),KQe(a)),c=hFe(e,GQe),l="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[l]===n&&C$e(t.props,"extendDomain")&&PLe(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),c.length){var h="".concat(u,"1"),p="".concat(u,"2");d=c.reduce((function(e,t){if(t.props[l]===n&&C$e(t.props,"extendDomain")&&PLe(t.props[h])&&PLe(t.props[p])){var r=t.props[h],o=t.props[p];return[Math.min(e[0],r,o),Math.max(e[1],r,o)]}return e}),d)}return o&&o.length&&(d=o.reduce((function(e,t){return PLe(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},XQe=n(7283),JQe=new(n.n(XQe)()),$Qe="recharts.syncMouseEvents";function ZQe(e){return ZQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZQe(e)}function QQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t0e(r.key),r)}}function e0e(e,t,n){return(t=t0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t0e(e){var t=function(e,t){if("object"!=ZQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZQe(t)?t:String(t)}var n0e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e0e(this,"activeIndex",0),e0e(this,"coordinateList",[]),e0e(this,"layout","horizontal")}var t,n,r;return t=e,n=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,o=e.container,i=void 0===o?null:o,a=e.layout,s=void 0===a?null:a,c=e.offset,l=void 0===c?null:c,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==l&&void 0!==l?l:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,o=n.y,i=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,c=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,l=r+a+s,u=o+this.offset.top+i/2+c;this.mouseHandlerCallback({pageX:l,pageY:u})}}}],n&&QQe(t.prototype,n),r&&QQe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r0e(){}function o0e(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i0e(e){this._context=e}function a0e(e){this._context=e}function s0e(e){this._context=e}i0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},a0e.prototype={areaStart:r0e,areaEnd:r0e,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:o0e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},s0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:o0e(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class c0e{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function l0e(e){this._context=e}function u0e(e){this._context=e}function d0e(e){return new u0e(e)}function h0e(e){return e<0?-1:1}function p0e(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(h0e(i)+h0e(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function f0e(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function m0e(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function g0e(e){this._context=e}function y0e(e){this._context=new v0e(e)}function v0e(e){this._context=e}function b0e(e){this._context=e}function x0e(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function w0e(e,t){this._context=e,this._t=t}function k0e(e){return e[0]}function S0e(e){return e[1]}function C0e(e,t){var n=rze(!0),r=null,o=d0e,i=null,a=Cze(s);function s(s){var c,l,u,d=(s=lXe(s)).length,h=!1;for(null==r&&(i=o(u=a())),c=0;c<=d;++c)!(c<d&&n(l=s[c],c,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(l,c,s),+t(l,c,s));if(u)return i=null,u+""||null}return e="function"===typeof e?e:void 0===e?k0e:rze(e),t="function"===typeof t?t:void 0===t?S0e:rze(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:rze(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:rze(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:rze(!!e),s):n},s.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),s):o},s.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),s):r},s}function E0e(e,t,n){var r=null,o=rze(!0),i=null,a=d0e,s=null,c=Cze(l);function l(l){var u,d,h,p,f,m=(l=lXe(l)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=a(f=c())),u=0;u<=m;++u){if(!(u<m&&o(p=l[u],u,l))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(p,u,l),v[u]=+t(p,u,l),s.point(r?+r(p,u,l):y[u],n?+n(p,u,l):v[u]))}if(f)return s=null,f+""||null}function u(){return C0e().defined(o).curve(a).context(i)}return e="function"===typeof e?e:void 0===e?k0e:rze(+e),t="function"===typeof t?t:rze(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?S0e:rze(+n),l.x=function(t){return arguments.length?(e="function"===typeof t?t:rze(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"===typeof t?t:rze(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:rze(+e),l):r},l.y=function(e){return arguments.length?(t="function"===typeof e?e:rze(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"===typeof e?e:rze(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:rze(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(o="function"===typeof e?e:rze(!!e),l):o},l.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),l):a},l.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),l):i},l}function _0e(e){return _0e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0e(e)}function T0e(){return T0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0e.apply(this,arguments)}function N0e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I0e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N0e(Object(n),!0).forEach((function(t){A0e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N0e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A0e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_0e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_0e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_0e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}l0e.prototype={areaStart:r0e,areaEnd:r0e,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},u0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},g0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m0e(this,this._t0,f0e(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,m0e(this,f0e(this,n=p0e(this,e,t)),n);break;default:m0e(this,this._t0,n=p0e(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(y0e.prototype=Object.create(g0e.prototype)).point=function(e,t){g0e.prototype.point.call(this,t,e)},v0e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},b0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=x0e(e),o=x0e(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},w0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var O0e={curveBasisClosed:function(e){return new a0e(e)},curveBasisOpen:function(e){return new s0e(e)},curveBasis:function(e){return new i0e(e)},curveBumpX:function(e){return new c0e(e,!0)},curveBumpY:function(e){return new c0e(e,!1)},curveLinearClosed:function(e){return new l0e(e)},curveLinear:d0e,curveMonotoneX:function(e){return new g0e(e)},curveMonotoneY:function(e){return new y0e(e)},curveNatural:function(e){return new b0e(e)},curveStep:function(e){return new w0e(e,.5)},curveStepAfter:function(e){return new w0e(e,1)},curveStepBefore:function(e){return new w0e(e,0)}},R0e=function(e){return e.x===+e.x&&e.y===+e.y},M0e=function(e){return e.x},j0e=function(e){return e.y},P0e=function(e){var t,n=e.type,r=void 0===n?"linear":n,o=e.points,i=void 0===o?[]:o,a=e.baseLine,s=e.layout,c=e.connectNulls,l=void 0!==c&&c,u=function(e,t){if(qLe()(e))return e;var n="curve".concat(jBe()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?O0e[n]||d0e:O0e["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=l?i.filter((function(e){return R0e(e)})):i;if(Array.isArray(a)){var h=l?a.filter((function(e){return R0e(e)})):a,p=d.map((function(e,t){return I0e(I0e({},e),{},{base:h[t]})}));return t="vertical"===s?E0e().y(j0e).x1(M0e).x0((function(e){return e.base.x})):E0e().x(M0e).y1(j0e).y0((function(e){return e.base.y})),t.defined(R0e).curve(u),t(p)}return(t="vertical"===s&&PLe(a)?E0e().y(j0e).x1(M0e).x0(a):PLe(a)?E0e().x(M0e).y1(j0e).y0(a):C0e().x(M0e).y(j0e)).defined(R0e).curve(u),t(d)},D0e=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var i=n&&n.length?P0e(e):r;return Z.createElement("path",T0e({},yFe(e,!1),nFe(e),{className:wLe("recharts-curve",t),d:i,ref:o}))};function L0e(e){return L0e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0e(e)}var F0e=["x","y","top","left","width","height","className"];function B0e(){return B0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0e.apply(this,arguments)}function z0e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U0e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=L0e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L0e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L0e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V0e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var W0e=function(e,t,n,r,o,i){return"M".concat(e,",").concat(o,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},H0e=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.top,a=void 0===i?0:i,s=e.left,c=void 0===s?0:s,l=e.width,u=void 0===l?0:l,d=e.height,h=void 0===d?0:d,p=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z0e(Object(n),!0).forEach((function(t){U0e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z0e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:a,left:c,width:u,height:h},V0e(e,F0e));return PLe(n)&&PLe(o)&&PLe(u)&&PLe(h)&&PLe(a)&&PLe(c)?Z.createElement("path",B0e({},yFe(f,!0),{className:wLe("recharts-cross",p),d:W0e(n,o,u,h,a,c)})):null};function G0e(e){var t=e.cx,n=e.cy,r=e.radius,o=e.startAngle,i=e.endAngle;return{points:[o$e(t,n,r,o),o$e(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:o,endAngle:i}}function K0e(e,t,n){var r,o,i,a;if("horizontal"===e)i=r=t.x,o=n.top,a=n.top+n.height;else if("vertical"===e)a=o=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return G0e(t);var s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.angle,h=o$e(s,c,l,d),p=o$e(s,c,u,d);r=h.x,o=h.y,i=p.x,a=p.y}return[{x:r,y:o},{x:i,y:a}]}function q0e(e){return q0e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0e(e)}function Y0e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X0e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y0e(Object(n),!0).forEach((function(t){J0e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y0e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J0e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=q0e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q0e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q0e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $0e(e){var t,n=e.element,r=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,a=e.activePayload,s=e.offset,c=e.activeTooltipIndex,l=e.tooltipAxisBandSize,u=e.layout,d=e.chartName;if(!n||!n.props.cursor||!o||!i||"ScatterChart"!==d&&"axis"!==r)return null;var h=D0e;if("ScatterChart"===d)t=i,h=H0e;else if("BarChart"===d)t=function(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-o:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-o,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(u,i,s,l),h=gWe;else if("radial"===u){var p=G0e(i),f=p.cx,m=p.cy,g=p.radius;t={cx:f,cy:m,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:g,outerRadius:g},h=hZe}else t={points:K0e(u,i,s)},h=D0e;var y=X0e(X0e(X0e(X0e({stroke:"#ccc",pointerEvents:"none"},s),t),yFe(n.props.cursor,!1)),{},{payload:a,payloadIndex:c,className:"recharts-tooltip-cursor"});return(0,Z.isValidElement)(n.props.cursor)?(0,Z.cloneElement)(n.props.cursor,y):(0,Z.createElement)(h,y)}var Z0e=["item"],Q0e=["children","className","width","height","style","compact","title","desc"];function e1e(e){return e1e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e1e(e)}function t1e(){return t1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t1e.apply(this,arguments)}function n1e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||d1e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r1e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g1e(r.key),r)}}function i1e(e,t,n){return t=s1e(t),function(e,t){if(t&&("object"===e1e(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c1e(e)}(e,a1e()?Reflect.construct(t,n||[],s1e(e).constructor):t.apply(e,n))}function a1e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a1e=function(){return!!e})()}function s1e(e){return s1e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s1e(e)}function c1e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l1e(e,t){return l1e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l1e(e,t)}function u1e(e){return function(e){if(Array.isArray(e))return h1e(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d1e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d1e(e,t){if(e){if("string"===typeof e)return h1e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h1e(e,t):void 0}}function h1e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p1e(Object(n),!0).forEach((function(t){m1e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m1e(e,t,n){return(t=g1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g1e(e){var t=function(e,t){if("object"!=e1e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e1e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e1e(t)?t:String(t)}var y1e={xAxis:["bottom","top"],yAxis:["left","right"]},v1e={width:"100%",height:"100%"},b1e={x:0,y:0};function x1e(e){return e}var w1e=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,o=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(u1e(e),u1e(n)):e}),[]);return i.length>0?i:e&&e.length&&PLe(r)&&PLe(o)?e.slice(r,o+1):[]};function k1e(e){return"number"===e?[0,"auto"]:void 0}var S1e=function(e,t,n,r){var o=e.graphicalItems,i=e.tooltipAxis,a=w1e(t,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce((function(o,s){var c,l,u=null!==(c=s.props.data)&&void 0!==c?c:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?l=VLe(void 0===u?a:u,i.dataKey,r):l=u&&u[n]||a[n];return l?[].concat(u1e(o),[RJe(s,l)]):o}),[])},C1e=function(e,t,n,r){var o=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(o,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,a=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(o&&"angleAxis"===o.axisType&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var s=o.range,c=0;c<a;c++){var l=c>0?r[c-1].coordinate:r[a-1].coordinate,u=r[c].coordinate,d=c>=a-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(MLe(u-l)!==MLe(d-u)){var p=[];if(MLe(d-u)===MLe(s[1]-s[0])){h=d;var f=u+s[1]-s[0];p[0]=Math.min(f,(f+l)/2),p[1]=Math.max(f,(f+l)/2)}else{h=l;var m=d+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){i=r[c].index;break}}else{var y=Math.min(l,d),v=Math.max(l,d);if(e>(y+u)/2&&e<=(v+u)/2){i=r[c].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){i=n[b].index;break}return i}(i,a,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=S1e(e,t,l,u),h=function(e,t,n,r){var o=t.find((function(e){return e&&e.index===n}));if(o){if("horizontal"===e)return{x:o.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:o.coordinate};if("centric"===e){var i=o.coordinate,a=r.radius;return f1e(f1e(f1e({},r),o$e(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var s=o.coordinate,c=r.angle;return f1e(f1e(f1e({},r),o$e(r.cx,r.cy,s,c)),{},{angle:c,radius:s})}return b1e}(n,a,l,o);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},E1e=function(e,t){var n=t.axes,r=t.graphicalItems,o=t.axisType,i=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,h=vJe(l,o);return n.reduce((function(t,n){var p,f=n.props,m=f.type,g=f.dataKey,y=f.allowDataOverflow,v=f.allowDuplicatedCategory,b=f.scale,x=f.ticks,w=f.includeHidden,k=n.props[i];if(t[k])return t;var S,C,E,_=w1e(e.data,{graphicalItems:r.filter((function(e){return e.props[i]===k})),dataStartIndex:s,dataEndIndex:c}),T=_.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],o=null===e||void 0===e?void 0:e[1];if(r&&o&&PLe(r)&&PLe(o))return!0}return!1})(n.props.domain,y,m)&&(S=IJe(n.props.domain,null,y),!h||"number"!==m&&"auto"===b||(E=fJe(_,g,"category")));var N=k1e(m);if(!S||0===S.length){var I,A=null!==(I=n.props.domain)&&void 0!==I?I:N;if(g){if(S=fJe(_,g,m),"category"===m&&h){var O=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&O?(C=S,S=AFe()(0,T)):v||(S=OJe(A,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(u1e(e),[t])}),[]))}else if("category"===m)S=v?S.filter((function(e){return""!==e&&!GLe()(e)})):OJe(A,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||GLe()(t)?e:[].concat(u1e(e),[t])}),[]);else if("number"===m){var R=function(e,t,n,r,o){var i=t.map((function(t){return gJe(e,t,n,o,r)})).filter((function(e){return!GLe()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(_,r.filter((function(e){return e.props[i]===k&&(w||!e.props.hide)})),g,o,l);R&&(S=R)}!h||"number"!==m&&"auto"===b||(E=fJe(_,g,"category"))}else S=h?AFe()(0,T):a&&a[k]&&a[k].hasStack&&"number"===m?"expand"===d?[0,1]:_Je(a[k].stackGroups,s,c):yJe(_,r.filter((function(e){return e.props[i]===k&&(w||!e.props.hide)})),m,l,!0);if("number"===m)S=YQe(u,S,k,o,x),A&&(S=IJe(A,S,y));else if("category"===m&&A){var M=A;S.every((function(e){return M.indexOf(e)>=0}))&&(S=M)}}return f1e(f1e({},t),{},m1e({},k,f1e(f1e({},n.props),{},{axisType:o,domain:S,categoricalDomain:E,duplicateDomain:C,originalDomain:null!==(p=n.props.domain)&&void 0!==p?p:N,isCategorical:h,layout:l})))}),{})},_1e=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,o=t.AxisComp,i=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(r,"Id"),d=hFe(l,o),h={};return d&&d.length?h=E1e(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:c}):i&&i.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,o=t.axisType,i=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=w1e(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:c}),h=d.length,p=vJe(l,o),f=-1;return n.reduce((function(e,t){var m,g=t.props[i],y=k1e("number");return e[g]?e:(f++,p?m=AFe()(0,h):a&&a[g]&&a[g].hasStack?(m=_Je(a[g].stackGroups,s,c),m=YQe(u,m,g,o)):(m=IJe(y,yJe(d,n.filter((function(e){return e.props[i]===g&&!e.props.hide})),"number",l),r.defaultProps.allowDataOverflow),m=YQe(u,m,g,o)),f1e(f1e({},e),{},m1e({},g,f1e(f1e({axisType:o},r.defaultProps),{},{hide:!0,orientation:ALe()(y1e,"".concat(o,".").concat(f%2),null),domain:m,originalDomain:y,isCategorical:p,layout:l}))))}),{})}(e,{Axis:o,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:c})),h},T1e=function(e){var t=e.children,n=e.defaultShowTooltip,r=pFe(t,$Je),o=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(o=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},N1e=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I1e=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),o=void 0===r?{}:r,i=e.yAxisMap,a=void 0===i?{}:i,s=n.width,c=n.height,l=n.children,u=n.margin||{},d=pFe(l,$Je),h=pFe(l,sUe),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:f1e(f1e({},e),{},m1e({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),f=Object.keys(o).reduce((function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:f1e(f1e({},e),{},m1e({},r,ALe()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=f1e(f1e({},f),p),g=m.bottom;d&&(m.bottom+=d.props.height||$Je.defaultProps.height),h&&t&&(m=function(e,t,n,r){var o=n.children,i=n.width,a=n.margin,s=i-(a.left||0)-(a.right||0),c=aJe({children:o,legendWidth:s});if(c){var l=r||{},u=l.width,d=l.height,h=c.align,p=c.verticalAlign,f=c.layout;if(("vertical"===f||"horizontal"===f&&"middle"===p)&&"center"!==h&&PLe(e[h]))return lJe(lJe({},e),{},uJe({},h,e[h]+(u||0)));if(("horizontal"===f||"vertical"===f&&"center"===h)&&"middle"!==p&&PLe(e[p]))return lJe(lJe({},e),{},uJe({},p,e[p]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=c-m.top-m.bottom;return f1e(f1e({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})};function A1e(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],o=0;o<e.length;o+=t){if(void 0!==n&&!0!==n(e[o]))return;r.push(e[o])}return r}function O1e(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-o)<=0}function R1e(e){return R1e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R1e(e)}function M1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M1e(Object(n),!0).forEach((function(t){P1e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P1e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=R1e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=R1e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R1e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D1e(e,t,n){var r=e.tick,o=e.ticks,i=e.viewBox,a=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit,d=e.angle;if(!o||!o.length||!r)return[];if(PLe(c)||yBe.isSsr)return function(e,t){return A1e(e,t+1)}(o,"number"===typeof c&&PLe(c)?c:0);var h=[],p="top"===s||"bottom"===s?"width":"height",f=u&&"width"===p?DWe(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var o=qLe()(l)?l(e.value,r):e.value;return"width"===p?function(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return lQe(r,n)}(DWe(o,{fontSize:t,letterSpacing:n}),f,d):DWe(o,{fontSize:t,letterSpacing:n})[p]},g=o.length>=2?MLe(o[1].coordinate-o[0].coordinate):1,y=function(e,t,n){var r="width"===n,o=e.x,i=e.y,a=e.width,s=e.height;return 1===t?{start:r?o:i,end:r?o+a:i+s}:{start:r?o+a:i+s,end:r?o:i}}(i,g,p);return"equidistantPreserveStart"===c?function(e,t,n,r,o){for(var i,a=(r||[]).slice(),s=t.start,c=t.end,l=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[l];if(void 0===t)return{v:A1e(r,u)};var i,a=l,h=function(){return void 0===i&&(i=n(t,a)),i},p=t.coordinate,f=0===l||O1e(e,p,h,d,c);f||(l=0,d=s,u+=1),f&&(d=p+e*(h()/2+o),l+=u)};u<=a.length;)if(i=h())return i.v;return[]}(g,y,m,o,a):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,o,i){var a=(r||[]).slice(),s=a.length,c=t.start,l=t.end;if(i){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-l);a[s-1]=u=j1e(j1e({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),O1e(e,u.tickCoord,(function(){return d}),c,l)&&(l=u.tickCoord-e*(d/2+o),a[s-1]=j1e(j1e({},u),{},{isShow:!0}))}for(var p=i?s-1:s,f=function(t){var r,i=a[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*s()/2-c);a[t]=i=j1e(j1e({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else a[t]=i=j1e(j1e({},i),{},{tickCoord:i.coordinate});O1e(e,i.tickCoord,s,c,l)&&(c=i.tickCoord+e*(s()/2+o),a[t]=j1e(j1e({},i),{},{isShow:!0}))},m=0;m<p;m++)f(m);return a}(g,y,m,o,a,"preserveStartEnd"===c):function(e,t,n,r,o){for(var i=(r||[]).slice(),a=i.length,s=t.start,c=t.end,l=function(t){var r,l=i[t],u=function(){return void 0===r&&(r=n(l,t)),r};if(t===a-1){var d=e*(l.coordinate+e*u()/2-c);i[t]=l=j1e(j1e({},l),{},{tickCoord:d>0?l.coordinate-d*e:l.coordinate})}else i[t]=l=j1e(j1e({},l),{},{tickCoord:l.coordinate});O1e(e,l.tickCoord,u,s,c)&&(c=l.tickCoord-e*(u()/2+o),i[t]=j1e(j1e({},l),{},{isShow:!0}))},u=a-1;u>=0;u--)l(u);return i}(g,y,m,o,a),h.filter((function(e){return e.isShow})))}var L1e=["viewBox"],F1e=["viewBox"],B1e=["ticks"];function z1e(e){return z1e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z1e(e)}function U1e(){return U1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U1e.apply(this,arguments)}function V1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V1e(Object(n),!0).forEach((function(t){J1e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H1e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function G1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$1e(r.key),r)}}function K1e(e,t,n){return t=Y1e(t),function(e,t){if(t&&("object"===z1e(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q1e()?Reflect.construct(t,n||[],Y1e(e).constructor):t.apply(e,n))}function q1e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q1e=function(){return!!e})()}function Y1e(e){return Y1e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y1e(e)}function X1e(e,t){return X1e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X1e(e,t)}function J1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=function(e,t){if("object"!=z1e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z1e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z1e(t)?t:String(t)}var Z1e=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=K1e(this,t,[e])).state={fontSize:"",letterSpacing:""},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X1e(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=H1e(e,L1e),o=this.props,i=o.viewBox,a=H1e(o,F1e);return!JLe(n,i)||!JLe(r,a)||!JLe(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,o,i,a,s=this.props,c=s.x,l=s.y,u=s.width,d=s.height,h=s.orientation,p=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,y=e.tickSize||p,v=PLe(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,a=(r=(o=l+ +!f*d)-g*y)-g*m,i=v;break;case"left":r=o=e.coordinate,i=(t=(n=c+ +!f*u)-g*y)-g*m,a=v;break;case"right":r=o=e.coordinate,i=(t=(n=c+ +f*u)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(o=l+ +f*d)+g*y)+g*m,i=v}return{line:{x1:t,y1:r,x2:n,y2:o},tick:{x:i,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=e.orientation,a=e.mirror,s=e.axisLine,c=W1e(W1e(W1e({},yFe(this.props,!1)),yFe(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var l=+("top"===i&&!a||"bottom"===i&&a);c=W1e(W1e({},c),{},{x1:t,y1:n+l*o,x2:t+r,y2:n+l*o})}else{var u=+("left"===i&&!a||"right"===i&&a);c=W1e(W1e({},c),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+o})}return Z.createElement("line",U1e({},c,{className:wLe("recharts-cartesian-axis-line",ALe()(s,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,i=this.props,a=i.tickLine,s=i.stroke,c=i.tick,l=i.tickFormatter,u=i.unit,d=D1e(W1e(W1e({},this.props),{},{ticks:e}),n,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),f=yFe(this.props,!1),m=yFe(c,!1),g=W1e(W1e({},f),{},{fill:"none"},yFe(a,!1)),y=d.map((function(e,n){var r=o.getTickLineCoord(e),i=r.line,y=r.tick,v=W1e(W1e(W1e(W1e({textAnchor:h,verticalAnchor:p},f),{},{stroke:"none",fill:s},m),y),{},{index:n,payload:e,visibleTicksCount:d.length,tickFormatter:l});return Z.createElement(WFe,U1e({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},rFe(o.props,e,n)),a&&Z.createElement("line",U1e({},g,i,{className:wLe("recharts-cartesian-axis-tick-line",ALe()(a,"className"))})),c&&t.renderTickItem(c,v,"".concat(qLe()(l)?l(e.value,n):e.value).concat(u||"")))}));return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,i=t.ticksGenerator,a=t.className;if(t.hide)return null;var s=this.props,c=s.ticks,l=H1e(s,B1e),u=c;return qLe()(i)&&(u=c&&c.length>0?i(this.props):i(l)),r<=0||o<=0||!u||!u.length?null:Z.createElement(WFe,{className:wLe("recharts-cartesian-axis",a),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),k$e.renderCallByParent(this.props))}}],o=[{key:"renderTickItem",value:function(e,t,n){return Z.isValidElement(e)?Z.cloneElement(e,t):qLe()(e)?e(t):Z.createElement(dHe,U1e({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&G1e(n.prototype,r),o&&G1e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),t}(Z.Component);function Q1e(){return Q1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q1e.apply(this,arguments)}J1e(Z1e,"displayName","CartesianAxis"),J1e(Z1e,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var e2e=function(e){var t=e.xAxisId,n=AQe(),r=OQe(),o=NQe(t);return null==o?null:Z.createElement(Z1e,Q1e({},o,{className:wLe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return bJe(e,!0)}}))};function t2e(){return t2e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t2e.apply(this,arguments)}e2e.displayName="XAxis",e2e.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var n2e=function(e){var t=e.yAxisId,n=AQe(),r=OQe(),o=IQe(t);return null==o?null:Z.createElement(Z1e,t2e({},o,{className:wLe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return bJe(e,!0)}}))};n2e.displayName="YAxis",n2e.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var r2e=function(e){var t,n=e.chartName,r=e.GraphicalChild,o=e.defaultTooltipEventType,i=void 0===o?"axis":o,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,c=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,o=t.offset,i=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,l=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,f=N1e(u),m=f.numericAxisName,g=f.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=cFe(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=y&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var o={},i=Object.keys(r),a=0,s=i.length;a<s;a++)for(var c=r[i[a]].stackGroups,l=Object.keys(c),u=0,d=l.length;u<d;u++){var h=c[l[u]],p=h.items,f=h.cateAxisId,m=p.filter((function(e){return cFe(e.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,y=m[0].props[f];o[y]||(o[y]=[]),o[y].push({item:m[0],stackList:m.slice(1),barSize:GLe()(g)?t:g})}}return o}({barSize:l,stackGroups:r}),b=[];return n.forEach((function(n,l){var f=w1e(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),y=n.props,x=y.dataKey,w=y.maxBarSize,k=n.props["".concat(m,"Id")],S=n.props["".concat(g,"Id")],C=c.reduce((function(e,r){var o=t["".concat(r.axisType,"Map")],i=n.props["".concat(r.axisType,"Id")];o&&o[i]||"zAxis"===r.axisType||PFe(!1);var a=o[i];return f1e(f1e({},e),{},m1e(m1e({},r.axisType,a),"".concat(r.axisType,"Ticks"),bJe(a)))}),{}),E=C[g],_=C["".concat(g,"Ticks")],T=r&&r[k]&&r[k].hasStack&&function(e,t){var n=e.props.stackId;if(DLe(n)){var r=t[n];if(r){var o=r.items.indexOf(e);return o>=0?r.stackedData[o]:null}}return null}(n,r[k].stackGroups),N=cFe(n.type).indexOf("Bar")>=0,I=AJe(E,_),A=[];if(N){var O,R,M=GLe()(w)?p:w,j=null!==(O=null!==(R=AJe(E,_,!0))&&void 0!==R?R:M)&&void 0!==O?O:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,o=e.sizeList,i=void 0===o?[]:o,a=e.maxBarSize,s=i.length;if(s<1)return null;var c,l=BLe(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,h=r/s,p=i.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*l)>=r&&(p-=(s-1)*l,l=0),p>=r&&h>0&&(d=!0,p=s*(h*=.9));var f={offset:((r-p)/2|0)-l,size:0};c=i.reduce((function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+l,size:d?h:t.barSize}},r=[].concat(dJe(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:f})})),r}),u)}else{var m=BLe(n,r,0,!0);r-2*m-(s-1)*l<=0&&(l=0);var g=(r-2*m-(s-1)*l)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;c=i.reduce((function(e,t,n){var r=[].concat(dJe(e),[{item:t.item,position:{offset:m+(g+l)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return c}({barGap:d,barCategoryGap:h,bandSize:j!==I?j:I,sizeList:v[S],maxBarSize:M}),j!==I&&(A=A.map((function(e){return f1e(f1e({},e),{},{position:f1e(f1e({},e.position),{},{offset:e.position.offset-j/2})})})))}var P=n&&n.type&&n.type.getComposedData;P&&b.push({props:f1e(f1e({},P(f1e(f1e({},C),{},{displayedData:f,props:e,dataKey:x,item:n,bandSize:I,barPosition:A,offset:o,stackedData:T,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},m1e(m1e(m1e({key:n.key||"item-".concat(l)},m,C[m]),g,C[g]),"animationId",i)),childIndex:wFe(n,e.children),item:n})})),b},p=function(e,t){var o=e.props,i=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!fFe({props:o}))return null;var l=o.children,d=o.layout,p=o.stackOffset,f=o.data,m=o.reverseStackOrder,g=N1e(d),y=g.numericAxisName,v=g.cateAxisName,b=hFe(l,r),x=function(e,t,n,r,o,i){if(!e)return null;var a=(i?t.reverse():t).reduce((function(e,t){var o=t.props,i=o.stackId;if(o.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(DLe(i)){var c=s.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),s.hasStack=!0,s.stackGroups[i]=c}else s.stackGroups[FLe("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return lJe(lJe({},e),{},uJe({},a,s))}),{});return Object.keys(a).reduce((function(t,i){var s=a[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,i){var a=s.stackGroups[i];return lJe(lJe({},t),{},uJe({},i,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:CJe(e,a.items,o)}))}),{})),lJe(lJe({},t),{},uJe({},i,s))}),{})}(f,b,"".concat(y,"Id"),"".concat(v,"Id"),p,m),w=c.reduce((function(e,t){var n="".concat(t.axisType,"Map");return f1e(f1e({},e),{},m1e({},n,_1e(o,f1e(f1e({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:i,dataEndIndex:a}))))}),{}),k=I1e(f1e(f1e({},w),{},{props:o,graphicalItems:b}),null===t||void 0===t?void 0:t.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(o,w[e],k,e.replace("Map",""),n)}));var S=function(e){var t=zLe(e),n=bJe(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:RFe()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:AJe(t,n)}}(w["".concat(v,"Map")]),C=h(o,f1e(f1e({},w),{},{dataStartIndex:i,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:x,offset:k}));return f1e(f1e({formattedGraphicalItems:C,graphicalItems:b,offset:k,stackGroups:x},S),w)};return t=function(e){function t(e){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m1e(c1e(i=i1e(this,t,[e])),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),m1e(c1e(i),"accessibilityManager",new n0e),m1e(c1e(i),"handleLegendBBoxUpdate",(function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,o=t.updateId;i.setState(f1e({legendBBox:e},p({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:o},f1e(f1e({},i.state),{},{legendBBox:e}))))}})),m1e(c1e(i),"handleReceiveSyncEvent",(function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}})),m1e(c1e(i),"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState((function(){return f1e({dataStartIndex:t,dataEndIndex:n},p({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))})),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),m1e(c1e(i),"handleMouseEnter",(function(e){var t=i.getMouseInfo(e);if(t){var n=f1e(f1e({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;qLe()(r)&&r(n,e)}})),m1e(c1e(i),"triggeredAfterMouseMove",(function(e){var t=i.getMouseInfo(e),n=t?f1e(f1e({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;qLe()(r)&&r(n,e)})),m1e(c1e(i),"handleItemMouseEnter",(function(e){i.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),m1e(c1e(i),"handleItemMouseLeave",(function(){i.setState((function(){return{isTooltipActive:!1}}))})),m1e(c1e(i),"handleMouseMove",(function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)})),m1e(c1e(i),"handleMouseLeave",(function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;qLe()(n)&&n(t,e)})),m1e(c1e(i),"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&sFe[t]?sFe[t]:null}(e),r=ALe()(i.props,"".concat(n));n&&qLe()(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)})),m1e(c1e(i),"handleClick",(function(e){var t=i.getMouseInfo(e);if(t){var n=f1e(f1e({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;qLe()(r)&&r(n,e)}})),m1e(c1e(i),"handleMouseDown",(function(e){var t=i.props.onMouseDown;qLe()(t)&&t(i.getMouseInfo(e),e)})),m1e(c1e(i),"handleMouseUp",(function(e){var t=i.props.onMouseUp;qLe()(t)&&t(i.getMouseInfo(e),e)})),m1e(c1e(i),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),m1e(c1e(i),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])})),m1e(c1e(i),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])})),m1e(c1e(i),"triggerSyncEvent",(function(e){void 0!==i.props.syncId&&JQe.emit($Qe,i.props.syncId,e,i.eventEmitterSymbol)})),m1e(c1e(i),"applySyncEvent",(function(e){var t=i.props,n=t.layout,r=t.syncMethod,o=i.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(f1e({dataStartIndex:a,dataEndIndex:s},p({props:i.props,dataStartIndex:a,dataEndIndex:s,updateId:o},i.state)));else if(void 0!==e.activeTooltipIndex){var c=e.chartX,l=e.chartY,u=e.activeTooltipIndex,d=i.state,h=d.offset,f=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(f,e);else if("value"===r){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){u=m;break}}var g=f1e(f1e({},h),{},{x:h.left,y:h.top}),y=Math.min(c,g.x+g.width),v=Math.min(l,g.y+g.height),b=f[u]&&f[u].value,x=S1e(i.state,i.props.data,u),w=f[u]?{x:"horizontal"===n?f[u].coordinate:y,y:"horizontal"===n?v:f[u].coordinate}:b1e;i.setState(f1e(f1e({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else i.setState(e)})),m1e(c1e(i),"renderCursor",(function(e){var t,r=i.state,o=r.isTooltipActive,a=r.activeCoordinate,s=r.activePayload,c=r.offset,l=r.activeTooltipIndex,u=r.tooltipAxisBandSize,d=i.getTooltipEventType(),h=null!==(t=e.props.active)&&void 0!==t?t:o,p=i.props.layout,f=e.key||"_recharts-cursor";return Z.createElement($0e,{key:f,activeCoordinate:a,activePayload:s,activeTooltipIndex:l,chartName:n,element:e,isActive:h,layout:p,offset:c,tooltipAxisBandSize:u,tooltipEventType:d})})),m1e(c1e(i),"renderPolarAxis",(function(e,t,n){var r=ALe()(e,"type.axisType"),o=ALe()(i.state,"".concat(r,"Map")),a=o&&o[e.props["".concat(r,"Id")]];return(0,Z.cloneElement)(e,f1e(f1e({},a),{},{className:r,key:e.key||"".concat(t,"-").concat(n),ticks:bJe(a,!0)}))})),m1e(c1e(i),"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,a=i.state,s=a.radiusAxisMap,c=a.angleAxisMap,l=zLe(s),u=zLe(c),d=u.cx,h=u.cy,p=u.innerRadius,f=u.outerRadius;return(0,Z.cloneElement)(e,{polarAngles:Array.isArray(r)?r:bJe(u,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:bJe(l,!0).map((function(e){return e.coordinate})),cx:d,cy:h,innerRadius:p,outerRadius:f,key:e.key||"polar-grid",radialLines:n})})),m1e(c1e(i),"renderLegend",(function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,r=t.width,o=t.height,a=i.props.margin||{},s=r-(a.left||0)-(a.right||0),c=aJe({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!c)return null;var u=c.item,d=r1e(c,Z0e);return(0,Z.cloneElement)(u,f1e(f1e({},d),{},{chartWidth:r,chartHeight:o,margin:a,onBBoxUpdate:i.handleLegendBBoxUpdate}))})),m1e(c1e(i),"renderTooltip",(function(){var e,t=i.props,n=t.children,r=t.accessibilityLayer,o=pFe(n,RBe);if(!o)return null;var a=i.state,s=a.isTooltipActive,c=a.activeCoordinate,l=a.activePayload,u=a.activeLabel,d=a.offset,h=null!==(e=o.props.active)&&void 0!==e?e:s;return(0,Z.cloneElement)(o,{viewBox:f1e(f1e({},d),{},{x:d.left,y:d.top}),active:h,label:u,payload:h?l:[],coordinate:c,accessibilityLayer:r})})),m1e(c1e(i),"renderBrush",(function(e){var t=i.props,n=t.margin,r=t.data,o=i.state,a=o.offset,s=o.dataStartIndex,c=o.dataEndIndex,l=o.updateId;return(0,Z.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:wJe(i.handleBrushChange,e.props.onChange),data:r,x:PLe(e.props.x)?e.props.x:a.left,y:PLe(e.props.y)?e.props.y:a.top+a.height+a.brushBottom-(n.bottom||0),width:PLe(e.props.width)?e.props.width:a.width,startIndex:s,endIndex:c,updateId:"brush-".concat(l)})})),m1e(c1e(i),"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=c1e(i).clipPathId,o=i.state,a=o.xAxisMap,s=o.yAxisMap,c=o.offset,l=e.props,u=l.xAxisId,d=l.yAxisId;return(0,Z.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:a[u],yAxis:s[d],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})})),m1e(c1e(i),"renderActivePoints",(function(e){var n=e.item,r=e.activePoint,o=e.basePoint,i=e.childIndex,a=e.isRange,s=[],c=n.props.key,l=n.item.props,u=l.activeDot,d=f1e(f1e({index:i,dataKey:l.dataKey,cx:r.x,cy:r.y,r:4,fill:mJe(n.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(c,"-activePoint-").concat(i)},yFe(u,!1)),nFe(u));return s.push(t.renderActiveDot(u,d)),o?s.push(t.renderActiveDot(u,f1e(f1e({},d),{},{cx:o.x,cy:o.y,key:"".concat(c,"-basePoint-").concat(i)}))):a&&s.push(null),s})),m1e(c1e(i),"renderGraphicChild",(function(e,t,n){var r=i.filterFormatItem(e,t,n);if(!r)return null;var o=i.getTooltipEventType(),a=i.state,s=a.isTooltipActive,c=a.tooltipAxis,l=a.activeTooltipIndex,u=a.activeLabel,d=pFe(i.props.children,RBe),h=r.props,p=h.points,f=h.isRange,m=h.baseLine,g=r.item.props,y=g.activeDot,v=g.hide,b=g.activeBar,x=g.activeShape,w=Boolean(!v&&s&&d&&(y||b||x)),k={};"axis"!==o&&d&&"click"===d.props.trigger?k={onClick:wJe(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(k={onMouseLeave:wJe(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:wJe(i.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,Z.cloneElement)(e,f1e(f1e({},r.props),k));if(w){if(!(l>=0)){var C,E=(null!==(C=i.getItemByXY(i.state.activeCoordinate))&&void 0!==C?C:{graphicalItem:S}).graphicalItem,_=E.item,T=void 0===_?e:_,N=E.childIndex,I=f1e(f1e(f1e({},r.props),k),{},{activeIndex:N});return[(0,Z.cloneElement)(T,I),null,null]}var A,O;if(c.dataKey&&!c.allowDuplicatedCategory){var R="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=VLe(p,R,u),O=f&&m&&VLe(m,R,u)}else A=null===p||void 0===p?void 0:p[l],O=f&&m&&m[l];if(x||b){var M=void 0!==e.props.activeIndex?e.props.activeIndex:l;return[(0,Z.cloneElement)(e,f1e(f1e(f1e({},r.props),k),{},{activeIndex:M})),null,null]}if(!GLe()(A))return[S].concat(u1e(i.renderActivePoints({item:r,activePoint:A,basePoint:O,childIndex:l,isRange:f})))}return f?[S,null,null]:[S,null]})),m1e(c1e(i),"renderCustomized",(function(e,t,n){return(0,Z.cloneElement)(e,f1e(f1e({key:"recharts-customized-".concat(n)},i.props),i.state))})),m1e(c1e(i),"renderMap",{CartesianGrid:{handler:x1e,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:x1e},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:x1e},YAxis:{handler:x1e},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:FLe("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=SLe()(i.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),i.state={},i}var r,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l1e(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,o=e.layout,i=pFe(t,RBe);if(i){var a=i.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,c=S1e(this.state,n,a,s),l=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===o?{x:l,y:u}:{y:l,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=f1e(f1e({},d),h.props.points[a].tooltipPosition),c=h.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:c,activeCoordinate:d};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){vFe([pFe(e.children,RBe)],[pFe(this.props.children,RBe)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=pFe(this.props.children,RBe);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),o={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-o.left),chartY:Math.round(e.pageY-o.top)},a=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,a);if(!s)return null;var c=this.state,l=c.xAxisMap,u=c.yAxisMap;if("axis"!==this.getTooltipEventType()&&l&&u){var d=zLe(l).scale,h=zLe(u).scale,p=d&&d.invert?d.invert(i.chartX):null,f=h&&h.invert?h.invert(i.chartY):null;return f1e(f1e({},i),{},{xValue:p,yValue:f})}var m=C1e(this.state,this.props.data,this.props.layout,s);return m?f1e(f1e({},i),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,o=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return o>=a.left&&o<=a.left+a.width&&i>=a.top&&i<=a.top+a.height?{x:o,y:i}:null}var s=this.state,c=s.angleAxisMap,l=s.radiusAxisMap;if(c&&l){var u=zLe(c);return s$e({x:o,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=pFe(e,RBe),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),f1e(f1e({},nFe(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){JQe.on($Qe,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){JQe.removeListener($Qe,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,o=0,i=r.length;o<i;o++){var a=r[o];if(a.item===e||a.props.key===e.key||t===cFe(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,i=t.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:e},Z.createElement("rect",{x:n,y:r,height:o,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=n1e(t,2),r=n[0],o=n[1];return f1e(f1e({},e),{},m1e({},r,o.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=n1e(t,2),r=n[0],o=n[1];return f1e(f1e({},e),{},m1e({},r,o.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var o=0,i=n.length;o<i;o++){var a=n[o],s=a.props,c=a.item,l=cFe(c.type);if("Bar"===l){var u=(s.data||[]).find((function(t){return fWe(e,t)}));if(u)return{graphicalItem:a,payload:u}}else if("RadialBar"===l){var d=(s.data||[]).find((function(t){return s$e(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if(kZe(a,r)||SZe(a,r)||CZe(a,r)){var h=NZe({graphicalItem:a,activeTooltipItem:r,itemData:c.props.data}),p=void 0===c.props.activeIndex?h:c.props.activeIndex;return{graphicalItem:f1e(f1e({},a),{},{childIndex:p}),payload:CZe(a,r)?c.props.data[h]:a.props.data[h]}}}return null}},{key:"render",value:function(){var e,t=this;if(!fFe(this))return null;var n,r,o=this.props,i=o.children,a=o.className,s=o.width,c=o.height,l=o.style,u=o.compact,d=o.title,h=o.desc,p=r1e(o,Q0e),f=yFe(p,!1);if(u)return Z.createElement(TQe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(BFe,t1e({},f,{width:s,height:c,title:d,desc:h}),this.renderClipPath(),xFe(i,this.renderMap)));this.props.accessibilityLayer&&(f.tabIndex=null!==(n=this.props.tabIndex)&&void 0!==n?n:0,f.role=null!==(r=this.props.role)&&void 0!==r?r:"application",f.onKeyDown=function(e){t.accessibilityManager.keyboardEvent(e)},f.onFocus=function(){t.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return Z.createElement(TQe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",t1e({className:wLe("recharts-wrapper",a),style:f1e({position:"relative",cursor:"default",width:s,height:c},l)},m,{ref:function(e){t.container=e},role:null!==(e=f.role)&&void 0!==e?e:"region"}),Z.createElement(BFe,t1e({},f,{width:s,height:c,title:d,desc:h,style:v1e}),this.renderClipPath(),xFe(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&o1e(r.prototype,o),a&&o1e(r,a),Object.defineProperty(r,"prototype",{writable:!1}),t}(Z.Component),m1e(t,"displayName",n),m1e(t,"defaultProps",f1e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),m1e(t,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,o=e.children,i=e.width,a=e.height,s=e.layout,c=e.stackOffset,l=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=T1e(e);return f1e(f1e(f1e({},h),{},{updateId:0},p(f1e(f1e({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:l,prevChildren:o})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||c!==t.prevStackOffset||!JLe(l,t.prevMargin)){var f=T1e(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=f1e(f1e({},C1e(t,r,s)),{},{updateId:t.updateId+1}),y=f1e(f1e(f1e({},f),m),g);return f1e(f1e(f1e({},y),p(f1e({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:a,prevLayout:s,prevStackOffset:c,prevMargin:l,prevChildren:o})}if(!vFe(o,t.prevChildren)){var v,b,x,w,k=pFe(o,$Je),S=k&&null!==(v=null===(b=k.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,C=k&&null!==(x=null===(w=k.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,E=S!==u||C!==d,_=!GLe()(r)&&!E?t.updateId:t.updateId+1;return f1e(f1e({updateId:_},p(f1e(f1e({props:e},t),{},{updateId:_,dataStartIndex:S,dataEndIndex:C}),t)),{},{prevChildren:o,dataStartIndex:S,dataEndIndex:C})}return null})),m1e(t,"renderActiveDot",(function(e,t){var n;return n=(0,Z.isValidElement)(e)?(0,Z.cloneElement)(e,t):qLe()(e)?e(t):Z.createElement(lUe,t),Z.createElement(WFe,{className:"recharts-active-dot",key:t.key},n)})),t}({chartName:"BarChart",GraphicalChild:QZe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:e2e},{axisType:"yAxis",AxisComp:n2e}],formatAxisMap:function(e,t,n,r,o){var i=e.width,a=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!pFe(c,QZe);return l.reduce((function(i,a){var c,l,h,p,f,m=t[a],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,k="".concat(g).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=y[1]-y[0],C=1/0,E=m.categoricalDomain.sort();E.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(E[t-1]||0),C))}));var _=C/S,T="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(c=_*T/2),"no-gap"===m.padding){var N=BLe(e.barCategoryGap,_*T),I=_*T/2;c=I-N-(I-N)/T*N}}l="xAxis"===r?[n.left+(b.left||0)+(c||0),n.left+n.width-(b.right||0)-(c||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(c||0),n.top+n.height-(b.bottom||0)-(c||0)]:m.range,w&&(l=[l[1],l[0]]);var A=function(e,t,n){var r=e.scale,o=e.type,i=e.layout,a=e.axisType;if("auto"===r)return"radial"===i&&"radiusAxis"===a?{scale:_We(),realScaleType:"band"}:"radial"===i&&"angleAxis"===a?{scale:JGe(),realScaleType:"linear"}:"category"===o&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!n)?{scale:NWe(),realScaleType:"point"}:"category"===o?{scale:_We(),realScaleType:"band"}:{scale:JGe(),realScaleType:"linear"};if(_Le()(r)){var s="scale".concat(jBe()(r));return{scale:(J[s]||NWe)(),realScaleType:J[s]?s:"point"}}return qLe()(r)?{scale:r}:{scale:NWe(),realScaleType:"point"}}(m,o,d),O=A.scale,R=A.realScaleType;O.domain(y).range(l),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),o=Math.min(r[0],r[1])-kJe,i=Math.max(r[0],r[1])+kJe,a=e(t[0]),s=e(t[n-1]);(a<o||a>i||s<o||s>i)&&e.domain([t[0],t[n-1]])}}(O);var M=function(e,t){var n=t.realScaleType,r=t.type,o=t.tickCount,i=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(o&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var c=e.domain();if(!c.length)return null;var l=YXe(c,o,a);return e.domain([gXe()(l),fXe()(l)]),{niceTicks:l}}if(o&&"number"===r){var u=e.domain();return{niceTicks:XXe(u,o,a)}}return null}(O,rQe(rQe({},m),{},{realScaleType:R}));"xAxis"===r?(f="top"===g&&!x||"bottom"===g&&x,h=n.left,p=u[k]-f*m.height):"yAxis"===r&&(f="left"===g&&!x||"right"===g&&x,h=u[k]-f*m.width,p=n.top);var j=rQe(rQe(rQe({},m),M),{},{realScaleType:R,x:h,y:p,scale:O,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return j.bandSize=AJe(j,M),m.hide||"xAxis"!==r?m.hide||(u[k]+=(f?-1:1)*j.width):u[k]+=(f?-1:1)*j.height,rQe(rQe({},i),{},oQe({},a,j))}),{})}});const o2e=e=>{var t,n;let{postId:r}=e;const[o,i]=(0,Z.useState)(null),[a,s]=(0,Z.useState)("daily"),{userAuth:{access_token:c}}=(0,Z.useContext)(g2e);if((0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat("http://localhost:3001","/posts/").concat(r,"/statistics"),{headers:{Authorization:"Bearer ".concat(c)}});i(e.data),console.log("Fetched Stats:",e.data)}catch(e){console.error("Error fetching statistics:",e)}})()}),[r,c]),!o)return(0,fn.jsx)("div",{children:"Loading..."});const l=["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c"],u=["\u0e21.\u0e04.","\u0e01.\u0e1e.","\u0e21\u0e35.\u0e04.","\u0e40\u0e21.\u0e22.","\u0e1e.\u0e04.","\u0e21\u0e34.\u0e22.","\u0e01.\u0e04.","\u0e2a.\u0e04.","\u0e01.\u0e22.","\u0e15.\u0e04.","\u0e1e.\u0e22.","\u0e18.\u0e04."],d=(null===(t=o.weeklyStats)||void 0===t?void 0:t.map((e=>({day:l[e.day]||"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19",Likes:e.likes||0,Comments:e.comments||0,Saves:e.saves||0,Reads:e.reads||0}))))||[],h=(null===(n=o.yearlyStats)||void 0===n?void 0:n.map((e=>({day:u[e.month]||"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e40\u0e14\u0e37\u0e2d\u0e19",Likes:e.likes||0,Comments:e.comments||0,Saves:e.saves||0,Reads:e.reads||0}))))||[],p={daily:[{day:"\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49",Likes:o.dailyLikes||0,Comments:o.dailyComments||0,Saves:o.dailySaves||0,Reads:o.dailyReads||0}],weekly:d,monthly:[{month:"\u0e40\u0e14\u0e37\u0e2d\u0e19\u0e19\u0e35\u0e49",Likes:o.monthlyLikes||0,Comments:o.monthlyComments||0,Saves:o.monthlySaves||0,Reads:o.monthlyReads||0}],yearly:h};return(0,fn.jsxs)("div",{className:"p-4 ",style:{width:"600px",right:"0"},children:[(0,fn.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,fn.jsx)("button",{className:"btn btn-sm me-2 ".concat("daily"===a?"btn-secondary":"btn-outline-secondary"),onClick:()=>s("daily"),children:"\u0e27\u0e31\u0e19"}),(0,fn.jsx)("button",{className:"btn btn-sm me-2 ".concat("weekly"===a?"btn-secondary":"btn-outline-secondary"),onClick:()=>s("weekly"),children:"\u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c"}),(0,fn.jsx)("button",{className:"btn btn-sm me-2 ".concat("monthly"===a?"btn-secondary":"btn-outline-secondary"),onClick:()=>s("monthly"),children:"\u0e40\u0e14\u0e37\u0e2d\u0e19"}),(0,fn.jsx)("button",{className:"btn btn-sm ".concat("yearly"===a?"btn-secondary":"btn-outline-secondary"),onClick:()=>s("yearly"),children:"\u0e1b\u0e35"})]}),(0,fn.jsx)(NFe,{width:"100%",height:200,children:(0,fn.jsxs)(r2e,{data:p[a],margin:{top:10,right:20,left:20,bottom:10},children:[(0,fn.jsx)(e2e,{dataKey:"monthly"===a?"month":"day",stroke:"#888",tickFormatter:e=>e||"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19"}),(0,fn.jsx)(n2e,{stroke:"#888"}),(0,fn.jsx)(RBe,{wrapperStyle:{backgroundColor:"#fff",color:"#333"}}),(0,fn.jsx)(sUe,{}),(0,fn.jsx)(QZe,{dataKey:"Likes",fill:"#28a745",radius:[10,10,10,10]}),(0,fn.jsx)(QZe,{dataKey:"Comments",fill:"#6a5acd",radius:[10,10,10,10]}),(0,fn.jsx)(QZe,{dataKey:"Saves",fill:"#ff914d",radius:[10,10,10,10]}),(0,fn.jsx)(QZe,{dataKey:"Reads",fill:"#17a2b8",radius:[10,10,10,10]})]})})]})},i2e=e=>{let{blog:t}=e,{banner:n,blog_id:r,topic:o,publishedAt:i,activity:a,_id:s}=t,[c,l]=(0,Z.useState)(!1),{userAuth:{access_token:u}}=(0,Z.useContext)(g2e);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsxs)("div",{className:"manage-blogpage",children:[(0,fn.jsx)("img",{src:n,alt:"",className:"img-manageblog"}),(0,fn.jsxs)("div",{className:"manage-blogdetail",children:[(0,fn.jsxs)("div",{children:[(0,fn.jsx)(cn,{to:"/blog/".concat(r),className:"blog-title mb-4 manage-link",children:o}),(0,fn.jsxs)("p",{className:"clamp-1",children:["\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e40\u0e21\u0e37\u0e48\u0e2d: ",pp(i)]})]}),(0,fn.jsxs)("div",{className:"d-flex gap-3 mt-3",children:[(0,fn.jsx)(cn,{to:"/editor/".concat(r),className:"stat-button",children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,fn.jsx)("button",{className:"lg-hidden stat-button",onClick:()=>l((e=>!e)),children:"\u0e2a\u0e16\u0e34\u0e15\u0e34"}),(0,fn.jsx)("button",{className:"stat-button ",style:{color:"red"},onClick:e=>c2e(t,u,e.target),children:"\u0e25\u0e1a"})]})]}),(0,fn.jsx)("div",{className:"hidden-max-lg",children:(0,fn.jsx)(o2e,{postId:(null===s||void 0===s?void 0:s.toString())||""})})]}),c?(0,fn.jsx)("div",{className:"lg-hidden",children:(0,fn.jsx)(o2e,{postId:(null===s||void 0===s?void 0:s.toString())||""})}):""]})},a2e=e=>{let{blog:t}=e,{topic:n,des:r,blog_id:o,index:i}=t,{userAuth:{access_token:a}}=(0,Z.useContext)(g2e);return i++,(0,fn.jsxs)("div",{className:"draft-blogcard",children:[(0,fn.jsx)("h1",{className:"blog-index index-front",children:i<10?"0"+i:i}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)("h1",{className:"blog-title mb-3",children:n}),(0,fn.jsx)("p",{className:"clamp-2",children:null!==r&&void 0!==r&&r.length?r:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e1a\u0e25\u0e47\u0e2d\u0e01"}),(0,fn.jsxs)("div",{className:"flex gap-3 mt-3",children:[(0,fn.jsx)(cn,{to:"/editor/".concat(o),className:"stat-button",children:"\u0e41\u0e01\u0e49\u0e44\u0e02"}),(0,fn.jsx)("button",{className:"stat-button ",style:{color:"red"},onClick:e=>c2e(t,a,e.target),children:"\u0e25\u0e1a"})]})]})]})},s2e=e=>{let{blog:t}=e;const{banner:n,blog_id:r,topic:o,publishedAt:i,activity:a}=t,[s,c]=(0,Z.useState)([]),{userAuth:{access_token:l}}=(0,Z.useContext)(g2e);return(0,Z.useEffect)((()=>{(async()=>{try{const e=await ap.get("".concat("http://localhost:3001","/create-blog/saved-blogsPost"),{headers:{Authorization:"Bearer ".concat(l)}});c(e.data.savedBlogs)}catch(e){console.error("\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e36\u0e07\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e44\u0e14\u0e49")}})()}),[l]),(0,fn.jsx)("div",{className:"",children:s.map((e=>(0,fn.jsxs)("div",{className:"manage-blogpage",children:[(0,fn.jsx)("img",{src:e.banner||n,alt:e.topic||o,className:"img-manageblog"}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)(cn,{to:"/blog/".concat(e._id),className:"blog-title manage-link",children:(0,fn.jsx)("h1",{className:"blog-title mt-3",children:e.topic||o})}),(0,fn.jsxs)("p",{className:"clamp-1",children:["\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e40\u0e21\u0e37\u0e48\u0e2d:"," ",i?"".concat(pp(e.publishedAt)," ").concat(new Date(e.publishedAt).getFullYear()+543," \u0e40\u0e27\u0e25\u0e32 ").concat(new Date(e.publishedAt).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"})):"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"]}),(0,fn.jsx)("p",{children:e.des||""})]})]},e._id)))})},c2e=(e,t,n)=>{let{index:r,blog_id:o,setStateFunc:i}=e;n.setAttribute("disabled",!0),ap.post("".concat("http://localhost:3001","/create-blog/delete-blog"),{blog_id:o},{headers:{Authorization:"Bearer ".concat(t)}}).then((e=>{let{data:t}=e;n.removeAttribute("disabled"),i((e=>{let{deleteDocCount:t,totalDocs:n,result:o}=e;return o.splice(r,1),t||(t=0),!o.length&&n-1>0?null:(console.log(Ln(Ln({},e),{},{totalDocs:n-1,deleteDocCount:t+1})),Ln(Ln({},e),{},{totalDocs:n-1,deleteDocCount:t+1}))}))})).catch((e=>{console.log(e)}))},l2e=()=>{const[e,t]=(0,Z.useState)(null),[n,r]=(0,Z.useState)(null),[o,i]=(0,Z.useState)(null),[a,s]=(0,Z.useState)("");let c=pn()[0].get("tab"),{userAuth:{access_token:l}}=(0,Z.useContext)(g2e);const u=s=>{let{page:c,draft:u,deleteDocCount:d=0}=s;ap.post("".concat("http://localhost:3001","/create-blog/user-written-blog"),{page:c,draft:u,query:a,deleteDocCount:d},{headers:{Authorization:"Bearer ".concat(l)}}).then((async s=>{let{data:d}=s,h=await Np({state:u?n:null===u?o:e,save:e,data:d.blogs,page:c,user:l||void 0,countRoute:"/create-blog/user-written-blog-count",data_to_send:{draft:u,query:a}});console.log("draft"+u,h),u?r(h):null===o?i(h):t(h)})).catch((e=>{console.log(e)}))};(0,Z.useEffect)((()=>{l&&(null===e&&u({page:1,draft:!1}),null===n&&u({page:1,draft:!0}))}),[l,e,n,a]);return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)("h1",{className:"topic-mangeBlog",children:"\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e1a\u0e25\u0e47\u0e2d\u0e01"}),(0,fn.jsx)(wk,{}),(0,fn.jsxs)("div",{className:"position-relative search-mangepage",children:[(0,fn.jsx)("input",{type:"search",className:"w-100 search-input",style:{background:"#f0f0f0"},placeholder:"Search Blogs...",onChange:e=>{let n=e.target.value;s(n),"Enter"===e.key&&n.length&&(t(null),r(null))},onKeyDown:e=>{e.target.value.length||(s(""),t(null),r(null))}}),(0,fn.jsx)(Pp,{className:"position-absolute iosearch"})]}),(0,fn.jsxs)(Uu,{routes:["\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e41\u0e25\u0e49\u0e27","\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e23\u0e48\u0e32\u0e07","\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"],defaultActiveIndex:"draft"!==c?0:1,children:[null===e?(0,fn.jsx)(sp,{}):e.result.length?(0,fn.jsxs)(fn.Fragment,{children:[e.result.map(((e,n)=>(0,fn.jsx)(Bu,{transition:{delay:.04*n},children:(0,fn.jsx)(i2e,{blog:Ln(Ln({},e),{},{index:n,setStateFunc:t})})},n))),(0,fn.jsx)(Ip,{state:e,fetchDataFun:u,additionalParam:{drafts:!1,deleteDocCount:e.deleteDocCount}})]}):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48"}),null===n?(0,fn.jsx)(sp,{}):n.result.length?(0,fn.jsxs)(fn.Fragment,{children:[n.result.map(((e,t)=>(0,fn.jsx)(Bu,{transition:{delay:.04*t},children:(0,fn.jsx)(a2e,{blog:Ln(Ln({},e),{},{index:t,setStateFunc:r})})},t))),(0,fn.jsx)(Ip,{state:n,fetchDataFun:u,additionalParam:{drafts:!0,deleteDocCount:n.deleteDocCount}})]}):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e23\u0e48\u0e32\u0e07\u0e44\u0e27\u0e49"}),null===o?(0,fn.jsx)(sp,{}):o.result.length?(0,fn.jsxs)(fn.Fragment,{children:[o.result.map(((e,t)=>(0,fn.jsx)(s2e,{blog:e},t))),(0,fn.jsx)(Ip,{state:o,fetchDataFun:u,additionalParam:{drafts:!1,deleteDocCount:o.deleteDocCount}})]}):(0,fn.jsx)(Tp,{message:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e25\u0e47\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})]})},u2e=e=>{let{showModal:t,handleClose:n,report:r,refreshReports:o}=e;qe();return(0,fn.jsxs)(yg,{show:t,onHide:n,size:"lg",children:[(0,fn.jsx)(yg.Header,{closeButton:!0,children:(0,fn.jsx)(yg.Title,{children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})}),(0,fn.jsx)(yg.Body,{style:{overflowY:"auto",maxHeight:"70vh"},children:(0,fn.jsxs)("div",{className:"blogpage",children:[(0,fn.jsx)("img",{src:null===r||void 0===r?void 0:r.post.banner,alt:"banner",style:{aspectRatio:"16/9",width:"100%"}}),(0,fn.jsxs)("div",{className:"mt-2",children:[(0,fn.jsx)("h2",{className:"mt-4 fs-3",children:null===r||void 0===r?void 0:r.post.topic}),(0,fn.jsxs)("div",{className:"detail-user d-flex justify-content-between my-4",children:[(0,fn.jsxs)("div",{className:"d-flex gap-2 align-items-start",children:[(0,fn.jsx)("img",{src:null!==r&&void 0!==r&&r.post.author?null===r||void 0===r?void 0:r.post.author.profile_picture:"",alt:"",className:"rounded-circle",style:{width:"3rem",height:"3rem"}}),(0,fn.jsxs)("p",{className:"m-0",style:{textTransform:"capitalize"},children:[null!==r&&void 0!==r&&r.post.author?null===r||void 0===r?void 0:r.post.author.fullname:"",(0,fn.jsx)("br",{}),"@",(0,fn.jsx)(cn,{to:null!==r&&void 0!==r&&r.post.author?"/user/".concat(null===r||void 0===r?void 0:r.post.author._id):"/404",className:"underline",style:{color:"inherit"},children:null!==r&&void 0!==r&&r.post.author?null===r||void 0===r?void 0:r.post.author.fullname:""})]})]}),(0,fn.jsxs)("p",{className:"m-0 published-detail",children:["\u0e40\u0e1c\u0e22\u0e41\u0e1e\u0e23\u0e48\u0e40\u0e21\u0e37\u0e48\u0e2d:"," ",null!==r&&void 0!==r&&r.post.publishedAt?pp(null===r||void 0===r?void 0:r.post.publishedAt):"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"]})]}),(0,fn.jsx)("p",{children:null===r||void 0===r?void 0:r.post.content.map((e=>e.blocks.map((e=>(0,fn.jsx)("span",{children:e.data.text},e.id)))))})]})]})})]})},d2e=e=>{let{showModal:t,onCancel:n,onConfirm:r,handleClose:o}=e;return t?(0,fn.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,fn.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",minWidth:"300px",textAlign:"center",zIndex:1001},children:[(0,fn.jsx)("h3",{children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),(0,fn.jsx)("p",{children:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e19\u0e35\u0e49?"}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)("button",{style:{margin:"10px",padding:"5px 10px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px"},onClick:r,children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"}),(0,fn.jsx)("button",{style:{margin:"10px",padding:"5px 10px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},onClick:o,children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})]})}):null},h2e=()=>{const e="http://localhost:3001",[t,n]=(0,Z.useState)([]),[r,o]=(0,Z.useState)(null),[i,a]=(0,Z.useState)(!1),[s,c]=(0,Z.useState)(!1),[l,u]=(0,Z.useState)(null),d=async()=>{try{const t=await ap.get("".concat(e,"/api/report/by/").concat(sessionStorage.getItem("userId")));n(t.data)}catch(t){console.error("Error fetching reports:",t)}},h=()=>{c(!1),u(null)};return(0,Z.useEffect)((()=>{d()}),[]),(0,fn.jsxs)(fn.Fragment,{children:[r&&(0,fn.jsx)(u2e,{showModal:i,handleClose:()=>{a(!1),o(null)},report:r,refreshReports:()=>{d()}}),(0,fn.jsx)(d2e,{showModal:s,onCancel:h,onConfirm:async()=>{if(l)try{const t=sessionStorage.getItem("user"),r=t?JSON.parse(t).access_token:null;r?await ap.patch("".concat(e,"/api/report/").concat(l,"/cancel"),{},{headers:{Authorization:"Bearer ".concat(r)}}):console.error("No access token found"),n((e=>e.filter((e=>e._id!==l)))),c(!1)}catch(t){console.error("Error deleting report:",t)}},handleClose:h}),(0,fn.jsxs)("div",{style:{margin:"2% 2%",fontSize:"14px"},children:[(0,fn.jsx)("h4",{children:"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,fn.jsx)("div",{style:{maxHeight:"500px",overflowY:"auto",overflowX:"auto",border:t.length>0?"1px solid #ddd":"none",borderRadius:"8px"},children:0===t.length?(0,fn.jsx)("p",{style:{textAlign:"center",padding:"20px",fontSize:"20px",margin:"20%"},children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}):(0,fn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,fn.jsx)("thead",{style:{position:"sticky",top:0,backgroundColor:"#fff"},children:(0,fn.jsxs)("tr",{children:[(0,fn.jsx)("th",{style:{padding:"10px",textAlign:"center"},children:"\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e42\u0e1e\u0e2a\u0e15\u0e4c"}),(0,fn.jsx)("th",{style:{padding:"10px",textAlign:"center"},children:"\u0e40\u0e2b\u0e15\u0e38\u0e1c\u0e25"}),(0,fn.jsx)("th",{style:{padding:"10px",textAlign:"center"},children:"\u0e2a\u0e16\u0e32\u0e19\u0e30"}),(0,fn.jsx)("th",{style:{padding:"10px",textAlign:"center"},children:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"}),(0,fn.jsx)("th",{style:{padding:"10px",textAlign:"center"},children:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"})]})}),(0,fn.jsx)("tbody",{children:t.map((e=>(0,fn.jsxs)("tr",{style:{borderBottom:"1px solid #ddd"},children:[(0,fn.jsx)("td",{style:{padding:"10px"},children:e.post?e.post.author.fullname:"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e16\u0e39\u0e01\u0e25\u0e1a\u0e41\u0e25\u0e49\u0e27"}),(0,fn.jsx)("td",{style:{padding:"10px"},children:e.reason}),(0,fn.jsx)("td",{style:{padding:"10px"},children:"Approved"===e.status?"\u0e2d\u0e19\u0e38\u0e21\u0e31\u0e15\u0e34":"Pending"===e.status?"\u0e23\u0e2d\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23":"Cancel"===e.status?"\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e16\u0e39\u0e01\u0e25\u0e1a/\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19":"\u0e1b\u0e0f\u0e34\u0e40\u0e2a\u0e18"}),(0,fn.jsx)("td",{style:{padding:"10px"},children:new Date(e.createdAt).toLocaleDateString()}),(0,fn.jsxs)("td",{style:{padding:"10px",textAlign:"center"},children:[e.post?(0,fn.jsx)("button",{style:{marginRight:"10px",padding:"5px 10px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px"},onClick:()=>(e=>{o(e),a(!0)})(e),children:"\u0e14\u0e39\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"}):(0,fn.jsx)("button",{style:{marginRight:"10px",padding:"5px 10px",backgroundColor:"#939393",color:"white",border:"none",borderRadius:"4px"},disabled:!0,children:"\u0e14\u0e39\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"}),"Pending"===e.status?(0,fn.jsx)("button",{style:{padding:"5px 10px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px"},onClick:()=>{return t=e._id,u(t),void c(!0);var t},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}):(0,fn.jsx)("button",{disabled:!0,style:{padding:"5px 10px",backgroundColor:"#939393",color:"white",border:"none",borderRadius:"4px"},children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"})]})]},e._id)))})]})})]})]})},p2e="http://localhost:3001",f2e=()=>{const{NotificationShow:e,setNotificationShow:t}=(0,Z.useContext)(g2e),[n,r]=(0,Z.useState)(!0),[o,i]=(0,Z.useState)(!0);(0,Z.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem("user");if(!e)return void console.error("No user data found in sessionStorage");const{access_token:n}=JSON.parse(e);if(!n)return void console.error("No access token found");const{data:o}=await ap.post("".concat(p2e,"/profile/notification-status"),{},{headers:{Authorization:"Bearer ".concat(n)}});o.success?(t(o.notification_enable),r(o.notification_email_enable)):console.error("Failed to fetch notification settings"),i(!1)}catch(e){console.error("Error fetching notification status:",e),i(!1)}})()}),[t]);return(0,fn.jsx)(fn.Fragment,{children:o?(0,fn.jsx)("p",{children:"Loading..."}):(0,fn.jsxs)("div",{style:{width:"100%",padding:"16px",fontFamily:"Arial, sans-serif",color:"#333"},children:[(0,fn.jsx)("h4",{children:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"}),[{title:"\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b",subtitle:"\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e1b\u0e34\u0e14\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b \u0e04\u0e38\u0e13\u0e08\u0e30\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e39\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\u0e44\u0e14\u0e49\u0e15\u0e32\u0e21\u0e1b\u0e01\u0e15\u0e34\u0e41\u0e15\u0e48\u0e08\u0e30\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e23\u0e31\u0e1a\u0e08\u0e33\u0e19\u0e27\u0e19\u0e2b\u0e23\u0e37\u0e2d\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e02\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e17\u0e35\u0e48\u0e40\u0e02\u0e49\u0e32\u0e21\u0e32\u0e44\u0e14\u0e49.",value:e,type:"flightUpdates"},{title:"\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e1c\u0e48\u0e32\u0e19 Gmail",subtitle:"\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e17\u0e33\u0e01\u0e32\u0e23\u0e1b\u0e34\u0e14\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e1c\u0e48\u0e32\u0e19 Gmail \u0e04\u0e38\u0e13\u0e08\u0e30\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e43\u0e14\u0e46 \u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e43\u0e2b\u0e21\u0e48\u0e2b\u0e23\u0e37\u0e2d\u0e01\u0e32\u0e23\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07\u0e17\u0e35\u0e48\u0e40\u0e01\u0e34\u0e14\u0e02\u0e36\u0e49\u0e19\u0e43\u0e19\u0e1a\u0e31\u0e0d\u0e0a\u0e35 Gmail \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13.",value:n,type:"executiveProgram"}].map(((e,n)=>{let{title:o,subtitle:i,value:a,type:s}=e;return(0,fn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:0===n?"1px solid #e0e0e0":"none",fontFamily:"Arial, sans-serif"},children:[(0,fn.jsxs)("div",{children:[(0,fn.jsx)("div",{style:{fontSize:"16px"},children:o}),(0,fn.jsx)("div",{style:{fontSize:"12px",color:"#757575"},children:i})]}),(0,fn.jsxs)("label",{style:{position:"relative",display:"inline-block",width:"36px",height:"20px"},children:[(0,fn.jsx)("input",{type:"checkbox",checked:a,onChange:()=>(async(e,n)=>{try{const o=sessionStorage.getItem("user");if(!o)return;const{access_token:i}=JSON.parse(o),a="flightUpdates"===e?"notification-enable":"notification-email-enable";await ap.patch("".concat(p2e,"/profile/").concat(a),{enable:n},{headers:{Authorization:"Bearer ".concat(i)}}),"flightUpdates"===e?t(n):r(n)}catch(o){console.error("Error updating ".concat(e,":"),o)}})(s,!a),style:{opacity:0,width:0,height:0}}),(0,fn.jsx)("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:a?"#4CAF50":"#ccc",transition:".4s",borderRadius:"34px"}}),(0,fn.jsx)("span",{style:{position:"absolute",height:"16px",width:"16px",left:a?"18px":"4px",bottom:"2px",backgroundColor:"white",transition:".4s",borderRadius:"50%"}})]})]},n)}))]})})},m2e=()=>{const e=qe(),[t,n]=(0,Z.useState)(""),[r,o]=(0,Z.useState)({show:!1,message:"",severity:"success"});return(0,fn.jsxs)(NTe,{maxWidth:"xs",sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"10px"},children:[(0,fn.jsx)(ANe,{onClick:()=>e(-1),sx:{position:"absolute",top:"10px",left:"10px",margin:"50px"},children:(0,fn.jsx)(Bt,{})}),(0,fn.jsx)(aAe,{}),(0,fn.jsxs)(PNe,{sx:{padding:"40px 20px",borderRadius:"8px",backgroundColor:"white",width:"100%",maxWidth:"400px",textAlign:"center",position:"relative"},children:[(0,fn.jsx)(VNe,{variant:"h4",component:"h1",sx:{marginBottom:"20px",fontWeight:"600"},children:"\u0e1b\u0e49\u0e2d\u0e19\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13"}),(0,fn.jsx)(VNe,{variant:"body1",sx:{marginBottom:"20px",color:"#6c757d"},children:"\u0e1b\u0e49\u0e2d\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e2d\u0e35\u0e40\u0e21\u0e25\u0e17\u0e35\u0e48\u0e40\u0e0a\u0e37\u0e48\u0e2d\u0e21\u0e15\u0e48\u0e2d\u0e01\u0e31\u0e1a\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13 \u0e41\u0e25\u0e49\u0e27\u0e40\u0e23\u0e32\u0e08\u0e30\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e43\u0e2b\u0e49\u0e41\u0e01\u0e48\u0e04\u0e38\u0e13"}),r.show&&(0,fn.jsx)(TIe,{severity:r.severity,sx:{my:"24px",textAlign:"left",borderRadius:"8px"},children:r.message}),(0,fn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("DEBUG",t),fetch("".concat("http://localhost:3001","/forgot-password/user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t}),credentials:"include"}).then((e=>e.json())).then((e=>{e.success?(gAe.success("\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2a\u0e4d\u0e32\u0e2b\u0e23\u0e31\u0e1a\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25 ".concat(t)),o({show:!0,message:"\u0e40\u0e23\u0e32\u0e44\u0e14\u0e49\u0e2a\u0e48\u0e07\u0e25\u0e34\u0e07\u0e01\u0e4c\u0e2a\u0e4d\u0e32\u0e2b\u0e23\u0e31\u0e1a\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e1c\u0e48\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e2d\u0e35\u0e40\u0e21\u0e25 ".concat(t," \u0e23\u0e2b\u0e31\u0e2a\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07 (").concat(e.ref,")"),severity:"success"})):gAe.error(e.message)})).catch((e=>gAe.error("\u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14 \u0e42\u0e1b\u0e23\u0e14\u0e25\u0e2d\u0e07\u0e43\u0e2b\u0e21\u0e48\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07")))},children:[(0,fn.jsx)(Ck,{name:"email",type:"email",id:"email",placeholder:"\u0e2d\u0e35\u0e40\u0e21\u0e25",icon:"MdOutlineMail",value:t,onChange:e=>n(e.target.value),disabled:r.show}),r.show?(0,fn.jsx)(FIe,{variant:"contained",fullWidth:!0,disableElevation:!0,onClick:()=>{window.location.href="https://kku-client.vercel.app/signin"},sx:{backgroundColor:"#000",color:"#fff",textTransform:"none",padding:"10px 0",borderRadius:"50px","&:hover":{backgroundColor:"#181818"}},children:"\u0e01\u0e25\u0e31\u0e1a\u0e44\u0e1b\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"}):(0,fn.jsx)(FIe,{type:"submit",variant:"contained",fullWidth:!0,disableElevation:!0,sx:{backgroundColor:"#000",color:"#fff",textTransform:"none",padding:"10px 0",borderRadius:"50px","&:hover":{backgroundColor:"#181818"}},children:"\u0e14\u0e33\u0e40\u0e19\u0e34\u0e19\u0e01\u0e32\u0e23\u0e15\u0e48\u0e2d"})]})]})]})},g2e=(0,Z.createContext)({userAuth:{access_token:null},setUserAuth:()=>{},NotificationShow:!0,setNotificationShow:()=>{}});function y2e(){return(0,fn.jsxs)(fn.Fragment,{children:[(0,fn.jsx)(_Me,{}),(0,fn.jsx)(ut,{})]})}const v2e=function(){const[e,t]=(0,Z.useState)({access_token:null}),[n,r]=(0,Z.useState)(!1);function o(e){let{children:t}=e;const n=JSON.parse(sessionStorage.getItem("user")||"{}");return null!==n&&void 0!==n&&n.access_token?(0,fn.jsx)(fn.Fragment,{children:t}):(0,fn.jsx)(lt,{to:"/admin/login"})}return(0,Z.useEffect)((()=>{const e=Tde("user");t(e?JSON.parse(e):{access_token:null})}),[]),(0,Z.useEffect)((()=>{(async()=>{try{const e=sessionStorage.getItem("user");if(!e)return void console.error("No user data found in sessionStorage");const{access_token:t}=JSON.parse(e);if(!t)return void console.error("No access token found");const{data:n}=await ap.post("".concat(qp,"/profile/notification-status"),{},{headers:{Authorization:"Bearer ".concat(t)}});n.success?r(n.notification_enable):console.error("Failed to fetch notification settings")}catch(e){console.error("Error fetching notification status:",e)}})()}),[r]),(0,fn.jsx)(g2e.Provider,{value:{userAuth:e,setUserAuth:t,NotificationShow:n,setNotificationShow:r},children:(0,fn.jsx)(rw,{children:(0,fn.jsxs)(pt,{children:[(0,fn.jsx)(dt,{path:"/editor",element:(0,fn.jsx)(UMe,{})}),(0,fn.jsx)(dt,{path:"/editor/:blog_id",element:(0,fn.jsx)(UMe,{})}),(0,fn.jsxs)(dt,{element:(0,fn.jsx)(y2e,{}),children:[(0,fn.jsx)(dt,{path:"/signin",element:(0,fn.jsx)(MMe,{type:"\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"})}),(0,fn.jsx)(dt,{path:"/signup",element:(0,fn.jsx)(MMe,{type:"\u0e2a\u0e21\u0e31\u0e04\u0e23\u0e2a\u0e21\u0e32\u0e0a\u0e34\u0e01"})}),(0,fn.jsx)(dt,{path:"/homepage",element:(0,fn.jsx)(Ap,{})})," ",(0,fn.jsx)(dt,{path:"/user/:id",element:(0,fn.jsx)(iw,{})}),(0,fn.jsx)(dt,{path:"/search/:query",element:(0,fn.jsx)(WMe,{})}),(0,fn.jsx)(dt,{path:"*",element:(0,fn.jsx)(Jp,{})}),(0,fn.jsx)(dt,{path:"/blog/:blog_id",element:(0,fn.jsx)(qDe,{})}),(0,fn.jsx)(dt,{path:"/profile/edit-profile/:id",element:(0,fn.jsx)(Ide,{})}),(0,fn.jsxs)(dt,{path:"settings",element:(0,fn.jsx)(fLe,{}),children:[(0,fn.jsx)(dt,{path:"edit-profile",element:(0,fn.jsx)(Ide,{})}),(0,fn.jsx)(dt,{path:"change-password",element:(0,fn.jsx)(gLe,{})}),(0,fn.jsx)(dt,{path:"noti-setting",element:(0,fn.jsx)(f2e,{})})]}),(0,fn.jsx)(dt,{path:"/footer",element:(0,fn.jsx)(n_e,{})}),(0,fn.jsxs)(dt,{path:"dashboard",element:(0,fn.jsx)(fLe,{}),children:[(0,fn.jsx)(dt,{path:"blogs",element:(0,fn.jsx)(l2e,{})}),(0,fn.jsx)(dt,{path:"notifications",element:(0,fn.jsx)(bLe,{})}),(0,fn.jsx)(dt,{path:"reportCheck",element:(0,fn.jsx)(h2e,{})})]}),(0,fn.jsx)(dt,{path:"/dashboard/blogs/statistics",element:(0,fn.jsx)(aLe,{})}),(0,fn.jsx)(dt,{path:"/helpcentre",element:(0,fn.jsx)(OMe,{})})]}),(0,fn.jsx)(dt,{path:"/",element:(0,fn.jsx)(Hp,{})}),(0,fn.jsx)(dt,{path:"/login",element:(0,fn.jsx)(mn,{})}),(0,fn.jsx)(dt,{path:"/admin/register",element:(0,fn.jsx)(Mhe,{})}),(0,fn.jsx)(dt,{path:"/admin/login",element:(0,fn.jsx)(sLe,{type:"admin"})}),(0,fn.jsx)(dt,{path:"/admin/",element:(0,fn.jsx)(Mhe,{})}),(0,fn.jsx)(dt,{path:"/admin/managereport",element:(0,fn.jsx)(Lxe,{})}),(0,fn.jsx)(dt,{path:"/tag/:tag",element:(0,fn.jsx)(mLe,{})}),(0,fn.jsx)(dt,{path:"/admin/:adminId/profile",element:(0,fn.jsx)(o,{children:(0,fn.jsx)(lLe,{})})}),(0,fn.jsx)(dt,{path:"/admin/:adminId",element:(0,fn.jsx)(o,{children:(0,fn.jsx)(t_e,{})})}),(0,fn.jsx)(dt,{path:"/forgot-password",element:(0,fn.jsx)(yAe,{})}),(0,fn.jsx)(dt,{path:"/forgot-password-user",element:(0,fn.jsx)(m2e,{})}),(0,fn.jsx)(dt,{path:"/reset-password/:token",element:(0,fn.jsx)(vAe,{})}),(0,fn.jsx)(dt,{path:"/reset-password-user/:token",element:(0,fn.jsx)(bAe,{})}),(0,fn.jsx)(dt,{path:"/chats",element:(0,fn.jsx)(SAe,{})}),(0,fn.jsx)(dt,{path:"/nav",element:(0,fn.jsx)(CMe,{})})]})})})};ee.createRoot(document.getElementById("root")).render((0,fn.jsx)(on,{children:(0,fn.jsx)(v2e,{})}))})()})();
//# sourceMappingURL=main.2b64a058.js.map